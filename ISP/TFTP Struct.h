#pragma once
#include <vector>
using namespace std;




enum TFTP_REQTYPE
{
	TR_READ = 1,
	TR_WRITE = 2,
};



// 数据包
struct TFTP_DATA_PACK
{
	WORD		m_wOPCode;		// 操作码
	WORD		m_wBlkNum;		// 块编号
	BYTE			m_szData[512];	// 数据内容
	TFTP_DATA_PACK()
	{
		m_wOPCode = 3;
		ZeroMemory(m_szData, 512);
	}
};



// ACK
struct TFTP_ACK
{
	WORD		m_wOPCode;		// 操作码
	WORD		m_wBlkNum;		// 块编号	
	TFTP_ACK()
	{
		m_wOPCode = 4;
	}
};




// ERROR
struct TFTP_ERROR
{
	WORD		m_wOPCode;		// 操作码
	WORD		m_wErrCode;		// 差错码	
	CString		m_strErrorInfo;	// 错误信息
	TFTP_ERROR()
	{
		m_wOPCode = 5;
	}
};

const int c_nDataLen=256;

struct TFTP_ItemPair
{
	BYTE			m_strItem[256];
	BYTE			m_strValue[256];

};

// WR Request
struct TFTP_WRRequest
{
	WORD		m_wOPCode;							// 操作码
	BYTE			m_strFileName[256];					// 文件名
	BYTE			m_strMode[256];						// 模式
	vector<TFTP_ItemPair*>		m_szItems;		// 选项
	TFTP_WRRequest()
	{
		m_wOPCode = 1;
	}
};


// OACK
struct TFTP_OACK
{
	WORD		m_wOPCode;				// 操作码
	CString		m_strFileName;			// 文件名
	CString		m_strMode;					// 模式
	vector<TFTP_ItemPair*>		m_szItem;		// 选项/值对	
	TFTP_OACK()
	{
		m_wOPCode = 6;
	};
};




const BYTE DHCP_DATAPACK[304] = {0x02, 0x01, 0x06, 0x00, 0x12, 0x34 
	, 0x56 , 0x78 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0xc0 , 0xa8 , 0x00 , 0x05 , 0xc0 , 0xa8 /* Vx.............*/
	, 0x00 , 0x8d , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0x00 , 0x00 , 0x00 , 0x00 /* ................*/
	, 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00  /*................*/
	, 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00  /*................*/
	, 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00  /*................*/
	, 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 /* ................*/
	, 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x43 , 0x3a , 0x5c , 0x44 , 0x6f , 0x63 , 0x75 , 0x6d , 0x65 , 0x6e /* ......C:\Documen*/
	, 0x74 , 0x73 , 0x20 , 0x61 , 0x6e , 0x64 , 0x20 , 0x53 , 0x65 , 0x74 , 0x74 , 0x69 , 0x6e , 0x67 , 0x73 , 0x5c /* ts and Settings\*/
	, 0x53 , 0x55 , 0x4e , 0x48 , 0x41 , 0x4f ,  0x5c , 0x44 , 0x65 , 0x73 , 0x6b , 0x74 , 0x6f , 0x70 , 0x5c , 0x33  /*SUNHAO\Desktop\3*/
	, 0x2e , 0x62 , 0x69 , 0x6e , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00  /*.bin............*/
	, 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00  /*................*/
	, 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00  /*................*/
	, 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 /* ................*/
	, 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00  /*................*/
	, 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x63 , 0x82 , 0x53 , 0x63 , 0x35 , 0x01 , 0x02 , 0x36 , 0x04 , 0xc0  /*......c.Sc5..6..*/
	, 0xa8 , 0x00 , 0x8d , 0x01 , 0x04 , 0xff ,  0xff ,  0xff ,   0x00 , 0x03 , 0x04 , 0xc0 , 0xa8 , 0x00 , 0x8d , 0x06  /*................*/
	, 0x04 , 0xc0 , 0xa8 , 0x00 , 0x01 , 0x07 , 0x04 , 0xc0 ,  0xa8 , 0x00 , 0x8d , 0x2c , 0x04 , 0xc0 , 0xa8 , 0x00 /* ...........,....*/
	, 0x01 , 0x33 , 0x04 , 0x00 , 0x02 , 0xa3 , 0x00 , 0x3a , 0x04 , 0x00 , 0x01 , 0x51 , 0x80 , 0x3b , 0x04 , 0x00  /*.3.....:...Q.;..*/
	, 0x01 , 0x51 , 0x80 , 0x0d , 0x02 , 0x00 , 0xcb , 0xff , 0x00 , 0x00                  /*  .Q........*/};
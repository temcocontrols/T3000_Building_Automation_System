import{d as t,h as e,a as n,w as o,o as i,e as r,a1 as a,a2 as s,a3 as l,k as c,bT as u,aH as d,a4 as h,F as p,au as f,n as m}from"./index.43a69561.js";import{e as g,c as v,v as y,g as x,s as b,_ as w,a as M,d as T,C,i as S,b as k,h as P,u as D,j as A,k as E,l as O,E as I,t as R,D as z,T as j,m as Y,n as X,o as _,p as W,P as L,A as H,q as N,w as F,Q as V,H as Z,x as U,y as q,R as B,z as $,L as J,B as K,S as G,F as Q,G as tt,I as et,J as nt,K as ot,M as it,N as rt,O as at,U as st,V as lt,W as ct,X as ut}from"./chartjs-adapter-date-fns.esm.6cd07d05.js";import{_ as dt}from"./plugin-vue_export-helper.21dcd24c.js";var ht,pt={exports:{}};
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */ht=pt,function(t,e,n,o){var i,r=["","webkit","Moz","MS","ms","o"],a=e.createElement("div"),s=Math.round,l=Math.abs,c=Date.now;function u(t,e,n){return setTimeout(v(t,n),e)}function d(t,e,n){return!!Array.isArray(t)&&(h(t,n[e],n),!0)}function h(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==o)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function p(e,n,o){var i="DEPRECATED METHOD: "+n+"\n"+o+" AT \n";return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=t.console&&(t.console.warn||t.console.log);return r&&r.call(t.console,i,o),e.apply(this,arguments)}}i="function"!=typeof Object.assign?function(t){if(t===o||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==o&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var f=p((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===o)&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),m=p((function(t,e){return f(t,e,!0)}),"merge","Use `assign`.");function g(t,e,n){var o,r=e.prototype;(o=t.prototype=Object.create(r)).constructor=t,o._super=r,n&&i(o,n)}function v(t,e){return function(){return t.apply(e,arguments)}}function y(t,e){return"function"==typeof t?t.apply(e&&e[0]||o,e):t}function x(t,e){return t===o?e:t}function b(t,e,n){h(C(e),(function(e){t.addEventListener(e,n,!1)}))}function w(t,e,n){h(C(e),(function(e){t.removeEventListener(e,n,!1)}))}function M(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function C(t){return t.trim().split(/\s+/g)}function S(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var o=0;o<t.length;){if(n&&t[o][n]==e||!n&&t[o]===e)return o;o++}return-1}function k(t){return Array.prototype.slice.call(t,0)}function P(t,e,n){for(var o=[],i=[],r=0;r<t.length;){var a=e?t[r][e]:t[r];S(i,a)<0&&o.push(t[r]),i[r]=a,r++}return n&&(o=e?o.sort((function(t,n){return t[e]>n[e]})):o.sort()),o}function D(t,e){for(var n,i,a=e[0].toUpperCase()+e.slice(1),s=0;s<r.length;){if((i=(n=r[s])?n+a:e)in t)return i;s++}return o}var A=1;function E(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}var O="ontouchstart"in t,I=D(t,"PointerEvent")!==o,R=O&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),z="touch",j="mouse",Y=24,X=["x","y"],_=["clientX","clientY"];function W(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){y(t.options.enable,[t])&&n.handler(e)},this.init()}function L(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,a=1&e&&i-r==0,s=12&e&&i-r==0;n.isFirst=!!a,n.isFinal=!!s,a&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=H(e)),r>1&&!n.firstMultiple?n.firstMultiple=H(e):1===r&&(n.firstMultiple=!1);var a=n.firstInput,s=n.firstMultiple,u=s?s.center:a.center,d=e.center=N(i);e.timeStamp=c(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=U(u,d),e.distance=Z(u,d),function(t,e){var n=e.center,o=t.offsetDelta||{},i=t.prevDelta||{},r=t.prevInput||{};1!==e.eventType&&4!==r.eventType||(i=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},o=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-o.x),e.deltaY=i.y+(n.y-o.y)}(n,e),e.offsetDirection=V(e.deltaX,e.deltaY);var h,p,f=F(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=f.x,e.overallVelocityY=f.y,e.overallVelocity=l(f.x)>l(f.y)?f.x:f.y,e.scale=s?(h=s.pointers,Z((p=i)[0],p[1],_)/Z(h[0],h[1],_)):1,e.rotation=s?function(t,e){return U(e[1],e[0],_)+U(t[1],t[0],_)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,a,s=t.lastInterval||e,c=e.timeStamp-s.timeStamp;if(8!=e.eventType&&(c>25||s.velocity===o)){var u=e.deltaX-s.deltaX,d=e.deltaY-s.deltaY,h=F(c,u,d);i=h.x,r=h.y,n=l(h.x)>l(h.y)?h.x:h.y,a=V(u,d),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,a=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=a}(n,e);var m=t.element;M(e.srcEvent.target,m)&&(m=e.srcEvent.target),e.target=m}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function H(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:s(t.pointers[n].clientX),clientY:s(t.pointers[n].clientY)},n++;return{timeStamp:c(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:s(t[0].clientX),y:s(t[0].clientY)};for(var n=0,o=0,i=0;i<e;)n+=t[i].clientX,o+=t[i].clientY,i++;return{x:s(n/e),y:s(o/e)}}function F(t,e,n){return{x:e/t||0,y:n/t||0}}function V(t,e){return t===e?1:l(t)>=l(e)?t<0?2:4:e<0?8:16}function Z(t,e,n){n||(n=X);var o=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(o*o+i*i)}function U(t,e,n){n||(n=X);var o=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,o)/Math.PI}W.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(E(this.element),this.evWin,this.domHandler)}};var q={mousedown:1,mousemove:2,mouseup:4},B="mousedown",$="mousemove mouseup";function J(){this.evEl=B,this.evWin=$,this.pressed=!1,W.apply(this,arguments)}g(J,W,{handler:function(t){var e=q[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:j,srcEvent:t}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},G={2:z,3:"pen",4:j,5:"kinect"},Q="pointerdown",tt="pointermove pointerup pointercancel";function et(){this.evEl=Q,this.evWin=tt,W.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}t.MSPointerEvent&&!t.PointerEvent&&(Q="MSPointerDown",tt="MSPointerMove MSPointerUp MSPointerCancel"),g(et,W,{handler:function(t){var e=this.store,n=!1,o=t.type.toLowerCase().replace("ms",""),i=K[o],r=G[t.pointerType]||t.pointerType,a=r==z,s=S(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(s,1))}});var nt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ot="touchstart",it="touchstart touchmove touchend touchcancel";function rt(){this.evTarget=ot,this.evWin=it,this.started=!1,W.apply(this,arguments)}function at(t,e){var n=k(t.touches),o=k(t.changedTouches);return 12&e&&(n=P(n.concat(o),"identifier",!0)),[n,o]}g(rt,W,{handler:function(t){var e=nt[t.type];if(1===e&&(this.started=!0),this.started){var n=at.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:t})}}});var st={touchstart:1,touchmove:2,touchend:4,touchcancel:8},lt="touchstart touchmove touchend touchcancel";function ct(){this.evTarget=lt,this.targetIds={},W.apply(this,arguments)}function ut(t,e){var n=k(t.touches),o=this.targetIds;if(3&e&&1===n.length)return o[n[0].identifier]=!0,[n,n];var i,r,a=k(t.changedTouches),s=[],l=this.target;if(r=n.filter((function(t){return M(t.target,l)})),1===e)for(i=0;i<r.length;)o[r[i].identifier]=!0,i++;for(i=0;i<a.length;)o[a[i].identifier]&&s.push(a[i]),12&e&&delete o[a[i].identifier],i++;return s.length?[P(r.concat(s),"identifier",!0),s]:void 0}function dt(){W.apply(this,arguments);var t=v(this.handler,this);this.touch=new ct(this.manager,t),this.mouse=new J(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function pt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ft.call(this,e)):12&t&&ft.call(this,e)}function ft(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var o=this.lastTouches;setTimeout((function(){var t=o.indexOf(n);t>-1&&o.splice(t,1)}),2500)}}function mt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var i=this.lastTouches[o],r=Math.abs(e-i.x),a=Math.abs(n-i.y);if(r<=25&&a<=25)return!0}return!1}g(ct,W,{handler:function(t){var e=st[t.type],n=ut.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:t})}}),g(dt,W,{handler:function(t,e,n){var o=n.pointerType==z,i=n.pointerType==j;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)pt.call(this,e,n);else if(i&&mt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var gt=D(a.style,"touchAction"),vt=gt!==o,yt="compute",xt="auto",bt="manipulation",wt="none",Mt="pan-x",Tt="pan-y",Ct=function(){if(!vt)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(o){e[o]=!n||t.CSS.supports("touch-action",o)})),e}();function St(t,e){this.manager=t,this.set(e)}St.prototype={set:function(t){t==yt&&(t=this.compute()),vt&&this.manager.element.style&&Ct[t]&&(this.manager.element.style[gt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return h(this.manager.recognizers,(function(e){y(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(T(t,wt))return wt;var e=T(t,Mt),n=T(t,Tt);return e&&n?wt:e||n?e?Mt:Tt:T(t,bt)?bt:xt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var o=this.actions,i=T(o,wt)&&!Ct.none,r=T(o,Tt)&&!Ct["pan-y"],a=T(o,Mt)&&!Ct["pan-x"];if(i){var s=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(s&&l&&c)return}if(!a||!r)return i||r&&6&n||a&&n&Y?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var kt=32;function Pt(t){this.options=i({},this.defaults,t||{}),this.id=A++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Dt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function At(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function Et(t,e){var n=e.manager;return n?n.get(t):t}function Ot(){Pt.apply(this,arguments)}function It(){Ot.apply(this,arguments),this.pX=null,this.pY=null}function Rt(){Ot.apply(this,arguments)}function zt(){Pt.apply(this,arguments),this._timer=null,this._input=null}function jt(){Ot.apply(this,arguments)}function Yt(){Ot.apply(this,arguments)}function Xt(){Pt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function _t(t,e){return(e=e||{}).recognizers=x(e.recognizers,_t.defaults.preset),new Wt(t,e)}function Wt(t,e){var n;this.options=i({},_t.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(I?et:R?ct:O?dt:J))(n,L),this.touchAction=new St(this,this.options.touchAction),Lt(this,!0),h(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Lt(t,e){var n,o=t.element;o.style&&(h(t.options.cssProps,(function(i,r){n=D(o.style,r),e?(t.oldCssProps[n]=o.style[n],o.style[n]=i):o.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Pt.prototype={defaults:{},set:function(t){return i(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(d(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Et(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return d(t,"dropRecognizeWith",this)||(t=Et(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(d(t,"requireFailure",this))return this;var e=this.requireFail;return-1===S(e,t=Et(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(d(t,"dropRequireFailure",this))return this;t=Et(t,this);var e=S(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function o(n){e.manager.emit(n,t)}n<8&&o(e.options.event+Dt(n)),o(e.options.event),t.additionalEvent&&o(t.additionalEvent),n>=8&&o(e.options.event+Dt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=kt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=i({},t);if(!y(this.options.enable,[this,e]))return this.reset(),void(this.state=kt);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},g(Ot,Pt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,o=6&e,i=this.attrTest(t);return o&&(8&n||!i)?16|e:o||i?4&n?8|e:2&e?4|e:2:kt}}),g(It,Ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(Tt),t&Y&&e.push(Mt),e},directionTest:function(t){var e=this.options,n=!0,o=t.distance,i=t.direction,r=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===r?1:r<0?2:4,n=r!=this.pX,o=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,o=Math.abs(t.deltaY))),t.direction=i,n&&o>e.threshold&&i&e.direction},attrTest:function(t){return Ot.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=At(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),g(Rt,Ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),g(zt,Pt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,o=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!o||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=u((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return kt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=c(),this.manager.emit(this.options.event,this._input)))}}),g(jt,Ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),g(Yt,Ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return It.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&Y&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&l(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=At(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),g(Xt,Pt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[bt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,o=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(o&&i&&n){if(4!=t.eventType)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||Z(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&r?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=u((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return kt},failTimeout:function(){return this._timer=u((function(){this.state=kt}),this.options.interval,this),kt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),_t.VERSION="2.0.7",_t.defaults={domEvents:!1,touchAction:yt,enable:!0,inputTarget:null,inputClass:null,preset:[[jt,{enable:!1}],[Rt,{enable:!1},["rotate"]],[Yt,{direction:6}],[It,{direction:6},["swipe"]],[Xt],[Xt,{event:"doubletap",taps:2},["tap"]],[zt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Wt.prototype={set:function(t){return i(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var o=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var r=0;r<o.length;)n=o[r],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),r++}},get:function(t){if(t instanceof Pt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(d(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(d(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=S(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==o&&e!==o){var n=this.handlers;return h(C(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==o){var n=this.handlers;return h(C(t),(function(t){e?n[t]&&n[t].splice(S(n[t],e),1):delete n[t]})),this}},emit:function(t,n){this.options.domEvents&&function(t,n){var o=e.createEvent("Event");o.initEvent(t,!0,!0),o.gesture=n,n.target.dispatchEvent(o)}(t,n);var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){n.type=t,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var i=0;i<o.length;)o[i](n),i++}},destroy:function(){this.element&&Lt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},i(_t,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:kt,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:Y,DIRECTION_ALL:30,Manager:Wt,Input:W,TouchAction:St,TouchInput:ct,MouseInput:J,PointerEventInput:et,TouchMouseInput:dt,SingleTouchInput:rt,Recognizer:Pt,AttrRecognizer:Ot,Tap:Xt,Pan:It,Swipe:Yt,Pinch:Rt,Rotate:jt,Press:zt,on:b,off:w,each:h,merge:m,extend:f,assign:i,inherit:g,bindFn:v,prefixed:D}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=_t,ht.exports?ht.exports=_t:t.Hammer=_t}(window,document);var ft=pt.exports;
/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const mt=t=>t&&t.enabled&&t.modifierKey,gt=(t,e)=>t&&e[t+"Key"],vt=(t,e)=>t&&!e[t+"Key"];function yt(t,e,n){return void 0===t||("string"==typeof t?-1!==t.indexOf(e):"function"==typeof t&&-1!==t({chart:n}).indexOf(e))}function xt(t,e){return"function"==typeof t&&(t=t({chart:e})),"string"==typeof t?{x:-1!==t.indexOf("x"),y:-1!==t.indexOf("y")}:{x:!1,y:!1}}function bt(t,e,n){const{mode:o="xy",scaleMode:i,overScaleMode:r}=t||{},a=function({x:t,y:e},n){const o=n.scales,i=Object.keys(o);for(let r=0;r<i.length;r++){const n=o[i[r]];if(e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right)return n}return null}(e,n),s=xt(o,n),l=xt(i,n);if(r){const t=xt(r,n);for(const e of["x","y"])t[e]&&(l[e]=s[e],s[e]=!1)}if(a&&l[a.axis])return[a];const c=[];return g(n.scales,(function(t){s[t.axis]&&c.push(t)})),c}const wt=new WeakMap;function Mt(t){let e=wt.get(t);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},wt.set(t,e)),e}function Tt(t,e,n,o){const i=Math.max(0,Math.min(1,(t-e)/n||0));return{min:o*i,max:o*(1-i)}}function Ct(t,e){const n=t.isHorizontal()?e.x:e.y;return t.getValueForPixel(n)}function St(t,e,n){const o=t.max-t.min,i=o*(e-1);return Tt(Ct(t,n),t.min,o,i)}function kt(t,e,n,o,i){let r=n[o];if("original"===r){const n=t.originalScaleLimits[e.id][o];r=y(n.options,n.scale)}return y(r,i)}function Pt(t,{min:e,max:n},o,i=!1){const r=Mt(t.chart),{options:a}=t,s=function(t,e){return e&&(e[t.id]||e[t.axis])||{}}(t,o),{minRange:l=0}=s,c=kt(r,t,s,"min",-1/0),u=kt(r,t,s,"max",1/0);if("pan"===i&&(e<c||n>u))return!0;const d=t.max-t.min,h=i?Math.max(n-e,l):d;if(i&&h===l&&d<=l)return!0;const p=function(t,{min:e,max:n,minLimit:o,maxLimit:i},r){var a,s;const l=(t-n+e)/2;e-=l,n+=l;const c=null!=(a=r.min.options)?a:r.min.scale,u=null!=(s=r.max.options)?s:r.max.scale,d=t/1e6;return M(e,c,d)&&(e=c),M(n,u,d)&&(n=u),e<o?(e=o,n=Math.min(o+t,i)):n>i&&(n=i,e=Math.max(i-t,o)),{min:e,max:n}}(h,{min:e,max:n,minLimit:c,maxLimit:u},r.originalScaleLimits[t.id]);return a.min=p.min,a.max=p.max,r.updatedScaleLimits[t.id]=p,t.parse(p.min)!==t.min||t.parse(p.max)!==t.max}const Dt=t=>0===t||isNaN(t)?0:t<0?Math.min(Math.round(t),-1):Math.max(Math.round(t),1);const At={second:500,minute:3e4,hour:18e5,day:432e5,week:3024e5,month:1296e6,quarter:5184e6,year:157248e5};function Et(t,e,n,o=!1){const{min:i,max:r,options:a}=t,s=a.time&&a.time.round,l=At[s]||0,c=t.getValueForPixel(t.getPixelForValue(i+l)-e),u=t.getValueForPixel(t.getPixelForValue(r+l)-e);return!(!isNaN(c)&&!isNaN(u))||Pt(t,{min:c,max:u},n,!!o&&"pan")}function Ot(t,e,n){return Et(t,e,n,!0)}const It={category:function(t,e,n,o){const i=St(t,e,n);return t.min===t.max&&e<1&&function(t){const e=t.getLabels().length-1;t.min>0&&(t.min-=1),t.max<e&&(t.max+=1)}(t),Pt(t,{min:t.min+Dt(i.min),max:t.max-Dt(i.max)},o,!0)},default:function(t,e,n,o){const i=St(t,e,n);return Pt(t,{min:t.min+i.min,max:t.max-i.max},o,!0)},logarithmic:function(t,e,n,o){const i=function(t,e,n){const o=Ct(t,n);if(void 0===o)return{min:t.min,max:t.max};const i=Math.log10(t.min),r=Math.log10(t.max),a=r-i,s=Tt(Math.log10(o),i,a,a*(e-1));return{min:Math.pow(10,i+s.min),max:Math.pow(10,r-s.max)}}(t,e,n);return Pt(t,i,o,!0)}},Rt={default:function(t,e,n,o){Pt(t,function(t,e,n){const o=t.getValueForPixel(e),i=t.getValueForPixel(n);return{min:Math.min(o,i),max:Math.max(o,i)}}(t,e,n),o,!0)}},zt={category:function(t,e,n){const o=t.getLabels().length-1;let{min:i,max:r}=t;const a=Math.max(r-i,1),s=Math.round(function(t){return t.isHorizontal()?t.width:t.height}(t)/Math.max(a,10)),l=Math.round(Math.abs(e/s));let c;return e<-s?(r=Math.min(r+l,o),i=1===a?r:r-a,c=r===o):e>s&&(i=Math.max(0,i-l),r=1===a?i:i+a,c=0===i),Pt(t,{min:i,max:r},n)||c},default:Et,logarithmic:Ot,timeseries:Ot};function jt(t,e){g(t,((n,o)=>{e[o]||delete t[o]}))}function Yt(t,e){const{scales:n}=t,{originalScaleLimits:o,updatedScaleLimits:i}=e;return g(n,(function(t){(function(t,e,n){const{id:o,options:{min:i,max:r}}=t;if(!e[o]||!n[o])return!0;const a=n[o];return a.min!==i||a.max!==r})(t,o,i)&&(o[t.id]={min:{scale:t.min,options:t.options.min},max:{scale:t.max,options:t.options.max}})})),jt(o,n),jt(i,n),o}function Xt(t,e,n,o){const i=It[t.type]||It.default;v(i,[t,e,n,o])}function _t(t,e,n,o){const i=Rt[t.type]||Rt.default;v(i,[t,e,n,o])}function Wt(t){const e=t.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Lt(t,e,n="none",o="api"){const{x:i=1,y:r=1,focalPoint:a=Wt(t)}="number"==typeof e?{x:e,y:e}:e,s=Mt(t),{options:{limits:l,zoom:c}}=s;Yt(t,s);const u=1!==i,d=1!==r,h=bt(c,a,t);g(h||t.scales,(function(t){t.isHorizontal()&&u?Xt(t,i,a,l):!t.isHorizontal()&&d&&Xt(t,r,a,l)})),t.update(n),v(c.onZoom,[{chart:t,trigger:o}])}function Ht(t,e,n,o="none",i="api"){const r=Mt(t),{options:{limits:a,zoom:s}}=r,{mode:l="xy"}=s;Yt(t,r);const c=yt(l,"x",t),u=yt(l,"y",t);g(t.scales,(function(t){t.isHorizontal()&&c?_t(t,e.x,n.x,a):!t.isHorizontal()&&u&&_t(t,e.y,n.y,a)})),t.update(o),v(s.onZoom,[{chart:t,trigger:i}])}function Nt(t){const e=Mt(t);let n=1,o=1;return g(t.scales,(function(t){const i=function(t,e){const n=t.originalScaleLimits[e];if(!n)return;const{min:o,max:i}=n;return y(i.options,i.scale)-y(o.options,o.scale)}(e,t.id);if(i){const e=Math.round(i/(t.max-t.min)*100)/100;n=Math.min(n,e),o=Math.max(o,e)}})),n<1?n:o}function Ft(t,e,n,o){const{panDelta:i}=o,r=i[t.id]||0;b(r)===b(e)&&(e+=r);const a=zt[t.type]||zt.default;v(a,[t,e,n])?i[t.id]=0:i[t.id]=e}function Vt(t,e,n,o="none"){const{x:i=0,y:r=0}="number"==typeof e?{x:e,y:e}:e,a=Mt(t),{options:{pan:s,limits:l}}=a,{onPan:c}=s||{};Yt(t,a);const u=0!==i,d=0!==r;g(n||t.scales,(function(t){t.isHorizontal()&&u?Ft(t,i,l,a):!t.isHorizontal()&&d&&Ft(t,r,l,a)})),t.update(o),v(c,[{chart:t}])}function Zt(t){const e=Mt(t);Yt(t,e);const n={};for(const o of Object.keys(t.scales)){const{min:t,max:i}=e.originalScaleLimits[o]||{min:{},max:{}};n[o]={min:t.scale,max:i.scale}}return n}function Ut(t){const e=Mt(t);return e.panning||e.dragging}const qt=(t,e,n)=>Math.min(n,Math.max(e,t));function Bt(t,e){const{handlers:n}=Mt(t),o=n[e];o&&o.target&&(o.target.removeEventListener(e,o),delete n[e])}function $t(t,e,n,o){const{handlers:i,options:r}=Mt(t),a=i[n];if(a&&a.target===e)return;Bt(t,n),i[n]=e=>o(t,e,r),i[n].target=e;const s="wheel"!==n&&void 0;e.addEventListener(n,i[n],{passive:s})}function Jt(t,e){const n=Mt(t);n.dragStart&&(n.dragging=!0,n.dragEnd=e,t.update("none"))}function Kt(t,e){const n=Mt(t);n.dragStart&&"Escape"===e.key&&(Bt(t,"keydown"),n.dragging=!1,n.dragStart=n.dragEnd=null,t.update("none"))}function Gt(t,e){if(t.target!==e.canvas){const n=e.canvas.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}return x(t,e)}function Qt(t,e,n){const{onZoomStart:o,onZoomRejected:i}=n;if(o){const n=Gt(e,t);if(!1===v(o,[{chart:t,event:e,point:n}]))return v(i,[{chart:t,event:e}]),!1}}function te(t,e){if(t.legend){const n=x(e,t);if(w(n,t.legend))return}const n=Mt(t),{pan:o,zoom:i={}}=n.options;if(0!==e.button||gt(mt(o),e)||vt(mt(i.drag),e))return v(i.onZoomRejected,[{chart:t,event:e}]);!1!==Qt(t,e,i)&&(n.dragStart=e,$t(t,t.canvas.ownerDocument,"mousemove",Jt),$t(t,window.document,"keydown",Kt))}function ee(t,e,n,{min:o,max:i,prop:r}){t[o]=qt(Math.min(n.begin[r],n.end[r]),e[o],e[i]),t[i]=qt(Math.max(n.begin[r],n.end[r]),e[o],e[i])}function ne(t,e,n){const o={begin:Gt(e.dragStart,t),end:Gt(e.dragEnd,t)};if(n){!function({begin:t,end:e},n){let o=e.x-t.x,i=e.y-t.y;const r=Math.abs(o/i);r>n?o=Math.sign(o)*Math.abs(i*n):r<n&&(i=Math.sign(i)*Math.abs(o/n)),e.x=t.x+o,e.y=t.y+i}(o,t.chartArea.width/t.chartArea.height)}return o}function oe(t,e,n,o){const i=yt(e,"x",t),r=yt(e,"y",t),{top:a,left:s,right:l,bottom:c,width:u,height:d}=t.chartArea,h={top:a,left:s,right:l,bottom:c},p=ne(t,n,o&&i&&r);i&&ee(h,t.chartArea,p,{min:"left",max:"right",prop:"x"}),r&&ee(h,t.chartArea,p,{min:"top",max:"bottom",prop:"y"});const f=h.right-h.left,m=h.bottom-h.top;return{...h,width:f,height:m,zoomX:i&&f?1+(u-f)/u:1,zoomY:r&&m?1+(d-m)/d:1}}function ie(t,e){const n=Mt(t);if(!n.dragStart)return;Bt(t,"mousemove");const{mode:o,onZoomComplete:i,drag:{threshold:r=0,maintainAspectRatio:a}}=n.options.zoom,s=oe(t,o,{dragStart:n.dragStart,dragEnd:e},a),l=yt(o,"x",t)?s.width:0,c=yt(o,"y",t)?s.height:0,u=Math.sqrt(l*l+c*c);if(n.dragStart=n.dragEnd=null,u<=r)return n.dragging=!1,void t.update("none");Ht(t,{x:s.left,y:s.top},{x:s.right,y:s.bottom},"zoom","drag"),n.dragging=!1,n.filterNextClick=!0,v(i,[{chart:t}])}function re(t,e){const{handlers:{onZoomComplete:n},options:{zoom:o}}=Mt(t);if(!function(t,e,n){if(vt(mt(n.wheel),e))v(n.onZoomRejected,[{chart:t,event:e}]);else if(!1!==Qt(t,e,n)&&(e.cancelable&&e.preventDefault(),void 0!==e.deltaY))return!0}(t,e,o))return;const i=e.target.getBoundingClientRect(),r=o.wheel.speed,a=e.deltaY>=0?2-1/(1-r):1+r;Lt(t,{x:a,y:a,focalPoint:{x:e.clientX-i.left,y:e.clientY-i.top}},"zoom","wheel"),v(n,[{chart:t}])}function ae(t,e,n,o){n&&(Mt(t).handlers[e]=function(t,e){let n;return function(){return clearTimeout(n),n=setTimeout(t,e),e}}((()=>v(n,[{chart:t}])),o))}function se(t,e){return function(n,o){const{pan:i,zoom:r={}}=e.options;if(!i||!i.enabled)return!1;const a=o&&o.srcEvent;return!a||(!(!e.panning&&"mouse"===o.pointerType&&(vt(mt(i),a)||gt(mt(r.drag),a)))||(v(i.onPanRejected,[{chart:t,event:o}]),!1))}}function le(t,e,n){if(e.scale){const{center:o,pointers:i}=n,r=1/e.scale*n.scale,a=n.target.getBoundingClientRect(),s=function(t,e){const n=Math.abs(t.clientX-e.clientX),o=Math.abs(t.clientY-e.clientY),i=n/o;let r,a;return i>.3&&i<1.7?r=a=!0:n>o?r=!0:a=!0,{x:r,y:a}}(i[0],i[1]),l=e.options.zoom.mode;Lt(t,{x:s.x&&yt(l,"x",t)?r:1,y:s.y&&yt(l,"y",t)?r:1,focalPoint:{x:o.x-a.left,y:o.y-a.top}},"zoom","pinch"),e.scale=n.scale}}function ce(t,e,n){const o=e.delta;o&&(e.panning=!0,Vt(t,{x:n.deltaX-o.x,y:n.deltaY-o.y},e.panScales),e.delta={x:n.deltaX,y:n.deltaY})}const ue=new WeakMap;function de(t,e){const n=Mt(t),o=t.canvas,{pan:i,zoom:r}=e,a=new ft.Manager(o);r&&r.pinch.enabled&&(a.add(new ft.Pinch),a.on("pinchstart",(e=>function(t,e,n){if(e.options.zoom.pinch.enabled){const o=x(n,t);!1===v(e.options.zoom.onZoomStart,[{chart:t,event:n,point:o}])?(e.scale=null,v(e.options.zoom.onZoomRejected,[{chart:t,event:n}])):e.scale=1}}(t,n,e))),a.on("pinch",(e=>le(t,n,e))),a.on("pinchend",(e=>function(t,e,n){e.scale&&(le(t,e,n),e.scale=null,v(e.options.zoom.onZoomComplete,[{chart:t}]))}(t,n,e)))),i&&i.enabled&&(a.add(new ft.Pan({threshold:i.threshold,enable:se(t,n)})),a.on("panstart",(e=>function(t,e,n){const{enabled:o,onPanStart:i,onPanRejected:r}=e.options.pan;if(!o)return;const a=n.target.getBoundingClientRect(),s={x:n.center.x-a.left,y:n.center.y-a.top};if(!1===v(i,[{chart:t,event:n,point:s}]))return v(r,[{chart:t,event:n}]);e.panScales=bt(e.options.pan,s,t),e.delta={x:0,y:0},ce(t,e,n)}(t,n,e))),a.on("panmove",(e=>ce(t,n,e))),a.on("panend",(()=>function(t,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,v(e.options.pan.onPanComplete,[{chart:t}]))}(t,n)))),ue.set(t,a)}function he(t){const e=ue.get(t);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),ue.delete(t))}function pe(t,e,n){const o=n.zoom.drag,{dragStart:i,dragEnd:r}=Mt(t);if(o.drawTime!==e||!r)return;const{left:a,top:s,width:l,height:c}=oe(t,n.zoom.mode,{dragStart:i,dragEnd:r},o.maintainAspectRatio),u=t.ctx;u.save(),u.beginPath(),u.fillStyle=o.backgroundColor||"rgba(225,225,225,0.3)",u.fillRect(a,s,l,c),o.borderWidth>0&&(u.lineWidth=o.borderWidth,u.strokeStyle=o.borderColor||"rgba(225,225,225)",u.strokeRect(a,s,l,c)),u.restore()}var fe={id:"zoom",version:"2.2.0",defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(t,e,n){Mt(t).options=n,Object.prototype.hasOwnProperty.call(n.zoom,"enabled"),Object.prototype.hasOwnProperty.call(n.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(n.pan,"overScaleMode"),ft&&de(t,n),t.pan=(e,n,o)=>Vt(t,e,n,o),t.zoom=(e,n)=>Lt(t,e,n),t.zoomRect=(e,n,o)=>Ht(t,e,n,o),t.zoomScale=(e,n,o)=>function(t,e,n,o="none",i="api"){var r;const a=Mt(t);Yt(t,a),Pt(t.scales[e],n,void 0,!0),t.update(o),v(null==(r=a.options.zoom)?void 0:r.onZoom,[{chart:t,trigger:i}])}(t,e,n,o),t.resetZoom=e=>function(t,e="default"){const n=Mt(t),o=Yt(t,n);g(t.scales,(function(t){const e=t.options;o[t.id]?(e.min=o[t.id].min.options,e.max=o[t.id].max.options):(delete e.min,delete e.max),delete n.updatedScaleLimits[t.id]})),t.update(e),v(n.options.zoom.onZoomComplete,[{chart:t}])}(t,e),t.getZoomLevel=()=>Nt(t),t.getInitialScaleBounds=()=>Zt(t),t.getZoomedScaleBounds=()=>function(t){const e=Mt(t),n={};for(const o of Object.keys(t.scales))n[o]=e.updatedScaleLimits[o];return n}(t),t.isZoomedOrPanned=()=>function(t){const e=Zt(t);for(const n of Object.keys(t.scales)){const{min:o,max:i}=e[n];if(void 0!==o&&t.scales[n].min!==o)return!0;if(void 0!==i&&t.scales[n].max!==i)return!0}return!1}(t),t.isZoomingOrPanning=()=>Ut(t)},beforeEvent(t,{event:e}){if(Ut(t))return!1;if("click"===e.type||"mouseup"===e.type){const e=Mt(t);if(e.filterNextClick)return e.filterNextClick=!1,!1}},beforeUpdate:function(t,e,n){const o=Mt(t),i=o.options;o.options=n,function(t,e){var n,o,i,r;const{pan:a,zoom:s}=t,{pan:l,zoom:c}=e;return(null==(o=null==(n=null==s?void 0:s.zoom)?void 0:n.pinch)?void 0:o.enabled)!==(null==(r=null==(i=null==c?void 0:c.zoom)?void 0:i.pinch)?void 0:r.enabled)||(null==a?void 0:a.enabled)!==(null==l?void 0:l.enabled)||(null==a?void 0:a.threshold)!==(null==l?void 0:l.threshold)}(i,n)&&(he(t),de(t,n)),function(t,e){const n=t.canvas,{wheel:o,drag:i,onZoomComplete:r}=e.zoom;o.enabled?($t(t,n,"wheel",re),ae(t,"onZoomComplete",r,250)):Bt(t,"wheel"),i.enabled?($t(t,n,"mousedown",te),$t(t,n.ownerDocument,"mouseup",ie)):(Bt(t,"mousedown"),Bt(t,"mousemove"),Bt(t,"mouseup"),Bt(t,"keydown"))}(t,n)},beforeDatasetsDraw(t,e,n){pe(t,"beforeDatasetsDraw",n)},afterDatasetsDraw(t,e,n){pe(t,"afterDatasetsDraw",n)},beforeDraw(t,e,n){pe(t,"beforeDraw",n)},afterDraw(t,e,n){pe(t,"afterDraw",n)},stop:function(t){!function(t){Bt(t,"mousedown"),Bt(t,"mousemove"),Bt(t,"mouseup"),Bt(t,"wheel"),Bt(t,"click"),Bt(t,"keydown")}(t),ft&&he(t),function(t){wt.delete(t)}(t)},panFunctions:zt,zoomFunctions:It,zoomRectFunctions:Rt};
/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const me={modes:{point:(t,e)=>ve(t,e,{intersect:!0}),nearest:(t,e,n)=>function(t,e,n){let o=Number.POSITIVE_INFINITY;return ve(t,e,n).reduce(((t,i)=>{const r=i.getCenterPoint(),a=function(t,e,n){if("x"===n)return{x:t.x,y:e.y};if("y"===n)return{x:e.x,y:t.y};return e}(e,r,n.axis),s=_(e,a);return s<o?(t=[i],o=s):s===o&&t.push(i),t}),[]).sort(((t,e)=>t._index-e._index)).slice(0,1)}(t,e,n),x:(t,e,n)=>ve(t,e,{intersect:n.intersect,axis:"x"}),y:(t,e,n)=>ve(t,e,{intersect:n.intersect,axis:"y"})}};function ge(t,e,n){return(me.modes[n.mode]||me.modes.nearest)(t,e,n)}function ve(t,e,n){return t.filter((t=>n.intersect?t.inRange(e.x,e.y):function(t,e,n){return"x"!==n&&"y"!==n?t.inRange(e.x,e.y,"x",!0)||t.inRange(e.x,e.y,"y",!0):t.inRange(e.x,e.y,n,!0)}(t,e,n.axis)))}function ye(t,e,n){const o=Math.cos(n),i=Math.sin(n),r=e.x,a=e.y;return{x:r+o*(t.x-r)-i*(t.y-a),y:a+i*(t.x-r)+o*(t.y-a)}}const xe=(t,e)=>e>t||t.length>e.length&&t.slice(0,e.length)===e,be=(t,e,n)=>Math.min(n,Math.max(e,t)),we=(t,e)=>t.value>=t.start-e&&t.value<=t.end+e;function Me(t,e,n){for(const o of Object.keys(t))t[o]=be(t[o],e,n);return t}function Te(t,{x:e,y:n,x2:o,y2:i},r,{borderWidth:a,hitTolerance:s}){const l=(a+s)/2,c=t.x>=e-l-.001&&t.x<=o+l+.001,u=t.y>=n-l-.001&&t.y<=i+l+.001;return"x"===r?c:("y"===r||c)&&u}function Ce(t,{rect:e,center:n},o,{rotation:i,borderWidth:r,hitTolerance:a}){return Te(ye(t,n,R(-i)),e,o,{borderWidth:r,hitTolerance:a})}function Se(t,e){const{centerX:n,centerY:o}=t.getProps(["centerX","centerY"],e);return{x:n,y:o}}const ke=t=>"string"==typeof t&&t.endsWith("%"),Pe=t=>parseFloat(t)/100,De=t=>be(Pe(t),0,1),Ae=(t,e)=>({x:t,y:e,x2:t,y2:e,width:0,height:0}),Ee={box:t=>Ae(t.centerX,t.centerY),doughnutLabel:t=>Ae(t.centerX,t.centerY),ellipse:t=>({centerX:t.centerX,centerY:t.centerX,radius:0,width:0,height:0}),label:t=>Ae(t.centerX,t.centerY),line:t=>Ae(t.x,t.y),point:t=>({centerX:t.centerX,centerY:t.centerY,radius:0,width:0,height:0}),polygon:t=>Ae(t.centerX,t.centerY)};function Oe(t,e){return"start"===e?0:"end"===e?t:ke(e)?De(e)*t:t/2}function Ie(t,e,n=!0){return"number"==typeof e?e:ke(e)?(n?De(e):Pe(e))*t:t}function Re(t,e,{borderWidth:n,position:o,xAdjust:i,yAdjust:r},a){const s=S(a),l=e.width+(s?a.width:0)+n,c=e.height+(s?a.height:0)+n,u=ze(o),d=_e(t.x,l,i,u.x),h=_e(t.y,c,r,u.y);return{x:d,y:h,x2:d+l,y2:h+c,width:l,height:c,centerX:d+l/2,centerY:h+c/2}}function ze(t,e="center"){return S(t)?{x:y(t.x,e),y:y(t.y,e)}:{x:t=y(t,e),y:t}}const je=(t,e)=>t&&t.autoFit&&e<1;function Ye(t,e){const n=t.font,o=k(n)?n:[n];return je(t,e)?o.map((function(t){const n=$(t);return n.size=Math.floor(t.size*e),n.lineHeight=t.lineHeight,$(n)})):o.map((t=>$(t)))}function Xe(t){return t&&(O(t.xValue)||O(t.yValue))}function _e(t,e,n=0,o){return t-Oe(e,o)+n}function We(t,e,n){const o=n.init;if(o)return!0===o?He(e,n):function(t,e,n){const o=v(n.init,[{chart:t,properties:e,options:n}]);if(!0===o)return He(e,n);if(S(o))return o}(t,e,n)}function Le(t,e,n){let o=!1;return e.forEach((e=>{A(t[e])?(o=!0,n[e]=t[e]):O(n[e])&&delete n[e]})),o}function He(t,e){const n=e.type||"line";return Ee[n](t)}const Ne=new Map;function Fe(t){if(t&&"object"==typeof t){const e=t.toString();return"[object HTMLImageElement]"===e||"[object HTMLCanvasElement]"===e}}function Ve(t,{x:e,y:n},o){o&&(t.translate(e,n),t.rotate(R(o)),t.translate(-e,-n))}function Ze(t,e){if(e&&e.borderWidth)return t.lineCap=e.borderCapStyle||"butt",t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle||"miter",t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,!0}function Ue(t,e){t.shadowColor=e.backgroundShadowColor,t.shadowBlur=e.shadowBlur,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY}function qe(t,e){const n=e.content;if(Fe(n)){return{width:Ie(n.width,e.width),height:Ie(n.height,e.height)}}const o=Ye(e),i=e.textStrokeWidth,r=k(n)?n:[n],a=r.join()+(t=>t.reduce((function(t,e){return t+e.string}),""))(o)+i+(t._measureText?"-spriting":"");return Ne.has(a)||Ne.set(a,function(t,e,n,o){t.save();const i=e.length;let r=0,a=o;for(let s=0;s<i;s++){const i=n[Math.min(s,n.length-1)];t.font=i.string;const l=e[s];r=Math.max(r,t.measureText(l).width+o),a+=i.lineHeight}return t.restore(),{width:r,height:a}}(t,r,o,i)),Ne.get(a)}function Be(t,e,n){const{x:o,y:i,width:r,height:a}=e;t.save(),Ue(t,n);const s=Ze(t,n);t.fillStyle=n.backgroundColor,t.beginPath(),N(t,{x:o,y:i,w:r,h:a,radius:Me(F(n.borderRadius),0,Math.min(r,a)/2)}),t.closePath(),t.fill(),s&&(t.shadowColor=n.borderShadowColor,t.stroke()),t.restore()}function $e(t,e,n,o){const i=n.content;if(Fe(i))return t.save(),t.globalAlpha=function(t,e){const n=q(t)?t:e;return q(n)?be(n,0,1):1}(n.opacity,i.style.opacity),t.drawImage(i,e.x,e.y,e.width,e.height),void t.restore();const r=k(i)?i:[i],a=Ye(n,o),s=n.color,l=k(s)?s:[s],c=function(t,e){const{x:n,width:o}=t,i=e.textAlign;return"center"===i?n+o/2:"end"===i||"right"===i?n+o:n}(e,n),u=e.y+n.textStrokeWidth/2;t.save(),t.textBaseline="middle",t.textAlign=n.textAlign,function(t,e){if(e.textStrokeWidth>0)return t.lineJoin="round",t.miterLimit=2,t.lineWidth=e.textStrokeWidth,t.strokeStyle=e.textStrokeColor,!0}(t,n)&&function(t,{x:e,y:n},o,i){t.beginPath();let r=0;o.forEach((function(o,a){const s=i[Math.min(a,i.length-1)],l=s.lineHeight;t.font=s.string,t.strokeText(o,e,n+l/2+r),r+=l})),t.stroke()}(t,{x:c,y:u},r,a),function(t,{x:e,y:n},o,{fonts:i,colors:r}){let a=0;o.forEach((function(o,s){const l=r[Math.min(s,r.length-1)],c=i[Math.min(s,i.length-1)],u=c.lineHeight;t.beginPath(),t.font=c.string,t.fillStyle=l,t.fillText(o,e,n+u/2+a),a+=u,t.fill()}))}(t,{x:c,y:u},r,{fonts:a,colors:l}),t.restore()}function Je(t,e,n,o){const{radius:i,options:r}=e,a=r.pointStyle,s=r.rotation;let l=(s||0)*B;if(Fe(a))return t.save(),t.translate(n,o),t.rotate(l),t.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),void t.restore();(t=>isNaN(t)||t<=0)(i)||function(t,{x:e,y:n,radius:o,rotation:i,style:r,rad:a}){let s,l,c,u;switch(t.beginPath(),r){default:t.arc(e,n,o,0,j),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(a)*o,n-Math.cos(a)*o),a+=U,t.lineTo(e+Math.sin(a)*o,n-Math.cos(a)*o),a+=U,t.lineTo(e+Math.sin(a)*o,n-Math.cos(a)*o),t.closePath();break;case"rectRounded":u=.516*o,c=o-u,s=Math.cos(a+V)*c,l=Math.sin(a+V)*c,t.arc(e-s,n-l,u,a-L,a-Z),t.arc(e+l,n-s,u,a-Z,a),t.arc(e+s,n+l,u,a,a+Z),t.arc(e-l,n+s,u,a+Z,a+L),t.closePath();break;case"rect":if(!i){c=Math.SQRT1_2*o,t.rect(e-c,n-c,2*c,2*c);break}a+=V;case"rectRot":s=Math.cos(a)*o,l=Math.sin(a)*o,t.moveTo(e-s,n-l),t.lineTo(e+l,n-s),t.lineTo(e+s,n+l),t.lineTo(e-l,n+s),t.closePath();break;case"crossRot":a+=V;case"cross":s=Math.cos(a)*o,l=Math.sin(a)*o,t.moveTo(e-s,n-l),t.lineTo(e+s,n+l),t.moveTo(e+l,n-s),t.lineTo(e-l,n+s);break;case"star":s=Math.cos(a)*o,l=Math.sin(a)*o,t.moveTo(e-s,n-l),t.lineTo(e+s,n+l),t.moveTo(e+l,n-s),t.lineTo(e-l,n+s),a+=V,s=Math.cos(a)*o,l=Math.sin(a)*o,t.moveTo(e-s,n-l),t.lineTo(e+s,n+l),t.moveTo(e+l,n-s),t.lineTo(e-l,n+s);break;case"line":s=Math.cos(a)*o,l=Math.sin(a)*o,t.moveTo(e-s,n-l),t.lineTo(e+s,n+l);break;case"dash":t.moveTo(e,n),t.lineTo(e+Math.cos(a)*o,n+Math.sin(a)*o)}t.fill()}(t,{x:n,y:o,radius:i,rotation:s,style:a,rad:l})}const Ke=["left","bottom","top","right"];function Ge(t,e){const{pointX:n,pointY:o,options:i}=e,r=i.callout,a=r&&r.display&&function(t,e){const n=e.position;if(Ke.includes(n))return n;return function(t,e){const{x:n,y:o,x2:i,y2:r,width:a,height:s,pointX:l,pointY:c,centerX:u,centerY:d,rotation:h}=t,p={x:u,y:d},f=e.start,m=Ie(a,f),g=Ie(s,f),v=[n,n+m,n+m,i],y=[o+g,r,o,r],x=[];for(let b=0;b<4;b++){const t=ye({x:v[b],y:y[b]},p,R(h));x.push({position:Ke[b],distance:_(t,{x:l,y:c})})}return x.sort(((t,e)=>t.distance-e.distance))[0].position}(t,e)}(e,r);if(!a||function(t,e,n){const{pointX:o,pointY:i}=t,r=e.margin;let a=o,s=i;"left"===n?a+=r:"right"===n?a-=r:"top"===n?s+=r:"bottom"===n&&(s-=r);return t.inRange(a,s)}(e,r,a))return;t.save(),t.beginPath();if(!Ze(t,r))return t.restore();const{separatorStart:s,separatorEnd:l}=function(t,e){const{x:n,y:o,x2:i,y2:r}=t,a=function(t,e){const{width:n,height:o,options:i}=t,r=i.callout.margin+i.borderWidth/2;if("right"===e)return n+r;if("bottom"===e)return o+r;return-r}(t,e);let s,l;"left"===e||"right"===e?(s={x:n+a,y:o},l={x:s.x,y:r}):(s={x:n,y:o+a},l={x:i,y:s.y});return{separatorStart:s,separatorEnd:l}}(e,a),{sideStart:c,sideEnd:u}=function(t,e,n){const{y:o,width:i,height:r,options:a}=t,s=a.callout.start,l=function(t,e){const n=e.side;if("left"===t||"top"===t)return-n;return n}(e,a.callout);let c,u;"left"===e||"right"===e?(c={x:n.x,y:o+Ie(r,s)},u={x:c.x+l,y:c.y}):(c={x:n.x+Ie(i,s),y:n.y},u={x:c.x,y:c.y+l});return{sideStart:c,sideEnd:u}}(e,a,s);(r.margin>0||0===i.borderWidth)&&(t.moveTo(s.x,s.y),t.lineTo(l.x,l.y)),t.moveTo(c.x,c.y),t.lineTo(u.x,u.y);const d=ye({x:n,y:o},e.getCenterPoint(),R(-e.rotation));t.lineTo(d.x,d.y),t.stroke(),t.restore()}const Qe={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function tn(t,e,n){return e="number"==typeof e?e:t.parse(e),E(e)?t.getPixelForValue(e):n}function en(t,e,n){const o=e[n];if(o||"scaleID"===n)return o;const i=n.charAt(0),r=Object.values(t).filter((t=>t.axis&&t.axis===i));return r.length?r[0].id:i}function nn(t,e){if(t){const n=t.options.reverse;return{start:tn(t,e.min,n?e.end:e.start),end:tn(t,e.max,n?e.start:e.end)}}}function on(t,e){const{chartArea:n,scales:o}=t,i=o[en(o,e,"xScaleID")],r=o[en(o,e,"yScaleID")];let a=n.width/2,s=n.height/2;return i&&(a=tn(i,e.xValue,i.left+i.width/2)),r&&(s=tn(r,e.yValue,r.top+r.height/2)),{x:a,y:s}}function rn(t,e){const n=t.scales,o=n[en(n,e,"xScaleID")],i=n[en(n,e,"yScaleID")];if(!o&&!i)return{};let{left:r,right:a}=o||t.chartArea,{top:s,bottom:l}=i||t.chartArea;const c=cn(o,{min:e.xMin,max:e.xMax,start:r,end:a});r=c.start,a=c.end;const u=cn(i,{min:e.yMin,max:e.yMax,start:l,end:s});return s=u.start,l=u.end,{x:r,y:s,x2:a,y2:l,width:a-r,height:l-s,centerX:r+(a-r)/2,centerY:s+(l-s)/2}}function an(t,e){if(!Xe(e)){const n=rn(t,e);let o=e.radius;o&&!isNaN(o)||(o=Math.min(n.width,n.height)/2,e.radius=o);const i=2*o,r=n.centerX+e.xAdjust,a=n.centerY+e.yAdjust;return{x:r-o,y:a-o,x2:r+o,y2:a+o,centerX:r,centerY:a,width:i,height:i,radius:o}}return function(t,e){const n=on(t,e),o=2*e.radius;return{x:n.x-e.radius+e.xAdjust,y:n.y-e.radius+e.yAdjust,x2:n.x+e.radius+e.xAdjust,y2:n.y+e.radius+e.yAdjust,centerX:n.x+e.xAdjust,centerY:n.y+e.yAdjust,radius:e.radius,width:o,height:o}}(t,e)}function sn(t,e){const{scales:n,chartArea:o}=t,i=n[e.scaleID],r={x:o.left,y:o.top,x2:o.right,y2:o.bottom};return i?function(t,e,n){const o=tn(t,n.value,NaN),i=tn(t,n.endValue,o);t.isHorizontal()?(e.x=o,e.x2=i):(e.y=o,e.y2=i)}(i,r,e):function(t,e,n){for(const o of Object.keys(Qe)){const i=t[en(t,n,o)];if(i){const{min:t,max:r,start:a,end:s,startProp:l,endProp:c}=Qe[o],u=nn(i,{min:n[t],max:n[r],start:i[a],end:i[s]});e[l]=u.start,e[c]=u.end}}}(n,r,e),r}function ln(t,e){const n=rn(t,e);return n.initProperties=We(t,n,e),n.elements=[{type:"label",optionScope:"label",properties:dn(t,n,e),initProperties:n.initProperties}],n}function cn(t,e){const n=nn(t,e)||e;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function un(t,e){const{start:n,end:o,borderWidth:i}=t,{position:r,padding:{start:a,end:s},adjust:l}=e;return n+i/2+l+Oe(o-i-n-a-s-e.size,r)}function dn(t,e,n){const o=n.label;o.backgroundColor="transparent",o.callout.display=!1;const i=ze(o.position),r=X(o.padding),a=qe(t.ctx,o),s=function({properties:t,options:e},n,o,i){const{x:r,x2:a,width:s}=t;return un({start:r,end:a,size:s,borderWidth:e.borderWidth},{position:o.x,padding:{start:i.left,end:i.right},adjust:e.label.xAdjust,size:n.width})}({properties:e,options:n},a,i,r),l=function({properties:t,options:e},n,o,i){const{y:r,y2:a,height:s}=t;return un({start:r,end:a,size:s,borderWidth:e.borderWidth},{position:o.y,padding:{start:i.top,end:i.bottom},adjust:e.label.yAdjust,size:n.height})}({properties:e,options:n},a,i,r),c=a.width+r.width,u=a.height+r.height;return{x:s,y:l,x2:s+c,y2:l+u,width:c,height:u,centerX:s+c/2,centerY:l+u/2,rotation:o.rotation}}const hn=["enter","leave"],pn=hn.concat("click");function fn(t,e,n){if(t.listened)switch(e.type){case"mousemove":case"mouseout":return function(t,e,n){if(!t.moveListened)return;let o;o="mousemove"===e.type?ge(t.visibleElements,e,n.interaction):[];const i=t.hovered;t.hovered=o;const r={state:t,event:e};let a=mn(r,"leave",i,o);return mn(r,"enter",o,i)||a}(t,e,n);case"click":return function(t,e,n){const o=t.listeners,i=ge(t.visibleElements,e,n.interaction);let r;for(const a of i)r=gn(a.options.click||o.click,a,e)||r;return r}(t,e,n)}}function mn({state:t,event:e},n,o,i){let r;for(const a of o)i.indexOf(a)<0&&(r=gn(a.options[n]||t.listeners[n],a,e)||r);return r}function gn(t,e,n){return!0===v(t,[e.$context,n])}const vn=["afterDraw","beforeDraw"];function yn(t,e,n){if(t.hooked){const o=e.options[n]||t.hooks[n];return v(o,[e.$context])}}function xn(t,e,n){const o=function(t,e,n){const o=e.axis,i=e.id,r=o+"ScaleID",a={min:y(e.min,Number.NEGATIVE_INFINITY),max:y(e.max,Number.POSITIVE_INFINITY)};for(const s of n)s.scaleID===i?Tn(s,e,["value","endValue"],a):en(t,s,r)===i&&Tn(s,e,[o+"Min",o+"Max",o+"Value"],a);return a}(t.scales,e,n);let i=bn(e,o,"min","suggestedMin");i=bn(e,o,"max","suggestedMax")||i,i&&A(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function bn(t,e,n,o){if(E(e[n])&&!function(t,e,n){return O(t[e])||O(t[n])}(t.options,n,o)){const o=t[n]!==e[n];return t[n]=e[n],o}}function wn(t,e){for(const n of["scaleID","xScaleID","yScaleID"]){const o=en(e,t,n);o&&!e[o]&&Mn(t,n)}}function Mn(t,e){if("scaleID"===e)return!0;const n=e.charAt(0);for(const o of["Min","Max","Value"])if(O(t[n+o]))return!0;return!1}function Tn(t,e,n,o){for(const i of n){const n=t[i];if(O(n)){const t=e.parse(n);o.min=Math.min(o.min,t),o.max=Math.max(o.max,t)}}}class Cn extends I{inRange(t,e,n,o){const{x:i,y:r}=ye({x:t,y:e},this.getCenterPoint(o),R(-this.options.rotation));return Te({x:i,y:r},this.getProps(["x","y","x2","y2"],o),n,this.options)}getCenterPoint(t){return Se(this,t)}draw(t){t.save(),Ve(t,this.getCenterPoint(),this.options.rotation),Be(t,this,this.options),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return ln(t,e)}}Cn.id="boxAnnotation",Cn.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Cn.defaultRoutes={borderColor:"color",backgroundColor:"color"},Cn.descriptors={label:{_fallback:!0}};class Sn extends I{inRange(t,e,n,o){return Ce({x:t,y:e},{rect:this.getProps(["x","y","x2","y2"],o),center:this.getCenterPoint(o)},n,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(t){return Se(this,t)}draw(t){const e=this.options;e.display&&e.content&&(!function(t,e){const{_centerX:n,_centerY:o,_radius:i,_startAngle:r,_endAngle:a,_counterclockwise:s,options:l}=e;t.save();const c=Ze(t,l);t.fillStyle=l.backgroundColor,t.beginPath(),t.arc(n,o,i,r,a,s),t.closePath(),t.fill(),c&&t.stroke();t.restore()}(t,this),t.save(),Ve(t,this.getCenterPoint(),this.rotation),$e(t,this,e,this._fitRatio),t.restore())}resolveElementProperties(t,e){const n=function(t,e){return t.getSortedVisibleDatasetMetas().reduce((function(n,o){const i=o.controller;return i instanceof z&&function(t,e,n){if(!e.autoHide)return!0;for(let o=0;o<n.length;o++)if(!n[o].hidden&&t.getDataVisibility(o))return!0}(t,e,o.data)&&(!n||i.innerRadius<n.controller.innerRadius)&&i.options.circumference>=90?o:n}),void 0)}(t,e);if(!n)return{};const{controllerMeta:o,point:i,radius:r}=function({chartArea:t},e,n){const{left:o,top:i,right:r,bottom:a}=t,{innerRadius:s,offsetX:l,offsetY:c}=n.controller,u=(o+r)/2+l,d=(i+a)/2+c,h={left:Math.max(u-s,o),right:Math.min(u+s,r),top:Math.max(d-s,i),bottom:Math.min(d+s,a)},p={x:(h.left+h.right)/2,y:(h.top+h.bottom)/2},f=e.spacing+e.borderWidth/2,m=s-f,g=p.y>d,v=function(t,e,n,o){const i=Math.pow(n-t,2),r=Math.pow(o,2),a=-2*e,s=Math.pow(e,2)+i-r,l=Math.pow(a,2)-4*s;if(l<=0)return{_startAngle:0,_endAngle:j};const c=(-a-Math.sqrt(l))/2,u=(-a+Math.sqrt(l))/2;return{_startAngle:Y({x:e,y:n},{x:c,y:t}).angle,_endAngle:Y({x:e,y:n},{x:u,y:t}).angle}}(g?i+f:a-f,u,d,m);return{controllerMeta:{_centerX:u,_centerY:d,_radius:m,_counterclockwise:g,...v},point:p,radius:Math.min(s,Math.min(h.right-h.left,h.bottom-h.top)/2)}}(t,e,n);let a=qe(t.ctx,e);const s=function({width:t,height:e},n){const o=Math.sqrt(Math.pow(t,2)+Math.pow(e,2));return 2*n/o}(a,r);je(e,s)&&(a={width:a.width*s,height:a.height*s});const{position:l,xAdjust:c,yAdjust:u}=e,d=Re(i,a,{borderWidth:0,position:l,xAdjust:c,yAdjust:u});return{initProperties:We(t,d,e),...d,...o,rotation:e.rotation,_fitRatio:s}}}Sn.id="doughnutLabelAnnotation",Sn.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},Sn.defaultRoutes={};class kn extends I{inRange(t,e,n,o){return Ce({x:t,y:e},{rect:this.getProps(["x","y","x2","y2"],o),center:this.getCenterPoint(o)},n,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(t){return Se(this,t)}draw(t){const e=this.options,n=!O(this._visible)||this._visible;e.display&&e.content&&n&&(t.save(),Ve(t,this.getCenterPoint(),this.rotation),Ge(t,this),Be(t,this,e),$e(t,function({x:t,y:e,width:n,height:o,options:i}){const r=i.borderWidth/2,a=X(i.padding);return{x:t+a.left+r,y:e+a.top+r,width:n-a.left-a.right-i.borderWidth,height:o-a.top-a.bottom-i.borderWidth}}(this),e),t.restore())}resolveElementProperties(t,e){let n;if(Xe(e))n=on(t,e);else{const{centerX:o,centerY:i}=rn(t,e);n={x:o,y:i}}const o=X(e.padding),i=Re(n,qe(t.ctx,e),e,o);return{initProperties:We(t,i,e),pointX:n.x,pointY:n.y,...i,rotation:e.rotation}}}kn.id="labelAnnotation",kn.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},kn.defaultRoutes={borderColor:"color"};const Pn=(t,e,n)=>({x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}),Dn=(t,e,n)=>Pn(e,n,Math.abs((t-e.y)/(n.y-e.y))).x,An=(t,e,n)=>Pn(e,n,Math.abs((t-e.x)/(n.x-e.x))).y,En=t=>t*t,On=(t,e,n,o)=>(1-o)*(1-o)*t+2*(1-o)*o*e+o*o*n,In=(t,e,n,o)=>({x:On(t.x,e.x,n.x,o),y:On(t.y,e.y,n.y,o)}),Rn=(t,e,n,o)=>2*(1-o)*(e-t)+2*o*(n-e),zn=(t,e,n,o)=>-Math.atan2(Rn(t.x,e.x,n.x,o),Rn(t.y,e.y,n.y,o))+.5*L;class jn extends I{inRange(t,e,n,o){const i=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n){const n={mouseX:t,mouseY:e},{path:r,ctx:a}=this;if(r){Ze(a,this.options),a.lineWidth+=this.options.hitTolerance;const{chart:i}=this.$context,s=t*i.currentDevicePixelRatio,l=e*i.currentDevicePixelRatio,c=a.isPointInStroke(r,s,l)||_n(this,n,o);return a.restore(),c}return function(t,{mouseX:e,mouseY:n},o=.001,i){const{x:r,y:a,x2:s,y2:l}=t.getProps(["x","y","x2","y2"],i),c=s-r,u=l-a,d=En(c)+En(u),h=0===d?-1:((e-r)*c+(n-a)*u)/d;let p,f;h<0?(p=r,f=a):h>1?(p=s,f=l):(p=r+h*c,f=a+h*u);return En(e-p)+En(n-f)<=o}(this,n,En(i),o)||_n(this,n,o)}return function(t,{mouseX:e,mouseY:n},o,{hitSize:i,useFinalPosition:r}){const a=((t,e,{x:n,y:o,x2:i,y2:r},a)=>"y"===a?{start:Math.min(o,r),end:Math.max(o,r),value:e}:{start:Math.min(n,i),end:Math.max(n,i),value:t})(e,n,t.getProps(["x","y","x2","y2"],r),o);return we(a,i)||_n(t,{mouseX:e,mouseY:n},r,o)}(this,{mouseX:t,mouseY:e},n,{hitSize:i,useFinalPosition:o})}getCenterPoint(t){return Se(this,t)}draw(t){const{x:e,y:n,x2:o,y2:i,cp:r,options:a}=this;if(t.save(),!Ze(t,a))return t.restore();Ue(t,a);const s=Math.sqrt(Math.pow(o-e,2)+Math.pow(i-n,2));if(a.curve&&r)return function(t,e,n,o){const{x:i,y:r,x2:a,y2:s,options:l}=e,{startOpts:c,endOpts:u,startAdjust:d,endAdjust:h}=Hn(e),p={x:i,y:r},f={x:a,y:s},m=zn(p,n,f,0),g=zn(p,n,f,1)-L,v=In(p,n,f,d/o),y=In(p,n,f,1-h/o),x=new Path2D;t.beginPath(),x.moveTo(v.x,v.y),x.quadraticCurveTo(n.x,n.y,y.x,y.y),t.shadowColor=l.borderShadowColor,t.stroke(x),e.path=x,e.ctx=t,Vn(t,v,{angle:m,adjust:d},c),Vn(t,y,{angle:g,adjust:h},u)}(t,this,r,s),t.restore();const{startOpts:l,endOpts:c,startAdjust:u,endAdjust:d}=Hn(this),h=Math.atan2(i-n,o-e);t.translate(e,n),t.rotate(h),t.beginPath(),t.moveTo(0+u,0),t.lineTo(s-d,0),t.shadowColor=a.borderShadowColor,t.stroke(),Fn(t,0,u,l),Fn(t,s,-d,c),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){const n=sn(t,e),{x:o,y:i,x2:r,y2:a}=n,s=function({x:t,y:e,x2:n,y2:o},{top:i,right:r,bottom:a,left:s}){return!(t<s&&n<s||t>r&&n>r||e<i&&o<i||e>a&&o>a)}(n,t.chartArea),l=s?function(t,e,n){const{x:o,y:i}=Xn(t,e,n),{x:r,y:a}=Xn(e,t,n);return{x:o,y:i,x2:r,y2:a,width:Math.abs(r-o),height:Math.abs(a-i)}}({x:o,y:i},{x:r,y:a},t.chartArea):{x:o,y:i,x2:r,y2:a,width:Math.abs(r-o),height:Math.abs(a-i)};if(l.centerX=(r+o)/2,l.centerY=(a+i)/2,l.initProperties=We(t,l,e),e.curve){const t={x:l.x,y:l.y},n={x:l.x2,y:l.y2};l.cp=function(t,e,n){const{x:o,y:i,x2:r,y2:a,centerX:s,centerY:l}=t,c=Math.atan2(a-i,r-o),u=ze(e.controlPoint,0);return ye({x:s+Ie(n,u.x,!1),y:l+Ie(n,u.y,!1)},{x:s,y:l},c)}(l,e,_(t,n))}const c=function(t,e,n){const o=n.borderWidth,i=X(n.padding),r=qe(t.ctx,n),a=r.width+i.width+o,s=r.height+i.height+o;return function(t,e,n,o){const{width:i,height:r,padding:a}=n,{xAdjust:s,yAdjust:l}=e,c={x:t.x,y:t.y},u={x:t.x2,y:t.y2},d="auto"===e.rotation?function(t){const{x:e,y:n,x2:o,y2:i}=t,r=Math.atan2(i-n,o-e);return r>L/2?r-L:r<L/-2?r+L:r}(t):R(e.rotation),h=function(t,e,n){const o=Math.cos(n),i=Math.sin(n);return{w:Math.abs(t*o)+Math.abs(e*i),h:Math.abs(t*i)+Math.abs(e*o)}}(i,r,d),p=function(t,e,n,o){let i;const r=function(t,e){const{x:n,x2:o,y:i,y2:r}=t,a=Math.min(i,r)-e.top,s=Math.min(n,o)-e.left,l=e.bottom-Math.max(i,r),c=e.right-Math.max(n,o);return{x:Math.min(s,c),y:Math.min(a,l),dx:s<=c?1:-1,dy:a<=l?1:-1}}(t,o);i="start"===e.position?Wn({w:t.x2-t.x,h:t.y2-t.y},n,e,r):"end"===e.position?1-Wn({w:t.x-t.x2,h:t.y-t.y2},n,e,r):Oe(1,e.position);return i}(t,e,{labelSize:h,padding:a},o),f=t.cp?In(c,t.cp,u,p):Pn(c,u,p),m={size:h.w,min:o.left,max:o.right,padding:a.left},g={size:h.h,min:o.top,max:o.bottom,padding:a.top},v=Ln(f.x,m)+s,y=Ln(f.y,g)+l;return{x:v-i/2,y:y-r/2,x2:v+i/2,y2:y+r/2,centerX:v,centerY:y,pointX:f.x,pointY:f.y,width:i,height:r,rotation:W(d)}}(e,n,{width:a,height:s,padding:i},t.chartArea)}(t,l,e.label);return c._visible=s,l.elements=[{type:"label",optionScope:"label",properties:c,initProperties:l.initProperties}],l}}jn.id="lineAnnotation";const Yn={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};function Xn({x:t,y:e},n,{top:o,right:i,bottom:r,left:a}){return t<a&&(e=An(a,{x:t,y:e},n),t=a),t>i&&(e=An(i,{x:t,y:e},n),t=i),e<o&&(t=Dn(o,{x:t,y:e},n),e=o),e>r&&(t=Dn(r,{x:t,y:e},n),e=r),{x:t,y:e}}function _n(t,{mouseX:e,mouseY:n},o,i){const r=t.label;return r.options.display&&r.inRange(e,n,i,o)}function Wn(t,e,n,o){const{labelSize:i,padding:r}=e,a=t.w*o.dx,s=t.h*o.dy,l=a>0&&(i.w/2+r.left-o.x)/a,c=s>0&&(i.h/2+r.top-o.y)/s;return be(Math.max(l,c),0,.25)}function Ln(t,e){const{size:n,min:o,max:i,padding:r}=e,a=n/2;return n>i-o?(i+o)/2:(o>=t-r-a&&(t=o+r+a),i<=t+r+a&&(t=i-r-a),t)}function Hn(t){const e=t.options,n=e.arrowHeads&&e.arrowHeads.start,o=e.arrowHeads&&e.arrowHeads.end;return{startOpts:n,endOpts:o,startAdjust:Nn(t,n),endAdjust:Nn(t,o)}}function Nn(t,e){if(!e||!e.display)return 0;const{length:n,width:o}=e,i=t.options.borderWidth/2,r={x:n,y:o+i},a={x:0,y:i};return Math.abs(Dn(0,r,a))}function Fn(t,e,n,o){if(!o||!o.display)return;const{length:i,width:r,fill:a,backgroundColor:s,borderColor:l}=o,c=Math.abs(e-i)+n;t.beginPath(),Ue(t,o),Ze(t,o),t.moveTo(c,-r),t.lineTo(e+n,0),t.lineTo(c,r),!0===a?(t.fillStyle=s||l,t.closePath(),t.fill(),t.shadowColor="transparent"):t.shadowColor=o.borderShadowColor,t.stroke()}function Vn(t,{x:e,y:n},{angle:o,adjust:i},r){r&&r.display&&(t.save(),t.translate(e,n),t.rotate(o),Fn(t,0,-i,r),t.restore())}jn.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},Yn),fill:!1,length:12,start:Object.assign({},Yn),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},kn.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},jn.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},jn.defaultRoutes={borderColor:"color"};class Zn extends I{inRange(t,e,n,o){const i=this.options.rotation,r=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n)return function(t,e,n,o){const{width:i,height:r,centerX:a,centerY:s}=e,l=i/2,c=r/2;if(l<=0||c<=0)return!1;const u=R(n||0),d=Math.cos(u),h=Math.sin(u),p=Math.pow(d*(t.x-a)+h*(t.y-s),2),f=Math.pow(h*(t.x-a)-d*(t.y-s),2);return p/Math.pow(l+o,2)+f/Math.pow(c+o,2)<=1.0001}({x:t,y:e},this.getProps(["width","height","centerX","centerY"],o),i,r);const{x:a,y:s,x2:l,y2:c}=this.getProps(["x","y","x2","y2"],o),u="y"===n?{start:s,end:c}:{start:a,end:l},d=ye({x:t,y:e},this.getCenterPoint(o),R(-i));return d[n]>=u.start-r-.001&&d[n]<=u.end+r+.001}getCenterPoint(t){return Se(this,t)}draw(t){const{width:e,height:n,centerX:o,centerY:i,options:r}=this;t.save(),Ve(t,this.getCenterPoint(),r.rotation),Ue(t,this.options),t.beginPath(),t.fillStyle=r.backgroundColor;const a=Ze(t,r);t.ellipse(o,i,n/2,e/2,L/2,0,2*L),t.fill(),a&&(t.shadowColor=r.borderShadowColor,t.stroke()),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return ln(t,e)}}Zn.id="ellipseAnnotation",Zn.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},Cn.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Zn.defaultRoutes={borderColor:"color",backgroundColor:"color"},Zn.descriptors={label:{_fallback:!0}};class Un extends I{inRange(t,e,n,o){const{x:i,y:r,x2:a,y2:s,width:l}=this.getProps(["x","y","x2","y2","width"],o),c=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n)return function(t,e,n,o){return!(!t||!e||n<=0)&&Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(n+o,2)}({x:t,y:e},this.getCenterPoint(o),l/2,c);return we("y"===n?{start:r,end:s,value:e}:{start:i,end:a,value:t},c)}getCenterPoint(t){return Se(this,t)}draw(t){const e=this.options,n=e.borderWidth;if(e.radius<.1)return;t.save(),t.fillStyle=e.backgroundColor,Ue(t,e);const o=Ze(t,e);Je(t,this,this.centerX,this.centerY),o&&!Fe(e.pointStyle)&&(t.shadowColor=e.borderShadowColor,t.stroke()),t.restore(),e.borderWidth=n}resolveElementProperties(t,e){const n=an(t,e);return n.initProperties=We(t,n,e),n}}Un.id="pointAnnotation",Un.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Un.defaultRoutes={borderColor:"color",backgroundColor:"color"};class qn extends I{inRange(t,e,n,o){if("x"!==n&&"y"!==n)return this.options.radius>=.1&&this.elements.length>1&&function(t,e,n,o){let i=!1,r=t[t.length-1].getProps(["bX","bY"],o);for(const a of t){const t=a.getProps(["bX","bY"],o);t.bY>n!=r.bY>n&&e<(r.bX-t.bX)*(n-t.bY)/(r.bY-t.bY)+t.bX&&(i=!i),r=t}return i}(this.elements,t,e,o);const i=ye({x:t,y:e},this.getCenterPoint(o),R(-this.options.rotation)),r=this.elements.map((t=>"y"===n?t.bY:t.bX)),a=Math.min(...r),s=Math.max(...r);return i[n]>=a&&i[n]<=s}getCenterPoint(t){return Se(this,t)}draw(t){const{elements:e,options:n}=this;t.save(),t.beginPath(),t.fillStyle=n.backgroundColor,Ue(t,n);const o=Ze(t,n);let i=!0;for(const r of e)i?(t.moveTo(r.x,r.y),i=!1):t.lineTo(r.x,r.y);t.closePath(),t.fill(),o&&(t.shadowColor=n.borderShadowColor,t.stroke()),t.restore()}resolveElementProperties(t,e){const n=an(t,e),{sides:o,rotation:i}=e,r=[],a=2*L/o;let s=i*B;for(let l=0;l<o;l++,s+=a){const o=Bn(n,e,s);o.initProperties=We(t,n,e),r.push(o)}return n.elements=r,n}}function Bn({centerX:t,centerY:e},{radius:n,borderWidth:o,hitTolerance:i},r){const a=(o+i)/2,s=Math.sin(r),l=Math.cos(r),c={x:t+s*n,y:e-l*n};return{type:"point",optionScope:"point",properties:{x:c.x,y:c.y,centerX:c.x,centerY:c.y,bX:t+s*(n+a),bY:e-l*(n+a)}}}qn.id="polygonAnnotation",qn.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},qn.defaultRoutes={borderColor:"color",backgroundColor:"color"};const $n={box:Cn,doughnutLabel:Sn,ellipse:Zn,label:kn,line:jn,point:Un,polygon:qn};Object.keys($n).forEach((t=>{T.describe(`elements.${$n[t].id}`,{_fallback:"plugins.annotation.common"})}));const Jn={update:Object.assign},Kn=pn.concat(vn),Gn=(t,e)=>S(e)?ao(t,e):t,Qn=t=>"color"===t||"font"===t;function to(t="line"){return $n[t]?t:"line"}function eo(t,e,n,o){const i=function(t,e,n){if("reset"===n||"none"===n||"resize"===n)return Jn;return new H(t,e)}(t,n.animations,o),r=e.annotations,a=function(t,e){const n=e.length,o=t.length;if(o<n){const e=n-o;t.splice(o,0,...new Array(e))}else o>n&&t.splice(n,o-n);return t}(e.elements,r);for(let s=0;s<r.length;s++){const e=r[s],n=io(a,s,e.type),o=e.setContext(so(t,n,a,e)),l=n.resolveElementProperties(t,o);l.skip=no(l),"elements"in l&&(oo(n,l.elements,o,i),delete l.elements),O(n.x)||Object.assign(n,l),Object.assign(n,l.initProperties),l.options=ro(o),i.update(n,l)}}function no(t){return isNaN(t.x)||isNaN(t.y)}function oo(t,e,n,o){const i=t.elements||(t.elements=[]);i.length=e.length;for(let r=0;r<e.length;r++){const t=e[r],a=t.properties,s=io(i,r,t.type,t.initProperties),l=n[t.optionScope].override(t);a.options=ro(l),o.update(s,a)}}function io(t,e,n,o){const i=$n[to(n)];let r=t[e];return r&&r instanceof i||(r=t[e]=new i,Object.assign(r,o)),r}function ro(t){const e=$n[to(t.type)],n={};n.id=t.id,n.type=t.type,n.drawTime=t.drawTime,Object.assign(n,ao(t,e.defaults),ao(t,e.defaultRoutes));for(const o of Kn)n[o]=t[o];return n}function ao(t,e){const n={};for(const o of Object.keys(e)){const i=e[o],r=t[o];Qn(o)&&k(r)?n[o]=r.map((t=>Gn(t,i))):n[o]=Gn(r,i)}return n}function so(t,e,n,o){return e.$context||(e.$context=Object.assign(Object.create(t.getContext()),{element:e,get elements(){return n.filter((t=>t&&t.options))},id:o.id,type:"annotation"}))}const lo=new Map,co=t=>"doughnutLabel"!==t.type,uo=pn.concat(vn);var ho={id:"annotation",version:"3.1.0",beforeRegister(){!function(t,e,n,o=!0){const i=n.split(".");let r=0;for(const a of e.split(".")){const s=i[r++];if(parseInt(a,10)<parseInt(s,10))break;if(xe(s,a)){if(o)throw new Error(`${t} v${n} is not supported. v${e} or newer is required.`);return!1}}}("chart.js","4.0",C.version)},afterRegister(){C.register($n)},afterUnregister(){C.unregister($n)},beforeInit(t){lo.set(t,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(t,e,n){const o=lo.get(t).annotations=[];let i=n.annotations;S(i)?Object.keys(i).forEach((t=>{const e=i[t];S(e)&&(e.id=t,o.push(e))})):k(i)&&o.push(...i),function(t,e){for(const n of t)wn(n,e)}(o.filter(co),t.scales)},afterDataLimits(t,e){const n=lo.get(t);xn(t,e.scale,n.annotations.filter(co).filter((t=>t.display&&t.adjustScaleRange)))},afterUpdate(t,e,n){const o=lo.get(t);!function(t,e,n){e.listened=Le(n,pn,e.listeners),e.moveListened=!1,hn.forEach((t=>{A(n[t])&&(e.moveListened=!0)})),e.listened&&e.moveListened||e.annotations.forEach((t=>{!e.listened&&A(t.click)&&(e.listened=!0),e.moveListened||hn.forEach((n=>{A(t[n])&&(e.listened=!0,e.moveListened=!0)}))}))}(0,o,n),eo(t,o,n,e.mode),o.visibleElements=o.elements.filter((t=>!t.skip&&t.options.display)),function(t,e,n){const o=e.visibleElements;e.hooked=Le(n,vn,e.hooks),e.hooked||o.forEach((t=>{e.hooked||vn.forEach((n=>{A(t.options[n])&&(e.hooked=!0)}))}))}(0,o,n)},beforeDatasetsDraw(t,e,n){po(t,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(t,e,n){po(t,"afterDatasetsDraw",n.clip)},beforeDatasetDraw(t,e,n){po(t,e.index,n.clip)},beforeDraw(t,e,n){po(t,"beforeDraw",n.clip)},afterDraw(t,e,n){po(t,"afterDraw",n.clip)},beforeEvent(t,e,n){fn(lo.get(t),e.event,n)&&(e.changed=!0)},afterDestroy(t){lo.delete(t)},getAnnotations(t){const e=lo.get(t);return e?e.elements:[]},_getAnnotationElementsAtEventForMode:(t,e,n)=>ge(t,e,n),defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:t=>!uo.includes(t)&&"init"!==t,annotations:{_allKeys:!1,_fallback:(t,e)=>`elements.${$n[to(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:Qn,_fallback:!0},_indexable:Qn}},additionalOptionScopes:[""]};function po(t,e,n){const{ctx:o,chartArea:i}=t,r=lo.get(t);n&&P(o,i);const a=function(t,e){const n=[];for(const o of t)if(o.options.drawTime===e&&n.push({element:o,main:!0}),o.elements&&o.elements.length)for(const t of o.elements)t.options.display&&t.options.drawTime===e&&n.push({element:t});return n}(r.visibleElements,e).sort(((t,e)=>t.element.options.z-e.element.options.z));for(const s of a)fo(o,i,r,s);n&&D(o)}function fo(t,e,n,o){const i=o.element;o.main?(yn(n,i,"beforeDraw"),i.draw(t,e),yn(n,i,"afterDraw")):i.draw(t,e)}const mo={class:"complex-dashboard"},go={class:"dashboard-header"},vo={class:"dashboard-controls"},yo={class:"device-status-bar"},xo=["onClick"],bo={class:"dashboard-grid"},wo={class:"chart-panel large-panel"},Mo={class:"panel-header"},To={class:"panel-controls"},Co={class:"chart-panel medium-panel"},So={class:"gauge-grid"},ko={class:"chart-panel medium-panel"},Po={class:"chart-panel large-panel"},Do={class:"panel-header"},Ao={class:"panel-controls"},Eo={class:"chart-panel small-panel alerts-panel"},Oo={class:"alerts-list"},Io={class:"alert-icon"},Ro={class:"alert-content"},zo={class:"chart-panel small-panel export-panel"},jo={class:"stats-grid"},Yo={class:"stat-item"},Xo={class:"stat-value"},_o={class:"stat-item"},Wo={class:"stat-value"},Lo={class:"stat-item"},Ho={class:"stat-value"},No={class:"stat-item"},Fo={class:"stat-value"};var Vo=dt(t({__name:"ChartJsDashboard",setup(t){C.register(J,K,z,G,Q,tt,et,nt,ot,it,rt,at,st,lt,ct,ut,fe,ho);const g=e("1h"),v=e(!1),y=e([]),x=e("1h"),b=e(Date.now()),w=e(),M=e(),T=e(),S=e({});let k=null,P=null,D=null,A={};const E=e([{id:1,name:"HVAC-01",status:"online",sensors:["temperature","humidity","pressure"],location:"Floor 1"},{id:2,name:"HVAC-02",status:"online",sensors:["temperature","humidity"],location:"Floor 2"},{id:3,name:"AQ-Monitor",status:"warning",sensors:["co2","temperature","pressure"],location:"Lobby"},{id:4,name:"Climate-Ctrl",status:"online",sensors:["temperature","humidity","pressure"],location:"Server Room"}]),O=e([]),I=e([{id:"1",device:"HVAC-01",type:"temperature",severity:"medium",message:"Temperature above normal range (28.5C)",timestamp:new Date(Date.now()-12e4)},{id:"2",device:"AQ-Monitor",type:"system",severity:"low",message:"Sensor calibration due in 7 days",timestamp:new Date(Date.now()-3e5)}]),R=n((()=>y.value.length>0?E.value.filter((t=>y.value.includes(t.id))):E.value)),j=n((()=>E.value.filter((t=>"online"===t.status)).length)),Y=n((()=>E.value.reduce(((t,e)=>t+e.sensors.length),0))),X=n((()=>v.value?Y.value:0));let _=null;const W=(t,e=1)=>{const n=[[31,119,180],[255,127,14],[44,160,44],[214,39,40],[148,103,189],[140,86,75],[227,119,194],[127,127,127]],[o,i,r]=n[t%n.length];return e<1?`rgba(${o}, ${i}, ${r}, ${e})`:`rgb(${o}, ${i}, ${r})`},L=t=>t<30?"#ff6b6b":t<40?"#ffa726":t<=60?"#66bb6a":t<=70?"#ffa726":"#ff6b6b",H=(t,e)=>{const n=O.value.filter((n=>n.deviceId===t&&n.sensor===e)).sort(((t,e)=>e.timestamp.getTime()-t.timestamp.getTime()));return n.length>0?n[0].value:0},N=t=>{const e=O.value.filter((e=>e.deviceId===t&&"temperature"===e.sensor)),n=O.value.filter((e=>e.deviceId===t&&"pressure"===e.sensor)),o=[],i=F(x.value),r=Date.now()-i;return e.forEach((t=>{if(t.timestamp.getTime()<r)return;const e=n.find((e=>Math.abs(e.timestamp.getTime()-t.timestamp.getTime())<6e4));e&&o.push({x:t.value,y:e.value})})),o.slice(-50)},F=t=>{switch(t){case"1h":default:return 36e5;case"6h":return 216e5;case"24h":return 864e5}},V=(t,e)=>{let n,o;switch(e){case"temperature":n=20+10*Math.random()+3*Math.sin(Date.now()/6e4),o="C";break;case"humidity":n=45+20*Math.random()+10*Math.sin(Date.now()/12e4),o="%";break;case"pressure":n=1e3+20*Math.random()+5*Math.sin(Date.now()/18e4),o="kPa";break;case"co2":n=400+200*Math.random(),o="ppm";break;default:n=100*Math.random(),o=""}return{deviceId:t,sensor:e,value:n,timestamp:new Date,unit:o}},Z=()=>{v.value?q():U()},U=()=>{_||(v.value=!0,_=setInterval((()=>{R.value.forEach((t=>{t.sensors.forEach((e=>{const n=V(t.id,e);if(O.value.push(n),"temperature"===e&&k){const e=R.value.findIndex((e=>e.id===t.id));e>=0&&k.data.datasets[e]&&(k.data.datasets[e].data.push({x:n.timestamp.getTime(),y:n.value}),k.data.datasets[e].data.length>100&&k.data.datasets[e].data.shift())}"humidity"===e&&A[t.id]&&(A[t.id].data.datasets[0].data=[n.value,100-n.value],A[t.id].data.datasets[0].backgroundColor=[L(n.value),"rgba(200, 200, 200, 0.2)"],A[t.id].update("none"))}))})),k&&k.update("none"),O.value.length>1e3*E.value.length&&(O.value=O.value.slice(500*-E.value.length))}),1e3))},q=()=>{v.value=!1,_&&(clearInterval(_),_=null)},B=()=>{},$=()=>{D&&(D.data.datasets=R.value.map(((t,e)=>({label:t.name,data:N(t.id),backgroundColor:W(e,.6),borderColor:W(e),pointRadius:4,pointHoverRadius:8}))),D.update())},dt=()=>{const t={timestamp:(new Date).toISOString(),devices:E.value,readings:O.value.slice(-100),alerts:I.value},e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(n),i=document.createElement("a");i.href=o,i.download=`t3000-dashboard-${(new Date).toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(o)},ht=t=>{switch(t){case"temperature":return"";case"humidity":return"";case"pressure":return"";case"system":return"";default:return""}},pt=t=>{const e=Date.now()-t;return`${Math.floor(e/36e5)}h ${Math.floor(e%36e5/6e4)}m`};let ft=null;o(y,(async()=>{ft&&clearTimeout(ft),ft=setTimeout((async()=>{await m(),gt(),mt()}),100)}),{deep:!0});const mt=async()=>{await m(),(()=>{if(!w.value)return;k&&(k.destroy(),k=null);const t=w.value.getContext("2d");t&&(k=new C(t,{type:"line",data:{datasets:R.value.map(((t,e)=>({label:t.name,data:[],borderColor:W(e),backgroundColor:W(e,.1),tension:.4,pointRadius:2,pointHoverRadius:6,borderWidth:2})))},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{title:{display:!1},legend:{position:"top",labels:{usePointStyle:!0,padding:20}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1},zoom:{pan:{enabled:!0,mode:"x"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"}}},scales:{x:{type:"time",time:{displayFormats:{minute:"HH:mm",hour:"HH:mm"}},title:{display:!0,text:"Time"}},y:{title:{display:!0,text:"Temperature (C)"},grid:{color:"rgba(0, 0, 0, 0.1)"}}},animation:{duration:300}}}))})(),R.value.forEach(((t,e)=>{const n=S.value[t.id];if(!n)return;A[t.id]&&(A[t.id].destroy(),delete A[t.id]);const o=n.getContext("2d");if(!o)return;const i=H(t.id,"humidity");A[t.id]=new C(o,{type:"doughnut",data:{datasets:[{data:[i,100-i],backgroundColor:[L(i),"rgba(200, 200, 200, 0.2)"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"75%",plugins:{legend:{display:!1},tooltip:{enabled:!1}}},plugins:[{id:"centerText",beforeDraw:e=>{const n=e.ctx,o=e.width,r=e.height;n.restore(),n.font="bold 16px Arial",n.textAlign="center",n.textBaseline="middle",n.fillStyle="#333";const a=`${i.toFixed(1)}%`,s=t.name;n.fillText(a,o/2,r/2-10),n.font="12px Arial",n.fillText(s,o/2,r/2+15),n.save()}}]})})),(()=>{if(!M.value)return;P&&(P.destroy(),P=null);const t=M.value.getContext("2d");if(!t)return;const e=R.value.map((t=>({device:t.name,cpu:100*Math.random(),memory:100*Math.random(),network:100*Math.random()})));P=new C(t,{type:"bar",data:{labels:e.map((t=>t.device)),datasets:[{label:"CPU Usage %",data:e.map((t=>t.cpu)),backgroundColor:"rgba(54, 162, 235, 0.7)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Memory Usage %",data:e.map((t=>t.memory)),backgroundColor:"rgba(255, 99, 132, 0.7)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1},{label:"Network I/O %",data:e.map((t=>t.network)),backgroundColor:"rgba(75, 192, 192, 0.7)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Usage %"}}}}})})(),(()=>{if(!T.value)return;D&&(D.destroy(),D=null);const t=T.value.getContext("2d");t&&(D=new C(t,{type:"scatter",data:{datasets:R.value.map(((t,e)=>({label:t.name,data:N(t.id),backgroundColor:W(e,.6),borderColor:W(e),pointRadius:4,pointHoverRadius:8})))},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},zoom:{pan:{enabled:!0,mode:"xy"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"}}},scales:{x:{title:{display:!0,text:"Temperature (C)"},grid:{color:"rgba(0, 0, 0, 0.1)"}},y:{title:{display:!0,text:"Pressure (kPa)"},grid:{color:"rgba(0, 0, 0, 0.1)"}}}}}))})()},gt=()=>{try{k&&(k.destroy(),k=null),P&&(P.destroy(),P=null),D&&(D.destroy(),D=null),Object.values(A).forEach((t=>{t&&t.destroy()})),A={}}catch(t){}};return i((async()=>{y.value=E.value.map((t=>t.id)),E.value.forEach((t=>{t.sensors.forEach((e=>{for(let n=0;n<50;n++){const o=V(t.id,e);o.timestamp=new Date(Date.now()-3e4*(50-n)),O.value.push(o)}}))})),await mt(),U()})),r((()=>{ft&&clearTimeout(ft),_&&clearInterval(_),q(),gt()})),(t,e)=>(a(),s("div",mo,[l("div",go,[e[5]||(e[5]=l("h1",null,"T3000 Complex Dashboard - Chart.js Implementation",-1)),l("div",vo,[c(l("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>g.value=t),onChange:B},[...e[4]||(e[4]=[l("option",{value:"5m"},"Last 5 minutes",-1),l("option",{value:"1h"},"Last hour",-1),l("option",{value:"24h"},"Last 24 hours",-1)])],544),[[u,g.value]]),l("button",{onClick:Z,class:d([{active:v.value},"stream-button"])},h(v.value?" Pause":" Start")+" Real-time ",3),l("button",{onClick:dt,class:"export-button"},"  Export ")])]),l("div",yo,[(a(!0),s(p,null,f(E.value,(t=>(a(),s("div",{key:t.id,class:d(["device-status",{active:y.value.includes(t.id)}]),onClick:e=>(t=>{const e=y.value.indexOf(t);e>-1?y.value.splice(e,1):y.value.push(t)})(t.id)},[l("div",{class:d(["status-indicator",t.status])},null,2),l("span",null,h(t.name),1),l("small",null,h(t.sensors.length)+" sensors",1)],10,xo)))),128))]),l("div",bo,[l("div",wo,[l("div",Mo,[e[6]||(e[6]=l("h3",null," Temperature Trends",-1)),l("div",To,[l("button",{onClick:e[1]||(e[1]=t=>(t=>{switch(t){case"temperature":null==k||k.resetZoom();break;case"scatter":null==D||D.resetZoom()}})("temperature")),title:"Reset Zoom"},""),l("button",{onClick:e[2]||(e[2]=t=>(t=>{var e;const n="temperature"===t?k:null;n&&(null==(e=n.options.plugins)?void 0:e.legend)&&(n.options.plugins.legend.display=!n.options.plugins.legend.display,n.update())})("temperature")),title:"Toggle Legend"},"")])]),l("canvas",{ref_key:"temperatureChart",ref:w,class:"chart-canvas"},null,512)]),l("div",Co,[e[7]||(e[7]=l("div",{class:"panel-header"},[l("h3",null," Humidity Levels")],-1)),l("div",So,[(a(!0),s(p,null,f(R.value,(t=>(a(),s("canvas",{key:`humidity-${t.id}`,ref_for:!0,ref:e=>S.value[t.id]=e,class:"gauge-canvas"})))),128))])]),l("div",ko,[e[8]||(e[8]=l("div",{class:"panel-header"},[l("h3",null," System Performance")],-1)),l("canvas",{ref_key:"performanceChart",ref:M,class:"chart-canvas"},null,512)]),l("div",Po,[l("div",Do,[e[10]||(e[10]=l("h3",null," Pressure vs Temperature Correlation",-1)),l("div",Ao,[c(l("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>x.value=t),onChange:$},[...e[9]||(e[9]=[l("option",{value:"1h"},"Last Hour",-1),l("option",{value:"6h"},"Last 6 Hours",-1),l("option",{value:"24h"},"Last 24 Hours",-1)])],544),[[u,x.value]])])]),l("canvas",{ref_key:"scatterChart",ref:T,class:"chart-canvas"},null,512)]),l("div",Eo,[e[11]||(e[11]=l("div",{class:"panel-header"},[l("h3",null," Active Alerts")],-1)),l("div",Oo,[(a(!0),s(p,null,f(I.value,(t=>{return a(),s("div",{key:t.id,class:d(["alert-item",t.severity])},[l("div",Io,h(ht(t.type)),1),l("div",Ro,[l("strong",null,h(t.device),1),l("p",null,h(t.message),1),l("small",null,h((e=t.timestamp,e.toLocaleTimeString())),1)])],2);var e})),128))])]),l("div",zo,[e[16]||(e[16]=l("div",{class:"panel-header"},[l("h3",null," Quick Stats")],-1)),l("div",jo,[l("div",Yo,[l("div",Xo,h(j.value),1),e[12]||(e[12]=l("div",{class:"stat-label"},"Active Devices",-1))]),l("div",_o,[l("div",Wo,h(Y.value),1),e[13]||(e[13]=l("div",{class:"stat-label"},"Sensors",-1))]),l("div",Lo,[l("div",Ho,h(X.value),1),e[14]||(e[14]=l("div",{class:"stat-label"},"Data Points/sec",-1))]),l("div",No,[l("div",Fo,h(pt(b.value)),1),e[15]||(e[15]=l("div",{class:"stat-label"},"System Uptime",-1))])])])])]))}}),[["__scopeId","data-v-7310214a"]]);export{Vo as default};

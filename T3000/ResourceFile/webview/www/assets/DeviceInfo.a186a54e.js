import{b as cb,bB as u1,af as vb,y as Qr,aL as db,d as tn,bC as pb,k as to,m as Ni,h as Pa,S as ai,f as gb,X as Te,g as mb,aE as yb,J as fi,o as Rt,K as Ke,W as Y,R as dr,a as nt,w as ot,P as se,c as Zt,a3 as Fe,Q as Wt,V as yn,N as la,O as wl,a4 as _b,a5 as xb,_ as h1,$ as f1,n as bb,a2 as Wr,ad as Rn,bq as qu,bp as Sd,bx as wb,L as c1,a6 as Sb,a0 as Mb,a1 as Cb,r as Ab,bD as Tb}from"./index.b8957d33.js";import{c as xf,Q as ii,a as Pe,b as Dt,d as dn,C as fe}from"./ClosePopup.4e63524f.js";import{f as bf,b as Ce,Q as or,c as ri,a as Ib}from"./QExpansionItem.b7a91c01.js";import{$ as Rr,a0 as J,a1 as de,a2 as Lb,a3 as v1,a4 as we,a5 as _e,a6 as d1,a7 as nu,a8 as Db,a9 as en,aa as Ot,ab as p1,ac as Sc,ad as Lt,ae as Sl,af as Md,ag as _t,ah as Je,ai as Pb,aj as wf,ak as iu,al as ca,am as g1,an as m1,ao as Cr,ap as Qe,aq as y1,ar as au,as as Mc,at as kb,au as _1,av as He,aw as Nn,ax as ou,ay as We,az as Sf,aA as Sr,aB as Cn,aC as ve,aD as va,aE as _r,aF as aa,aG as gl,aH as Eb,aI as Rb,aJ as oi,aK as Za,aL as lr,aM as Ae,aN as $t,aO as zb,aP as Ob,aQ as x1,aR as Nb,aS as Vb,aT as Cc,aU as ir,aV as Ye,aW as Ee,aX as Bb,aY as Si,aZ as Jn,a_ as Ko,a$ as Gb,b0 as Cd,b1 as Fb,b2 as b1,b3 as Se,b4 as Hb,b5 as $b,b6 as Ft,b7 as w1,b8 as S1,b9 as Xr,ba as Wb,bb as M1,bc as Ub,bd as Zb,be as qb,bf as su,bg as Yb,bh as Jo,bi as Xb,bj as ke,bk as jb,bl as Kb,bm as Jb,bn as Qb,bo as tw,bp as ew,bq as rw,br as C1,bs as Ac,bt as nw,bu as iw,bv as aw,bw as ow,bx as Dr,by as Ad,bz as sw,bA as Li,bB as ee,bC as Gr,bD as mr,bE as Td,bF as eo,bG as ro,bH as Fn,bI as Ar,bJ as vo,bK as Fr,bL as hr,bM as no,bN as po,bO as go,bP as io,bQ as oa,bR as Id,bS as Ld,bT as Ue,bU as Kn,bV as Dd,bW as jr,bX as Pd,bY as ar,bZ as Ml,b_ as ur,b$ as lw,c0 as lu,c1 as uw,c2 as uu,c3 as ba,c4 as kd,c5 as Cl,c6 as Al,c7 as hw,c8 as fw,c9 as Ed,ca as A1,cb as T1,cc as cw,cd as nn,ce as mo,cf as Ht,cg as ps,ch as Tc,ci as vw,cj as gs,ck as I1,cl as Pr,cm as An,cn as Be,co as dw,cp as Ic,cq as Lc,cr as pw,cs as Tl,ct as gw,cu as Yu,cv as mw,cw as hu,cx as Rd,cy as zd,cz as Mf,cA as yw,cB as Cf,cC as ao,cD as _w,cE as Di,cF as fu,cG as yo,cH as Vn,cI as Af,cJ as Hr,cK as pe,cL as xw,cM as Mn,cN as _o,cO as bw,cP as rn,cQ as fn,cR as ms,cS as L1,cT as On,cU as cu,cV as Od,cW as da,cX as D1,cY as zt,cZ as ww,c_ as Sw,c$ as Mw,d0 as Cw,d1 as vu,d2 as P1,d3 as pa,d4 as xo,d5 as k1,d6 as ga,d7 as oo,d8 as Dc,d9 as Pc,da as Aw,db as ys,dc as Tw,dd as Ur,de as kc,df as un,dg as E1,dh as R1,di as du,dj as Tf,dk as Iw,dl as z1,dm as si,dn as If,dp as Yr,dq as Ec,dr as Lw,ds as zr,dt as O1,du as Pi,dv as N1,dw as Nd,dx as Go,dy as Vd,dz as Dw,dA as Xu,dB as ju,dC as Pw,dE as qo,dF as Il,dG as Bd,dH as Ai,dI as _s,dJ as kw,dK as Ew,dL as qa,dM as Gd,dN as Rw,dO as Lf,dP as zw,dQ as V1,dR as Ow,dS as Nw,dT as Vw,dU as Bw,dV as pu,dW as B1,dX as Ti,dY as wn,dZ as Rc,d_ as Ka,d$ as Gw,e0 as Df,e1 as Ku,e2 as G1,e3 as pr,e4 as Ju,e5 as Fw,e6 as Hw,e7 as Fd,e8 as $w,e9 as Hd,ea as Ww,eb as Uw,ec as Zw,ed as Qo,ee as qw,ef as F1,eg as xs,eh as $d,ei as Yw,ej as H1,ek as Xw,el as $1,em as gu,en as W1,eo as jw,ep as U1,eq as Z1,er as Wd,es as Kw,et as Jw,eu as Qw,ev as tS,ew as eS,ex as Ud,ey as rS,ez as nS,eA as iS,eB as aS,eC as oS,eD as sS,eE as lS,eF as q1,eG as uS,eH as hS,eI as Y1,eJ as fS,eK as Zd,eL as X1,eM as cS,eN as vS,eO as j1,eP as K1,eQ as qs,eR as J1,eS as ml,eT as dS,eU as pS,eV as gS,eW as Ll,eX as mS,eY as yS,eZ as mu,e_ as _S,e$ as xS,f0 as bS,f1 as wS,f2 as qd,f3 as SS,f4 as Q1,f5 as MS,f6 as CS,f7 as AS,f8 as TS,f9 as IS,fa as Yd,fb as LS,O as DS,V as Ja,T as Xd,fc as Dl,fd as zc,fe as Qu,ff as PS,fg as kS,fh as ES,fi as RS,fj as zS,fk as OS,L as pn,fl as NS,fm as VS}from"./QTree.5744d4b3.js";import{Q as BS}from"./QToolbar.206a539a.js";import{u as ty}from"./api.5c0d92ff.js";import{t as ey,i as GS,s as jd}from"./common.92de8209.js";import{u as Kd,d as FS,c as th,F as HS,G as $S,p as WS,t as Jd,C as Qd}from"./T3Data.8df31f71.js";import{_ as wa}from"./plugin-vue_export-helper.21dcd24c.js";var US=function(){function r(t){this.coordSysDims=[],this.axisMap=de(),this.categoryAxisMap=de(),this.coordSysName=t}return r}();function ZS(r){var t=r.get("coordinateSystem"),e=new US(t),n=qS[t];if(n)return n(r,e,e.axisMap,e.categoryAxisMap),e}var qS={cartesian2d:function(r,t,e,n){var i=r.getReferringComponents("xAxis",Rr).models[0],a=r.getReferringComponents("yAxis",Rr).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",a),ka(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),ka(a)&&(n.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,n){var i=r.getReferringComponents("singleAxis",Rr).models[0];t.coordSysDims=["single"],e.set("single",i),ka(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(r,t,e,n){var i=r.getReferringComponents("polar",Rr).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",o),ka(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),ka(o)&&(n.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,n){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,n){var i=r.ecModel,a=i.getComponent("parallel",r.get("parallelIndex")),o=t.coordSysDims=a.dimensions.slice();J(a.parallelAxisIndex,function(s,u){var h=i.getComponent("parallelAxis",s),f=o[u];e.set(f,h),ka(h)&&(n.set(f,h),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=u))})}};function ka(r){return r.get("type")==="category"}function YS(r,t){var e=r.get("coordinateSystem"),n=Sc.get(e),i;return t&&t.coordSysDims&&(i=Lt(t.coordSysDims,function(a){var o={name:a},s=t.axisMap.get(a);if(s){var u=s.get("type");o.type=Sl(u)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function XS(r,t,e){var n,i;return e&&J(r,function(a,o){var s=a.coordDim,u=e.categoryAxisMap.get(s);u&&(n==null&&(n=o),a.ordinalMeta=u.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(r[n].otherDims.itemName=0),n}function ci(r,t,e){e=e||{};var n=t.getSourceManager(),i,a=!1;r?(a=!0,i=Lb(r)):(i=n.getSource(),a=i.sourceFormat===v1);var o=ZS(t),s=YS(t,o),u=e.useEncodeDefaulter,h=we(u)?u:u?_e(d1,s,t):null,f={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:h,canOmitUnusedDimensions:!a},v=nu(i,f),g=XS(v.dimensions,e.createInvertedIndices,o),d=a?null:n.getSharedDataStore(v),m=Db(t,{schema:v,store:d}),_=new en(v,t);_.setCalculationInfo(m);var b=g!=null&&jS(i)?function(S,I,A,D){return D===g?A:this.defaultDimValueGetter(S,I,A,D)}:null;return _.hasItemOption=!1,_.initData(a?i:d,null,b),_}function jS(r){if(r.sourceFormat===v1){var t=KS(r.data||[]);return!Ot(p1(t))}}function KS(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}var bs=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r}(),JS=1e-8;function tp(r,t){return Math.abs(r-t)<JS}function ra(r,t,e){var n=0,i=r[0];if(!i)return!1;for(var a=1;a<r.length;a++){var o=r[a];n+=Md(i[0],i[1],o[0],o[1],t,e),i=o}var s=r[0];return(!tp(i[0],s[0])||!tp(i[1],s[1]))&&(n+=Md(i[0],i[1],s[0],s[1],t,e)),n!==0}var QS=[];function eh(r,t){for(var e=0;e<r.length;e++)ca(r[e],r[e],t)}function ep(r,t,e,n){for(var i=0;i<r.length;i++){var a=r[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(g1(t,t,a),m1(e,e,a))}}function tM(r){for(var t=0,e=0,n=0,i=r.length,a=r[i-1][0],o=r[i-1][1],s=0;s<i;s++){var u=r[s][0],h=r[s][1],f=a*h-u*o;t+=f,e+=(a+u)*f,n+=(o+h)*f,a=u,o=h}return t?[e/t/3,n/t/3,t]:[r[0][0]||0,r[0][1]||0]}var ry=function(){function r(t){this.name=t}return r.prototype.setCenter=function(t){this._center=t},r.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},r}(),rp=function(){function r(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return r}(),np=function(){function r(t){this.type="linestring",this.points=t}return r}(),ny=function(r){_t(t,r);function t(e,n,i){var a=r.call(this,e)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return t.prototype.calcCenter=function(){for(var e=this.geometries,n,i=0,a=0;a<e.length;a++){var o=e[a],s=o.exterior,u=s&&s.length;u>i&&(n=o,i=u)}if(n)return tM(n.exterior);var h=this.getBoundingRect();return[h.x+h.width/2,h.y+h.height/2]},t.prototype.getBoundingRect=function(e){var n=this._rect;if(n&&!e)return n;var i=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return J(o,function(s){s.type==="polygon"?ep(s.exterior,i,a,e):J(s.points,function(u){ep(u,i,a,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new Je(i[0],i[1],a[0]-i[0],a[1]-i[1]),e||(this._rect=n),n},t.prototype.contain=function(e){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(e[0],e[1]))return!1;t:for(var a=0,o=i.length;a<o;a++){var s=i[a];if(s.type==="polygon"){var u=s.exterior,h=s.interiors;if(ra(u,e[0],e[1])){for(var f=0;f<(h?h.length:0);f++)if(ra(h[f],e[0],e[1]))continue t;return!0}}}return!1},t.prototype.transformTo=function(e,n,i,a){var o=this.getBoundingRect(),s=o.width/o.height;i?a||(a=i/s):i=s*a;for(var u=new Je(e,n,i,a),h=o.calculateTransform(u),f=this.geometries,v=0;v<f.length;v++){var g=f[v];g.type==="polygon"?(eh(g.exterior,h),J(g.interiors,function(d){eh(d,h)})):J(g.points,function(d){eh(d,h)})}o=this._rect,o.copy(u),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(ry),eM=function(r){_t(t,r);function t(e,n){var i=r.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,n=e.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=Pb(QS),o=e;o&&!o.isGeoSVGGraphicRoot;)wf(a,o.getLocalTransform(),a),o=o.parent;return iu(a,a),ca(i,i,a),i},t}(ry);function rM(r){if(!r.UTF8Encoding)return r;var t=r,e=t.UTF8Scale;e==null&&(e=1024);var n=t.features;return J(n,function(i){var a=i.geometry,o=a.encodeOffsets,s=a.coordinates;if(!!o)switch(a.type){case"LineString":a.coordinates=iy(s,o,e);break;case"Polygon":rh(s,o,e);break;case"MultiLineString":rh(s,o,e);break;case"MultiPolygon":J(s,function(u,h){return rh(u,o[h],e)})}}),t.UTF8Encoding=!1,t}function rh(r,t,e){for(var n=0;n<r.length;n++)r[n]=iy(r[n],t[n],e)}function iy(r,t,e){for(var n=[],i=t[0],a=t[1],o=0;o<r.length;o+=2){var s=r.charCodeAt(o)-64,u=r.charCodeAt(o+1)-64;s=s>>1^-(s&1),u=u>>1^-(u&1),s+=i,u+=a,i=s,a=u,n.push([s/e,u/e])}return n}function nM(r,t){return r=rM(r),Lt(Cr(r.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,i=e.geometry,a=[];switch(i.type){case"Polygon":var o=i.coordinates;a.push(new rp(o[0],o.slice(1)));break;case"MultiPolygon":J(i.coordinates,function(u){u[0]&&a.push(new rp(u[0],u.slice(1)))});break;case"LineString":a.push(new np([i.coordinates]));break;case"MultiLineString":a.push(new np(i.coordinates))}var s=new ny(n[t||"name"],a,n.cp);return s.properties=n,s})}var ts=Qe();function iM(r){return r.type==="category"?oM(r):lM(r)}function aM(r,t){return r.type==="category"?sM(r,t):{ticks:Lt(r.scale.getTicks(),function(e){return e.value})}}function oM(r){var t=r.getLabelModel(),e=ay(r,t);return!t.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function ay(r,t){var e=oy(r,"labels"),n=y1(t),i=sy(e,n);if(i)return i;var a,o;return we(n)?a=hy(r,n):(o=n==="auto"?uM(r):n,a=uy(r,o)),ly(e,n,{labels:a,labelCategoryInterval:o})}function sM(r,t){var e=oy(r,"ticks"),n=y1(t),i=sy(e,n);if(i)return i;var a,o;if((!t.get("show")||r.scale.isBlank())&&(a=[]),we(n))a=hy(r,n,!0);else if(n==="auto"){var s=ay(r,r.getLabelModel());o=s.labelCategoryInterval,a=Lt(s.labels,function(u){return u.tickValue})}else o=n,a=uy(r,o,!0);return ly(e,n,{ticks:a,tickCategoryInterval:o})}function lM(r){var t=r.scale.getTicks(),e=au(r);return{labels:Lt(t,function(n,i){return{level:n.level,formattedLabel:e(n,i),rawLabel:r.scale.getLabel(n),tickValue:n.value}})}}function oy(r,t){return ts(r)[t]||(ts(r)[t]=[])}function sy(r,t){for(var e=0;e<r.length;e++)if(r[e].key===t)return r[e].value}function ly(r,t,e){return r.push({key:t,value:e}),e}function uM(r){var t=ts(r).autoInterval;return t!=null?t:ts(r).autoInterval=r.calculateCategoryInterval()}function hM(r){var t=fM(r),e=au(r),n=(t.axisRotate-t.labelRotate)/180*Math.PI,i=r.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=a[0],h=r.dataToCoord(u+1)-r.dataToCoord(u),f=Math.abs(h*Math.cos(n)),v=Math.abs(h*Math.sin(n)),g=0,d=0;u<=a[1];u+=s){var m=0,_=0,b=Mc(e({value:u}),t.font,"center","top");m=b.width*1.3,_=b.height*1.3,g=Math.max(g,m,7),d=Math.max(d,_,7)}var S=g/f,I=d/v;isNaN(S)&&(S=1/0),isNaN(I)&&(I=1/0);var A=Math.max(0,Math.floor(Math.min(S,I))),D=ts(r.model),V=r.getExtent(),R=D.lastAutoInterval,Z=D.lastTickCount;return R!=null&&Z!=null&&Math.abs(R-A)<=1&&Math.abs(Z-o)<=1&&R>A&&D.axisExtent0===V[0]&&D.axisExtent1===V[1]?A=R:(D.lastTickCount=o,D.lastAutoInterval=A,D.axisExtent0=V[0],D.axisExtent1=V[1]),A}function fM(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function uy(r,t,e){var n=au(r),i=r.scale,a=i.getExtent(),o=r.getLabelModel(),s=[],u=Math.max((t||0)+1,1),h=a[0],f=i.count();h!==0&&u>1&&f/u>2&&(h=Math.round(Math.ceil(h/u)*u));var v=kb(r),g=o.get("showMinLabel")||v,d=o.get("showMaxLabel")||v;g&&h!==a[0]&&_(a[0]);for(var m=h;m<=a[1];m+=u)_(m);d&&m-u!==a[1]&&_(a[1]);function _(b){var S={value:b};s.push(e?b:{formattedLabel:n(S),rawLabel:i.getLabel(S),tickValue:b})}return s}function hy(r,t,e){var n=r.scale,i=au(r),a=[];return J(n.getTicks(),function(o){var s=n.getLabel(o),u=o.value;t(o.value,s)&&a.push(e?u:{formattedLabel:i(o),rawLabel:s,tickValue:u})}),a}var ip=[0,1],cM=function(){function r(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return r.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},r.prototype.containData=function(t){return this.scale.contain(t)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return _1(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},r.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(n=n.slice(),ap(n,i.count())),He(t,ip,n,e)},r.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),ap(n,i.count()));var a=He(t,n,ip,e);return this.scale.scale(a)},r.prototype.pointToData=function(t,e){},r.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=aM(this,e),i=n.ticks,a=Lt(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=e.get("alignWithLabel");return vM(this,a,o,t.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),i=Lt(n,function(a){return Lt(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},r.prototype.getViewLabels=function(){return iM(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},r.prototype.calculateCategoryInterval=function(){return hM(this)},r}();function ap(r,t){var e=r[1]-r[0],n=t,i=e/n/2;r[0]+=i,r[1]-=i}function vM(r,t,e,n){var i=t.length;if(!r.onBand||e||!i)return;var a=r.getExtent(),o,s;if(i===1)t[0].coord=a[0],o=t[1]={coord:a[1]};else{var u=t[i-1].tickValue-t[0].tickValue,h=(t[i-1].coord-t[0].coord)/u;J(t,function(d){d.coord-=h/2});var f=r.scale.getExtent();s=1+f[1]-t[i-1].tickValue,o={coord:t[i-1].coord+h*s},t.push(o)}var v=a[0]>a[1];g(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&g(a[0],t[0].coord)&&t.unshift({coord:a[0]}),g(a[1],o.coord)&&(n?o.coord=a[1]:t.pop()),n&&g(o.coord,a[1])&&t.push({coord:a[1]});function g(d,m){return d=Nn(d),m=Nn(m),v?d>m:d<m}}var Hn=cM,Lo=Math.PI*2,Ui=ou.CMD,dM=["top","right","bottom","left"];function pM(r,t,e,n,i){var a=e.width,o=e.height;switch(r){case"top":n.set(e.x+a/2,e.y-t),i.set(0,-1);break;case"bottom":n.set(e.x+a/2,e.y+o+t),i.set(0,1);break;case"left":n.set(e.x-t,e.y+o/2),i.set(-1,0);break;case"right":n.set(e.x+a+t,e.y+o/2),i.set(1,0);break}}function gM(r,t,e,n,i,a,o,s,u){o-=r,s-=t;var h=Math.sqrt(o*o+s*s);o/=h,s/=h;var f=o*e+r,v=s*e+t;if(Math.abs(n-i)%Lo<1e-4)return u[0]=f,u[1]=v,h-e;if(a){var g=n;n=oi(i),i=oi(g)}else n=oi(n),i=oi(i);n>i&&(i+=Lo);var d=Math.atan2(s,o);if(d<0&&(d+=Lo),d>=n&&d<=i||d+Lo>=n&&d+Lo<=i)return u[0]=f,u[1]=v,h-e;var m=e*Math.cos(n)+r,_=e*Math.sin(n)+t,b=e*Math.cos(i)+r,S=e*Math.sin(i)+t,I=(m-o)*(m-o)+(_-s)*(_-s),A=(b-o)*(b-o)+(S-s)*(S-s);return I<A?(u[0]=m,u[1]=_,Math.sqrt(I)):(u[0]=b,u[1]=S,Math.sqrt(A))}function Pl(r,t,e,n,i,a,o,s){var u=i-r,h=a-t,f=e-r,v=n-t,g=Math.sqrt(f*f+v*v);f/=g,v/=g;var d=u*f+h*v,m=d/g;s&&(m=Math.min(Math.max(m,0),1)),m*=g;var _=o[0]=r+m*f,b=o[1]=t+m*v;return Math.sqrt((_-i)*(_-i)+(b-a)*(b-a))}function fy(r,t,e,n,i,a,o){e<0&&(r=r+e,e=-e),n<0&&(t=t+n,n=-n);var s=r+e,u=t+n,h=o[0]=Math.min(Math.max(i,r),s),f=o[1]=Math.min(Math.max(a,t),u);return Math.sqrt((h-i)*(h-i)+(f-a)*(f-a))}var zn=[];function mM(r,t,e){var n=fy(t.x,t.y,t.width,t.height,r.x,r.y,zn);return e.set(zn[0],zn[1]),n}function yM(r,t,e){for(var n=0,i=0,a=0,o=0,s,u,h=1/0,f=t.data,v=r.x,g=r.y,d=0;d<f.length;){var m=f[d++];d===1&&(n=f[d],i=f[d+1],a=n,o=i);var _=h;switch(m){case Ui.M:a=f[d++],o=f[d++],n=a,i=o;break;case Ui.L:_=Pl(n,i,f[d],f[d+1],v,g,zn,!0),n=f[d++],i=f[d++];break;case Ui.C:_=Rb(n,i,f[d++],f[d++],f[d++],f[d++],f[d],f[d+1],v,g,zn),n=f[d++],i=f[d++];break;case Ui.Q:_=Eb(n,i,f[d++],f[d++],f[d],f[d+1],v,g,zn),n=f[d++],i=f[d++];break;case Ui.A:var b=f[d++],S=f[d++],I=f[d++],A=f[d++],D=f[d++],V=f[d++];d+=1;var R=!!(1-f[d++]);s=Math.cos(D)*I+b,u=Math.sin(D)*A+S,d<=1&&(a=s,o=u);var Z=(v-b)*A/I+b;_=gM(b,S,A,D,D+V,R,Z,g,zn),n=Math.cos(D+V)*I+b,i=Math.sin(D+V)*A+S;break;case Ui.R:a=n=f[d++],o=i=f[d++];var j=f[d++],X=f[d++];_=fy(a,o,j,X,v,g,zn);break;case Ui.Z:_=Pl(n,i,a,o,v,g,zn,!0),n=a,i=o;break}_<h&&(h=_,e.set(zn[0],zn[1]))}return h}var Bn=new We,Ve=new We,sr=new We,jn=new We,Xn=new We;function op(r,t){if(!!r){var e=r.getTextGuideLine(),n=r.getTextContent();if(!!(n&&e)){var i=r.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||dM,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var u=1/0,h=i.anchor,f=r.getComputedTransform(),v=f&&iu([],f),g=t.get("length2")||0;h&&sr.copy(h);for(var d=0;d<o.length;d++){var m=o[d];pM(m,0,s,Bn,jn),We.scaleAndAdd(Ve,Bn,jn,g),Ve.transform(v);var _=r.getBoundingRect(),b=h?h.distance(Ve):r instanceof _r?yM(Ve,r.path,sr):mM(Ve,_,sr);b<u&&(u=b,Ve.transform(f),sr.transform(f),sr.toArray(a[0]),Ve.toArray(a[1]),Bn.toArray(a[2]))}cy(a,t.get("minTurnAngle")),e.setShape({points:a})}}}var kl=[],Zr=new We;function cy(r,t){if(t<=180&&t>0){t=t/180*Math.PI,Bn.fromArray(r[0]),Ve.fromArray(r[1]),sr.fromArray(r[2]),We.sub(jn,Bn,Ve),We.sub(Xn,sr,Ve);var e=jn.len(),n=Xn.len();if(!(e<.001||n<.001)){jn.scale(1/e),Xn.scale(1/n);var i=jn.dot(Xn),a=Math.cos(t);if(a<i){var o=Pl(Ve.x,Ve.y,sr.x,sr.y,Bn.x,Bn.y,kl,!1);Zr.fromArray(kl),Zr.scaleAndAdd(Xn,o/Math.tan(Math.PI-t));var s=sr.x!==Ve.x?(Zr.x-Ve.x)/(sr.x-Ve.x):(Zr.y-Ve.y)/(sr.y-Ve.y);if(isNaN(s))return;s<0?We.copy(Zr,Ve):s>1&&We.copy(Zr,sr),Zr.toArray(r[1])}}}}function _M(r,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Bn.fromArray(r[0]),Ve.fromArray(r[1]),sr.fromArray(r[2]),We.sub(jn,Ve,Bn),We.sub(Xn,sr,Ve);var n=jn.len(),i=Xn.len();if(!(n<.001||i<.001)){jn.scale(1/n),Xn.scale(1/i);var a=jn.dot(t),o=Math.cos(e);if(a<o){var s=Pl(Ve.x,Ve.y,sr.x,sr.y,Bn.x,Bn.y,kl,!1);Zr.fromArray(kl);var u=Math.PI/2,h=Math.acos(Xn.dot(t)),f=u+h-e;if(f>=u)We.copy(Zr,sr);else{Zr.scaleAndAdd(Xn,s/Math.tan(Math.PI/2-f));var v=sr.x!==Ve.x?(Zr.x-Ve.x)/(sr.x-Ve.x):(Zr.y-Ve.y)/(sr.y-Ve.y);if(isNaN(v))return;v<0?We.copy(Zr,Ve):v>1&&We.copy(Zr,sr)}Zr.toArray(r[1])}}}}function nh(r,t,e,n){var i=e==="normal",a=i?r:r.ensureState(e);a.ignore=t;var o=n.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();i?r.useStyle(s):a.style=s}function xM(r,t){var e=t.smooth,n=t.points;if(!!n)if(r.moveTo(n[0][0],n[0][1]),e>0&&n.length>=3){var i=aa(n[0],n[1]),a=aa(n[1],n[2]);if(!i||!a){r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]);return}var o=Math.min(i,a)*e,s=gl([],n[1],n[0],o/i),u=gl([],n[1],n[2],o/a),h=gl([],s,u,.5);r.bezierCurveTo(s[0],s[1],s[0],s[1],h[0],h[1]),r.bezierCurveTo(u[0],u[1],u[0],u[1],n[2][0],n[2][1])}else for(var f=1;f<n.length;f++)r.lineTo(n[f][0],n[f][1])}function Oc(r,t,e){var n=r.getTextGuideLine(),i=r.getTextContent();if(!i){n&&r.removeTextGuideLine();return}for(var a=t.normal,o=a.get("show"),s=i.ignore,u=0;u<Sf.length;u++){var h=Sf[u],f=t[h],v=h==="normal";if(f){var g=f.get("show"),d=v?s:Sr(i.states[h]&&i.states[h].ignore,s);if(d||!Sr(g,o)){var m=v?n:n&&n.states[h];m&&(m.ignore=!0),n&&nh(n,!0,h,f);continue}n||(n=new Cn,r.setTextGuideLine(n),!v&&(s||!o)&&nh(n,!0,"normal",t.normal),r.stateProxy&&(n.stateProxy=r.stateProxy)),nh(n,!1,h,f)}}if(n){ve(n.style,e),n.style.fill=null;var _=a.get("showAbove"),b=r.textGuideLineConfig=r.textGuideLineConfig||{};b.showAbove=_||!1,n.buildPath=xM}}function Nc(r,t){t=t||"labelLine";for(var e={normal:r.getModel(t)},n=0;n<va.length;n++){var i=va[n];e[i]=r.getModel([i,t])}return e}function bM(r){if(r){for(var t=[],e=0;e<r.length;e++)t.push(r[e].slice());return t}}function wM(r,t){var e=r.label,n=t&&t.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:bM(n&&n.shape.points)}}var sp=["align","verticalAlign","width","height","fontSize"],$r=new Za,ih=Qe(),SM=Qe();function Ys(r,t,e){for(var n=0;n<e.length;n++){var i=e[n];t[i]!=null&&(r[i]=t[i])}}var Xs=["x","y","rotation"],MM=function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(t,e,n,i,a){var o=i.style,s=i.__hostTarget,u=s.textConfig||{},h=i.getComputedTransform(),f=i.getBoundingRect().plain();Je.applyTransform(f,f,h),h?$r.setLocalTransform(h):($r.x=$r.y=$r.rotation=$r.originX=$r.originY=0,$r.scaleX=$r.scaleY=1),$r.rotation=oi($r.rotation);var v=i.__hostTarget,g;if(v){g=v.getBoundingRect().plain();var d=v.getComputedTransform();Je.applyTransform(g,g,d)}var m=g&&v.getTextGuideLine();this._labelList.push({label:i,labelLine:m,seriesModel:n,dataIndex:t,dataType:e,layoutOption:a,computedLayoutOption:null,rect:f,hostRect:g,priority:g?g.width*g.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:m&&m.ignore,x:$r.x,y:$r.y,scaleX:$r.scaleX,scaleY:$r.scaleY,rotation:$r.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:u.position,attachedRot:u.rotation}})},r.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");!(we(i)||lr(i).length)||t.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=Ae(a);o&&!o.disableLabelLayout&&e._addLabel(s.dataIndex,s.dataType,n,o,i)})},r.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function i(A,D){return function(){op(A,D)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,u=s.__hostTarget,h=o.defaultAttr,f=void 0;we(o.layoutOption)?f=o.layoutOption(wM(o,u)):f=o.layoutOption,f=f||{},o.computedLayoutOption=f;var v=Math.PI/180;u&&u.setTextConfig({local:!1,position:f.x!=null||f.y!=null?null:h.attachedPos,rotation:f.rotate!=null?f.rotate*v:h.attachedRot,offset:[f.dx||0,f.dy||0]});var g=!1;if(f.x!=null?(s.x=$t(f.x,e),s.setStyle("x",0),g=!0):(s.x=h.x,s.setStyle("x",h.style.x)),f.y!=null?(s.y=$t(f.y,n),s.setStyle("y",0),g=!0):(s.y=h.y,s.setStyle("y",h.style.y)),f.labelLinePoints){var d=u.getTextGuideLine();d&&(d.setShape({points:f.labelLinePoints}),g=!1)}var m=ih(s);m.needsUpdateLabelLine=g,s.rotation=f.rotate!=null?f.rotate*v:h.rotation,s.scaleX=h.scaleX,s.scaleY=h.scaleY;for(var _=0;_<sp.length;_++){var b=sp[_];s.setStyle(b,f[b]!=null?f[b]:h.style[b])}if(f.draggable){if(s.draggable=!0,s.cursor="move",u){var S=o.seriesModel;if(o.dataIndex!=null){var I=o.seriesModel.getData(o.dataType);S=I.getItemModel(o.dataIndex)}s.on("drag",i(u,S.getModel("labelLine")))}}else s.off("drag"),s.cursor=h.cursor}},r.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),i=zb(this._labelList),a=Cr(i,function(u){return u.layoutOption.moveOverlap==="shiftX"}),o=Cr(i,function(u){return u.layoutOption.moveOverlap==="shiftY"});Ob(a,0,e),x1(o,0,n);var s=Cr(i,function(u){return u.layoutOption.hideOverlap});Nb(s)},r.prototype.processLabelsOverall=function(){var t=this;J(this._chartViewList,function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,a=n.isAnimationEnabled();e.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,u=o.getTextContent();!s&&u&&(s=ih(u).needsUpdateLabelLine),s&&t._updateLabelLine(o,n),a&&t._animateLabels(o,n)})})},r.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=Ae(t),a=i.dataIndex;if(n&&a!=null){var o=e.getData(i.dataType),s=o.getItemModel(a),u={},h=o.getItemVisual(a,"style");if(h){var f=o.getVisual("drawType");u.stroke=h[f]}var v=s.getModel("labelLine");Oc(t,Nc(s),u),op(t,v)}},r.prototype._animateLabels=function(t,e){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Vb(t))){var a=ih(n),o=a.oldLayout,s=Ae(t),u=s.dataIndex,h={x:n.x,y:n.y,rotation:n.rotation},f=e.getData(s.dataType);if(o){n.attr(o);var g=t.prevStates;g&&(Ye(g,"select")>=0&&n.attr(a.oldLayoutSelect),Ye(g,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),Ee(n,h,e,u)}else if(n.attr(h),!Cc(n).valueAnimation){var v=Sr(n.style.opacity,1);n.style.opacity=0,ir(n,{style:{opacity:v}},e,u)}if(a.oldLayout=h,n.states.select){var d=a.oldLayoutSelect={};Ys(d,h,Xs),Ys(d,n.states.select,Xs)}if(n.states.emphasis){var m=a.oldLayoutEmphasis={};Ys(m,h,Xs),Ys(m,n.states.emphasis,Xs)}Bb(n,u,f,e,e)}if(i&&!i.ignore&&!i.invisible){var a=SM(i),o=a.oldLayout,_={points:i.shape.points};o?(i.attr({shape:o}),Ee(i,{shape:_},e)):(i.setShape(_),i.style.strokePercent=0,ir(i,{style:{strokePercent:1}},e)),a.oldLayout=_}},r}(),CM=MM,ah=Qe();function AM(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var i=ah(e).labelManager;i||(i=ah(e).labelManager=new CM),i.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var i=ah(e).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()})}var oh=Math.sin,sh=Math.cos,vy=Math.PI,Zi=Math.PI*2,TM=180/vy,IM=function(){function r(){}return r.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},r.prototype.moveTo=function(t,e){this._add("M",t,e)},r.prototype.lineTo=function(t,e){this._add("L",t,e)},r.prototype.bezierCurveTo=function(t,e,n,i,a,o){this._add("C",t,e,n,i,a,o)},r.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},r.prototype.arc=function(t,e,n,i,a,o){this.ellipse(t,e,n,n,0,i,a,o)},r.prototype.ellipse=function(t,e,n,i,a,o,s,u){var h=s-o,f=!u,v=Math.abs(h),g=Si(v-Zi)||(f?h>=Zi:-h>=Zi),d=h>0?h%Zi:h%Zi+Zi,m=!1;g?m=!0:Si(v)?m=!1:m=d>=vy==!!f;var _=t+n*sh(o),b=e+i*oh(o);this._start&&this._add("M",_,b);var S=Math.round(a*TM);if(g){var I=1/this._p,A=(f?1:-1)*(Zi-I);this._add("A",n,i,S,1,+f,t+n*sh(o+A),e+i*oh(o+A)),I>.01&&this._add("A",n,i,S,0,+f,_,b)}else{var D=t+n*sh(s),V=e+i*oh(s);this._add("A",n,i,S,+m,+f,D,V)}},r.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(t,e,n,i,a,o,s,u,h){for(var f=[],v=this._p,g=1;g<arguments.length;g++){var d=arguments[g];if(isNaN(d)){this._invalid=!0;return}f.push(Math.round(d*v)/v)}this._d.push(t+f.join(" ")),this._start=t==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}(),dy=IM,Yo="none",LM=Math.round;function DM(r){var t=r.fill;return t!=null&&t!==Yo}function PM(r){var t=r.stroke;return t!=null&&t!==Yo}var Pf=["lineCap","miterLimit","lineJoin"],kM=Lt(Pf,function(r){return"stroke-"+r.toLowerCase()});function EM(r,t,e,n){var i=t.opacity==null?1:t.opacity;if(e instanceof Jn){r("opacity",i);return}if(DM(t)){var a=Ko(t.fill);r("fill",a.color);var o=t.fillOpacity!=null?t.fillOpacity*a.opacity*i:a.opacity*i;(n||o<1)&&r("fill-opacity",o)}else r("fill",Yo);if(PM(t)){var s=Ko(t.stroke);r("stroke",s.color);var u=t.strokeNoScale?e.getLineScale():1,h=u?(t.lineWidth||0)/u:0,f=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*i:s.opacity*i,v=t.strokeFirst;if((n||h!==1)&&r("stroke-width",h),(n||v)&&r("paint-order",v?"stroke":"fill"),(n||f<1)&&r("stroke-opacity",f),t.lineDash){var g=Gb(e),d=g[0],m=g[1];d&&(m=LM(m||0),r("stroke-dasharray",d.join(",")),(m||n)&&r("stroke-dashoffset",m))}else n&&r("stroke-dasharray",Yo);for(var _=0;_<Pf.length;_++){var b=Pf[_];if(n||t[b]!==Cd[b]){var S=t[b]||Cd[b];S&&r(kM[_],S)}}}else n&&r("stroke",Yo)}var py="http://www.w3.org/2000/svg",gy="http://www.w3.org/1999/xlink",RM="http://www.w3.org/2000/xmlns/",zM="http://www.w3.org/XML/1998/namespace",lp="ecmeta_";function my(r){return document.createElementNS(py,r)}function Mr(r,t,e,n,i){return{tag:r,attrs:e||{},children:n,text:i,key:t}}function OM(r,t){var e=[];if(t)for(var n in t){var i=t[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),e.push(a))}return"<"+r+" "+e.join(" ")+">"}function NM(r){return"</"+r+">"}function Vc(r,t){t=t||{};var e=t.newline?`
`:"";function n(i){var a=i.children,o=i.tag,s=i.attrs,u=i.text;return OM(o,s)+(o!=="style"?Fb(u):u||"")+(a?""+e+Lt(a,function(h){return n(h)}).join(e)+e:"")+NM(o)}return n(r)}function VM(r,t,e){e=e||{};var n=e.newline?`
`:"",i=" {"+n,a=n+"}",o=Lt(lr(r),function(u){return u+i+Lt(lr(r[u]),function(h){return h+":"+r[u][h]+";"}).join(n)+a}).join(n),s=Lt(lr(t),function(u){return"@keyframes "+u+i+Lt(lr(t[u]),function(h){return h+i+Lt(lr(t[u][h]),function(f){var v=t[u][h][f];return f==="d"&&(v='path("'+v+'")'),f+":"+v+";"}).join(n)+a}).join(n)+a}).join(n);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(n)}function kf(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function up(r,t,e,n){return Mr("svg","root",{width:r,height:t,xmlns:py,"xmlns:xlink":gy,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+t:!1},e)}var BM=0;function yy(){return BM++}var hp={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Yi="transform-origin";function GM(r,t,e){var n=Ft({},r.shape);Ft(n,t),r.buildPath(e,n);var i=new dy;return i.reset(S1(r)),e.rebuildPath(i,1),i.generateStr(),i.getStr()}function FM(r,t){var e=t.originX,n=t.originY;(e||n)&&(r[Yi]=e+"px "+n+"px")}var HM={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function _y(r,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=r,e}function $M(r,t,e){var n=r.shape.paths,i={},a,o;if(J(n,function(u){var h=kf(e.zrId);h.animation=!0,yu(u,{},h,!0);var f=h.cssAnims,v=h.cssNodes,g=lr(f),d=g.length;if(!!d){o=g[d-1];var m=f[o];for(var _ in m){var b=m[_];i[_]=i[_]||{d:""},i[_].d+=b.d||""}for(var S in v){var I=v[S].animation;I.indexOf(o)>=0&&(a=I)}}}),!!a){t.d=!1;var s=_y(i,e);return a.replace(o,s)}}function fp(r){return Se(r)?hp[r]?"cubic-bezier("+hp[r]+")":Hb(r)?r:"":""}function yu(r,t,e,n){var i=r.animators,a=i.length,o=[];if(r instanceof b1){var s=$M(r,t,e);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var u={},h=0;h<a;h++){var f=i[h],v=[f.getMaxTime()/1e3+"s"],g=fp(f.getClip().easing),d=f.getDelay();g?v.push(g):v.push("linear"),d&&v.push(d/1e3+"s"),f.getLoop()&&v.push("infinite");var m=v.join(" ");u[m]=u[m]||[m,[]],u[m][1].push(f)}function _(I){var A=I[1],D=A.length,V={},R={},Z={},j="animation-timing-function";function X(Ut,qt,Yt){for(var Xt=Ut.getTracks(),fr=Ut.getMaxTime(),tr=0;tr<Xt.length;tr++){var $e=Xt[tr];if($e.needsAnimate()){var er=$e.keyframes,rr=$e.propName;if(Yt&&(rr=Yt(rr)),rr)for(var Tr=0;Tr<er.length;Tr++){var Tn=er[Tr],Vr=Math.round(Tn.time/fr*100)+"%",Vi=fp(Tn.easing),Ge=Tn.rawValue;(Se(Ge)||Xr(Ge))&&(qt[Vr]=qt[Vr]||{},qt[Vr][rr]=Tn.rawValue,Vi&&(qt[Vr][j]=Vi))}}}}for(var et=0;et<D;et++){var it=A[et],ht=it.targetName;ht?ht==="shape"&&X(it,R):!n&&X(it,V)}for(var vt in V){var st={};$b(st,r),Ft(st,V[vt]);var mt=w1(st),lt=V[vt][j];Z[vt]=mt?{transform:mt}:{},FM(Z[vt],st),lt&&(Z[vt][j]=lt)}var Mt,xt=!0;for(var vt in R){Z[vt]=Z[vt]||{};var St=!Mt,lt=R[vt][j];St&&(Mt=new ou);var Pt=Mt.len();Mt.reset(),Z[vt].d=GM(r,R[vt],Mt);var Nt=Mt.len();if(!St&&Pt!==Nt){xt=!1;break}lt&&(Z[vt][j]=lt)}if(!xt)for(var vt in Z)delete Z[vt].d;if(!n)for(var et=0;et<D;et++){var it=A[et],ht=it.targetName;ht==="style"&&X(it,Z,function(Xt){return HM[Xt]})}for(var ne=lr(Z),Qt=!0,ie,et=1;et<ne.length;et++){var jt=ne[et-1],be=ne[et];if(Z[jt][Yi]!==Z[be][Yi]){Qt=!1;break}ie=Z[jt][Yi]}if(Qt&&ie){for(var vt in Z)Z[vt][Yi]&&delete Z[vt][Yi];t[Yi]=ie}if(Cr(ne,function(Ut){return lr(Z[Ut]).length>0}).length){var he=_y(Z,e);return he+" "+I[0]+" both"}}for(var b in u){var s=_(u[b]);s&&o.push(s)}if(o.length){var S=e.zrId+"-cls-"+yy();e.cssNodes["."+S]={animation:o.join(",")},t.class=S}}function WM(r,t,e){if(!r.ignore)if(r.isSilent()){var n={"pointer-events":"none"};cp(n,t,e,!0)}else{var i=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},a=i.fill;if(!a){var o=r.style&&r.style.fill,s=r.states.select&&r.states.select.style&&r.states.select.style.fill,u=r.currentStates.indexOf("select")>=0&&s||o;u&&(a=Wb(u))}var h=i.lineWidth;if(h){var f=!i.strokeNoScale&&r.transform?r.transform[0]:1;h=h/f}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),h&&(n["stroke-width"]=h),cp(n,t,e,!0)}}function cp(r,t,e,n){var i=JSON.stringify(r),a=e.cssStyleCache[i];a||(a=e.zrId+"-cls-"+yy(),e.cssStyleCache[i]=a,e.cssNodes["."+a+(n?":hover":"")]=r),t.class=t.class?t.class+" "+a:a}var es=Math.round;function xy(r){return r&&Se(r.src)}function by(r){return r&&we(r.toDataURL)}function Bc(r,t,e,n){EM(function(i,a){var o=i==="fill"||i==="stroke";o&&C1(a)?Sy(t,r,i,n):o&&Ac(a)?My(e,r,i,n):o&&a==="none"?r[i]="transparent":r[i]=a},t,e,!1),KM(e,r,n)}function Gc(r,t){var e=nw(t);e&&(e.each(function(n,i){n!=null&&(r[(lp+i).toLowerCase()]=n+"")}),t.isSilent()&&(r[lp+"silent"]="true"))}function vp(r){return Si(r[0]-1)&&Si(r[1])&&Si(r[2])&&Si(r[3]-1)}function UM(r){return Si(r[4])&&Si(r[5])}function Fc(r,t,e){if(t&&!(UM(t)&&vp(t))){var n=e?10:1e4;r.transform=vp(t)?"translate("+es(t[4]*n)/n+" "+es(t[5]*n)/n+")":iw(t)}}function dp(r,t,e){for(var n=r.points,i=[],a=0;a<n.length;a++)i.push(es(n[a][0]*e)/e),i.push(es(n[a][1]*e)/e);t.points=i.join(" ")}function pp(r){return!r.smooth}function ZM(r){var t=Lt(r,function(e){return typeof e=="string"?[e,e]:e});return function(e,n,i){for(var a=0;a<t.length;a++){var o=t[a],s=e[o[0]];s!=null&&(n[o[1]]=es(s*i)/i)}}}var qM={circle:[ZM(["cx","cy","r"])],polyline:[dp,pp],polygon:[dp,pp]};function YM(r){for(var t=r.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function wy(r,t){var e=r.style,n=r.shape,i=qM[r.type],a={},o=t.animation,s="path",u=r.style.strokePercent,h=t.compress&&S1(r)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(o&&YM(r))&&!(u<1)){s=r.type;var f=Math.pow(10,h);i[0](n,a,f)}else{var v=!r.path||r.shapeChanged();r.path||r.createPathProxy();var g=r.path;v&&(g.beginPath(),r.buildPath(g,r.shape),r.pathUpdated());var d=g.getVersion(),m=r,_=m.__svgPathBuilder;(m.__svgPathVersion!==d||!_||u!==m.__svgPathStrokePercent)&&(_||(_=m.__svgPathBuilder=new dy),_.reset(h),g.rebuildPath(_,u),_.generateStr(),m.__svgPathVersion=d,m.__svgPathStrokePercent=u),a.d=_.getStr()}return Fc(a,r.transform),Bc(a,e,r,t),Gc(a,r),t.animation&&yu(r,a,t),t.emphasis&&WM(r,a,t),Mr(s,r.id+"",a)}function XM(r,t){var e=r.style,n=e.image;if(n&&!Se(n)&&(xy(n)?n=n.src:by(n)&&(n=n.toDataURL())),!!n){var i=e.x||0,a=e.y||0,o=e.width,s=e.height,u={href:n,width:o,height:s};return i&&(u.x=i),a&&(u.y=a),Fc(u,r.transform),Bc(u,e,r,t),Gc(u,r),t.animation&&yu(r,u,t),Mr("image",r.id+"",u)}}function jM(r,t){var e=r.style,n=e.text;if(n!=null&&(n+=""),!(!n||isNaN(e.x)||isNaN(e.y))){var i=e.font||jb,a=e.x||0,o=Kb(e.y||0,Jb(i),e.textBaseline),s=Qb[e.textAlign]||e.textAlign,u={"dominant-baseline":"central","text-anchor":s};if(tw(e)){var h="",f=e.fontStyle,v=ew(e.fontSize);if(!parseFloat(v))return;var g=e.fontFamily||rw,d=e.fontWeight;h+="font-size:"+v+";font-family:"+g+";",f&&f!=="normal"&&(h+="font-style:"+f+";"),d&&d!=="normal"&&(h+="font-weight:"+d+";"),u.style=h}else u.style="font: "+i;return n.match(/\s/)&&(u["xml:space"]="preserve"),a&&(u.x=a),o&&(u.y=o),Fc(u,r.transform),Bc(u,e,r,t),Gc(u,r),t.animation&&yu(r,u,t),Mr("text",r.id+"",u,void 0,n)}}function gp(r,t){if(r instanceof _r)return wy(r,t);if(r instanceof Jn)return XM(r,t);if(r instanceof M1)return jM(r,t)}function KM(r,t,e){var n=r.style;if(aw(n)){var i=ow(r),a=e.shadowCache,o=a[i];if(!o){var s=r.getGlobalScale(),u=s[0],h=s[1];if(!u||!h)return;var f=n.shadowOffsetX||0,v=n.shadowOffsetY||0,g=n.shadowBlur,d=Ko(n.shadowColor),m=d.opacity,_=d.color,b=g/2/u,S=g/2/h,I=b+" "+S;o=e.zrId+"-s"+e.shadowIdx++,e.defs[o]=Mr("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Mr("feDropShadow","",{dx:f/u,dy:v/h,stdDeviation:I,"flood-color":_,"flood-opacity":m})]),a[i]=o}t.filter=su(o)}}function Sy(r,t,e,n){var i=r[e],a,o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Ub(i))a="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else if(Zb(i))a="radialGradient",o.cx=Sr(i.x,.5),o.cy=Sr(i.y,.5),o.r=Sr(i.r,.5);else return;for(var s=i.colorStops,u=[],h=0,f=s.length;h<f;++h){var v=qb(s[h].offset)*100+"%",g=s[h].color,d=Ko(g),m=d.color,_=d.opacity,b={offset:v};b["stop-color"]=m,_<1&&(b["stop-opacity"]=_),u.push(Mr("stop",h+"",b))}var S=Mr(a,"",o,u),I=Vc(S),A=n.gradientCache,D=A[I];D||(D=n.zrId+"-g"+n.gradientIdx++,A[I]=D,o.id=D,n.defs[D]=Mr(a,D,o,u)),t[e]=su(D)}function My(r,t,e,n){var i=r.style[e],a=r.getBoundingRect(),o={},s=i.repeat,u=s==="no-repeat",h=s==="repeat-x",f=s==="repeat-y",v;if(Yb(i)){var g=i.imageWidth,d=i.imageHeight,m=void 0,_=i.image;if(Se(_)?m=_:xy(_)?m=_.src:by(_)&&(m=_.toDataURL()),typeof Image=="undefined"){var b="Image width/height must been given explictly in svg-ssr renderer.";Jo(g,b),Jo(d,b)}else if(g==null||d==null){var S=function(et,it){if(et){var ht=et.elm,vt=g||it.width,st=d||it.height;et.tag==="pattern"&&(h?(st=1,vt/=a.width):f&&(vt=1,st/=a.height)),et.attrs.width=vt,et.attrs.height=st,ht&&(ht.setAttribute("width",vt),ht.setAttribute("height",st))}},I=Xb(m,null,r,function(et){u||S(R,et),S(v,et)});I&&I.width&&I.height&&(g=g||I.width,d=d||I.height)}v=Mr("image","img",{href:m,width:g,height:d}),o.width=g,o.height=d}else i.svgElement&&(v=ke(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(!!v){var A,D;u?A=D=1:h?(D=1,A=o.width/a.width):f?(A=1,D=o.height/a.height):o.patternUnits="userSpaceOnUse",A!=null&&!isNaN(A)&&(o.width=A),D!=null&&!isNaN(D)&&(o.height=D);var V=w1(i);V&&(o.patternTransform=V);var R=Mr("pattern","",o,[v]),Z=Vc(R),j=n.patternCache,X=j[Z];X||(X=n.zrId+"-p"+n.patternIdx++,j[Z]=X,o.id=X,R=n.defs[X]=Mr("pattern",X,o,[v])),t[e]=su(X)}}function JM(r,t,e){var n=e.clipPathCache,i=e.defs,a=n[r.id];if(!a){a=e.zrId+"-c"+e.clipPathIdx++;var o={id:a};n[r.id]=a,i[a]=Mr("clipPath",a,o,[wy(r,e)])}t["clip-path"]=su(a)}function mp(r){return document.createTextNode(r)}function na(r,t,e){r.insertBefore(t,e)}function yp(r,t){r.removeChild(t)}function _p(r,t){r.appendChild(t)}function Cy(r){return r.parentNode}function Ay(r){return r.nextSibling}function lh(r,t){r.textContent=t}var xp=58,QM=120,t5=Mr("","");function Ef(r){return r===void 0}function Yn(r){return r!==void 0}function e5(r,t,e){for(var n={},i=t;i<=e;++i){var a=r[i].key;a!==void 0&&(n[a]=i)}return n}function Fo(r,t){var e=r.key===t.key,n=r.tag===t.tag;return n&&e}function rs(r){var t,e=r.children,n=r.tag;if(Yn(n)){var i=r.elm=my(n);if(Hc(t5,r),Ot(e))for(t=0;t<e.length;++t){var a=e[t];a!=null&&_p(i,rs(a))}else Yn(r.text)&&!Dr(r.text)&&_p(i,mp(r.text))}else r.elm=mp(r.text);return r.elm}function Ty(r,t,e,n,i){for(;n<=i;++n){var a=e[n];a!=null&&na(r,rs(a),t)}}function El(r,t,e,n){for(;e<=n;++e){var i=t[e];if(i!=null)if(Yn(i.tag)){var a=Cy(i.elm);yp(a,i.elm)}else yp(r,i.elm)}}function Hc(r,t){var e,n=t.elm,i=r&&r.attrs||{},a=t.attrs||{};if(i!==a){for(e in a){var o=a[e],s=i[e];s!==o&&(o===!0?n.setAttribute(e,""):o===!1?n.removeAttribute(e):e==="style"?n.style.cssText=o:e.charCodeAt(0)!==QM?n.setAttribute(e,o):e==="xmlns:xlink"||e==="xmlns"?n.setAttributeNS(RM,e,o):e.charCodeAt(3)===xp?n.setAttributeNS(zM,e,o):e.charCodeAt(5)===xp?n.setAttributeNS(gy,e,o):n.setAttribute(e,o))}for(e in i)e in a||n.removeAttribute(e)}}function r5(r,t,e){for(var n=0,i=0,a=t.length-1,o=t[0],s=t[a],u=e.length-1,h=e[0],f=e[u],v,g,d,m;n<=a&&i<=u;)o==null?o=t[++n]:s==null?s=t[--a]:h==null?h=e[++i]:f==null?f=e[--u]:Fo(o,h)?($a(o,h),o=t[++n],h=e[++i]):Fo(s,f)?($a(s,f),s=t[--a],f=e[--u]):Fo(o,f)?($a(o,f),na(r,o.elm,Ay(s.elm)),o=t[++n],f=e[--u]):Fo(s,h)?($a(s,h),na(r,s.elm,o.elm),s=t[--a],h=e[++i]):(Ef(v)&&(v=e5(t,n,a)),g=v[h.key],Ef(g)?na(r,rs(h),o.elm):(d=t[g],d.tag!==h.tag?na(r,rs(h),o.elm):($a(d,h),t[g]=void 0,na(r,d.elm,o.elm))),h=e[++i]);(n<=a||i<=u)&&(n>a?(m=e[u+1]==null?null:e[u+1].elm,Ty(r,m,e,i,u)):El(r,t,n,a))}function $a(r,t){var e=t.elm=r.elm,n=r.children,i=t.children;r!==t&&(Hc(r,t),Ef(t.text)?Yn(n)&&Yn(i)?n!==i&&r5(e,n,i):Yn(i)?(Yn(r.text)&&lh(e,""),Ty(e,null,i,0,i.length-1)):Yn(n)?El(e,n,0,n.length-1):Yn(r.text)&&lh(e,""):r.text!==t.text&&(Yn(n)&&El(e,n,0,n.length-1),lh(e,t.text)))}function n5(r,t){if(Fo(r,t))$a(r,t);else{var e=r.elm,n=Cy(e);rs(t),n!==null&&(na(n,t.elm,Ay(e)),El(n,[r],0,0))}return t}var i5=0,a5=function(){function r(t,e,n){if(this.type="svg",this.refreshHover=bp(),this.configLayer=bp(),this.storage=e,this._opts=n=Ft({},n),this.root=t,this._id="zr"+i5++,this._oldVNode=up(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=my("svg");Hc(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(n.width,n.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",n5(this._oldVNode,t),this._oldVNode=t}},r.prototype.renderOneToVNode=function(t){return gp(t,kf(this._id))},r.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=kf(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis;var o=[],s=this._bgVNode=o5(n,i,this._backgroundColor,a);s&&o.push(s);var u=t.compress?null:this._mainVNode=Mr("g","main",{},[]);this._paintList(e,a,u?u.children:o),u&&o.push(u);var h=Lt(lr(a.defs),function(g){return a.defs[g]});if(h.length&&o.push(Mr("defs","defs",{},h)),t.animation){var f=VM(a.cssNodes,a.cssAnims,{newline:!0});if(f){var v=Mr("style","stl",{},[],f);o.push(v)}}return up(n,i,o,t.useViewBox)},r.prototype.renderToString=function(t){return t=t||{},Vc(this.renderToVNode({animation:Sr(t.cssAnimation,!0),emphasis:Sr(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Sr(t.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(t,e,n){for(var i=t.length,a=[],o=0,s,u,h=0,f=0;f<i;f++){var v=t[f];if(!v.invisible){var g=v.__clipPaths,d=g&&g.length||0,m=u&&u.length||0,_=void 0;for(_=Math.max(d-1,m-1);_>=0&&!(g&&u&&g[_]===u[_]);_--);for(var b=m-1;b>_;b--)o--,s=a[o-1];for(var S=_+1;S<d;S++){var I={};JM(g[S],I,e);var A=Mr("g","clip-g-"+h++,I,[]);(s?s.children:n).push(A),a[o++]=A,s=A}u=g;var D=gp(v,e);D&&(s?s.children:n).push(D)}}},r.prototype.resize=function(t,e){var n=this._opts,i=this.root,a=this._viewport;if(t!=null&&(n.width=t),e!=null&&(n.height=e),i&&a&&(a.style.display="none",t=Ad(i,0,n),e=Ad(i,1,n),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var o=a.style;o.width=t+"px",o.height=e+"px"}if(Ac(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",e));var u=this._bgVNode&&this._bgVNode.elm;u&&(u.setAttribute("width",t),u.setAttribute("height",e))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=sw(e),e&&n+"base64,"+e):n+"charset=UTF-8,"+encodeURIComponent(e)},r}();function bp(r){return function(){}}function o5(r,t,e,n){var i;if(e&&e!=="none")if(i=Mr("rect","bg",{width:r,height:t,x:"0",y:"0"}),C1(e))Sy({fill:e},i.attrs,"fill",n);else if(Ac(e))My({style:{fill:e},dirty:Li,getBoundingRect:function(){return{width:r,height:t}}},i.attrs,"fill",n);else{var a=Ko(e),o=a.color,s=a.opacity;i.attrs.fill=o,s<1&&(i.attrs["fill-opacity"]=s)}return i}var s5=a5;function l5(r){r.registerPainter("svg",s5)}var u5=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return ci(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var n=new ee,i=Gr("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);n.add(i),i.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,u=e.itemHeight*.8,h=Gr(s,(e.itemWidth-u)/2,(e.itemHeight-u)/2,u,u,e.itemStyle.fill);n.add(h),h.setStyle(e.itemStyle);var f=e.iconRotate==="inherit"?o:e.iconRotate||0;return h.rotation=f*Math.PI/180,h.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(h.style.stroke=h.style.fill,h.style.fill="#fff",h.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(mr),h5=u5;function so(r,t){var e=r.mapDimensionsAll("defaultedLabel"),n=e.length;if(n===1){var i=Td(r,t,e[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<e.length;o++)a.push(Td(r,t,e[o]));return a.join(" ")}}function Iy(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!Ot(t))return t+"";for(var n=[],i=0;i<e.length;i++){var a=r.getDimensionIndex(e[i]);a>=0&&n.push(t[a])}return n.join(" ")}var f5=function(r){_t(t,r);function t(e,n,i,a){var o=r.call(this)||this;return o.updateData(e,n,i,a),o}return t.prototype._createSymbol=function(e,n,i,a,o){this.removeAll();var s=Gr(e,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=c5,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){eo(this.childAt(0))},t.prototype.downplay=function(){ro(this.childAt(0))},t.prototype.setZ=function(e,n){var i=this.childAt(0);i.zlevel=e,i.z=n},t.prototype.setDraggable=function(e,n){var i=this.childAt(0);i.draggable=e,i.cursor=!n&&e?"move":i.cursor},t.prototype.updateData=function(e,n,i,a){this.silent=!1;var o=e.getItemVisual(n,"symbol")||"circle",s=e.hostModel,u=t.getSymbolSize(e,n),h=o!==this._symbolType,f=a&&a.disableAnimation;if(h){var v=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,e,n,u,v)}else{var g=this.childAt(0);g.silent=!1;var d={scaleX:u[0]/2,scaleY:u[1]/2};f?g.attr(d):Ee(g,d,s,n),Fn(g)}if(this._updateCommon(e,n,u,i,a),h){var g=this.childAt(0);if(!f){var d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:g.style.opacity}};g.scaleX=g.scaleY=0,g.style.opacity=0,ir(g,d,s,n)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,n,i,a,o){var s=this.childAt(0),u=e.hostModel,h,f,v,g,d,m,_,b,S;if(a&&(h=a.emphasisItemStyle,f=a.blurItemStyle,v=a.selectItemStyle,g=a.focus,d=a.blurScope,_=a.labelStatesModels,b=a.hoverScale,S=a.cursorStyle,m=a.emphasisDisabled),!a||e.hasItemOption){var I=a&&a.itemModel?a.itemModel:e.getItemModel(n),A=I.getModel("emphasis");h=A.getModel("itemStyle").getItemStyle(),v=I.getModel(["select","itemStyle"]).getItemStyle(),f=I.getModel(["blur","itemStyle"]).getItemStyle(),g=A.get("focus"),d=A.get("blurScope"),m=A.get("disabled"),_=Ar(I),b=A.getShallow("scale"),S=I.getShallow("cursor")}var D=e.getItemVisual(n,"symbolRotate");s.attr("rotation",(D||0)*Math.PI/180||0);var V=vo(e.getItemVisual(n,"symbolOffset"),i);V&&(s.x=V[0],s.y=V[1]),S&&s.attr("cursor",S);var R=e.getItemVisual(n,"style"),Z=R.fill;if(s instanceof Jn){var j=s.style;s.useStyle(Ft({image:j.image,x:j.x,y:j.y,width:j.width,height:j.height},R))}else s.__isEmptyBrush?s.useStyle(Ft({},R)):s.useStyle(R),s.style.decal=null,s.setColor(Z,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var X=e.getItemVisual(n,"liftZ"),et=this._z2;X!=null?et==null&&(this._z2=s.z2,s.z2+=X):et!=null&&(s.z2=et,this._z2=null);var it=o&&o.useNameLabel;Fr(s,_,{labelFetcher:u,labelDataIndex:n,defaultText:ht,inheritColor:Z,defaultOpacity:R.opacity});function ht(mt){return it?e.getName(mt):so(e,mt)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var vt=s.ensureState("emphasis");vt.style=h,s.ensureState("select").style=v,s.ensureState("blur").style=f;var st=b==null||b===!0?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;vt.scaleX=this._sizeX*st,vt.scaleY=this._sizeY*st,this.setSymbolScale(1),hr(this,g,d,m)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,n,i){var a=this.childAt(0),o=Ae(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var u=a.getTextContent();u&&no(u,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();no(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:e,removeOpt:s})},t.getSymbolSize=function(e,n){return po(e.getItemVisual(n,"symbolSize"))},t}(ee);function c5(r,t){this.parent.drift(r,t)}var ws=f5;function uh(r,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function wp(r){return r!=null&&!Dr(r)&&(r={isIgnore:r}),r||{}}function Sp(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Ar(t),cursorStyle:t.get("cursor")}}var v5=function(){function r(t){this.group=new ee,this._SymbolCtor=t||ws}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=wp(e);var n=this.group,i=t.hostModel,a=this._data,o=this._SymbolCtor,s=e.disableAnimation,u=Sp(t),h={disableAnimation:s},f=e.getSymbolPoint||function(v){return t.getItemLayout(v)};a||n.removeAll(),t.diff(a).add(function(v){var g=f(v);if(uh(t,g,v,e)){var d=new o(t,v,u,h);d.setPosition(g),t.setItemGraphicEl(v,d),n.add(d)}}).update(function(v,g){var d=a.getItemGraphicEl(g),m=f(v);if(!uh(t,m,v,e)){n.remove(d);return}var _=t.getItemVisual(v,"symbol")||"circle",b=d&&d.getSymbolType&&d.getSymbolType();if(!d||b&&b!==_)n.remove(d),d=new o(t,v,u,h),d.setPosition(m);else{d.updateData(t,v,u,h);var S={x:m[0],y:m[1]};s?d.attr(S):Ee(d,S,i)}n.add(d),t.setItemGraphicEl(v,d)}).remove(function(v){var g=a.getItemGraphicEl(v);g&&g.fadeOut(function(){n.remove(g)},i)}).execute(),this._getSymbolPoint=f,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(n,i){var a=t._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Sp(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,n){this._progressiveEls=[],n=wp(n);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var o=e.getItemLayout(a);if(uh(e,o,a,n)){var s=new this._SymbolCtor(e,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(t){go(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},n.hostModel)}):e.removeAll()},r}(),Ss=v5;function Ly(r,t,e){var n=r.getBaseAxis(),i=r.getOtherAxis(n),a=d5(i,e),o=n.dim,s=i.dim,u=t.mapDimension(s),h=t.mapDimension(o),f=s==="x"||s==="radius"?1:0,v=Lt(r.dimensions,function(m){return t.mapDimension(m)}),g=!1,d=t.getCalculationInfo("stackResultDimension");return io(t,v[0])&&(g=!0,v[0]=d),io(t,v[1])&&(g=!0,v[1]=d),{dataDimsForPoint:v,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!g,valueDim:u,baseDim:h,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function d5(r,t){var e=0,n=r.scale.getExtent();return t==="start"?e=n[0]:t==="end"?e=n[1]:Xr(t)&&!isNaN(t)?e=t:n[0]>0?e=n[0]:n[1]<0&&(e=n[1]),e}function Dy(r,t,e,n){var i=NaN;r.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=r.valueStart);var a=r.baseDataOffset,o=[];return o[a]=e.get(r.baseDim,n),o[1-a]=i,t.dataToPoint(o)}function p5(r,t){var e=[];return t.diff(r).add(function(n){e.push({cmd:"+",idx:n})}).update(function(n,i){e.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){e.push({cmd:"-",idx:n})}).execute(),e}function g5(r,t,e,n,i,a,o,s){for(var u=p5(r,t),h=[],f=[],v=[],g=[],d=[],m=[],_=[],b=Ly(i,t,o),S=r.getLayout("points")||[],I=t.getLayout("points")||[],A=0;A<u.length;A++){var D=u[A],V=!0,R=void 0,Z=void 0;switch(D.cmd){case"=":R=D.idx*2,Z=D.idx1*2;var j=S[R],X=S[R+1],et=I[Z],it=I[Z+1];(isNaN(j)||isNaN(X))&&(j=et,X=it),h.push(j,X),f.push(et,it),v.push(e[R],e[R+1]),g.push(n[Z],n[Z+1]),_.push(t.getRawIndex(D.idx1));break;case"+":var ht=D.idx,vt=b.dataDimsForPoint,st=i.dataToPoint([t.get(vt[0],ht),t.get(vt[1],ht)]);Z=ht*2,h.push(st[0],st[1]),f.push(I[Z],I[Z+1]);var mt=Dy(b,i,t,ht);v.push(mt[0],mt[1]),g.push(n[Z],n[Z+1]),_.push(t.getRawIndex(ht));break;case"-":V=!1}V&&(d.push(D),m.push(m.length))}m.sort(function(jt,be){return _[jt]-_[be]});for(var lt=h.length,Mt=oa(lt),xt=oa(lt),St=oa(lt),Pt=oa(lt),Nt=[],A=0;A<m.length;A++){var ne=m[A],Qt=A*2,ie=ne*2;Mt[Qt]=h[ie],Mt[Qt+1]=h[ie+1],xt[Qt]=f[ie],xt[Qt+1]=f[ie+1],St[Qt]=v[ie],St[Qt+1]=v[ie+1],Pt[Qt]=g[ie],Pt[Qt+1]=g[ie+1],Nt[A]=d[ne]}return{current:Mt,next:xt,stackedOnCurrent:St,stackedOnNext:Pt,status:Nt}}var yi=Math.min,_i=Math.max;function ua(r,t){return isNaN(r)||isNaN(t)}function Rf(r,t,e,n,i,a,o,s,u){for(var h,f,v,g,d,m,_=e,b=0;b<n;b++){var S=t[_*2],I=t[_*2+1];if(_>=i||_<0)break;if(ua(S,I)){if(u){_+=a;continue}break}if(_===e)r[a>0?"moveTo":"lineTo"](S,I),v=S,g=I;else{var A=S-h,D=I-f;if(A*A+D*D<.5){_+=a;continue}if(o>0){for(var V=_+a,R=t[V*2],Z=t[V*2+1];R===S&&Z===I&&b<n;)b++,V+=a,_+=a,R=t[V*2],Z=t[V*2+1],S=t[_*2],I=t[_*2+1],A=S-h,D=I-f;var j=b+1;if(u)for(;ua(R,Z)&&j<n;)j++,V+=a,R=t[V*2],Z=t[V*2+1];var X=.5,et=0,it=0,ht=void 0,vt=void 0;if(j>=n||ua(R,Z))d=S,m=I;else{et=R-h,it=Z-f;var st=S-h,mt=R-S,lt=I-f,Mt=Z-I,xt=void 0,St=void 0;if(s==="x"){xt=Math.abs(st),St=Math.abs(mt);var Pt=et>0?1:-1;d=S-Pt*xt*o,m=I,ht=S+Pt*St*o,vt=I}else if(s==="y"){xt=Math.abs(lt),St=Math.abs(Mt);var Nt=it>0?1:-1;d=S,m=I-Nt*xt*o,ht=S,vt=I+Nt*St*o}else xt=Math.sqrt(st*st+lt*lt),St=Math.sqrt(mt*mt+Mt*Mt),X=St/(St+xt),d=S-et*o*(1-X),m=I-it*o*(1-X),ht=S+et*o*X,vt=I+it*o*X,ht=yi(ht,_i(R,S)),vt=yi(vt,_i(Z,I)),ht=_i(ht,yi(R,S)),vt=_i(vt,yi(Z,I)),et=ht-S,it=vt-I,d=S-et*xt/St,m=I-it*xt/St,d=yi(d,_i(h,S)),m=yi(m,_i(f,I)),d=_i(d,yi(h,S)),m=_i(m,yi(f,I)),et=S-d,it=I-m,ht=S+et*St/xt,vt=I+it*St/xt}r.bezierCurveTo(v,g,d,m,S,I),v=ht,g=vt}else r.lineTo(S,I)}h=S,f=I,_+=a}return b}var Py=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),m5=function(r){_t(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Py},t.prototype.buildPath=function(e,n){var i=n.points,a=0,o=i.length/2;if(n.connectNulls){for(;o>0&&ua(i[o*2-2],i[o*2-1]);o--);for(;a<o&&ua(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=Rf(e,i,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(e,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=ou.CMD,s,u,h=n==="x",f=[],v=0;v<a.length;){var g=a[v++],d=void 0,m=void 0,_=void 0,b=void 0,S=void 0,I=void 0,A=void 0;switch(g){case o.M:s=a[v++],u=a[v++];break;case o.L:if(d=a[v++],m=a[v++],A=h?(e-s)/(d-s):(e-u)/(m-u),A<=1&&A>=0){var D=h?(m-u)*A+u:(d-s)*A+s;return h?[e,D]:[D,e]}s=d,u=m;break;case o.C:d=a[v++],m=a[v++],_=a[v++],b=a[v++],S=a[v++],I=a[v++];var V=h?Id(s,d,_,S,e,f):Id(u,m,b,I,e,f);if(V>0)for(var R=0;R<V;R++){var Z=f[R];if(Z<=1&&Z>=0){var D=h?Ld(u,m,b,I,Z):Ld(s,d,_,S,Z);return h?[e,D]:[D,e]}}s=S,u=I;break}}},t}(_r),y5=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Py),ky=function(r){_t(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new y5},t.prototype.buildPath=function(e,n){var i=n.points,a=n.stackedOnPoints,o=0,s=i.length/2,u=n.smoothMonotone;if(n.connectNulls){for(;s>0&&ua(i[s*2-2],i[s*2-1]);s--);for(;o<s&&ua(i[o*2],i[o*2+1]);o++);}for(;o<s;){var h=Rf(e,i,o,s,s,1,n.smooth,u,n.connectNulls);Rf(e,a,o+h-1,h,s,-1,n.stackedOnSmooth,u,n.connectNulls),o+=h+1,e.closePath()}},t}(_r);function Ey(r,t,e,n,i){var a=r.getArea(),o=a.x,s=a.y,u=a.width,h=a.height,f=e.get(["lineStyle","width"])||2;o-=f/2,s-=f/2,u+=f,h+=f,u=Math.ceil(u),o!==Math.floor(o)&&(o=Math.floor(o),u++);var v=new Ue({shape:{x:o,y:s,width:u,height:h}});if(t){var g=r.getBaseAxis(),d=g.isHorizontal(),m=g.inverse;d?(m&&(v.shape.x+=u),v.shape.width=0):(m||(v.shape.y+=h),v.shape.height=0);var _=we(i)?function(b){i(b,v)}:null;ir(v,{shape:{width:u,height:h,x:o,y:s}},e,null,n,_)}return v}function Ry(r,t,e){var n=r.getArea(),i=Nn(n.r0,1),a=Nn(n.r,1),o=new Kn({shape:{cx:Nn(r.cx,1),cy:Nn(r.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var s=r.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=i,ir(o,{shape:{endAngle:n.endAngle,r:a}},e)}return o}function Ms(r,t,e,n,i){if(r){if(r.type==="polar")return Ry(r,t,e);if(r.type==="cartesian2d")return Ey(r,t,e,n,i)}else return null;return null}function Sa(r,t){return r.type===t}function Mp(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function Cp(r){for(var t=1/0,e=1/0,n=-1/0,i=-1/0,a=0;a<r.length;){var o=r[a++],s=r[a++];isNaN(o)||(t=Math.min(o,t),n=Math.max(o,n)),isNaN(s)||(e=Math.min(s,e),i=Math.max(s,i))}return[[t,e],[n,i]]}function Ap(r,t){var e=Cp(r),n=e[0],i=e[1],a=Cp(t),o=a[0],s=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function Tp(r){return Xr(r)?r:r?.5:0}function _5(r,t,e){if(!e.valueDim)return[];for(var n=t.count(),i=oa(n*2),a=0;a<n;a++){var o=Dy(e,r,t,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function xi(r,t,e,n){var i=t.getBaseAxis(),a=i.dim==="x"||i.dim==="radius"?0:1,o=[],s=0,u=[],h=[],f=[],v=[];if(n){for(s=0;s<r.length;s+=2)!isNaN(r[s])&&!isNaN(r[s+1])&&v.push(r[s],r[s+1]);r=v}for(s=0;s<r.length-2;s+=2)switch(f[0]=r[s+2],f[1]=r[s+3],h[0]=r[s],h[1]=r[s+1],o.push(h[0],h[1]),e){case"end":u[a]=f[a],u[1-a]=h[1-a],o.push(u[0],u[1]);break;case"middle":var g=(h[a]+f[a])/2,d=[];u[a]=d[a]=g,u[1-a]=h[1-a],d[1-a]=f[1-a],o.push(u[0],u[1]),o.push(d[0],d[1]);break;default:u[a]=h[a],u[1-a]=f[1-a],o.push(u[0],u[1])}return o.push(r[s++],r[s++]),o}function x5(r,t){var e=[],n=r.length,i,a;function o(f,v,g){var d=f.coord,m=(g-d)/(v.coord-d),_=uw(m,[f.color,v.color]);return{coord:g,color:_}}for(var s=0;s<n;s++){var u=r[s],h=u.coord;if(h<0)i=u;else if(h>t){a?e.push(o(a,u,t)):i&&e.push(o(i,u,0),o(i,u,t));break}else i&&(e.push(o(i,u,0)),i=null),e.push(u),a=u}return e}function b5(r,t,e){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&t.type==="cartesian2d"){for(var i,a,o=n.length-1;o>=0;o--){var s=r.getDimensionInfo(n[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=n[o];break}}if(!!a){var u=t.getAxis(i),h=Lt(a.stops,function(A){return{coord:u.toGlobalCoord(u.dataToCoord(A.value)),color:A.color}}),f=h.length,v=a.outerColors.slice();f&&h[0].coord>h[f-1].coord&&(h.reverse(),v.reverse());var g=x5(h,i==="x"?e.getWidth():e.getHeight()),d=g.length;if(!d&&f)return h[0].coord<0?v[1]?v[1]:h[f-1].color:v[0]?v[0]:h[0].color;var m=10,_=g[0].coord-m,b=g[d-1].coord+m,S=b-_;if(S<.001)return"transparent";J(g,function(A){A.offset=(A.coord-_)/S}),g.push({offset:d?g[d-1].offset:.5,color:v[1]||"transparent"}),g.unshift({offset:d?g[0].offset:.5,color:v[0]||"transparent"});var I=new lu(0,0,0,0,g,!0);return I[i]=_,I[i+"2"]=b,I}}}function w5(r,t,e){var n=r.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=e.getAxesByScale("ordinal")[0];if(!!a&&!(i&&S5(a,t))){var o=t.mapDimension(a.dim),s={};return J(a.getViewLabels(),function(u){var h=a.scale.getRawOrdinalNumber(u.tickValue);s[h]=1}),function(u){return!s.hasOwnProperty(t.get(o,u))}}}}function S5(r,t){var e=r.getExtent(),n=Math.abs(e[1]-e[0])/r.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(ws.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function M5(r,t){return isNaN(r)||isNaN(t)}function C5(r){for(var t=r.length/2;t>0&&M5(r[t*2-2],r[t*2-1]);t--);return t-1}function Ip(r,t){return[r[t*2],r[t*2+1]]}function A5(r,t,e){for(var n=r.length/2,i=e==="x"?0:1,a,o,s=0,u=-1,h=0;h<n;h++)if(o=r[h*2+i],!(isNaN(o)||isNaN(r[h*2+1-i]))){if(h===0){a=o;continue}if(a<=t&&o>=t||a>=t&&o<=t){u=h;break}s=h,a=o}return{range:[s,u],t:(t-a)/(o-a)}}function zy(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<va.length;t++)if(r.get([va[t],"endLabel","show"]))return!0;return!1}function hh(r,t,e,n){if(Sa(t,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},u=zy(n)?function(d,m){r._endLabelOnDuring(d,m,o,s,a,i,t)}:null,h=t.getBaseAxis().isHorizontal(),f=Ey(t,e,n,function(){var d=r._endLabel;d&&e&&s.originalX!=null&&d.attr({x:s.originalX,y:s.originalY})},u);if(!n.get("clip",!0)){var v=f.shape,g=Math.max(v.width,v.height);h?(v.y-=g,v.height+=g*2):(v.x-=g,v.width+=g*2)}return u&&u(1,f),f}else return Ry(t,e,n)}function T5(r,t){var e=t.getBaseAxis(),n=e.isHorizontal(),i=e.inverse,a=n?i?"right":"left":"center",o=n?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||a,verticalAlign:r.get("verticalAlign")||o}}}var I5=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new ee,n=new Ss;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=e},t.prototype.render=function(e,n,i){var a=this,o=e.coordinateSystem,s=this.group,u=e.getData(),h=e.getModel("lineStyle"),f=e.getModel("areaStyle"),v=u.getLayout("points")||[],g=o.type==="polar",d=this._coordSys,m=this._symbolDraw,_=this._polyline,b=this._polygon,S=this._lineGroup,I=!n.ssr&&e.get("animation"),A=!f.isEmpty(),D=f.get("origin"),V=Ly(o,u,D),R=A&&_5(o,u,V),Z=e.get("showSymbol"),j=e.get("connectNulls"),X=Z&&!g&&w5(e,u,o),et=this._data;et&&et.eachItemGraphicEl(function(be,he){be.__temp&&(s.remove(be),et.setItemGraphicEl(he,null))}),Z||m.remove(),s.add(S);var it=g?!1:e.get("step"),ht;o&&o.getArea&&e.get("clip",!0)&&(ht=o.getArea(),ht.width!=null?(ht.x-=.1,ht.y-=.1,ht.width+=.2,ht.height+=.2):ht.r0&&(ht.r0-=.5,ht.r+=.5)),this._clipShapeForSymbol=ht;var vt=b5(u,o,i)||u.getVisual("style")[u.getVisual("drawType")];if(!(_&&d.type===o.type&&it===this._step))Z&&m.updateData(u,{isIgnore:X,clipShape:ht,disableAnimation:!0,getSymbolPoint:function(be){return[v[be*2],v[be*2+1]]}}),I&&this._initSymbolLabelAnimation(u,o,ht),it&&(v=xi(v,o,it,j),R&&(R=xi(R,o,it,j))),_=this._newPolyline(v),A?b=this._newPolygon(v,R):b&&(S.remove(b),b=this._polygon=null),g||this._initOrUpdateEndLabel(e,o,Dd(vt)),S.setClipPath(hh(this,o,!0,e));else{A&&!b?b=this._newPolygon(v,R):b&&!A&&(S.remove(b),b=this._polygon=null),g||this._initOrUpdateEndLabel(e,o,Dd(vt));var st=S.getClipPath();if(st){var mt=hh(this,o,!1,e);ir(st,{shape:mt.shape},e)}else S.setClipPath(hh(this,o,!0,e));Z&&m.updateData(u,{isIgnore:X,clipShape:ht,disableAnimation:!0,getSymbolPoint:function(be){return[v[be*2],v[be*2+1]]}}),(!Mp(this._stackedOnPoints,R)||!Mp(this._points,v))&&(I?this._doUpdateAnimation(u,R,o,i,it,D,j):(it&&(v=xi(v,o,it,j),R&&(R=xi(R,o,it,j))),_.setShape({points:v}),b&&b.setShape({points:v,stackedOnPoints:R})))}var lt=e.getModel("emphasis"),Mt=lt.get("focus"),xt=lt.get("blurScope"),St=lt.get("disabled");if(_.useStyle(ve(h.getLineStyle(),{fill:"none",stroke:vt,lineJoin:"bevel"})),jr(_,e,"lineStyle"),_.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var Pt=_.getState("emphasis").style;Pt.lineWidth=+_.style.lineWidth+1}Ae(_).seriesIndex=e.seriesIndex,hr(_,Mt,xt,St);var Nt=Tp(e.get("smooth")),ne=e.get("smoothMonotone");if(_.setShape({smooth:Nt,smoothMonotone:ne,connectNulls:j}),b){var Qt=u.getCalculationInfo("stackedOnSeries"),ie=0;b.useStyle(ve(f.getAreaStyle(),{fill:vt,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),Qt&&(ie=Tp(Qt.get("smooth"))),b.setShape({smooth:Nt,stackedOnSmooth:ie,smoothMonotone:ne,connectNulls:j}),jr(b,e,"areaStyle"),Ae(b).seriesIndex=e.seriesIndex,hr(b,Mt,xt,St)}var jt=function(be){a._changePolyState(be)};u.eachItemGraphicEl(function(be){be&&(be.onHoverStateChange=jt)}),this._polyline.onHoverStateChange=jt,this._data=u,this._coordSys=o,this._stackedOnPoints=R,this._points=v,this._step=it,this._valueOrigin=D,e.get("triggerLineEvent")&&(this.packEventData(e,_),b&&this.packEventData(e,b))},t.prototype.packEventData=function(e,n){Ae(n).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,n,i,a){var o=e.getData(),s=Pd(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=o.getLayout("points"),h=o.getItemGraphicEl(s);if(!h){var f=u[s*2],v=u[s*2+1];if(isNaN(f)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,v))return;var g=e.get("zlevel")||0,d=e.get("z")||0;h=new ws(o,s),h.x=f,h.y=v,h.setZ(g,d);var m=h.getSymbolPath().getTextContent();m&&(m.zlevel=g,m.z=d,m.z2=this._polyline.z2+1),h.__temp=!0,o.setItemGraphicEl(s,h),h.stopSymbolAnimation(!0),this.group.add(h)}h.highlight()}else ar.prototype.highlight.call(this,e,n,i,a)},t.prototype.downplay=function(e,n,i,a){var o=e.getData(),s=Pd(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else ar.prototype.downplay.call(this,e,n,i,a)},t.prototype._changePolyState=function(e){var n=this._polygon;Ml(this._polyline,e),n&&Ml(n,e)},t.prototype._newPolyline=function(e){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new m5({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(e,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new ky({shape:{points:e,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,n,i){var a,o,s=n.getBaseAxis(),u=s.inverse;n.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):n.type==="polar"&&(a=s.dim==="angle",o=!0);var h=e.hostModel,f=h.get("animationDuration");we(f)&&(f=f(null));var v=h.get("animationDelay")||0,g=we(v)?v(null):v;e.eachItemGraphicEl(function(d,m){var _=d;if(_){var b=[d.x,d.y],S=void 0,I=void 0,A=void 0;if(i)if(o){var D=i,V=n.pointToCoord(b);a?(S=D.startAngle,I=D.endAngle,A=-V[1]/180*Math.PI):(S=D.r0,I=D.r,A=V[0])}else{var R=i;a?(S=R.x,I=R.x+R.width,A=d.x):(S=R.y+R.height,I=R.y,A=d.y)}var Z=I===S?0:(A-S)/(I-S);u&&(Z=1-Z);var j=we(v)?v(m):f*Z+g,X=_.getSymbolPath(),et=X.getTextContent();_.attr({scaleX:0,scaleY:0}),_.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:j}),et&&et.animateFrom({style:{opacity:0}},{duration:300,delay:j}),X.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,n,i){var a=e.getModel("endLabel");if(zy(e)){var o=e.getData(),s=this._polyline,u=o.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var h=this._endLabel;h||(h=this._endLabel=new ur({z2:200}),h.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var f=C5(u);f>=0&&(Fr(s,Ar(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:f,defaultText:function(v,g,d){return d!=null?Iy(o,d):so(o,v)},enableTextSetter:!0},T5(a,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,n,i,a,o,s,u){var h=this._endLabel,f=this._polyline;if(h){e<1&&a.originalX==null&&(a.originalX=h.x,a.originalY=h.y);var v=i.getLayout("points"),g=i.hostModel,d=g.get("connectNulls"),m=s.get("precision"),_=s.get("distance")||0,b=u.getBaseAxis(),S=b.isHorizontal(),I=b.inverse,A=n.shape,D=I?S?A.x:A.y+A.height:S?A.x+A.width:A.y,V=(S?_:0)*(I?-1:1),R=(S?0:-_)*(I?-1:1),Z=S?"x":"y",j=A5(v,D,Z),X=j.range,et=X[1]-X[0],it=void 0;if(et>=1){if(et>1&&!d){var ht=Ip(v,X[0]);h.attr({x:ht[0]+V,y:ht[1]+R}),o&&(it=g.getRawValue(X[0]))}else{var ht=f.getPointOn(D,Z);ht&&h.attr({x:ht[0]+V,y:ht[1]+R});var vt=g.getRawValue(X[0]),st=g.getRawValue(X[1]);o&&(it=lw(i,m,vt,st,j.t))}a.lastFrameIndex=X[0]}else{var mt=e===1||a.lastFrameIndex>0?X[0]:0,ht=Ip(v,mt);o&&(it=g.getRawValue(mt)),h.attr({x:ht[0]+V,y:ht[1]+R})}if(o){var lt=Cc(h);typeof lt.setLabelText=="function"&&lt.setLabelText(it)}}},t.prototype._doUpdateAnimation=function(e,n,i,a,o,s,u){var h=this._polyline,f=this._polygon,v=e.hostModel,g=g5(this._data,e,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),d=g.current,m=g.stackedOnCurrent,_=g.next,b=g.stackedOnNext;if(o&&(d=xi(g.current,i,o,u),m=xi(g.stackedOnCurrent,i,o,u),_=xi(g.next,i,o,u),b=xi(g.stackedOnNext,i,o,u)),Ap(d,_)>3e3||f&&Ap(m,b)>3e3){h.stopAnimation(),h.setShape({points:_}),f&&(f.stopAnimation(),f.setShape({points:_,stackedOnPoints:b}));return}h.shape.__points=g.current,h.shape.points=d;var S={shape:{points:_}};g.current!==d&&(S.shape.__points=g.next),h.stopAnimation(),Ee(h,S,v),f&&(f.setShape({points:d,stackedOnPoints:m}),f.stopAnimation(),Ee(f,{shape:{stackedOnPoints:b}},v),h.shape.points!==f.shape.points&&(f.shape.points=h.shape.points));for(var I=[],A=g.status,D=0;D<A.length;D++){var V=A[D].cmd;if(V==="="){var R=e.getItemGraphicEl(A[D].idx1);R&&I.push({el:R,ptIdx:D})}}h.animators&&h.animators.length&&h.animators[0].during(function(){f&&f.dirtyShape();for(var Z=h.shape.__points,j=0;j<I.length;j++){var X=I[j].el,et=I[j].ptIdx*2;X.x=Z[et],X.y=Z[et+1],X.markRedraw()}})},t.prototype.remove=function(e){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ar),L5=I5;function Cs(r,t){return{seriesType:r,plan:uu(),reset:function(e){var n=e.getData(),i=e.coordinateSystem,a=e.pipelineContext,o=t||a.large;if(!!i){var s=Lt(i.dimensions,function(d){return n.mapDimension(d)}).slice(0,2),u=s.length,h=n.getCalculationInfo("stackResultDimension");io(n,s[0])&&(s[0]=h),io(n,s[1])&&(s[1]=h);var f=n.getStore(),v=n.getDimensionIndex(s[0]),g=n.getDimensionIndex(s[1]);return u&&{progress:function(d,m){for(var _=d.end-d.start,b=o&&oa(_*u),S=[],I=[],A=d.start,D=0;A<d.end;A++){var V=void 0;if(u===1){var R=f.get(v,A);V=i.dataToPoint(R,null,I)}else S[0]=f.get(v,A),S[1]=f.get(g,A),V=i.dataToPoint(S,null,I);o?(b[D++]=V[0],b[D++]=V[1]):m.setItemLayout(A,V.slice())}o&&m.setLayout("points",b)}}}}}}var D5={average:function(r){for(var t=0,e=0,n=0;n<r.length;n++)isNaN(r[n])||(t+=r[n],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},minmax:function(r){for(var t=-1/0,e=-1/0,n=0;n<r.length;n++){var i=r[n],a=Math.abs(i);a>t&&(t=a,e=i)}return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},P5=function(r){return Math.round(r.length/2)};function Oy(r){return{seriesType:r,reset:function(t,e,n){var i=t.getData(),a=t.get("sampling"),o=t.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var u=o.getBaseAxis(),h=o.getOtherAxis(u),f=u.getExtent(),v=n.getDevicePixelRatio(),g=Math.abs(f[1]-f[0])*(v||1),d=Math.round(s/g);if(isFinite(d)&&d>1){a==="lttb"&&t.setData(i.lttbDownSample(i.mapDimension(h.dim),1/d));var m=void 0;Se(a)?m=D5[a]:we(a)&&(m=a),m&&t.setData(i.downSample(i.mapDimension(h.dim),1/d,m,P5))}}}}}function k5(r){r.registerChartView(L5),r.registerSeriesModel(h5),r.registerLayout(Cs("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Oy("line"))}var Ny=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return ci(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(e),s=a.dataToPoint(o);if(i)J(a.getAxes(),function(g,d){if(g.type==="category"&&n!=null){var m=g.getTicksCoords(),_=g.getTickModel().get("alignWithLabel"),b=o[d],S=n[d]==="x1"||n[d]==="y1";if(S&&!_&&(b+=1),m.length<2)return;if(m.length===2){s[d]=g.toGlobalCoord(g.getExtent()[S?1:0]);return}for(var I=void 0,A=void 0,D=1,V=0;V<m.length;V++){var R=m[V].coord,Z=V===m.length-1?m[V-1].tickValue+D:m[V].tickValue;if(Z===b){A=R;break}else if(Z<b)I=R;else if(I!=null&&Z>b){A=(R+I)/2;break}V===1&&(D=Z-m[0].tickValue)}A==null&&(I?I&&(A=m[m.length-1].coord):A=m[0].coord),s[d]=g.toGlobalCoord(A)}});else{var u=this.getData(),h=u.getLayout("offset"),f=u.getLayout("size"),v=a.getBaseAxis().isHorizontal()?0:1;s[v]+=h+f/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(mr);mr.registerClass(Ny);var Rl=Ny,E5=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return ci(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>e&&(e=n),e},t.prototype.brushSelector=function(e,n,i){return i.rect(n.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=ba(Rl.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Rl),R5=E5;function z5(r,t){t=t||{};var e=t.isRoundCap;return function(n,i,a){var o=i.position;if(!o||o instanceof Array)return kd(n,i,a);var s=r(o),u=i.distance!=null?i.distance:5,h=this.shape,f=h.cx,v=h.cy,g=h.r,d=h.r0,m=(g+d)/2,_=h.startAngle,b=h.endAngle,S=(_+b)/2,I=e?Math.abs(g-d)/2:0,A=Math.cos,D=Math.sin,V=f+g*A(_),R=v+g*D(_),Z="left",j="top";switch(s){case"startArc":V=f+(d-u)*A(S),R=v+(d-u)*D(S),Z="center",j="top";break;case"insideStartArc":V=f+(d+u)*A(S),R=v+(d+u)*D(S),Z="center",j="bottom";break;case"startAngle":V=f+m*A(_)+js(_,u+I,!1),R=v+m*D(_)+Ks(_,u+I,!1),Z="right",j="middle";break;case"insideStartAngle":V=f+m*A(_)+js(_,-u+I,!1),R=v+m*D(_)+Ks(_,-u+I,!1),Z="left",j="middle";break;case"middle":V=f+m*A(S),R=v+m*D(S),Z="center",j="middle";break;case"endArc":V=f+(g+u)*A(S),R=v+(g+u)*D(S),Z="center",j="bottom";break;case"insideEndArc":V=f+(g-u)*A(S),R=v+(g-u)*D(S),Z="center",j="top";break;case"endAngle":V=f+m*A(b)+js(b,u+I,!0),R=v+m*D(b)+Ks(b,u+I,!0),Z="left",j="middle";break;case"insideEndAngle":V=f+m*A(b)+js(b,-u+I,!0),R=v+m*D(b)+Ks(b,-u+I,!0),Z="right",j="middle";break;default:return kd(n,i,a)}return n=n||{},n.x=V,n.y=R,n.align=Z,n.verticalAlign=j,n}}function O5(r,t,e,n){if(Xr(n)){r.setTextConfig({rotation:n});return}else if(Ot(t)){r.setTextConfig({rotation:0});return}var i=r.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,u,h=e(t);switch(h){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=a;break;case"endAngle":case"insideEndAngle":u=o;break;default:r.setTextConfig({rotation:0});return}var f=Math.PI*1.5-u;h==="middle"&&f>Math.PI/2&&f<Math.PI*1.5&&(f-=Math.PI),r.setTextConfig({rotation:f})}function js(r,t,e){return t*Math.sin(r)*(e?-1:1)}function Ks(r,t,e){return t*Math.cos(r)*(e?1:-1)}function sa(r,t,e){var n=r.get("borderRadius");if(n==null)return e?{cornerRadius:0}:null;Ot(n)||(n=[n,n,n,n]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Lt(n,function(a){return Cl(a,i)})}}var fh=Math.max,ch=Math.min;function N5(r,t){var e=r.getArea&&r.getArea();if(Sa(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var V5=function(r){_t(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,n,i,a){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,n,i):this._renderNormal(e,n,i,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,n){this._progressiveEls=[],this._incrementalRenderLarge(e,n)},t.prototype.eachRendered=function(e){go(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e,n,i,a){var o=this.group,s=e.getData(),u=this._data,h=e.coordinateSystem,f=h.getBaseAxis(),v;h.type==="cartesian2d"?v=f.isHorizontal():h.type==="polar"&&(v=f.dim==="angle");var g=e.isAnimationEnabled()?e:null,d=B5(e,h);d&&this._enableRealtimeSort(d,s,i);var m=e.get("clip",!0)||d,_=N5(h,s);o.removeClipPath();var b=e.get("roundCap",!0),S=e.get("showBackground",!0),I=e.getModel("backgroundStyle"),A=I.get("borderRadius")||0,D=[],V=this._backgroundEls,R=a&&a.isInitSort,Z=a&&a.type==="changeAxisOrder";function j(it){var ht=Js[h.type](s,it),vt=Z5(h,v,ht);return vt.useStyle(I.getItemStyle()),h.type==="cartesian2d"?vt.setShape("r",A):vt.setShape("cornerRadius",A),D[it]=vt,vt}s.diff(u).add(function(it){var ht=s.getItemModel(it),vt=Js[h.type](s,it,ht);if(S&&j(it),!(!s.hasValue(it)||!Ep[h.type](vt))){var st=!1;m&&(st=Lp[h.type](_,vt));var mt=Dp[h.type](e,s,it,vt,v,g,f.model,!1,b);d&&(mt.forceLabelAnimation=!0),Rp(mt,s,it,ht,vt,e,v,h.type==="polar"),R?mt.attr({shape:vt}):d?Pp(d,g,mt,vt,it,v,!1,!1):ir(mt,{shape:vt},e,it),s.setItemGraphicEl(it,mt),o.add(mt),mt.ignore=st}}).update(function(it,ht){var vt=s.getItemModel(it),st=Js[h.type](s,it,vt);if(S){var mt=void 0;V.length===0?mt=j(ht):(mt=V[ht],mt.useStyle(I.getItemStyle()),h.type==="cartesian2d"?mt.setShape("r",A):mt.setShape("cornerRadius",A),D[it]=mt);var lt=Js[h.type](s,it),Mt=By(v,lt,h);Ee(mt,{shape:Mt},g,it)}var xt=u.getItemGraphicEl(ht);if(!s.hasValue(it)||!Ep[h.type](st)){o.remove(xt);return}var St=!1;if(m&&(St=Lp[h.type](_,st),St&&o.remove(xt)),xt?Fn(xt):xt=Dp[h.type](e,s,it,st,v,g,f.model,!!xt,b),d&&(xt.forceLabelAnimation=!0),Z){var Pt=xt.getTextContent();if(Pt){var Nt=Cc(Pt);Nt.prevValue!=null&&(Nt.prevValue=Nt.value)}}else Rp(xt,s,it,vt,st,e,v,h.type==="polar");R?xt.attr({shape:st}):d?Pp(d,g,xt,st,it,v,!0,Z):Ee(xt,{shape:st},e,it,null),s.setItemGraphicEl(it,xt),xt.ignore=St,o.add(xt)}).remove(function(it){var ht=u.getItemGraphicEl(it);ht&&Al(ht,e,it)}).execute();var X=this._backgroundGroup||(this._backgroundGroup=new ee);X.removeAll();for(var et=0;et<D.length;++et)X.add(D[et]);o.add(X),this._backgroundEls=D,this._data=s},t.prototype._renderLarge=function(e,n,i){this._clear(),Op(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,n){this._removeBackground(),Op(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var n=e.get("clip",!0)&&Ms(e.coordinateSystem,!1,e),i=this.group;n?i.setClipPath(n):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,n,i){var a=this;if(!!n.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,e,i),this._isFirstFrame=!1;else{var s=function(u){var h=n.getItemGraphicEl(u),f=h&&h.shape;return f&&Math.abs(o.isHorizontal()?f.height:f.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,n,i){var a=[];return e.each(e.mapDimension(n.dim),function(o,s){var u=i(s);u=u==null?NaN:u,a.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Lt(a,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,n,i){for(var a=i.scale,o=e.mapDimension(i.dim),s=Number.MAX_VALUE,u=0,h=a.getOrdinalMeta().categories.length;u<h;++u){var f=e.rawIndexOf(o,a.getRawOrdinalNumber(u)),v=f<0?Number.MIN_VALUE:n(e.indexOfRawIndex(f));if(v>s)return!0;s=v}return!1},t.prototype._isOrderDifferentInView=function(e,n){for(var i=n.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,n,i,a){if(!!this._isOrderChangedWithinSameData(e,n,i)){var o=this._dataSort(e,i,n);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,n,i){var a=n.baseAxis,o=this._dataSort(e,a,function(s){return e.get(e.mapDimension(n.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},t.prototype.remove=function(e,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(e,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var n=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){Al(a,e,Ae(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ar),Lp={cartesian2d:function(r,t){var e=t.width<0?-1:1,n=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=r.x+r.width,a=r.y+r.height,o=fh(t.x,r.x),s=ch(t.x+t.width,i),u=fh(t.y,r.y),h=ch(t.y+t.height,a),f=s<o,v=h<u;return t.x=f&&o>i?s:o,t.y=v&&u>a?h:u,t.width=f?0:s-o,t.height=v?0:h-u,e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),f||v},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}var i=ch(t.r,r.r),a=fh(t.r0,r.r0);t.r=i,t.r0=a;var o=i-a<0;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}return o}},Dp={cartesian2d:function(r,t,e,n,i,a,o,s,u){var h=new Ue({shape:Ft({},n),z2:1});if(h.__dataIndex=e,h.name="item",a){var f=h.shape,v=i?"height":"width";f[v]=0}return h},polar:function(r,t,e,n,i,a,o,s,u){var h=!i&&u?Ed:Kn,f=new h({shape:n,z2:1});f.name="item";var v=Vy(i);if(f.calculateTextPosition=z5(v,{isRoundCap:h===Ed}),a){var g=f.shape,d=i?"r":"endAngle",m={};g[d]=i?n.r0:n.startAngle,m[d]=n[d],(s?Ee:ir)(f,{shape:m},a)}return f}};function B5(r,t){var e=r.get("realtimeSort",!0),n=t.getBaseAxis();if(e&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function Pp(r,t,e,n,i,a,o,s){var u,h;a?(h={x:n.x,width:n.width},u={y:n.y,height:n.height}):(h={y:n.y,height:n.height},u={x:n.x,width:n.width}),s||(o?Ee:ir)(e,{shape:u},t,i,null);var f=t?r.baseAxis.model:null;(o?Ee:ir)(e,{shape:h},f,i)}function kp(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var G5=["x","y","width","height"],F5=["cx","cy","r","startAngle","endAngle"],Ep={cartesian2d:function(r){return!kp(r,G5)},polar:function(r){return!kp(r,F5)}},Js={cartesian2d:function(r,t,e){var n=r.getItemLayout(t),i=e?$5(e,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+o*i/2,width:n.width-a*i,height:n.height-o*i}},polar:function(r,t,e){var n=r.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function H5(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function Vy(r){return function(t){var e=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+e;default:return n}}}(r)}function Rp(r,t,e,n,i,a,o,s){var u=t.getItemVisual(e,"style");if(s){if(!a.get("roundCap")){var f=r.shape,v=sa(n.getModel("itemStyle"),f,!0);Ft(f,v),r.setShape(f)}}else{var h=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",h)}r.useStyle(u);var g=n.getShallow("cursor");g&&r.attr("cursor",g);var d=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",m=Ar(n);Fr(r,m,{labelFetcher:a,labelDataIndex:e,defaultText:so(a.getData(),e),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:d});var _=r.getTextContent();if(s&&_){var b=n.get(["label","position"]);r.textConfig.inside=b==="middle"?!0:null,O5(r,b==="outside"?d:b,Vy(o),n.get(["label","rotate"]))}hw(_,m,a.getRawValue(e),function(I){return Iy(t,I)});var S=n.getModel(["emphasis"]);hr(r,S.get("focus"),S.get("blurScope"),S.get("disabled")),jr(r,n),H5(i)&&(r.style.fill="none",r.style.stroke="none",J(r.states,function(I){I.style&&(I.style.fill=I.style.stroke="none")}))}function $5(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,a)}var W5=function(){function r(){}return r}(),zp=function(r){_t(t,r);function t(e){var n=r.call(this,e)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new W5},t.prototype.buildPath=function(e,n){for(var i=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],h=this.barWidth,f=0;f<i.length;f+=3)u[a]=h,u[o]=i[f+2],s[a]=i[f+a],s[o]=i[f+o],e.rect(s[0],s[1],u[0],u[1])},t}(_r);function Op(r,t,e,n){var i=r.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),u=r.getModel("backgroundStyle"),h=i.getLayout("largeBackgroundPoints");if(h){var f=new zp({shape:{points:h},incremental:!!n,silent:!0,z2:0});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=s,f.useStyle(u.getItemStyle()),t.add(f),e&&e.push(f)}var v=new zp({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});v.baseDimIdx=a,v.largeDataIndices=o,v.barWidth=s,t.add(v),v.useStyle(i.getVisual("style")),Ae(v).seriesIndex=r.seriesIndex,r.get("silent")||(v.on("mousedown",Np),v.on("mousemove",Np)),e&&e.push(v)}var Np=fw(function(r){var t=this,e=U5(t,r.offsetX,r.offsetY);Ae(t).dataIndex=e>=0?e:null},30,!1);function U5(r,t,e){for(var n=r.baseDimIdx,i=1-n,a=r.shape.points,o=r.largeDataIndices,s=[],u=[],h=r.barWidth,f=0,v=a.length/3;f<v;f++){var g=f*3;if(u[n]=h,u[i]=a[g+2],s[n]=a[g+n],s[i]=a[g+i],u[i]<0&&(s[i]+=u[i],u[i]=-u[i]),t>=s[0]&&t<=s[0]+u[0]&&e>=s[1]&&e<=s[1]+u[1])return o[f]}return-1}function By(r,t,e){if(Sa(e,"cartesian2d")){var n=t,i=e.getArea();return{x:r?n.x:i.x,y:r?i.y:n.y,width:r?n.width:i.width,height:r?i.height:n.height}}else{var i=e.getArea(),a=t;return{cx:i.cx,cy:i.cy,r0:r?i.r0:a.r0,r:r?i.r:a.r,startAngle:r?a.startAngle:0,endAngle:r?a.endAngle:Math.PI*2}}}function Z5(r,t,e){var n=r.type==="polar"?Kn:Ue;return new n({shape:By(t,e,r),silent:!0,z2:0})}var q5=V5;function Y5(r){r.registerChartView(q5),r.registerSeriesModel(R5),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,_e(T1,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,A1("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Oy("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var Vp=Math.PI*2,Qs=Math.PI/180;function Gy(r,t){return nn(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Fy(r,t){var e=Gy(r,t),n=r.get("center"),i=r.get("radius");Ot(i)||(i=[0,i]);var a=$t(e.width,t.getWidth()),o=$t(e.height,t.getHeight()),s=Math.min(a,o),u=$t(i[0],s/2),h=$t(i[1],s/2),f,v,g=r.coordinateSystem;if(g){var d=g.dataToPoint(n);f=d[0]||0,v=d[1]||0}else Ot(n)||(n=[n,n]),f=$t(n[0],a)+e.x,v=$t(n[1],o)+e.y;return{cx:f,cy:v,r0:u,r:h}}function X5(r,t,e){t.eachSeriesByType(r,function(n){var i=n.getData(),a=i.mapDimension("value"),o=Gy(n,e),s=Fy(n,e),u=s.cx,h=s.cy,f=s.r,v=s.r0,g=-n.get("startAngle")*Qs,d=n.get("endAngle"),m=n.get("padAngle")*Qs;d=d==="auto"?g-Vp:-d*Qs;var _=n.get("minAngle")*Qs,b=_+m,S=0;i.each(a,function(lt){!isNaN(lt)&&S++});var I=i.getSum(a),A=Math.PI/(I||S)*2,D=n.get("clockwise"),V=n.get("roseType"),R=n.get("stillShowZeroSum"),Z=i.getDataExtent(a);Z[0]=0;var j=D?1:-1,X=[g,d],et=j*m/2;cw(X,!D),g=X[0],d=X[1];var it=Math.abs(d-g),ht=it,vt=0,st=g;if(i.setLayout({viewRect:o,r:f}),i.each(a,function(lt,Mt){var xt;if(isNaN(lt)){i.setItemLayout(Mt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:D,cx:u,cy:h,r0:v,r:V?NaN:f});return}V!=="area"?xt=I===0&&R?A:lt*A:xt=it/S,xt<b?(xt=b,ht-=b):vt+=lt;var St=st+j*xt,Pt=0,Nt=0;m>xt?(Pt=st+j*xt/2,Nt=Pt):(Pt=st+et,Nt=St-et),i.setItemLayout(Mt,{angle:xt,startAngle:Pt,endAngle:Nt,clockwise:D,cx:u,cy:h,r0:v,r:V?He(lt,Z,[v,f]):f}),st=St}),ht<Vp&&S)if(ht<=.001){var mt=it/S;i.each(a,function(lt,Mt){if(!isNaN(lt)){var xt=i.getItemLayout(Mt);xt.angle=mt;var St=0,Pt=0;mt<m?(St=g+j*(Mt+1/2)*mt,Pt=St):(St=g+j*Mt*mt+et,Pt=g+j*(Mt+1)*mt-et),xt.startAngle=St,xt.endAngle=Pt}})}else A=ht/vt,st=g,i.each(a,function(lt,Mt){if(!isNaN(lt)){var xt=i.getItemLayout(Mt),St=xt.angle===b?b:lt*A,Pt=0,Nt=0;St<m?(Pt=st+j*St/2,Nt=Pt):(Pt=st+et,Nt=st+j*St-et),xt.startAngle=Pt,xt.endAngle=Nt,st+=j*St}})})}function As(r){return{seriesType:r,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=t.getData();i.filterSelf(function(a){for(var o=i.getName(a),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var j5=Math.PI/180;function Bp(r,t,e,n,i,a,o,s,u,h){if(r.length<2)return;function f(_){for(var b=_.rB,S=b*b,I=0;I<_.list.length;I++){var A=_.list[I],D=Math.abs(A.label.y-e),V=n+A.len,R=V*V,Z=Math.sqrt((1-Math.abs(D*D/S))*R),j=t+(Z+A.len2)*i,X=j-A.label.x,et=A.targetTextWidth-X*i;Hy(A,et,!0),A.label.x=j}}function v(_){for(var b={list:[],maxY:0},S={list:[],maxY:0},I=0;I<_.length;I++)if(_[I].labelAlignTo==="none"){var A=_[I],D=A.label.y>e?S:b,V=Math.abs(A.label.y-e);if(V>=D.maxY){var R=A.label.x-t-A.len2*i,Z=n+A.len,j=Math.abs(R)<Z?Math.sqrt(V*V/(1-R*R/Z/Z)):Z;D.rB=j,D.maxY=V}D.list.push(A)}f(b),f(S)}for(var g=r.length,d=0;d<g;d++)if(r[d].position==="outer"&&r[d].labelAlignTo==="labelLine"){var m=r[d].label.x-h;r[d].linePoints[1][0]+=m,r[d].label.x=h}x1(r,u,u+o)&&v(r)}function K5(r,t,e,n,i,a,o,s){for(var u=[],h=[],f=Number.MAX_VALUE,v=-Number.MAX_VALUE,g=0;g<r.length;g++){var d=r[g].label;vh(r[g])||(d.x<t?(f=Math.min(f,d.x),u.push(r[g])):(v=Math.max(v,d.x),h.push(r[g])))}for(var g=0;g<r.length;g++){var m=r[g];if(!vh(m)&&m.linePoints){if(m.labelStyleWidth!=null)continue;var d=m.label,_=m.linePoints,b=void 0;m.labelAlignTo==="edge"?d.x<t?b=_[2][0]-m.labelDistance-o-m.edgeDistance:b=o+i-m.edgeDistance-_[2][0]-m.labelDistance:m.labelAlignTo==="labelLine"?d.x<t?b=f-o-m.bleedMargin:b=o+i-v-m.bleedMargin:d.x<t?b=d.x-o-m.bleedMargin:b=o+i-d.x-m.bleedMargin,m.targetTextWidth=b,Hy(m,b)}}Bp(h,t,e,n,1,i,a,o,s,v),Bp(u,t,e,n,-1,i,a,o,s,f);for(var g=0;g<r.length;g++){var m=r[g];if(!vh(m)&&m.linePoints){var d=m.label,_=m.linePoints,S=m.labelAlignTo==="edge",I=d.style.padding,A=I?I[1]+I[3]:0,D=d.style.backgroundColor?0:A,V=m.rect.width+D,R=_[1][0]-_[2][0];S?d.x<t?_[2][0]=o+m.edgeDistance+V+m.labelDistance:_[2][0]=o+i-m.edgeDistance-V-m.labelDistance:(d.x<t?_[2][0]=d.x+m.labelDistance:_[2][0]=d.x-m.labelDistance,_[1][0]=_[2][0]+R),_[1][1]=_[2][1]=d.y}}}function Hy(r,t,e){if(e===void 0&&(e=!1),r.labelStyleWidth==null){var n=r.label,i=n.style,a=r.rect,o=i.backgroundColor,s=i.padding,u=s?s[1]+s[3]:0,h=i.overflow,f=a.width+(o?0:u);if(t<f||e){var v=a.height;if(h&&h.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-u);var g=n.getBoundingRect();n.setStyle("width",Math.ceil(g.width)),n.setStyle("backgroundColor",o)}else{var d=t-u,m=t<f?d:e?d>r.unconstrainedWidth?null:d:null;n.setStyle("width",m)}var _=n.getBoundingRect();a.width=_.width;var b=(n.style.margin||0)+2.1;a.height=_.height+b,a.y-=(a.height-v)/2}}}function vh(r){return r.position==="center"}function J5(r){var t=r.getData(),e=[],n,i,a=!1,o=(r.get("minShowLabelAngle")||0)*j5,s=t.getLayout("viewRect"),u=t.getLayout("r"),h=s.width,f=s.x,v=s.y,g=s.height;function d(R){R.ignore=!0}function m(R){if(!R.ignore)return!0;for(var Z in R.states)if(R.states[Z].ignore===!1)return!0;return!1}t.each(function(R){var Z=t.getItemGraphicEl(R),j=Z.shape,X=Z.getTextContent(),et=Z.getTextGuideLine(),it=t.getItemModel(R),ht=it.getModel("label"),vt=ht.get("position")||it.get(["emphasis","label","position"]),st=ht.get("distanceToLabelLine"),mt=ht.get("alignTo"),lt=$t(ht.get("edgeDistance"),h),Mt=ht.get("bleedMargin"),xt=it.getModel("labelLine"),St=xt.get("length");St=$t(St,h);var Pt=xt.get("length2");if(Pt=$t(Pt,h),Math.abs(j.endAngle-j.startAngle)<o){J(X.states,d),X.ignore=!0,et&&(J(et.states,d),et.ignore=!0);return}if(!!m(X)){var Nt=(j.startAngle+j.endAngle)/2,ne=Math.cos(Nt),Qt=Math.sin(Nt),ie,jt,be,he;n=j.cx,i=j.cy;var Ut=vt==="inside"||vt==="inner";if(vt==="center")ie=j.cx,jt=j.cy,he="center";else{var qt=(Ut?(j.r+j.r0)/2*ne:j.r*ne)+n,Yt=(Ut?(j.r+j.r0)/2*Qt:j.r*Qt)+i;if(ie=qt+ne*3,jt=Yt+Qt*3,!Ut){var Xt=qt+ne*(St+u-j.r),fr=Yt+Qt*(St+u-j.r),tr=Xt+(ne<0?-1:1)*Pt,$e=fr;mt==="edge"?ie=ne<0?f+lt:f+h-lt:ie=tr+(ne<0?-st:st),jt=$e,be=[[qt,Yt],[Xt,fr],[tr,$e]]}he=Ut?"center":mt==="edge"?ne>0?"right":"left":ne>0?"left":"right"}var er=Math.PI,rr=0,Tr=ht.get("rotate");if(Xr(Tr))rr=Tr*(er/180);else if(vt==="center")rr=0;else if(Tr==="radial"||Tr===!0){var Tn=ne<0?-Nt+er:-Nt;rr=Tn}else if(Tr==="tangential"&&vt!=="outside"&&vt!=="outer"){var Vr=Math.atan2(ne,Qt);Vr<0&&(Vr=er*2+Vr);var Vi=Qt>0;Vi&&(Vr=er+Vr),rr=Vr-er}if(a=!!rr,X.x=ie,X.y=jt,X.rotation=rr,X.setStyle({verticalAlign:"middle"}),Ut){X.setStyle({align:he});var qe=X.states.select;qe&&(qe.x+=X.x,qe.y+=X.y)}else{var Ge=X.getBoundingRect().clone();Ge.applyTransform(X.getComputedTransform());var Ca=(X.style.margin||0)+2.1;Ge.y-=Ca/2,Ge.height+=Ca,e.push({label:X,labelLine:et,position:vt,len:St,len2:Pt,minTurnAngle:xt.get("minTurnAngle"),maxSurfaceAngle:xt.get("maxSurfaceAngle"),surfaceNormal:new We(ne,Qt),linePoints:be,textAlign:he,labelDistance:st,labelAlignTo:mt,edgeDistance:lt,bleedMargin:Mt,rect:Ge,unconstrainedWidth:Ge.width,labelStyleWidth:X.style.width})}Z.setTextConfig({inside:Ut})}}),!a&&r.get("avoidLabelOverlap")&&K5(e,n,i,u,h,g,f,v);for(var _=0;_<e.length;_++){var b=e[_],S=b.label,I=b.labelLine,A=isNaN(S.x)||isNaN(S.y);if(S){S.setStyle({align:b.textAlign}),A&&(J(S.states,d),S.ignore=!0);var D=S.states.select;D&&(D.x+=S.x,D.y+=S.y)}if(I){var V=b.linePoints;A||!V?(J(I.states,d),I.ignore=!0):(cy(V,b.minTurnAngle),_M(V,b.surfaceNormal,b.maxSurfaceAngle),I.setShape({points:V}),S.__hostTarget.textGuideLineConfig={anchor:new We(V[0][0],V[0][1])})}}}var Q5=function(r){_t(t,r);function t(e,n,i){var a=r.call(this)||this;a.z2=2;var o=new ur;return a.setTextContent(o),a.updateData(e,n,i,!0),a}return t.prototype.updateData=function(e,n,i,a){var o=this,s=e.hostModel,u=e.getItemModel(n),h=u.getModel("emphasis"),f=e.getItemLayout(n),v=Ft(sa(u.getModel("itemStyle"),f,!0),f);if(isNaN(v.startAngle)){o.setShape(v);return}if(a){o.setShape(v);var g=s.getShallow("animationType");s.ecModel.ssr?(ir(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=v.cx,o.originY=v.cy):g==="scale"?(o.shape.r=f.r0,ir(o,{shape:{r:f.r}},s,n)):i!=null?(o.setShape({startAngle:i,endAngle:i}),ir(o,{shape:{startAngle:f.startAngle,endAngle:f.endAngle}},s,n)):(o.shape.endAngle=f.startAngle,Ee(o,{shape:{endAngle:f.endAngle}},s,n))}else Fn(o),Ee(o,{shape:v},s,n);o.useStyle(e.getItemVisual(n,"style")),jr(o,u);var d=(f.startAngle+f.endAngle)/2,m=s.get("selectedOffset"),_=Math.cos(d)*m,b=Math.sin(d)*m,S=u.getShallow("cursor");S&&o.attr("cursor",S),this._updateLabel(s,e,n),o.ensureState("emphasis").shape=Ft({r:f.r+(h.get("scale")&&h.get("scaleSize")||0)},sa(h.getModel("itemStyle"),f)),Ft(o.ensureState("select"),{x:_,y:b,shape:sa(u.getModel(["select","itemStyle"]),f)}),Ft(o.ensureState("blur"),{shape:sa(u.getModel(["blur","itemStyle"]),f)});var I=o.getTextGuideLine(),A=o.getTextContent();I&&Ft(I.ensureState("select"),{x:_,y:b}),Ft(A.ensureState("select"),{x:_,y:b}),hr(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},t.prototype._updateLabel=function(e,n,i){var a=this,o=n.getItemModel(i),s=o.getModel("labelLine"),u=n.getItemVisual(i,"style"),h=u&&u.fill,f=u&&u.opacity;Fr(a,Ar(o),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:h,defaultOpacity:f,defaultText:e.getFormattedLabel(i,"normal")||n.getName(i)});var v=a.getTextContent();a.setTextConfig({position:null,rotation:null}),v.attr({z2:10});var g=e.get(["label","position"]);if(g!=="outside"&&g!=="outer")a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new Cn,this.setTextGuideLine(d)),Oc(this,Nc(o),{stroke:h,opacity:mo(s.get(["lineStyle","opacity"]),f,1)})}},t}(Kn),t6=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,i,a){var o=e.getData(),s=this._data,u=this.group,h;if(!s&&o.count()>0){for(var f=o.getItemLayout(0),v=1;isNaN(f&&f.startAngle)&&v<o.count();++v)f=o.getItemLayout(v);f&&(h=f.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var g=new Kn({shape:Fy(e,i)});g.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=g,u.add(g)}o.diff(s).add(function(d){var m=new Q5(o,d,h);o.setItemGraphicEl(d,m),u.add(m)}).update(function(d,m){var _=s.getItemGraphicEl(m);_.updateData(o,d,h),_.off("click"),u.add(_),o.setItemGraphicEl(d,_)}).remove(function(d){var m=s.getItemGraphicEl(d);Al(m,e,d)}).execute(),J5(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=e[0]-a.cx,s=e[1]-a.cy,u=Math.sqrt(o*o+s*s);return u<=a.r&&u>=a.r0}},t.type="pie",t}(ar),e6=t6,r6=function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,e)},r}(),Ts=r6,n6=Qe(),i6=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ts(Ht(this.getData,this),Ht(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return ps(this,{coordDimensions:["value"],encodeDefaulter:_e(Tc,this)})},t.prototype.getDataParams=function(e){var n=this.getData(),i=n6(n),a=i.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(u){o.push(u)}),a=i.seats=vw(o,n.hostModel.get("percentPrecision"))}var s=r.prototype.getDataParams.call(this,e);return s.percent=a[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){gs(e,"labelLine",["show"]);var n=e.labelLine,i=e.emphasis.labelLine;n.show=n.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(mr),a6=i6;function o6(r){return{seriesType:r,reset:function(t,e){var n=t.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),o=n.get(a,i);return!(Xr(o)&&!isNaN(o)&&o<0)})}}}function s6(r){r.registerChartView(e6),r.registerSeriesModel(a6),I1("pie",r.registerAction),r.registerLayout(_e(X5,"pie")),r.registerProcessor(As("pie")),r.registerProcessor(o6("pie"))}var l6=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return ci(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e==null?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(mr),u6=l6,$y=4,h6=function(){function r(){}return r}(),f6=function(r){_t(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new h6},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,n){var i=n.points,a=n.size,o=this.symbolProxy,s=o.shape,u=e.getContext?e.getContext():e,h=u&&a[0]<$y,f=this.softClipShape,v;if(h){this._ctx=u;return}for(this._ctx=null,v=this._off;v<i.length;){var g=i[v++],d=i[v++];isNaN(g)||isNaN(d)||f&&!f.contain(g,d)||(s.x=g-a[0]/2,s.y=d-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(e,s,!0))}this.incremental&&(this._off=v,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,n=e.points,i=e.size,a=this._ctx,o=this.softClipShape,s;if(!!a){for(s=this._off;s<n.length;){var u=n[s++],h=n[s++];isNaN(u)||isNaN(h)||o&&!o.contain(u,h)||a.fillRect(u-i[0]/2,h-i[1]/2,i[0],i[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(e,n){for(var i=this.shape,a=i.points,o=i.size,s=Math.max(o[0],4),u=Math.max(o[1],4),h=a.length/2-1;h>=0;h--){var f=h*2,v=a[f]-s/2,g=a[f+1]-u/2;if(e>=v&&n>=g&&e<=v+s&&n<=g+u)return h}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.points,a=n.size,o=a[0],s=a[1],u=1/0,h=1/0,f=-1/0,v=-1/0,g=0;g<i.length;){var d=i[g++],m=i[g++];u=Math.min(d,u),f=Math.max(d,f),h=Math.min(m,h),v=Math.max(m,v)}e=this._rect=new Je(u-o/2,h-s/2,f-u+o,v-h+s)}return e},t}(_r),c6=function(){function r(){this.group=new ee}return r.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},r.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;e=new Float32Array(e.buffer,a,i)}n.setShape("points",e),n.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],a=e.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var s=o.length,u=new Float32Array(s+a.length);u.set(o),u.set(a,s),i.endIndex=t.end,i.setShape({points:u})}else{this._newAdded=[];var h=this._create();h.startIndex=t.start,h.endIndex=t.end,h.incremental=!0,h.setShape({points:a}),this._setCommon(h,e,n)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new f6({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=Gr(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<$y;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),u=s&&s.fill;u&&t.setColor(u);var h=Ae(t);h.seriesIndex=i.seriesIndex,t.on("mousemove",function(f){h.dataIndex=null;var v=t.hoverDataIdx;v>=0&&(h.dataIndex=v+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),v6=c6,d6=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,i){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=Cs("").reset(e,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(!!e.get("clip",!0)){var n=e.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,n){var i=this._symbolDraw,a=n.pipelineContext,o=a.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new v6:new Ss,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ar),p6=d6,g6=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Pr),m6=g6,zf=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Rr).models[0]},t.type="cartesian2dAxis",t}(Pr);An(zf,bs);var Wy={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},y6=Be({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Wy),$c=Be({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Wy),_6=Be({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},$c),x6=ve({logBase:10},$c),Uy={category:y6,value:$c,time:_6,log:x6},b6={value:1,category:1,time:1,log:1};function lo(r,t,e,n){J(b6,function(i,a){var o=Be(Be({},Uy[a],!0),n,!0),s=function(u){_t(h,u);function h(){var f=u!==null&&u.apply(this,arguments)||this;return f.type=t+"Axis."+a,f}return h.prototype.mergeDefaultAndTheme=function(f,v){var g=dw(this),d=g?Ic(f):{},m=v.getTheme();Be(f,m.get(a+"Axis")),Be(f,this.getDefaultOption()),f.type=Gp(f),g&&Lc(f,d,g)},h.prototype.optionUpdated=function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=pw.createByAxisModel(this))},h.prototype.getCategories=function(f){var v=this.option;if(v.type==="category")return f?v.data:this.__ordinalMeta.categories},h.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},h.type=t+"Axis."+a,h.defaultOption=o,h}(e);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(t+"Axis",Gp)}function Gp(r){return r.type||(r.data?"category":"value")}var w6=function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return Lt(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Cr(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r}(),S6=w6,Of=["x","y"];function Fp(r){return r.type==="interval"||r.type==="time"}var M6=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Of,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!Fp(e)||!Fp(n))){var i=e.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),u=i[1]-i[0],h=a[1]-a[0];if(!(!u||!h)){var f=(s[0]-o[0])/u,v=(s[1]-o[1])/h,g=o[0]-i[0]*f,d=o[1]-a[0]*v,m=this._transform=[f,0,0,v,g,d];this._invTransform=iu([],m)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,n){var i=this.dataToPoint(e),a=this.dataToPoint(n),o=this.getArea(),s=new Je(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,n,i){i=i||[];var a=e[0],o=e[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return ca(i,e,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,n)),i[1]=u.toGlobalCoord(u.dataToCoord(o,n)),i},t.prototype.clampData=function(e,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),u=i.parse(e[0]),h=a.parse(e[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),h),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(e,n){var i=[];if(this._invTransform)return ca(i,e,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(e[0]),n),i[1]=o.coordToData(o.toLocalCoord(e[1]),n),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-e,o=Math.min(i[0],i[1])-e,s=Math.max(n[0],n[1])-a+e,u=Math.max(i[0],i[1])-o+e;return new Je(a,o,s,u)},t}(S6),C6=function(r){_t(t,r);function t(e,n,i,a,o){var s=r.call(this,e,n,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),e&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(e,n){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Hn),A6=C6,dh=Math.log;function Zy(r,t,e){var n=Tl.prototype,i=n.getTicks.call(e),a=n.getTicks.call(e,!0),o=i.length-1,s=n.getInterval.call(e),u=gw(r,t),h=u.extent,f=u.fixMin,v=u.fixMax;if(r.type==="log"){var g=dh(r.base);h=[dh(h[0])/g,dh(h[1])/g]}r.setExtent(h[0],h[1]),r.calcNiceExtent({splitNumber:o,fixMin:f,fixMax:v});var d=n.getExtent.call(r);f&&(h[0]=d[0]),v&&(h[1]=d[1]);var m=n.getInterval.call(r),_=h[0],b=h[1];if(f&&v)m=(b-_)/o;else if(f)for(b=h[0]+m*o;b<h[1]&&isFinite(b)&&isFinite(h[1]);)m=Yu(m),b=h[0]+m*o;else if(v)for(_=h[1]-m*o;_>h[0]&&isFinite(_)&&isFinite(h[0]);)m=Yu(m),_=h[1]-m*o;else{var S=r.getTicks().length-1;S>o&&(m=Yu(m));var I=m*o;b=Math.ceil(h[1]/m)*m,_=Nn(b-I),_<0&&h[0]>=0?(_=0,b=Nn(I)):b>0&&h[1]<=0&&(b=0,_=-Nn(I))}var A=(i[0].value-a[0].value)/s,D=(i[o].value-a[o].value)/s;n.setExtent.call(r,_+m*A,b+m*D),n.setInterval.call(r,m),(A||D)&&n.setNiceExtent.call(r,_+m,b-m)}var T6=function(){function r(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Of,this._initCartesian(t,e,n),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model);function i(o){var s,u=lr(o),h=u.length;if(!!h){for(var f=[],v=h-1;v>=0;v--){var g=+u[v],d=o[g],m=d.model,_=d.scale;Cf(_)&&m.get("alignTicks")&&m.get("interval")==null?f.push(d):(ao(_,m),Cf(_)&&(s=d))}f.length&&(s||(s=f.pop(),ao(s.scale,s.model)),J(f,function(b){Zy(b.scale,b.model,s.scale)}))}}i(n.x),i(n.y);var a={};J(n.x,function(o){Hp(n,"y",o,a)}),J(n.y,function(o){Hp(n,"x",o,a)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,n){var i=t.getBoxLayoutParams(),a=!n&&t.get("containLabel"),o=nn(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;u(),a&&(J(s,function(h){if(!h.model.get(["axisLabel","inside"])){var f=mw(h);if(f){var v=h.isHorizontal()?"height":"width",g=h.model.get(["axisLabel","margin"]);o[v]-=f[v]+g,h.position==="top"?o.y+=f.height+g:h.position==="left"&&(o.x+=f.width+g)}}}),u()),J(this._coordsList,function(h){h.calcAffineTransform()});function u(){J(s,function(h){var f=h.isHorizontal(),v=f?[0,o.width]:[0,o.height],g=h.inverse?1:0;h.setExtent(v[g],v[1-g]),I6(h,f?o.x:o.y)})}},r.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(n!=null)return n[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var n="x"+t+"y"+e;return this._coordsMap[n]}Dr(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e)return a[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,n=t.xAxisModel||e&&e.getReferringComponents("xAxis",Rr).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",Rr).models[0],a=t.gridModel,o=this._coordsList,s,u;if(e)s=e.coordinateSystem,Ye(o,s)<0&&(s=null);else if(n&&i)s=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)u=this.getAxis("x",n.componentIndex);else if(i)u=this.getAxis("y",i.componentIndex);else if(a){var h=a.coordinateSystem;h===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(e.eachComponent("xAxis",h("x"),this),e.eachComponent("yAxis",h("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,J(s.x,function(f,v){J(s.y,function(g,d){var m="x"+v+"y"+d,_=new M6(m);_.master=i,_.model=t,i._coordsMap[m]=_,i._coordsList.push(_),_.addAxis(f),_.addAxis(g)})});function h(f){return function(v,g){if(!!ph(v,t)){var d=v.get("position");f==="x"?d!=="top"&&d!=="bottom"&&(d=o.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=o.left?"right":"left"),o[d]=!0;var m=new A6(f,hu(v),[0,0],v.get("type"),d),_=m.type==="category";m.onBand=_&&v.get("boundaryGap"),m.inverse=v.get("inverse"),v.axis=m,m.model=v,m.grid=a,m.index=g,a._axesList.push(m),s[f][g]=m,u[f]++}}}},r.prototype._updateScale=function(t,e){J(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(Rd(i)){var a=zd(i),o=a.xAxisModel,s=a.yAxisModel;if(!ph(o,e)||!ph(s,e))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),h=i.getData(),f=u.getAxis("x"),v=u.getAxis("y");n(h,f),n(h,v)}},this);function n(i,a){J(Mf(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},r.prototype.getTooltipAxes=function(t){var e=[],n=[];return J(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(a);Ye(e,a)<0&&e.push(a),Ye(n,o)<0&&n.push(o)}),{baseAxes:e,otherAxes:n}},r.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,a){var o=new r(i,t,e);o.name="grid_"+a,o.resize(i,e,!0),i.coordinateSystem=o,n.push(o)}),t.eachSeries(function(i){if(!!Rd(i)){var a=zd(i),o=a.xAxisModel,s=a.yAxisModel,u=o.getCoordSysModel(),h=u.coordinateSystem;i.coordinateSystem=h.getCartesian(o.componentIndex,s.componentIndex)}}),n},r.dimensions=Of,r}();function ph(r,t){return r.getCoordSysModel()===t}function Hp(r,t,e,n){e.getAxesOnZeroOf=function(){return a?[a]:[]};var i=r[t],a,o=e.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)$p(i[u])&&(a=i[u]);else for(var h in i)if(i.hasOwnProperty(h)&&$p(i[h])&&!n[f(i[h])]){a=i[h];break}a&&(n[f(a)]=!0);function f(v){return v.dim+"_"+v.index}}function $p(r){return r&&r.type!=="category"&&r.type!=="time"&&yw(r)}function I6(r,t){var e=r.getExtent(),n=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+t}:function(i){return n-i+t},r.toLocalCoord=r.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}var L6=T6,Nf=Qe();function qy(r,t,e,n){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),u=n.coordinateSystem.getRect(),h=i.getTicksCoords({tickModel:a,clamp:!0});if(!!h.length){var f=s.length,v=Nf(r).splitAreaColors,g=de(),d=0;if(v)for(var m=0;m<h.length;m++){var _=v.get(h[m].tickValue);if(_!=null){d=(_+(f-1)*m)%f;break}}var b=i.toGlobalCoord(h[0].coord),S=o.getAreaStyle();s=Ot(s)?s:[s];for(var m=1;m<h.length;m++){var I=i.toGlobalCoord(h[m].coord),A=void 0,D=void 0,V=void 0,R=void 0;i.isHorizontal()?(A=b,D=u.y,V=I-A,R=u.height,b=A+V):(A=u.x,D=b,V=u.width,R=I-D,b=D+R);var Z=h[m-1].tickValue;Z!=null&&g.set(Z,d),t.add(new Ue({anid:Z!=null?"area_"+Z:null,shape:{x:A,y:D,width:V,height:R},style:ve({fill:s[d]},S),autoBatch:!0,silent:!0})),d=(d+1)%f}Nf(r).splitAreaColors=g}}}function Yy(r){Nf(r).splitAreaColors=null}var D6=["axisLine","axisTickLabel","axisName"],P6=["splitArea","splitLine","minorSplitLine"],Xy=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ee,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),u=_w(s,e),h=new Di(e,Ft({handleAutoShown:function(v){for(var g=s.coordinateSystem.getCartesians(),d=0;d<g.length;d++)if(Cf(g[d].getOtherAxis(e.axis).scale))return!0;return!1}},u));J(D6,h.add,h),this._axisGroup.add(h.getGroup()),J(P6,function(v){e.get([v,"show"])&&k6[v](this,this._axisGroup,e,s)},this);var f=a&&a.type==="changeAxisOrder"&&a.isInitSort;f||fu(o,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)}},t.prototype.remove=function(){Yy(this)},t.type="cartesianAxis",t}(yo),k6={splitLine:function(r,t,e,n){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=Ot(s)?s:[s];for(var u=n.coordinateSystem.getRect(),h=i.isHorizontal(),f=0,v=i.getTicksCoords({tickModel:a}),g=[],d=[],m=o.getLineStyle(),_=0;_<v.length;_++){var b=i.toGlobalCoord(v[_].coord);h?(g[0]=b,g[1]=u.y,d[0]=b,d[1]=u.y+u.height):(g[0]=u.x,g[1]=b,d[0]=u.x+u.width,d[1]=b);var S=f++%s.length,I=v[_].tickValue,A=new Vn({anid:I!=null?"line_"+v[_].tickValue:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:d[0],y2:d[1]},style:ve({stroke:s[S]},m),silent:!0});Af(A.shape,m.lineWidth),t.add(A)}}},minorSplitLine:function(r,t,e,n){var i=e.axis,a=e.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=n.coordinateSystem.getRect(),u=i.isHorizontal(),h=i.getMinorTicksCoords();if(!!h.length)for(var f=[],v=[],g=o.getLineStyle(),d=0;d<h.length;d++)for(var m=0;m<h[d].length;m++){var _=i.toGlobalCoord(h[d][m].coord);u?(f[0]=_,f[1]=s.y,v[0]=_,v[1]=s.y+s.height):(f[0]=s.x,f[1]=_,v[0]=s.x+s.width,v[1]=_);var b=new Vn({anid:"minor_line_"+h[d][m].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:v[0],y2:v[1]},style:g,silent:!0});Af(b.shape,g.lineWidth),t.add(b)}},splitArea:function(r,t,e,n){qy(r,t,e,n)}},jy=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(Xy),E6=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=jy.type,e}return t.type="yAxis",t}(Xy),R6=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,n){this.group.removeAll(),e.get("show")&&this.group.add(new Ue({shape:e.coordinateSystem.getRect(),style:ve({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Hr),Wp={offset:0};function Ky(r){r.registerComponentView(R6),r.registerComponentModel(m6),r.registerCoordinateSystem("cartesian2d",L6),lo(r,"x",zf,Wp),lo(r,"y",zf,Wp),r.registerComponentView(jy),r.registerComponentView(E6),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function z6(r){pe(Ky),r.registerSeriesModel(u6),r.registerChartView(p6),r.registerLayout(Cs("scatter"))}function O6(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(!!i){var a=i.getIndicatorAxes();J(a,function(o,s){e.each(e.mapDimension(a[s].dim),function(u,h){n[h]=n[h]||[];var f=i.dataToPoint(u,s);n[h][s]=Up(f)?f:Zp(i)})}),e.each(function(o){var s=xw(n[o],function(u){return Up(u)})||Zp(i);n[o].push(s.slice()),e.setItemLayout(o,n[o])})}})}function Up(r){return!isNaN(r[0])&&!isNaN(r[1])}function Zp(r){return[r.cx,r.cy]}function N6(r){var t=r.polar;if(t){Ot(t)||(t=[t]);var e=[];J(t,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],Ot(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):e.push(n)}),r.polar=e}J(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var V6=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.coordinateSystem,o=this.group,s=e.getData(),u=this._data;function h(g,d){var m=g.getItemVisual(d,"symbol")||"circle";if(m!=="none"){var _=po(g.getItemVisual(d,"symbolSize")),b=Gr(m,-1,-1,2,2),S=g.getItemVisual(d,"symbolRotate")||0;return b.attr({style:{strokeNoScale:!0},z2:100,scaleX:_[0]/2,scaleY:_[1]/2,rotation:S*Math.PI/180||0}),b}}function f(g,d,m,_,b,S){m.removeAll();for(var I=0;I<d.length-1;I++){var A=h(_,b);A&&(A.__dimIdx=I,g[I]?(A.setPosition(g[I]),_o[S?"initProps":"updateProps"](A,{x:d[I][0],y:d[I][1]},e,b)):A.setPosition(d[I]),m.add(A))}}function v(g){return Lt(g,function(d){return[a.cx,a.cy]})}s.diff(u).add(function(g){var d=s.getItemLayout(g);if(!!d){var m=new Mn,_=new Cn,b={shape:{points:d}};m.shape.points=v(d),_.shape.points=v(d),ir(m,b,e,g),ir(_,b,e,g);var S=new ee,I=new ee;S.add(_),S.add(m),S.add(I),f(_.shape.points,d,I,s,g,!0),s.setItemGraphicEl(g,S)}}).update(function(g,d){var m=u.getItemGraphicEl(d),_=m.childAt(0),b=m.childAt(1),S=m.childAt(2),I={shape:{points:s.getItemLayout(g)}};!I.shape.points||(f(_.shape.points,I.shape.points,S,s,g,!1),Fn(b),Fn(_),Ee(_,I,e),Ee(b,I,e),s.setItemGraphicEl(g,m))}).remove(function(g){o.remove(u.getItemGraphicEl(g))}).execute(),s.eachItemGraphicEl(function(g,d){var m=s.getItemModel(d),_=g.childAt(0),b=g.childAt(1),S=g.childAt(2),I=s.getItemVisual(d,"style"),A=I.fill;o.add(g),_.useStyle(ve(m.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:A})),jr(_,m,"lineStyle"),jr(b,m,"areaStyle");var D=m.getModel("areaStyle"),V=D.isEmpty()&&D.parentModel.isEmpty();b.ignore=V,J(["emphasis","select","blur"],function(j){var X=m.getModel([j,"areaStyle"]),et=X.isEmpty()&&X.parentModel.isEmpty();b.ensureState(j).ignore=et&&V}),b.useStyle(ve(D.getAreaStyle(),{fill:A,opacity:.7,decal:I.decal}));var R=m.getModel("emphasis"),Z=R.getModel("itemStyle").getItemStyle();S.eachChild(function(j){if(j instanceof Jn){var X=j.style;j.useStyle(Ft({image:X.image,x:X.x,y:X.y,width:X.width,height:X.height},I))}else j.useStyle(I),j.setColor(A),j.style.strokeNoScale=!0;var et=j.ensureState("emphasis");et.style=ke(Z);var it=s.getStore().get(s.getDimensionIndex(j.__dimIdx),d);(it==null||isNaN(it))&&(it=""),Fr(j,Ar(m),{labelFetcher:s.hostModel,labelDataIndex:d,labelDimIndex:j.__dimIdx,defaultText:it,inheritColor:A,defaultOpacity:I.opacity})}),hr(g,R.get("focus"),R.get("blurScope"),R.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ar),B6=V6,G6=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ts(Ht(this.getData,this),Ht(this.getRawData,this))},t.prototype.getInitialData=function(e,n){return ps(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),u=this.getData().getName(e),h=u===""?this.name:u,f=bw(this,e);return rn("section",{header:h,sortBlocks:!0,blocks:Lt(s,function(v){var g=a.get(a.mapDimension(v.dim),e);return rn("nameValue",{markerType:"subItem",markerColor:f,name:v.name,value:g,sortParam:g})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(Lt(i.dimensions,function(h){return n.mapDimension(h)}),e),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var u=i.getIndicatorAxes();return i.coordToPoint(u[o].dataToCoord(a[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(mr),F6=G6,Do=Uy.value;function tl(r,t){return ve({show:t},r)}var H6=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),u=this.get("axisName"),h=this.get(["axisName","show"]),f=this.get(["axisName","formatter"]),v=this.get("axisNameGap"),g=this.get("triggerEvent"),d=Lt(this.get("indicator")||[],function(m){m.max!=null&&m.max>0&&!m.min?m.min=0:m.min!=null&&m.min<0&&!m.max&&(m.max=0);var _=u;m.color!=null&&(_=ve({color:m.color},u));var b=Be(ke(m),{boundaryGap:e,splitNumber:n,scale:i,axisLine:a,axisTick:o,axisLabel:s,name:m.text,showName:h,nameLocation:"end",nameGap:v,nameTextStyle:_,triggerEvent:g},!1);if(Se(f)){var S=b.name;b.name=f.replace("{value}",S!=null?S:"")}else we(f)&&(b.name=f(b.name,b));var I=new fn(b,null,this.ecModel);return An(I,bs.prototype),I.mainType="radar",I.componentIndex=this.componentIndex,I},this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Be({lineStyle:{color:"#bbb"}},Do.axisLine),axisLabel:tl(Do.axisLabel,!1),axisTick:tl(Do.axisTick,!1),splitLine:tl(Do.splitLine,!0),splitArea:tl(Do.splitArea,!0),indicator:[]},t}(Pr),$6=H6,W6=["axisLine","axisTickLabel","axisName"],U6=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group;a.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var n=e.coordinateSystem,i=n.getIndicatorAxes(),a=Lt(i,function(o){var s=o.model.get("showName")?o.name:"",u=new Di(o.model,{axisName:s,position:[n.cx,n.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});J(a,function(o){J(W6,o.add,o),this.group.add(o.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var n=e.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=e.get("shape"),o=e.getModel("splitLine"),s=e.getModel("splitArea"),u=o.getModel("lineStyle"),h=s.getModel("areaStyle"),f=o.get("show"),v=s.get("show"),g=u.get("color"),d=h.get("color"),m=Ot(g)?g:[g],_=Ot(d)?d:[d],b=[],S=[];function I(mt,lt,Mt){var xt=Mt%lt.length;return mt[xt]=mt[xt]||[],xt}if(a==="circle")for(var A=i[0].getTicksCoords(),D=n.cx,V=n.cy,R=0;R<A.length;R++){if(f){var Z=I(b,m,R);b[Z].push(new ms({shape:{cx:D,cy:V,r:A[R].coord}}))}if(v&&R<A.length-1){var Z=I(S,_,R);S[Z].push(new L1({shape:{cx:D,cy:V,r0:A[R].coord,r:A[R+1].coord}}))}}else for(var j,X=Lt(i,function(mt,lt){var Mt=mt.getTicksCoords();return j=j==null?Mt.length-1:Math.min(Mt.length-1,j),Lt(Mt,function(xt){return n.coordToPoint(xt.coord,lt)})}),et=[],R=0;R<=j;R++){for(var it=[],ht=0;ht<i.length;ht++)it.push(X[ht][R]);if(it[0]&&it.push(it[0].slice()),f){var Z=I(b,m,R);b[Z].push(new Cn({shape:{points:it}}))}if(v&&et){var Z=I(S,_,R-1);S[Z].push(new Mn({shape:{points:it.concat(et)}}))}et=it.slice().reverse()}var vt=u.getLineStyle(),st=h.getAreaStyle();J(S,function(mt,lt){this.group.add(On(mt,{style:ve({stroke:"none",fill:_[lt%_.length]},st),silent:!0}))},this),J(b,function(mt,lt){this.group.add(On(mt,{style:ve({fill:"none",stroke:m[lt%m.length]},vt),silent:!0}))},this)},t.type="radar",t}(Hr),Z6=U6,q6=function(r){_t(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return t}(Hn),Y6=q6,X6=function(){function r(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=Lt(t.getIndicatorModels(),function(i,a){var o="indicator_"+a,s=new Y6(o,new Tl);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(o),s},this),this.resize(t,n)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},r.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],i=n.angle,a=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[a,o]},r.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var a=Math.atan2(-n,e),o=1/0,s,u=-1,h=0;h<this._indicatorAxes.length;h++){var f=this._indicatorAxes[h],v=Math.abs(a-f.angle);v<o&&(s=f,u=h,o=v)}return[u,+(s&&s.coordToData(i))]},r.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),a=e.getHeight(),o=Math.min(i,a)/2;this.cx=$t(n[0],i),this.cy=$t(n[1],a),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(Se(s)||Xr(s))&&(s=[0,s]),this.r0=$t(s[0],o),this.r=$t(s[1],o),J(this._indicatorAxes,function(u,h){u.setExtent(this.r0,this.r);var f=this.startAngle+h*Math.PI*2/this._indicatorAxes.length;f=Math.atan2(Math.sin(f),Math.cos(f)),u.angle=f},this)},r.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;J(n,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,u){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==i)){var h=s.getData();J(n,function(f){f.scale.unionExtentFromData(h,h.mapDimension(f.dim))})}},this);var a=i.get("splitNumber"),o=new Tl;o.setExtent(0,a),o.setInterval(1),J(n,function(s,u){Zy(s.scale,s.model,o)})},r.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.create=function(t,e){var n=[];return t.eachComponent("radar",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},r.dimensions=[],r}(),j6=X6;function K6(r){r.registerCoordinateSystem("radar",j6),r.registerComponentModel($6),r.registerComponentView(Z6),r.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(n){e.setItemVisual(n,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function J6(r){pe(K6),r.registerChartView(B6),r.registerSeriesModel(F6),r.registerLayout(O6),r.registerProcessor(As("radar")),r.registerPreprocessor(N6)}var qp="\0_ec_interaction_mutex";function Q6(r,t,e){var n=Wc(r);n[t]=e}function t9(r,t,e){var n=Wc(r),i=n[t];i===e&&(n[t]=null)}function Yp(r,t){return!!Wc(r)[t]}function Wc(r){return r[qp]||(r[qp]={})}cu({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Li);var e9=function(r){_t(t,r);function t(e){var n=r.call(this)||this;n._zr=e;var i=Ht(n._mousedownHandler,n),a=Ht(n._mousemoveHandler,n),o=Ht(n._mouseupHandler,n),s=Ht(n._mousewheelHandler,n),u=Ht(n._pinchHandler,n);return n.enable=function(h,f){this.disable(),this._opt=ve(ke(f)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),h==null&&(h=!0),(h===!0||h==="move"||h==="pan")&&(e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",o)),(h===!0||h==="scale"||h==="zoom")&&(e.on("mousewheel",s),e.on("pinch",u))},n.disable=function(){e.off("mousedown",i),e.off("mousemove",a),e.off("mouseup",o),e.off("mousewheel",s),e.off("pinch",u)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!Od(e)){for(var n=e.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=e.offsetX,a=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!yl("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||Yp(this._zr,"globalPan"))){var n=e.offsetX,i=e.offsetY,a=this._x,o=this._y,s=n-a,u=i-o;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&da(e.event),Jy(this,"pan","moveOnMouseMove",e,{dx:s,dy:u,oldX:a,oldY:o,newX:n,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Od(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var n=yl("zoomOnMouseWheel",e,this._opt),i=yl("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,o=Math.abs(a),s=e.offsetX,u=e.offsetY;if(!(a===0||!n&&!i)){if(n){var h=o>3?1.4:o>1?1.2:1.1,f=a>0?h:1/h;gh(this,"zoom","zoomOnMouseWheel",e,{scale:f,originX:s,originY:u,isAvailableBehavior:null})}if(i){var v=Math.abs(a),g=(a>0?1:-1)*(v>3?.4:v>1?.15:.05);gh(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:g,originX:s,originY:u,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!Yp(this._zr,"globalPan")){var n=e.pinchScale>1?1.1:1/1.1;gh(this,"zoom",null,e,{scale:n,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(D1);function gh(r,t,e,n,i){r.pointerChecker&&r.pointerChecker(n,i.originX,i.originY)&&(da(n.event),Jy(r,t,e,n,i))}function Jy(r,t,e,n,i){i.isAvailableBehavior=Ht(yl,null,e,n),r.trigger(t,i)}function yl(r,t,e){var n=e[r];return!r||n&&(!Se(n)||t.event[n+"Key"])}var Is=e9;function Uc(r,t,e){var n=r.target;n.x+=t,n.y+=e,n.dirty()}function Zc(r,t,e,n){var i=r.target,a=r.zoomLimit,o=r.zoom=r.zoom||1;if(o*=t,a){var s=a.min||0,u=a.max||1/0;o=Math.max(Math.min(u,o),s)}var h=o/r.zoom;r.zoom=o,i.x-=(e-i.x)*(h-1),i.y-=(n-i.y)*(h-1),i.scaleX*=h,i.scaleY*=h,i.dirty()}var r9={axisPointer:1,tooltip:1,brush:1};function _u(r,t,e){var n=t.getComponentByElement(r.topTarget),i=n&&n.coordinateSystem;return n&&n!==e&&!r9.hasOwnProperty(n.mainType)&&i&&i.model!==e}function Qy(r){if(Se(r)){var t=new DOMParser;r=t.parseFromString(r,"text/xml")}var e=r;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var mh,zl={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Xp=lr(zl),Ol={"alignment-baseline":"textBaseline","stop-color":"stopColor"},jp=lr(Ol),n9=function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(t,e){e=e||{};var n=Qy(t);this._defsUsePending=[];var i=new ee;this._root=i;var a=[],o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||e.width),u=parseFloat(n.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(u)&&(u=null),ln(n,i,null,!0,!1);for(var h=n.firstChild;h;)this._parseNode(h,i,a,null,!1,!1),h=h.nextSibling;o9(this._defs,this._defsUsePending),this._defsUsePending=[];var f,v;if(o){var g=xu(o);g.length>=4&&(f={x:parseFloat(g[0]||0),y:parseFloat(g[1]||0),width:parseFloat(g[2]),height:parseFloat(g[3])})}if(f&&s!=null&&u!=null&&(v=e_(f,{x:0,y:0,width:s,height:u}),!e.ignoreViewBox)){var d=i;i=new ee,i.add(d),d.scaleX=d.scaleY=v.scale,d.x=v.x,d.y=v.y}return!e.ignoreRootClip&&s!=null&&u!=null&&i.setClipPath(new Ue({shape:{x:0,y:0,width:s,height:u}})),{root:i,width:s,height:u,viewBoxRect:f,viewBoxTransform:v,named:a}},r.prototype._parseNode=function(t,e,n,i,a,o){var s=t.nodeName.toLowerCase(),u,h=i;if(s==="defs"&&(a=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")u=e;else{if(!a){var f=mh[s];if(f&&zt(mh,s)){u=f.call(this,t,e);var v=t.getAttribute("name");if(v){var g={name:v,namedFrom:null,svgNodeTagLower:s,el:u};n.push(g),s==="g"&&(h=g)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:u});e.add(u)}}var d=Kp[s];if(d&&zt(Kp,s)){var m=d.call(this,t),_=t.getAttribute("id");_&&(this._defs[_]=m)}}if(u&&u.isGroup)for(var b=t.firstChild;b;)b.nodeType===1?this._parseNode(b,u,n,h,a,o):b.nodeType===3&&o&&this._parseText(b,u),b=b.nextSibling},r.prototype._parseText=function(t,e){var n=new M1({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});gn(e,n),ln(t,n,this._defsUsePending,!1,!1),i9(n,e);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var s=n.getBoundingRect();return this._textX+=s.width,e.add(n),n},r.internalField=function(){mh={g:function(t,e){var n=new ee;return gn(e,n),ln(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new Ue;return gn(e,n),ln(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new ms;return gn(e,n),ln(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new Vn;return gn(e,n),ln(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new ww;return gn(e,n),ln(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n=t.getAttribute("points"),i;n&&(i=tg(n));var a=new Mn({shape:{points:i||[]},silent:!0});return gn(e,a),ln(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var n=t.getAttribute("points"),i;n&&(i=tg(n));var a=new Cn({shape:{points:i||[]},silent:!0});return gn(e,a),ln(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var n=new Jn;return gn(e,n),ln(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(o);var s=new ee;return gn(e,s),ln(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new ee;return gn(e,s),ln(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(t,e){var n=t.getAttribute("d")||"",i=Sw(n);return gn(e,i),ln(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),r}(),Kp={lineargradient:function(r){var t=parseInt(r.getAttribute("x1")||"0",10),e=parseInt(r.getAttribute("y1")||"0",10),n=parseInt(r.getAttribute("x2")||"10",10),i=parseInt(r.getAttribute("y2")||"0",10),a=new lu(t,e,n,i);return Jp(r,a),Qp(r,a),a},radialgradient:function(r){var t=parseInt(r.getAttribute("cx")||"0",10),e=parseInt(r.getAttribute("cy")||"0",10),n=parseInt(r.getAttribute("r")||"0",10),i=new Mw(t,e,n);return Jp(r,i),Qp(r,i),i}};function Jp(r,t){var e=r.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function Qp(r,t){for(var e=r.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var n=e.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};t_(e,a,a);var o=a.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:o})}e=e.nextSibling}}function gn(r,t){r&&r.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),ve(t.__inheritedStyle,r.__inheritedStyle))}function tg(r){for(var t=xu(r),e=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),a=parseFloat(t[n+1]);e.push([i,a])}return e}function ln(r,t,e,n,i){var a=t,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};r.nodeType===1&&(u9(r,t),t_(r,o,s),n||h9(r,o,s)),a.style=a.style||{},o.fill!=null&&(a.style.fill=eg(a,"fill",o.fill,e)),o.stroke!=null&&(a.style.stroke=eg(a,"stroke",o.stroke,e)),J(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(u){o[u]!=null&&(a.style[u]=parseFloat(o[u]))}),J(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(u){o[u]!=null&&(a.style[u]=o[u])}),i&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=Lt(xu(o.lineDash),function(u){return parseFloat(u)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(a.invisible=!0),o.display==="none"&&(a.ignore=!0)}function i9(r,t){var e=t.__selfStyle;if(e){var n=e.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),r.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&(o==="middle"&&(s="center"),r.style.textAlign=s)}}var a9=/^url\(\s*#(.*?)\)/;function eg(r,t,e,n){var i=e&&e.match(a9);if(i){var a=Cw(i[1]);n.push([r,t,a]);return}return e==="none"&&(e=null),e}function o9(r,t){for(var e=0;e<t.length;e++){var n=t[e];n[0].style[n[1]]=r[n[2]]}}var s9=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function xu(r){return r.match(s9)||[]}var l9=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,yh=Math.PI/180;function u9(r,t){var e=r.getAttribute("transform");if(e){e=e.replace(/,/g," ");var n=[],i=null;e.replace(l9,function(v,g,d){return n.push(g,d),""});for(var a=n.length-1;a>0;a-=2){var o=n[a],s=n[a-1],u=xu(o);switch(i=i||xo(),s){case"translate":pa(i,i,[parseFloat(u[0]),parseFloat(u[1]||"0")]);break;case"scale":P1(i,i,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case"rotate":vu(i,i,-parseFloat(u[0])*yh,[parseFloat(u[1]||"0"),parseFloat(u[2]||"0")]);break;case"skewX":var h=Math.tan(parseFloat(u[0])*yh);wf(i,[1,0,h,1,0,0],i);break;case"skewY":var f=Math.tan(parseFloat(u[0])*yh);wf(i,[1,f,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(u[0]),i[1]=parseFloat(u[1]),i[2]=parseFloat(u[2]),i[3]=parseFloat(u[3]),i[4]=parseFloat(u[4]),i[5]=parseFloat(u[5]);break}}t.setLocalTransform(i)}}var rg=/([^\s:;]+)\s*:\s*([^:;]+)/g;function t_(r,t,e){var n=r.getAttribute("style");if(!!n){rg.lastIndex=0;for(var i;(i=rg.exec(n))!=null;){var a=i[1],o=zt(zl,a)?zl[a]:null;o&&(t[o]=i[2]);var s=zt(Ol,a)?Ol[a]:null;s&&(e[s]=i[2])}}}function h9(r,t,e){for(var n=0;n<Xp.length;n++){var i=Xp[n],a=r.getAttribute(i);a!=null&&(t[zl[i]]=a)}for(var n=0;n<jp.length;n++){var i=jp[n],a=r.getAttribute(i);a!=null&&(e[Ol[i]]=a)}}function e_(r,t){var e=t.width/r.width,n=t.height/r.height,i=Math.min(e,n);return{scale:i,x:-(r.x+r.width/2)*i+(t.x+t.width/2),y:-(r.y+r.height/2)*i+(t.y+t.height/2)}}function f9(r,t){var e=new n9;return e.parse(r,t)}var c9=de(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),v9=function(){function r(t,e){this.type="geoSVG",this._usedGraphicMap=de(),this._freedGraphics=[],this._mapName=t,this._parsedXML=Qy(e)}return r.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=p9(t.named),n=e.regions,i=e.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(t){var e,n;try{e=t&&f9(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=e.root,Jo(n!=null)}catch(b){throw new Error(`Invalid svg format
`+b.message)}var i=new ee;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=e.width,o=e.height,s=e.viewBoxRect,u=this._boundingRect;if(!u){var h=void 0,f=void 0,v=void 0,g=void 0;if(a!=null?(h=0,v=a):s&&(h=s.x,v=s.width),o!=null?(f=0,g=o):s&&(f=s.y,g=s.height),h==null||f==null){var d=n.getBoundingRect();h==null&&(h=d.x,v=d.width),f==null&&(f=d.y,g=d.height)}u=this._boundingRect=new Je(h,f,v,g)}if(s){var m=e_(s,u);n.scaleX=n.scaleY=m.scale,n.x=m.x,n.y=m.y}i.setClipPath(new Ue({shape:u.plain()}));var _=[];return J(e.named,function(b){c9.get(b.svgNodeTagLower)!=null&&(_.push(b),d9(b.el))}),{root:i,boundingRect:u,named:_}},r.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},r.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},r}();function d9(r){r.silent=!1,r.isGroup&&r.traverse(function(t){t.silent=!1})}function p9(r){var t=[],e=de();return J(r,function(n){if(n.namedFrom==null){var i=new eM(n.name,n.el);t.push(i),e.set(n.name,i)}}),{regions:t,regionsMap:e}}var Vf=[126,25],ng="\u5357\u6D77\u8BF8\u5C9B",Xi=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var qi=0;qi<Xi.length;qi++)for(var Ea=0;Ea<Xi[qi].length;Ea++)Xi[qi][Ea][0]/=10.5,Xi[qi][Ea][1]/=-10.5/.75,Xi[qi][Ea][0]+=Vf[0],Xi[qi][Ea][1]+=Vf[1];function g9(r,t){if(r==="china"){for(var e=0;e<t.length;e++)if(t[e].name===ng)return;t.push(new ny(ng,Lt(Xi,function(n){return{type:"polygon",exterior:n}}),Vf))}}var m9={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function y9(r,t){if(r==="china"){var e=m9[t.name];if(e){var n=t.getCenter();n[0]+=e[0]/10.5,n[1]+=-e[1]/(10.5/.75),t.setCenter(n)}}}var _9=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function x9(r,t){r==="china"&&t.name==="\u53F0\u6E7E"&&t.geometries.push({type:"polygon",exterior:_9[0]})}var b9="name",w9=function(){function r(t,e,n){this.type="geoJSON",this._parsedMap=de(),this._mapName=t,this._specialAreas=n,this._geoJSON=M9(e)}return r.prototype.load=function(t,e){e=e||b9;var n=this._parsedMap.get(e);if(!n){var i=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:i,boundingRect:S9(i)})}var a=de(),o=[];return J(n.regions,function(s){var u=s.name;t&&zt(t,u)&&(s=s.cloneShallow(u=t[u])),o.push(s),a.set(u,s)}),{regions:o,boundingRect:n.boundingRect||new Je(0,0,0,0),regionsMap:a}},r.prototype._parseToRegions=function(t){var e=this._mapName,n=this._geoJSON,i;try{i=n?nM(n,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return g9(e,i),J(i,function(a){var o=a.name;y9(e,a),x9(e,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),i},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r}();function S9(r){for(var t,e=0;e<r.length;e++){var n=r[e].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function M9(r){return Se(r)?typeof JSON!="undefined"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var Po=de(),hi={registerMap:function(r,t,e){if(t.svg){var n=new v9(r,t.svg);Po.set(r,n)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t;var n=new w9(r,i,e);Po.set(r,n)}},getGeoResource:function(r){return Po.get(r)},getMapForUser:function(r){var t=Po.get(r);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(r,t,e){var n=Po.get(r);if(!!n)return n.load(t,e)}},qc=["rect","circle","line","ellipse","polygon","polyline","path"],C9=de(qc),A9=de(qc.concat(["g"])),T9=de(qc.concat(["g"])),r_=Qe();function el(r){var t=r.getItemStyle(),e=r.get("areaColor");return e!=null&&(t.fill=e),t}function ig(r){var t=r.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var I9=function(){function r(t){var e=new ee;this.uid=k1("ec_map_draw"),this._controller=new Is(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new ee),e.add(this._svgGroup=new ee)}return r.prototype.draw=function(t,e,n,i,a){var o=t.mainType==="geo",s=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(S){!s&&S.getHostGeoModel()===t&&(s=S.getData())});var u=t.coordinateSystem,h=this._regionsGroup,f=this.group,v=u.getTransformInfo(),g=v.raw,d=v.roam,m=!h.childAt(0)||a;m?(f.x=d.x,f.y=d.y,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.dirty()):Ee(f,d,t);var _=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,b={api:n,geo:u,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:_,isGeo:o,transformInfoRaw:g};u.resourceType==="geoJSON"?this._buildGeoJSON(b):u.resourceType==="geoSVG"&&this._buildSVG(b),this._updateController(t,e,n),this._updateMapSelectHandler(t,h,n,i)},r.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=de(),n=de(),i=this._regionsGroup,a=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,u=t.geo.projection,h=u&&u.stream;function f(d,m){return m&&(d=m(d)),d&&[d[0]*a.scaleX+a.x,d[1]*a.scaleY+a.y]}function v(d){for(var m=[],_=!h&&u&&u.project,b=0;b<d.length;++b){var S=f(d[b],_);S&&m.push(S)}return m}function g(d){return{shape:{points:v(d)}}}i.removeAll(),J(t.geo.regions,function(d){var m=d.name,_=e.get(m),b=n.get(m)||{},S=b.dataIdx,I=b.regionModel;_||(_=e.set(m,new ee),i.add(_),S=s?s.indexOfName(m):null,I=t.isGeo?o.getRegionModel(m):s?s.getItemModel(S):null,n.set(m,{dataIdx:S,regionModel:I}));var A=[],D=[];J(d.geometries,function(Z){if(Z.type==="polygon"){var j=[Z.exterior].concat(Z.interiors||[]);h&&(j=hg(j,h)),J(j,function(et){A.push(new Mn(g(et)))})}else{var X=Z.points;h&&(X=hg(X,h,!0)),J(X,function(et){D.push(new Cn(g(et)))})}});var V=f(d.getCenter(),u&&u.project);function R(Z,j){if(!!Z.length){var X=new b1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:Z}});_.add(X),ag(t,X,S,I),og(t,X,m,I,o,S,V),j&&(ig(X),J(X.states,ig))}}R(A),R(D,!0)}),e.each(function(d,m){var _=n.get(m),b=_.dataIdx,S=_.regionModel;sg(t,d,m,S,o,b),lg(t,d,m,S,o),ug(t,d,m,S,o)},this)},r.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=de(),a=!1;J(this._svgGraphicRecord.named,function(o){var s=o.name,u=t.mapOrGeoModel,h=t.data,f=o.svgNodeTagLower,v=o.el,g=h?h.indexOfName(s):null,d=u.getRegionModel(s);if(C9.get(f)!=null&&v instanceof ga&&ag(t,v,g,d),v instanceof ga&&(v.culling=!0),v.z2EmphasisLift=0,!o.namedFrom&&(T9.get(f)!=null&&og(t,v,s,d,u,g,null),sg(t,v,s,d,u,g),lg(t,v,s,d,u),A9.get(f)!=null)){var m=ug(t,v,s,d,u);m==="self"&&(a=!0);var _=i.get(s)||i.set(s,[]);_.push(v)}},this),this._enableBlurEntireSVG(a,t)},r.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){oo(a);var o=a.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),a.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var n=e.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},r.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},r.prototype._useSVG=function(t){var e=hi.getGeoResource(t);if(e&&e.type==="geoSVG"){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},r.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=hi.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(t,e,n){var i=t.coordinateSystem,a=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=i.getZoom(),a.enable(t.get("roam")||!1);var s=t.mainType;function u(){var h={type:"geoRoam",componentType:s};return h[s+"Id"]=t.id,h}a.off("pan").on("pan",function(h){this._mouseDownFlag=!1,Uc(o,h.dx,h.dy),n.dispatchAction(Ft(u(),{dx:h.dx,dy:h.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(h){this._mouseDownFlag=!1,Zc(o,h.scale,h.originX,h.originY),n.dispatchAction(Ft(u(),{zoom:h.scale,originX:h.originX,originY:h.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(h,f,v){return i.containPoint([f,v])&&!_u(h,n,t)})},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=r_(e).ignore)})},r.prototype._updateMapSelectHandler=function(t,e,n,i){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(o){!a._mouseDownFlag||(a._mouseDownFlag=!1)}))},r}();function ag(r,t,e,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),o=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),u=el(i),h=el(a),f=el(s),v=el(o),g=r.data;if(g){var d=g.getItemVisual(e,"style"),m=g.getItemVisual(e,"decal");r.isVisualEncodedByVisualMap&&d.fill&&(u.fill=d.fill),m&&(u.decal=Dc(m,r.api))}t.setStyle(u),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=h,t.ensureState("select").style=f,t.ensureState("blur").style=v,oo(t)}function og(r,t,e,n,i,a,o){var s=r.data,u=r.isGeo,h=s&&isNaN(s.get(s.mapDimension("value"),a)),f=s&&s.getItemLayout(a);if(u||h||f&&f.showLabel){var v=u?e:a,g=void 0;(!s||a>=0)&&(g=i);var d=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Fr(t,Ar(n),{labelFetcher:g,labelDataIndex:v,defaultText:e},d);var m=t.getTextContent();if(m&&(r_(m).ignore=m.ignore,t.textConfig&&o)){var _=t.getBoundingRect().clone();t.textConfig.layoutRect=_,t.textConfig.position=[(o[0]-_.x)/_.width*100+"%",(o[1]-_.y)/_.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function sg(r,t,e,n,i,a){r.data?r.data.setItemGraphicEl(a,t):Ae(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:n&&n.option||{}}}function lg(r,t,e,n,i){r.data||Pc({el:t,componentModel:i,itemName:e,itemTooltipOption:n.get("tooltip")})}function ug(r,t,e,n,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),o=a.get("focus");return hr(t,o,a.get("blurScope"),a.get("disabled")),r.isGeo&&Aw(t,i,e),o}function hg(r,t,e){var n=[],i;function a(){i=[]}function o(){i.length&&(n.push(i),i=[])}var s=t({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(u,h){isFinite(u)&&isFinite(h)&&i.push([u,h])},sphere:function(){}});return!e&&s.polygonStart(),J(r,function(u){s.lineStart();for(var h=0;h<u.length;h++)s.point(u[h][0],u[h][1]);s.lineEnd()}),!e&&s.polygonEnd(),n}var n_=I9,L9=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===e.id){var s=this._mapDraw;s&&o.add(s.group)}else if(e.needsDrawMap){var s=this._mapDraw||new n_(i);o.add(s.group),s.draw(e,n,i,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(e,n,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,n,i){var a=e.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,u){if(!isNaN(s)){var h=a.getItemLayout(u);if(!(!h||!h.point)){var f=h.point,v=h.offset,g=new ms({style:{fill:e.getData().getVisual("style").fill},shape:{cx:f[0]+v*9,cy:f[1],r:3},silent:!0,z2:8+(v?0:ys+1)});if(!v){var d=e.mainSeries.getData(),m=a.getName(u),_=d.indexOfName(m),b=a.getItemModel(u),S=b.getModel("label"),I=d.getItemGraphicEl(_);Fr(g,Ar(b),{labelFetcher:{getFormattedLabel:function(A,D){return e.getFormattedLabel(_,D)}},defaultText:m}),g.disableLabelAnimation=!0,S.get("position")||g.setTextConfig({position:"bottom"}),I.onHoverStateChange=function(A){Ml(g,A)}}o.add(g)}}})},t.type="map",t}(ar),D9=L9,P9=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,o=a.getRegion(i);return o&&a.dataToPoint(o.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var n=ps(this,{coordDimensions:["value"],encodeDefaulter:_e(Tc,this)}),i=de(),a=[],o=0,s=n.count();o<s;o++){var u=n.getName(o);i.set(u,!0)}var h=hi.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return J(h.regions,function(f){var v=f.name;i.get(v)||a.push(v)}),n.appendValues([],a),n},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var n=this.getData();return n.get(n.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var n=this.getData();return n.getItemModel(n.indexOfName(e))},t.prototype.formatTooltip=function(e,n,i){for(var a=this.getData(),o=this.getRawValue(e),s=a.getName(e),u=this.seriesGroup,h=[],f=0;f<u.length;f++){var v=u[f].originalData.indexOfName(s),g=a.mapDimension("value");isNaN(u[f].originalData.get(g,v))||h.push(u[f].name)}return rn("section",{header:h.join(", "),noHeader:!h.length,blocks:[rn("nameValue",{name:s,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var n=e.icon||"roundRect",i=Gr(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(mr),k9=P9;function E9(r,t){var e={};return J(r,function(n){n.each(n.mapDimension("value"),function(i,a){var o="ec-"+n.getName(a);e[o]=e[o]||[],isNaN(i)||e[o].push(i)})}),r[0].map(r[0].mapDimension("value"),function(n,i){for(var a="ec-"+r[0].getName(i),o=0,s=1/0,u=-1/0,h=e[a].length,f=0;f<h;f++)s=Math.min(s,e[a][f]),u=Math.max(u,e[a][f]),o+=e[a][f];var v;return t==="min"?v=s:t==="max"?v=u:t==="average"?v=o/h:v=o,h===0?NaN:v})}function R9(r){var t={};r.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),J(t,function(e,n){for(var i=E9(Lt(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(var a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=a===0&&!e[a].getHostGeoModel(),e[a].setData(i.cloneShallow()),e[a].mainSeries=e[0]})}function z9(r){var t={};r.eachSeriesByType("map",function(e){var n=e.getMapType();if(!(e.getHostGeoModel()||t[n])){var i={};J(e.seriesGroup,function(o){var s=o.coordinateSystem,u=o.originalData;o.get("showLegendSymbol")&&r.getComponent("legend")&&u.each(u.mapDimension("value"),function(h,f){var v=u.getName(f),g=s.getRegion(v);if(!(!g||isNaN(h))){var d=i[v]||0,m=s.dataToPoint(g.getCenter());i[v]=d+1,u.setItemLayout(f,{point:m,offset:d})}})});var a=e.getData();a.each(function(o){var s=a.getName(o),u=a.getItemLayout(o)||{};u.showLabel=!i[s],a.setItemLayout(o,u)}),t[n]=!0}})}var fg=ca,O9=function(r){_t(t,r);function t(e){var n=r.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Za,n._rawTransformable=new Za,n.name=e,n}return t.prototype.setBoundingRect=function(e,n,i,a){return this._rect=new Je(e,n,i,a),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,n,i,a){this._transformTo(e,n,i,a),this._viewRect=new Je(e,n,i,a)},t.prototype._transformTo=function(e,n,i,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new Je(e,n,i,a));var u=s.parent;s.parent=null,s.decomposeTransform(),s.parent=u,this._updateTransform()},t.prototype.setCenter=function(e,n){!e||(this._center=[$t(e[0],n.getWidth()),$t(e[1],n.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var n=this.zoomLimit;n&&(n.max!=null&&(e=Math.min(n.max,e)),n.min!=null&&(e=Math.max(n.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),n=e.x+e.width/2,i=e.y+e.height/2;return[n,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),o=this.getZoom();a=ca([],a,e),i=ca([],i,e),n.originX=a[0],n.originY=a[1],n.x=i[0]-a[0],n.y=i[1]-a[1],n.scaleX=n.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,n=this._rawTransformable;n.parent=e,e.updateTransform(),n.updateTransform(),Tw(this.transform||(this.transform=[]),n.transform||xo()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],iu(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,n=this._roamTransformable,i=new Za;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?fg(i,e,a):Ur(i,e)},t.prototype.pointToData=function(e){var n=this.invTransform;return n?fg([],e,n):[e[0],e[1]]},t.prototype.convertToPixel=function(e,n,i){var a=cg(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,n,i){var a=cg(n);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Za);function cg(r){var t=r.seriesModel;return t?t.coordinateSystem:null}var Ls=O9,N9={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},i_=["lng","lat"],a_=function(r){_t(t,r);function t(e,n,i){var a=r.call(this,e)||this;a.dimensions=i_,a.type="geo",a._nameCoordMap=de(),a.map=n;var o=i.projection,s=hi.load(n,i.nameMap,i.nameProperty),u=hi.getGeoResource(n);a.resourceType=u?u.type:null;var h=a.regions=s.regions,f=N9[u.type];a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o;var v;if(o)for(var g=0;g<h.length;g++){var d=h[g].getBoundingRect(o);v=v||d.clone(),v.union(d)}else v=s.boundingRect;return a.setBoundingRect(v.x,v.y,v.width,v.height),a.aspectScale=o?1:Sr(i.aspectScale,f.aspectScale),a._invertLongitute=o?!1:f.invertLongitute,a}return t.prototype._transformTo=function(e,n,i,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var u=this._rawTransformable;u.transform=o.calculateTransform(new Je(e,n,i,a));var h=u.parent;u.parent=null,u.decomposeTransform(),u.parent=h,s&&(u.scaleY=-u.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(e))return n[i]}},t.prototype.addGeoCoord=function(e,n){this._nameCoordMap.set(e,n)},t.prototype.getGeoCoord=function(e){var n=this._regionsMap.get(e);return this._nameCoordMap.get(e)||n&&n.getCenter()},t.prototype.dataToPoint=function(e,n,i){if(Se(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e,n,i)}},t.prototype.pointToData=function(e){var n=this.projection;return n&&(e=n.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return r.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,n,i){return r.prototype.dataToPoint.call(this,e,n,i)},t.prototype.convertToPixel=function(e,n,i){var a=vg(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,n,i){var a=vg(n);return a===this?a.pointToData(i):null},t}(Ls);An(a_,Ls);function vg(r){var t=r.geoModel,e=r.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Rr).models[0]||{}).coordinateSystem:null}var dg=a_;function pg(r,t){var e=r.get("boundingCoords");if(e!=null){var n=e[0],i=e[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var o=n[0],s=n[1],u=i[0],h=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var f=function(R,Z,j,X){for(var et=j-R,it=X-Z,ht=0;ht<=100;ht++){var vt=ht/100,st=a.project([R+et*vt,Z+it*vt]);g1(n,n,st),m1(i,i,st)}};f(o,s,u,s),f(u,s,u,h),f(u,h,o,h),f(o,h,u,s)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var v=this.getBoundingRect(),g=r.get("layoutCenter"),d=r.get("layoutSize"),m=t.getWidth(),_=t.getHeight(),b=v.width/v.height*this.aspectScale,S=!1,I,A;g&&d&&(I=[$t(g[0],m),$t(g[1],_)],A=$t(d,Math.min(m,_)),!isNaN(I[0])&&!isNaN(I[1])&&!isNaN(A)&&(S=!0));var D;if(S)D={},b>1?(D.width=A,D.height=A/b):(D.height=A,D.width=A*b),D.y=I[1]-D.height/2,D.x=I[0]-D.width/2;else{var V=r.getBoxLayoutParams();V.aspect=b,D=nn(V,{width:m,height:_})}this.setViewRect(D.x,D.y,D.width,D.height),this.setCenter(r.get("center"),t),this.setZoom(r.get("zoom"))}function V9(r,t){J(t.get("geoCoord"),function(e,n){r.addGeoCoord(n,e)})}var B9=function(){function r(){this.dimensions=i_}return r.prototype.create=function(t,e){var n=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var u=o.get("map"),h=new dg(u+s,u,Ft({nameMap:o.get("nameMap")},i(o)));h.zoomLimit=o.get("scaleLimit"),n.push(h),o.coordinateSystem=h,h.model=o,h.resize=pg,h.resize(o,e)}),t.eachSeries(function(o){var s=o.get("coordinateSystem");if(s==="geo"){var u=o.get("geoIndex")||0;o.coordinateSystem=n[u]}});var a={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),J(a,function(o,s){var u=Lt(o,function(f){return f.get("nameMap")}),h=new dg(s,s,Ft({nameMap:kc(u)},i(o[0])));h.zoomLimit=un.apply(null,Lt(o,function(f){return f.get("scaleLimit")})),n.push(h),h.resize=pg,h.resize(o[0],e),J(o,function(f){f.coordinateSystem=h,V9(h,f)})}),n},r.prototype.getFilledRegions=function(t,e,n,i){for(var a=(t||[]).slice(),o=de(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);var u=hi.load(e,n,i);return J(u.regions,function(h){var f=h.name;!o.get(f)&&a.push({name:f})}),a},r}(),G9=new B9,o_=G9,F9=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,i){var a=hi.getGeoResource(e.map);if(a&&a.type==="geoJSON"){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(e,i),gs(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,n=this.option;n.regions=o_.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=E1(n.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new fn(o,e,e.ecModel)),o.selected&&(i[s]=!0)),a},de()),n.selectedMap||(n.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new fn(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,n){var i=this.getRegionModel(e),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:e};if(we(a))return o.status=n,a(o);if(Se(a))return a.replace("{a}",e!=null?e:"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var n=this.option,i=n.selectedMode;if(!!i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[e]=!0}},t.prototype.unSelect=function(e){var n=this.option.selectedMap;n&&(n[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var n=this.option.selectedMap;return!!(n&&n[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Pr),H9=F9;function gg(r,t){return r.pointToProjected?r.pointToProjected(t):r.pointToData(t)}function Yc(r,t,e,n){var i=r.getZoom(),a=r.getCenter(),o=t.zoom,s=r.projectedToPoint?r.projectedToPoint(a):r.dataToPoint(a);if(t.dx!=null&&t.dy!=null&&(s[0]-=t.dx,s[1]-=t.dy,r.setCenter(gg(r,s),n)),o!=null){if(e){var u=e.min||0,h=e.max||1/0;o=Math.max(Math.min(i*o,h),u)/i}r.scaleX*=o,r.scaleY*=o;var f=(t.originX-r.x)*(o-1),v=(t.originY-r.y)*(o-1);r.x-=f,r.y-=v,r.updateTransform(),r.setCenter(gg(r,s),n),r.setZoom(o*i)}return{center:r.getCenter(),zoom:r.getZoom()}}var $9=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,n){this._api=n},t.prototype.render=function(e,n,i,a){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new n_(i));var o=this._mapDraw;o.draw(e,n,i,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,n,i)},t.prototype._handleRegionClick=function(e){var n;R1(e.target,function(i){return(n=Ae(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(e,n,i){var a=this;this._mapDraw.group.traverse(function(o){var s=Ae(o).eventData;if(s)return a._model.isSelected(s.name)?i.enterSelect(o):i.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Hr),W9=$9;function U9(r,t,e){hi.registerMap(r,t,e)}function s_(r){r.registerCoordinateSystem("geo",o_),r.registerComponentModel(H9),r.registerComponentView(W9),r.registerImpl("registerMap",U9),r.registerImpl("getMap",function(e){return hi.getMapForUser(e)});function t(e,n){n.update="geo:updateSelectStatus",r.registerAction(n,function(i,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:i},function(u){u[e](i.name);var h=u.coordinateSystem;J(h.regions,function(v){o[v.name]=u.isSelected(v.name)||!1});var f=[];J(o,function(v,g){o[g]&&f.push(g)}),s.push({geoIndex:u.componentIndex,name:f})}),{selected:o,allSelected:s,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,n,i){var a=e.componentType||"series";n.eachComponent({mainType:a,query:e},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var u=Yc(s,e,o.get("scaleLimit"),i);o.setCenter&&o.setCenter(u.center),o.setZoom&&o.setZoom(u.zoom),a==="series"&&J(o.seriesGroup,function(h){h.setCenter(u.center),h.setZoom(u.zoom)})}})})}function Z9(r){pe(s_),r.registerChartView(D9),r.registerSeriesModel(k9),r.registerLayout(z9),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,R9),I1("map",r.registerAction)}function q9(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],n,i;n=e.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,o=a-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},e.push(s)}}function Y9(r,t){var e=r.isExpand?r.children:[],n=r.parentNode.children,i=r.hierNode.i?n[r.hierNode.i-1]:null;if(e.length){K9(r);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;i?(r.hierNode.prelim=i.hierNode.prelim+t(r,i),r.hierNode.modifier=r.hierNode.prelim-a):r.hierNode.prelim=a}else i&&(r.hierNode.prelim=i.hierNode.prelim+t(r,i));r.parentNode.hierNode.defaultAncestor=J9(r,i,r.parentNode.hierNode.defaultAncestor||n[0],t)}function X9(r){var t=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:t},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function mg(r){return arguments.length?r:e8}function Ho(r,t){return r-=Math.PI/2,{x:t*Math.cos(r),y:t*Math.sin(r)}}function j9(r,t){return nn(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function K9(r){for(var t=r.children,e=t.length,n=0,i=0;--e>=0;){var a=t[e];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function J9(r,t,e,n){if(t){for(var i=r,a=r,o=a.parentNode.children[0],s=t,u=i.hierNode.modifier,h=a.hierNode.modifier,f=o.hierNode.modifier,v=s.hierNode.modifier;s=_h(s),a=xh(a),s&&a;){i=_h(i),o=xh(o),i.hierNode.ancestor=r;var g=s.hierNode.prelim+v-a.hierNode.prelim-h+n(s,a);g>0&&(t8(Q9(s,r,e),r,g),h+=g,u+=g),v+=s.hierNode.modifier,h+=a.hierNode.modifier,u+=i.hierNode.modifier,f+=o.hierNode.modifier}s&&!_h(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=v-u),a&&!xh(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=h-f,e=r)}return e}function _h(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function xh(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function Q9(r,t,e){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:e}function t8(r,t,e){var n=e/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,r.hierNode.change+=n}function e8(r,t){return r.parentNode===t.parentNode?1:2}var r8=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),n8=function(r){_t(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new r8},t.prototype.buildPath=function(e,n){var i=n.childPoints,a=i.length,o=n.parentPoint,s=i[0],u=i[a-1];if(a===1){e.moveTo(o[0],o[1]),e.lineTo(s[0],s[1]);return}var h=n.orient,f=h==="TB"||h==="BT"?0:1,v=1-f,g=$t(n.forkPosition,1),d=[];d[f]=o[f],d[v]=o[v]+(u[v]-o[v])*g,e.moveTo(o[0],o[1]),e.lineTo(d[0],d[1]),e.moveTo(s[0],s[1]),d[f]=s[f],e.lineTo(d[0],d[1]),d[f]=u[f],e.lineTo(d[0],d[1]),e.lineTo(u[0],u[1]);for(var m=1;m<a-1;m++){var _=i[m];e.moveTo(_[0],_[1]),d[f]=_[f],e.lineTo(d[0],d[1])}},t}(_r),i8=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new ee,e}return t.prototype.init=function(e,n){this._controller=new Is(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,i){var a=e.getData(),o=e.layoutInfo,s=this._mainGroup,u=e.get("layout");u==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(e,i),this._updateController(e,n,i);var h=this._data;a.diff(h).add(function(f){yg(a,f)&&_g(a,f,null,s,e)}).update(function(f,v){var g=h.getItemGraphicEl(v);if(!yg(a,f)){g&&bg(h,v,g,s,e);return}_g(a,f,g,s,e)}).remove(function(f){var v=h.getItemGraphicEl(f);v&&bg(h,f,v,s,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(f,v){f.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:v})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,n){var i=e.getData(),a=[];i.each(function(v){var g=i.getItemLayout(v);g&&!isNaN(g.x)&&!isNaN(g.y)&&a.push([+g.x,+g.y])});var o=[],s=[];du(a,o,s);var u=this._min,h=this._max;s[0]-o[0]===0&&(o[0]=u?u[0]:o[0]-1,s[0]=h?h[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=u?u[1]:o[1]-1,s[1]=h?h[1]:s[1]+1);var f=e.coordinateSystem=new Ls;f.zoomLimit=e.get("scaleLimit"),f.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),f.setCenter(e.get("center"),n),f.setZoom(e.get("zoom")),this.group.attr({x:f.x,y:f.y,scaleX:f.scaleX,scaleY:f.scaleY}),this._min=o,this._max=s},t.prototype._updateController=function(e,n,i){var a=this,o=this._controller,s=this._controllerHost,u=this.group;o.setPointerChecker(function(h,f,v){var g=u.getBoundingRect();return g.applyTransform(u.transform),g.contain(f,v)&&!_u(h,i,e)}),o.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(h){Uc(s,h.dx,h.dy),i.dispatchAction({seriesId:e.id,type:"treeRoam",dx:h.dx,dy:h.dy})}).on("zoom",function(h){Zc(s,h.scale,h.originX,h.originY),i.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:h.scale,originX:h.originX,originY:h.originY}),a._updateNodeAndLinkScale(e),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var n=e.getData(),i=this._getNodeGlobalScale(e);n.eachItemGraphicEl(function(a,o){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var n=e.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,o=n.getZoom(),s=(o-1)*i+1;return s/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ar);function yg(r,t){var e=r.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function _g(r,t,e,n,i){var a=!e,o=r.tree.getNodeByDataIndex(t),s=o.getModel(),u=o.getVisual("style").fill,h=o.isExpand===!1&&o.children.length!==0?u:"#fff",f=r.tree.root,v=o.parentNode===f?o:o.parentNode||o,g=r.getItemGraphicEl(v.dataIndex),d=v.getLayout(),m=g?{x:g.__oldX,y:g.__oldY,rawX:g.__radialOldRawX,rawY:g.__radialOldRawY}:d,_=o.getLayout();a?(e=new ws(r,t,null,{symbolInnerColor:h,useNameLabel:!0}),e.x=m.x,e.y=m.y):e.updateData(r,t,null,{symbolInnerColor:h,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=_.rawX,e.__radialRawY=_.rawY,n.add(e),r.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,Ee(e,{x:_.x,y:_.y},i);var b=e.getSymbolPath();if(i.get("layout")==="radial"){var S=f.children[0],I=S.getLayout(),A=S.children.length,D=void 0,V=void 0;if(_.x===I.x&&o.isExpand===!0&&S.children.length){var R={x:(S.children[0].getLayout().x+S.children[A-1].getLayout().x)/2,y:(S.children[0].getLayout().y+S.children[A-1].getLayout().y)/2};D=Math.atan2(R.y-I.y,R.x-I.x),D<0&&(D=Math.PI*2+D),V=R.x<I.x,V&&(D=D-Math.PI)}else D=Math.atan2(_.y-I.y,_.x-I.x),D<0&&(D=Math.PI*2+D),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(V=_.x<I.x,V&&(D=D-Math.PI)):(V=_.x>I.x,V||(D=D-Math.PI));var Z=V?"left":"right",j=s.getModel("label"),X=j.get("rotate"),et=X*(Math.PI/180),it=b.getTextContent();it&&(b.setTextConfig({position:j.get("position")||Z,rotation:X==null?-D:et,origin:"center"}),it.setStyle("verticalAlign","middle"))}var ht=s.get(["emphasis","focus"]),vt=ht==="relative"?Tf(o.getAncestorsIndices(),o.getDescendantIndices()):ht==="ancestor"?o.getAncestorsIndices():ht==="descendant"?o.getDescendantIndices():null;vt&&(Ae(e).focus=vt),a8(i,o,f,e,m,d,_,n),e.__edge&&(e.onHoverStateChange=function(st){if(st!=="blur"){var mt=o.parentNode&&r.getItemGraphicEl(o.parentNode.dataIndex);mt&&mt.hoverState===Iw||Ml(e.__edge,st)}})}function a8(r,t,e,n,i,a,o,s){var u=t.getModel(),h=r.get("edgeShape"),f=r.get("layout"),v=r.getOrient(),g=r.get(["lineStyle","curveness"]),d=r.get("edgeForkPosition"),m=u.getModel("lineStyle").getLineStyle(),_=n.__edge;if(h==="curve")t.parentNode&&t.parentNode!==e&&(_||(_=n.__edge=new z1({shape:Bf(f,v,g,i,i)})),Ee(_,{shape:Bf(f,v,g,a,o)},r));else if(h==="polyline"&&f==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var b=t.children,S=[],I=0;I<b.length;I++){var A=b[I].getLayout();S.push([A.x,A.y])}_||(_=n.__edge=new n8({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:v,forkPosition:d}})),Ee(_,{shape:{parentPoint:[o.x,o.y],childPoints:S}},r)}_&&!(h==="polyline"&&!t.isExpand)&&(_.useStyle(ve({strokeNoScale:!0,fill:null},m)),jr(_,u,"lineStyle"),oo(_),s.add(_))}function xg(r,t,e,n,i){var a=t.tree.root,o=l_(a,r),s=o.source,u=o.sourceLayout,h=t.getItemGraphicEl(r.dataIndex);if(!!h){var f=t.getItemGraphicEl(s.dataIndex),v=f.__edge,g=h.__edge||(s.isExpand===!1||s.children.length===1?v:void 0),d=n.get("edgeShape"),m=n.get("layout"),_=n.get("orient"),b=n.get(["lineStyle","curveness"]);g&&(d==="curve"?no(g,{shape:Bf(m,_,b,u,u),style:{opacity:0}},n,{cb:function(){e.remove(g)},removeOpt:i}):d==="polyline"&&n.get("layout")==="orthogonal"&&no(g,{shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]]},style:{opacity:0}},n,{cb:function(){e.remove(g)},removeOpt:i}))}}function l_(r,t){for(var e=t.parentNode===r?t:t.parentNode||t,n;n=e.getLayout(),n==null;)e=e.parentNode===r?e:e.parentNode||e;return{source:e,sourceLayout:n}}function bg(r,t,e,n,i){var a=r.tree.getNodeByDataIndex(t),o=r.tree.root,s=l_(o,a).sourceLayout,u={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};no(e,{x:s.x+1,y:s.y+1},i,{cb:function(){n.remove(e),r.setItemGraphicEl(t,null)},removeOpt:u}),e.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:u}),a.children.forEach(function(h){xg(h,r,n,i,u)}),xg(a,r,n,i,u)}function Bf(r,t,e,n,i){var a,o,s,u,h,f,v,g;if(r==="radial"){h=n.rawX,v=n.rawY,f=i.rawX,g=i.rawY;var d=Ho(h,v),m=Ho(h,v+(g-v)*e),_=Ho(f,g+(v-g)*e),b=Ho(f,g);return{x1:d.x||0,y1:d.y||0,x2:b.x||0,y2:b.y||0,cpx1:m.x||0,cpy1:m.y||0,cpx2:_.x||0,cpy2:_.y||0}}else h=n.x,v=n.y,f=i.x,g=i.y,(t==="LR"||t==="RL")&&(a=h+(f-h)*e,o=v,s=f+(h-f)*e,u=g),(t==="TB"||t==="BT")&&(a=h,o=v+(g-v)*e,s=f,u=g+(v-g)*e);return{x1:h,y1:v,x2:f,y2:g,cpx1:a,cpy1:o,cpx2:s,cpy2:u}}var o8=i8,Sn=Qe();function u_(r){var t=r.mainData,e=r.datas;e||(e={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,h_(t,e,r),J(e,function(n){J(t.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,_e(s8,r))})}),t.wrapMethod("cloneShallow",_e(u8,r)),J(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,_e(l8,r))}),Jo(e[t.dataType]===t)}function s8(r,t){if(c8(this)){var e=Ft({},Sn(this).datas);e[this.dataType]=t,h_(t,e,r)}else Xc(t,this.dataType,Sn(this).mainData,r);return t}function l8(r,t){return r.struct&&r.struct.update(),t}function u8(r,t){return J(Sn(t).datas,function(e,n){e!==t&&Xc(e.cloneShallow(),n,t,r)}),t}function h8(r){var t=Sn(this).mainData;return r==null||t==null?t:Sn(t).datas[r]}function f8(){var r=Sn(this).mainData;return r==null?[{data:r}]:Lt(lr(Sn(r).datas),function(t){return{type:t,data:Sn(r).datas[t]}})}function c8(r){return Sn(r).mainData===r}function h_(r,t,e){Sn(r).datas={},J(t,function(n,i){Xc(n,i,r,e)})}function Xc(r,t,e,n){Sn(e).datas[t]=r,Sn(r).mainData=e,r.dataType=t,n.struct&&(r[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=r),r.getLinkedData=h8,r.getLinkedDataAll=f8}var v8=function(){function r(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,e,n){we(t)&&(n=e,e=t,t=null),t=t||{},Se(t)&&(t={order:t});var i=t.order||"preorder",a=this[t.attr||"children"],o;i==="preorder"&&(o=e.call(n,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(t,e,n);i==="postorder"&&e.call(n,this)},r.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var a=n[e].getNodeById(t);if(a)return a}},r.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var a=n[e].contains(t);if(a)return a}},r.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},r.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},r.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r}(),d8=function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},r.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,e,n){var i=new r(e),a=[],o=1;s(t);function s(f,v){var g=f.value;o=Math.max(o,Ot(g)?g.length:1),a.push(f);var d=new v8(si(f.name,""),i);v?p8(d,v):i.root=d,i._nodes.push(d);var m=f.children;if(m)for(var _=0;_<m.length;_++)s(m[_],d)}i.root.updateDepthAndHeight(0);var u=nu(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,h=new en(u,e);return h.initData(a),n&&n(h),u_({mainData:h,struct:i,structAttr:"tree"}),i.update(),i},r}();function p8(r,t){var e=t.children;r.parentNode!==t&&(e.push(r),r.parentNode=t)}var jc=d8;function ns(r,t,e){if(r&&Ye(t,r.type)>=0){var n=e.getData().tree.root,i=r.targetNode;if(Se(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=r.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function f_(r){for(var t=[];r;)r=r.parentNode,r&&t.push(r);return t.reverse()}function Kc(r,t){var e=f_(r);return Ye(e,t)>=0}function bu(r,t){for(var e=[];r;){var n=r.dataIndex;e.push({name:r.name,dataIndex:n,value:t.getRawValue(n)}),r=r.parentNode}return e.reverse(),e}var g8=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var n={name:e.name,children:e.data},i=e.leaves||{},a=new fn(i,this,this.ecModel),o=jc.createTree(n,this,s);function s(v){v.wrapMethod("getItemModel",function(g,d){var m=o.getNodeByDataIndex(d);return m&&m.children.length&&m.isExpand||(g.parentModel=a),g})}var u=0;o.eachNode("preorder",function(v){v.depth>u&&(u=v.depth)});var h=e.expandAndCollapse,f=h&&e.initialTreeDepth>=0?e.initialTreeDepth:u;return o.root.eachNode("preorder",function(v){var g=v.hostTree.data.getRawDataItem(v.dataIndex);v.isExpand=g&&g.collapsed!=null?!g.collapsed:v.depth<=f}),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,n,i){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(e),u=s.getValue(),h=s.name;s&&s!==o;)h=s.parentNode.name+"."+h,s=s.parentNode;return rn("nameValue",{name:h,value:u,noValue:isNaN(u)||u==null})},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=bu(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(mr),m8=g8;function y8(r,t,e){for(var n=[r],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)n.push(o[s])}for(;a=i.pop();)t(a,e)}function ko(r,t){for(var e=[r],n;n=e.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)e.push(i[a])}}function _8(r,t){r.eachSeriesByType("tree",function(e){x8(e,t)})}function x8(r,t){var e=j9(r,t);r.layoutInfo=e;var n=r.get("layout"),i=0,a=0,o=null;n==="radial"?(i=2*Math.PI,a=Math.min(e.height,e.width)/2,o=mg(function(A,D){return(A.parentNode===D.parentNode?1:2)/A.depth})):(i=e.width,a=e.height,o=mg());var s=r.getData().tree.root,u=s.children[0];if(u){q9(s),y8(u,Y9,o),s.hierNode.modifier=-u.hierNode.prelim,ko(u,X9);var h=u,f=u,v=u;ko(u,function(A){var D=A.getLayout().x;D<h.getLayout().x&&(h=A),D>f.getLayout().x&&(f=A),A.depth>v.depth&&(v=A)});var g=h===f?1:o(h,f)/2,d=g-h.getLayout().x,m=0,_=0,b=0,S=0;if(n==="radial")m=i/(f.getLayout().x+g+d),_=a/(v.depth-1||1),ko(u,function(A){b=(A.getLayout().x+d)*m,S=(A.depth-1)*_;var D=Ho(b,S);A.setLayout({x:D.x,y:D.y,rawX:b,rawY:S},!0)});else{var I=r.getOrient();I==="RL"||I==="LR"?(_=a/(f.getLayout().x+g+d),m=i/(v.depth-1||1),ko(u,function(A){S=(A.getLayout().x+d)*_,b=I==="LR"?(A.depth-1)*m:i-(A.depth-1)*m,A.setLayout({x:b,y:S},!0)})):(I==="TB"||I==="BT")&&(m=i/(f.getLayout().x+g+d),_=a/(v.depth-1||1),ko(u,function(A){b=(A.getLayout().x+d)*m,S=I==="TB"?(A.depth-1)*_:a-(A.depth-1)*_,A.setLayout({x:b,y:S},!0)}))}}}function b8(r){r.eachSeriesByType("tree",function(t){var e=t.getData(),n=e.tree;n.eachNode(function(i){var a=i.getModel(),o=a.getModel("itemStyle").getItemStyle(),s=e.ensureUniqueItemVisual(i.dataIndex,"style");Ft(s,o)})})}function w8(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=t.dataIndex,a=n.getData().tree,o=a.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var a=i.coordinateSystem,o=Yc(a,t,void 0,n);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}function S8(r){r.registerChartView(o8),r.registerSeriesModel(m8),r.registerLayout(_8),r.registerVisual(b8),w8(r)}var wg=["treemapZoomToNode","treemapRender","treemapMove"];function M8(r){for(var t=0;t<wg.length;t++)r.registerAction({type:wg[t],update:"updateView"},Li);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"treemap",query:e},i);function i(a,o){var s=["treemapZoomToNode","treemapRootToNode"],u=ns(e,s,a);if(u){var h=a.getViewRoot();h&&(e.direction=Kc(h,u.node)?"rollUp":"drillDown"),a.resetViewRoot(u.node)}}})}function c_(r){var t=r.getData(),e=t.tree,n={};e.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var o=If(r.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",o)})}var C8=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,n){var i={name:e.name,children:e.data};v_(i);var a=e.levels||[],o=this.designatedVisualItemStyle={},s=new fn({itemStyle:o},this,n);a=e.levels=A8(a,n);var u=Lt(a||[],function(v){return new fn(v,s,n)},this),h=jc.createTree(i,this,f);function f(v){v.wrapMethod("getItemModel",function(g,d){var m=h.getNodeByDataIndex(d),_=m?u[m.depth]:null;return g.parentModel=_||s,g})}return h.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.getRawValue(e),s=a.getName(e);return rn("nameValue",{name:s,value:o})},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=bu(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},Ft(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var n=this._idIndexMap;n||(n=this._idIndexMap=de(),this._idIndexMapCount=0);var i=n.get(e);return i==null&&n.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){c_(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(mr);function v_(r){var t=0;J(r.children,function(n){v_(n);var i=n.value;Ot(i)&&(i=i[0]),t+=i});var e=r.value;Ot(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Ot(r.value)?r.value[0]=e:r.value=e}function A8(r,t){var e=Yr(t.get("color")),n=Yr(t.get(["aria","decal","decals"]));if(!!e){r=r||[];var i,a;J(r,function(s){var u=new fn(s),h=u.get("color"),f=u.get("decal");(u.get(["itemStyle","color"])||h&&h!=="none")&&(i=!0),(u.get(["itemStyle","decal"])||f&&f!=="none")&&(a=!0)});var o=r[0]||(r[0]={});return i||(o.color=e.slice()),!a&&n&&(o.decal=n.slice()),r}}var T8=C8,I8=8,Sg=8,bh=5,L8=function(){function r(t){this.group=new ee,t.add(this.group)}return r.prototype.render=function(t,e,n,i){var a=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!n)){var s=a.getModel("itemStyle"),u=a.getModel("emphasis"),h=s.getModel("textStyle"),f=u.getModel(["itemStyle","textStyle"]),v={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,v,h),this._renderContent(t,v,s,u,h,f,i),Ec(o,v.pos,v.box)}},r.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var a=si(i.getModel().get("name"),""),o=n.getTextRect(a),s=Math.max(o.width+I8*2,e.emptyItemWidth);e.totalWidth+=s+Sg,e.renderList.push({node:i,text:a,width:s})}},r.prototype._renderContent=function(t,e,n,i,a,o,s){for(var u=0,h=e.emptyItemWidth,f=t.get(["breadcrumb","height"]),v=Lw(e.pos,e.box),g=e.totalWidth,d=e.renderList,m=i.getModel("itemStyle").getItemStyle(),_=d.length-1;_>=0;_--){var b=d[_],S=b.node,I=b.width,A=b.text;g>v.width&&(g-=I-h,I=h,A=null);var D=new Mn({shape:{points:D8(u,0,I,f,_===d.length-1,_===0)},style:ve(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new ur({style:zr(a,{text:A})}),textConfig:{position:"inside"},z2:ys*1e4,onclick:_e(s,S)});D.disableLabelAnimation=!0,D.getTextContent().ensureState("emphasis").style=zr(o,{text:A}),D.ensureState("emphasis").style=m,hr(D,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(D),P8(D,t,S),u+=I+Sg}},r.prototype.remove=function(){this.group.removeAll()},r}();function D8(r,t,e,n,i,a){var o=[[i?r:r-bh,t],[r+e,t],[r+e,t+n],[i?r:r-bh,t+n]];return!a&&o.splice(2,0,[r+e+bh,t+n/2]),!i&&o.push([r,t+n/2]),o}function P8(r,t,e){Ae(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&bu(e,t)}}var k8=L8,E8=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,e,n,i,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:a}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},r}();function R8(){return new E8}var Gf=ee,Mg=Ue,Cg=3,Ag="label",Tg="upperLabel",z8=ys*10,O8=ys*2,N8=ys*3,ji=O1([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Ig=function(r){var t=ji(r);return t.stroke=t.fill=t.lineWidth=null,t},Nl=Qe(),V8=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=Eo(),e}return t.prototype.render=function(e,n,i,a){var o=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(Ye(o,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=n;var s=["treemapZoomToNode","treemapRootToNode"],u=ns(a,s,e),h=a&&a.type,f=e.layoutInfo,v=!this._oldTree,g=this._storage,d=h==="treemapRootToNode"&&u&&g?{rootNodeGroup:g.nodeGroup[u.node.getRawIndex()],direction:a.direction}:null,m=this._giveContainerGroup(f),_=e.get("animation"),b=this._doRender(m,e,d);_&&!v&&(!h||h==="treemapZoomToNode"||h==="treemapRootToNode")?this._doAnimation(m,b,e,d):b.renderFinally(),this._resetController(i),this._renderBreadcrumb(e,i,u)}},t.prototype._giveContainerGroup=function(e){var n=this._containerGroup;return n||(n=this._containerGroup=new Gf,this._initEvents(n),this.group.add(n)),n.x=e.x,n.y=e.y,n},t.prototype._doRender=function(e,n,i){var a=n.getData().tree,o=this._oldTree,s=Eo(),u=Eo(),h=this._storage,f=[];function v(b,S,I,A){return B8(n,u,h,i,s,f,b,S,I,A)}d(a.root?[a.root]:[],o&&o.root?[o.root]:[],e,a===o||!o,0);var g=m(h);return this._oldTree=a,this._storage=u,{lastsForAnimation:s,willDeleteEls:g,renderFinally:_};function d(b,S,I,A,D){A?(S=b,J(b,function(Z,j){!Z.isRemoved()&&R(j,j)})):new Pi(S,b,V,V).add(R).update(R).remove(_e(R,null)).execute();function V(Z){return Z.getId()}function R(Z,j){var X=Z!=null?b[Z]:null,et=j!=null?S[j]:null,it=v(X,et,I,D);it&&d(X&&X.viewChildren||[],et&&et.viewChildren||[],it,A,D+1)}}function m(b){var S=Eo();return b&&J(b,function(I,A){var D=S[A];J(I,function(V){V&&(D.push(V),Nl(V).willDelete=!0)})}),S}function _(){J(g,function(b){J(b,function(S){S.parent&&S.parent.remove(S)})}),J(f,function(b){b.invisible=!0,b.dirty()})}},t.prototype._doAnimation=function(e,n,i,a){var o=i.get("animationDurationUpdate"),s=i.get("animationEasing"),u=(we(o)?0:o)||0,h=(we(s)?null:s)||"cubicOut",f=R8();J(n.willDeleteEls,function(v,g){J(v,function(d,m){if(!d.invisible){var _=d.parent,b,S=Nl(_);if(a&&a.direction==="drillDown")b=_===a.rootNodeGroup?{shape:{x:0,y:0,width:S.nodeWidth,height:S.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var I=0,A=0;S.willDelete||(I=S.nodeWidth/2,A=S.nodeHeight/2),b=g==="nodeGroup"?{x:I,y:A,style:{opacity:0}}:{shape:{x:I,y:A,width:0,height:0},style:{opacity:0}}}b&&f.add(d,b,u,0,h)}})}),J(this._storage,function(v,g){J(v,function(d,m){var _=n.lastsForAnimation[g][m],b={};!_||(d instanceof ee?_.oldX!=null&&(b.x=d.x,b.y=d.y,d.x=_.oldX,d.y=_.oldY):(_.oldShape&&(b.shape=Ft({},d.shape),d.setShape(_.oldShape)),_.fadein?(d.setStyle("opacity",0),b.style={opacity:1}):d.style.opacity!==1&&(b.style={opacity:1})),f.add(d,b,u,0,h))})},this),this._state="animating",f.finished(Ht(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(e){var n=this._controller;n||(n=this._controller=new Is(e.getZr()),n.enable(this.seriesModel.get("roam")),n.on("pan",Ht(this._onPan,this)),n.on("zoom",Ht(this._onZoom,this)));var i=new Je(0,0,e.getWidth(),e.getHeight());n.setPointerChecker(function(a,o,s){return i.contain(o,s)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>Cg||Math.abs(e.dy)>Cg)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var n=e.originX,i=e.originY;if(this._state!=="animating"){var a=this.seriesModel.getData().tree.root;if(!a)return;var o=a.getLayout();if(!o)return;var s=new Je(o.x,o.y,o.width,o.height),u=this.seriesModel.layoutInfo;n-=u.x,i-=u.y;var h=xo();pa(h,h,[-n,-i]),P1(h,h,[e.scale,e.scale]),pa(h,h,[n,i]),s.applyTransform(h),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var n=this;e.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(!!a){var o=n.findTarget(i.offsetX,i.offsetY);if(!!o){var s=o.node;if(s.getLayout().isLeafRoot)n._rootToNode(o);else if(a==="zoomToNode")n._zoomToNode(o);else if(a==="link"){var u=s.hostTree.data.getItemModel(s.dataIndex),h=u.get("link",!0),f=u.get("target",!0)||"blank";h&&N1(h,f)}}}}},this)},t.prototype._renderBreadcrumb=function(e,n,i){var a=this;i||(i=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new k8(this.group))).render(e,n,i.node,function(o){a._state!=="animating"&&(Kc(e.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Eo(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var u=s.transformCoordToLocal(e,n),h=s.shape;if(h.x<=u[0]&&u[0]<=h.x+h.width&&h.y<=u[1]&&u[1]<=h.y+h.height)i={node:o,offsetX:u[0],offsetY:u[1]};else return!1}},this),i},t.type="treemap",t}(ar);function Eo(){return{nodeGroup:[],background:[],content:[]}}function B8(r,t,e,n,i,a,o,s,u,h){if(!o)return;var f=o.getLayout(),v=r.getData(),g=o.getModel();if(v.setItemGraphicEl(o.dataIndex,null),!f||!f.isInView)return;var d=f.width,m=f.height,_=f.borderWidth,b=f.invisible,S=o.getRawIndex(),I=s&&s.getRawIndex(),A=o.viewChildren,D=f.upperHeight,V=A&&A.length,R=g.getModel("itemStyle"),Z=g.getModel(["emphasis","itemStyle"]),j=g.getModel(["blur","itemStyle"]),X=g.getModel(["select","itemStyle"]),et=R.get("borderRadius")||0,it=ie("nodeGroup",Gf);if(!it)return;if(u.add(it),it.x=f.x||0,it.y=f.y||0,it.markRedraw(),Nl(it).nodeWidth=d,Nl(it).nodeHeight=m,f.isAboveViewRoot)return it;var ht=ie("background",Mg,h,O8);ht&&St(it,ht,V&&f.upperLabelHeight);var vt=g.getModel("emphasis"),st=vt.get("focus"),mt=vt.get("blurScope"),lt=vt.get("disabled"),Mt=st==="ancestor"?o.getAncestorsIndices():st==="descendant"?o.getDescendantIndices():st;if(V)Nd(it)&&Go(it,!1),ht&&(Go(ht,!lt),v.setItemGraphicEl(o.dataIndex,ht),Vd(ht,Mt,mt));else{var xt=ie("content",Mg,h,N8);xt&&Pt(it,xt),ht.disableMorphing=!0,ht&&Nd(ht)&&Go(ht,!1),Go(it,!lt),v.setItemGraphicEl(o.dataIndex,it),Vd(it,Mt,mt)}return it;function St(he,Ut,qt){var Yt=Ae(Ut);if(Yt.dataIndex=o.dataIndex,Yt.seriesIndex=r.seriesIndex,Ut.setShape({x:0,y:0,width:d,height:m,r:et}),b)Nt(Ut);else{Ut.invisible=!1;var Xt=o.getVisual("style"),fr=Xt.stroke,tr=Ig(R);tr.fill=fr;var $e=ji(Z);$e.fill=Z.get("borderColor");var er=ji(j);er.fill=j.get("borderColor");var rr=ji(X);if(rr.fill=X.get("borderColor"),qt){var Tr=d-2*_;ne(Ut,fr,Xt.opacity,{x:_,y:0,width:Tr,height:D})}else Ut.removeTextContent();Ut.setStyle(tr),Ut.ensureState("emphasis").style=$e,Ut.ensureState("blur").style=er,Ut.ensureState("select").style=rr,oo(Ut)}he.add(Ut)}function Pt(he,Ut){var qt=Ae(Ut);qt.dataIndex=o.dataIndex,qt.seriesIndex=r.seriesIndex;var Yt=Math.max(d-2*_,0),Xt=Math.max(m-2*_,0);if(Ut.culling=!0,Ut.setShape({x:_,y:_,width:Yt,height:Xt,r:et}),b)Nt(Ut);else{Ut.invisible=!1;var fr=o.getVisual("style"),tr=fr.fill,$e=Ig(R);$e.fill=tr,$e.decal=fr.decal;var er=ji(Z),rr=ji(j),Tr=ji(X);ne(Ut,tr,fr.opacity,null),Ut.setStyle($e),Ut.ensureState("emphasis").style=er,Ut.ensureState("blur").style=rr,Ut.ensureState("select").style=Tr,oo(Ut)}he.add(Ut)}function Nt(he){!he.invisible&&a.push(he)}function ne(he,Ut,qt,Yt){var Xt=g.getModel(Yt?Tg:Ag),fr=si(g.get("name"),null),tr=Xt.getShallow("show");Fr(he,Ar(g,Yt?Tg:Ag),{defaultText:tr?fr:null,inheritColor:Ut,defaultOpacity:qt,labelFetcher:r,labelDataIndex:o.dataIndex});var $e=he.getTextContent();if(!!$e){var er=$e.style,rr=Dw(er.padding||0);Yt&&(he.setTextConfig({layoutRect:Yt}),$e.disableLabelLayout=!0),$e.beforeUpdate=function(){var Tn=Math.max((Yt?Yt.width:he.shape.width)-rr[1]-rr[3],0),Vr=Math.max((Yt?Yt.height:he.shape.height)-rr[0]-rr[2],0);(er.width!==Tn||er.height!==Vr)&&$e.setStyle({width:Tn,height:Vr})},er.truncateMinChar=2,er.lineOverflow="truncate",Qt(er,Yt,f);var Tr=$e.getState("emphasis");Qt(Tr?Tr.style:null,Yt,f)}}function Qt(he,Ut,qt){var Yt=he?he.text:null;if(!Ut&&qt.isLeafRoot&&Yt!=null){var Xt=r.get("drillDownIcon",!0);he.text=Xt?Xt+" "+Yt:Yt}}function ie(he,Ut,qt,Yt){var Xt=I!=null&&e[he][I],fr=i[he];return Xt?(e[he][I]=null,jt(fr,Xt)):b||(Xt=new Ut,Xt instanceof ga&&(Xt.z2=G8(qt,Yt)),be(fr,Xt)),t[he][S]=Xt}function jt(he,Ut){var qt=he[S]={};Ut instanceof Gf?(qt.oldX=Ut.x,qt.oldY=Ut.y):qt.oldShape=Ft({},Ut.shape)}function be(he,Ut){var qt=he[S]={},Yt=o.parentNode,Xt=Ut instanceof ee;if(Yt&&(!n||n.direction==="drillDown")){var fr=0,tr=0,$e=i.background[Yt.getRawIndex()];!n&&$e&&$e.oldShape&&(fr=$e.oldShape.width,tr=$e.oldShape.height),Xt?(qt.oldX=0,qt.oldY=tr):qt.oldShape={x:fr,y:tr,width:0,height:0}}qt.fadein=!Xt}}function G8(r,t){return r*z8+t}var F8=V8,is=J,H8=Dr,Vl=-1,Jc=function(){function r(t){var e=t.mappingMethod,n=t.type,i=this.option=ke(t);this.type=n,this.mappingMethod=e,this._normalizeData=U8[e];var a=r.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],e==="piecewise"?(wh(i),$8(i)):e==="category"?i.categories?W8(i):wh(i,!0):(Jo(e!=="linear"||i.dataExtent),wh(i))}return r.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},r.prototype.getNormalizer=function(){return Ht(this._normalizeData,this)},r.listVisualTypes=function(){return lr(r.visualHandlers)},r.isValidType=function(t){return r.visualHandlers.hasOwnProperty(t)},r.eachVisual=function(t,e,n){Dr(t)?J(t,e,n):e.call(n,t)},r.mapVisual=function(t,e,n){var i,a=Ot(t)?[]:Dr(t)?{}:(i=!0,null);return r.eachVisual(t,function(o,s){var u=e.call(n,o,s);i?a=u:a[s]=u}),a},r.retrieveVisuals=function(t){var e={},n;return t&&is(r.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(e[a]=t[a],n=!0)}),n?e:null},r.prepareVisualTypes=function(t){if(Ot(t))t=t.slice();else if(H8(t)){var e=[];is(t,function(n,i){e.push(i)}),t=e}else return[];return t.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},r.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},r.findPieceIndex=function(t,e,n){for(var i,a=1/0,o=0,s=e.length;o<s;o++){var u=e[o].value;if(u!=null){if(u===t||Se(u)&&u===t+"")return o;n&&g(u,o)}}for(var o=0,s=e.length;o<s;o++){var h=e[o],f=h.interval,v=h.close;if(f){if(f[0]===-1/0){if(nl(v[1],t,f[1]))return o}else if(f[1]===1/0){if(nl(v[0],f[0],t))return o}else if(nl(v[0],f[0],t)&&nl(v[1],t,f[1]))return o;n&&g(f[0],o),n&&g(f[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function g(d,m){var _=Math.abs(d-t);_<a&&(a=_,i=m)}},r.visualHandlers={color:{applyVisual:Ro("color"),getColorMapper:function(){var t=this.option;return Ht(t.mappingMethod==="category"?function(e,n){return!n&&(e=this._normalizeData(e)),$o.call(this,e)}:function(e,n,i){var a=!!i;return!n&&(e=this._normalizeData(e)),i=Xu(e,t.parsedVisual,i),a?i:ju(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return ju(Xu(t,this.option.parsedVisual),"rgba")},category:$o,piecewise:function(t,e){var n=Hf.call(this,e);return n==null&&(n=ju(Xu(t,this.option.parsedVisual),"rgba")),n},fixed:Ki}},colorHue:rl(function(t,e){return qo(t,e)}),colorSaturation:rl(function(t,e){return qo(t,null,e)}),colorLightness:rl(function(t,e){return qo(t,null,null,e)}),colorAlpha:rl(function(t,e){return Il(t,e)}),decal:{applyVisual:Ro("decal"),_normalizedToVisual:{linear:null,category:$o,piecewise:null,fixed:null}},opacity:{applyVisual:Ro("opacity"),_normalizedToVisual:Ff([0,1])},liftZ:{applyVisual:Ro("liftZ"),_normalizedToVisual:{linear:Ki,category:Ki,piecewise:Ki,fixed:Ki}},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:Lg,category:$o,piecewise:function(t,e){var n=Hf.call(this,e);return n==null&&(n=Lg.call(this,t)),n},fixed:Ki}},symbolSize:{applyVisual:Ro("symbolSize"),_normalizedToVisual:Ff([0,1])}},r}();function $8(r){var t=r.pieceList;r.hasSpecialVisual=!1,J(t,function(e,n){e.originIndex=n,e.visual!=null&&(r.hasSpecialVisual=!0)})}function W8(r){var t=r.categories,e=r.categoryMap={},n=r.visual;if(is(t,function(o,s){e[o]=s}),!Ot(n)){var i=[];Dr(n)?is(n,function(o,s){var u=e[s];i[u!=null?u:Vl]=o}):i[Vl]=n,n=d_(r,i)}for(var a=t.length-1;a>=0;a--)n[a]==null&&(delete e[t[a]],t.pop())}function wh(r,t){var e=r.visual,n=[];Dr(e)?is(e,function(a){n.push(a)}):e!=null&&n.push(e);var i={color:1,symbol:1};!t&&n.length===1&&!i.hasOwnProperty(r.type)&&(n[1]=n[0]),d_(r,n)}function rl(r){return{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("color",r(e("color"),i))},_normalizedToVisual:Ff([0,1])}}function Lg(r){var t=this.option.visual;return t[Math.round(He(r,[0,1],[0,t.length-1],!0))]||{}}function Ro(r){return function(t,e,n){n(r,this.mapValueToVisual(t))}}function $o(r){var t=this.option.visual;return t[this.option.loop&&r!==Vl?r%t.length:r]}function Ki(){return this.option.visual[0]}function Ff(r){return{linear:function(t){return He(t,r,this.option.visual,!0)},category:$o,piecewise:function(t,e){var n=Hf.call(this,e);return n==null&&(n=He(t,r,this.option.visual,!0)),n},fixed:Ki}}function Hf(r){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var n=Jc.findPieceIndex(r,e),i=e[n];if(i&&i.visual)return i.visual[this.type]}}function d_(r,t){return r.visual=t,r.type==="color"&&(r.parsedVisual=Lt(t,function(e){var n=Pw(e);return n||[0,0,0,1]})),t}var U8={linear:function(r){return He(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var t=this.option.pieceList,e=Jc.findPieceIndex(r,t,!0);if(e!=null)return He(e,[0,t.length-1],[0,1],!0)},category:function(r){var t=this.option.categories?this.option.categoryMap[r]:r;return t==null?Vl:t},fixed:Li};function nl(r,t,e){return r?t<=e:t<e}var Or=Jc,Z8="itemStyle",p_=Qe(),q8={seriesType:"treemap",reset:function(r){var t=r.getData().tree,e=t.root;e.isRemoved()||g_(e,{},r.getViewRoot().getAncestors(),r)}};function g_(r,t,e,n){var i=r.getModel(),a=r.getLayout(),o=r.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var s=i.getModel(Z8),u=Y8(s,t,n),h=o.ensureUniqueItemVisual(r.dataIndex,"style"),f=s.get("borderColor"),v=s.get("borderColorSaturation"),g;v!=null&&(g=Dg(u),f=X8(v,g)),h.stroke=f;var d=r.viewChildren;if(!d||!d.length)g=Dg(u),h.fill=g;else{var m=j8(r,i,a,s,u,d);J(d,function(_,b){if(_.depth>=e.length||_===e[_.depth]){var S=K8(i,u,_,b,m,n);g_(_,S,e,n)}})}}}function Y8(r,t,e){var n=Ft({},t),i=e.designatedVisualItemStyle;return J(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var o=r.get(a);i[a]=null,o!=null&&(n[a]=o)}),n}function Dg(r){var t=Sh(r,"color");if(t){var e=Sh(r,"colorAlpha"),n=Sh(r,"colorSaturation");return n&&(t=qo(t,null,null,n)),e&&(t=Il(t,e)),t}}function X8(r,t){return t!=null?qo(t,null,null,r):null}function Sh(r,t){var e=r[t];if(e!=null&&e!=="none")return e}function j8(r,t,e,n,i,a){if(!(!a||!a.length)){var o=Mh(t,"color")||i.color!=null&&i.color!=="none"&&(Mh(t,"colorAlpha")||Mh(t,"colorSaturation"));if(!!o){var s=t.get("visualMin"),u=t.get("visualMax"),h=e.dataExtent.slice();s!=null&&s<h[0]&&(h[0]=s),u!=null&&u>h[1]&&(h[1]=u);var f=t.get("colorMappingBy"),v={type:o.name,dataExtent:h,visual:o.range};v.type==="color"&&(f==="index"||f==="id")?(v.mappingMethod="category",v.loop=!0):v.mappingMethod="linear";var g=new Or(v);return p_(g).drColorMappingBy=f,g}}}function Mh(r,t){var e=r.get(t);return Ot(e)&&e.length?{name:t,range:e}:null}function K8(r,t,e,n,i,a){var o=Ft({},t);if(i){var s=i.type,u=s==="color"&&p_(i).drColorMappingBy,h=u==="index"?n:u==="id"?a.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));o[s]=i.mapValueToVisual(h)}return o}var as=Math.max,Bl=Math.min,Pg=un,Qc=J,m_=["itemStyle","borderWidth"],J8=["itemStyle","gapWidth"],Q8=["upperLabel","show"],tC=["upperLabel","height"],eC={seriesType:"treemap",reset:function(r,t,e,n){var i=e.getWidth(),a=e.getHeight(),o=r.option,s=nn(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),u=o.size||[],h=$t(Pg(s.width,u[0]),i),f=$t(Pg(s.height,u[1]),a),v=n&&n.type,g=["treemapZoomToNode","treemapRootToNode"],d=ns(n,g,r),m=v==="treemapRender"||v==="treemapMove"?n.rootRect:null,_=r.getViewRoot(),b=f_(_);if(v!=="treemapMove"){var S=v==="treemapZoomToNode"?sC(r,d,_,h,f):m?[m.width,m.height]:[h,f],I=o.sort;I&&I!=="asc"&&I!=="desc"&&(I="desc");var A={squareRatio:o.squareRatio,sort:I,leafDepth:o.leafDepth};_.hostTree.clearLayouts();var D={x:0,y:0,width:S[0],height:S[1],area:S[0]*S[1]};_.setLayout(D),y_(_,A,!1,0),D=_.getLayout(),Qc(b,function(R,Z){var j=(b[Z+1]||_).getValue();R.setLayout(Ft({dataExtent:[j,j],borderWidth:0,upperHeight:0},D))})}var V=r.getData().tree.root;V.setLayout(lC(s,m,d),!0),r.setLayoutInfo(s),__(V,new Je(-s.x,-s.y,i,a),b,_,0)}};function y_(r,t,e,n){var i,a;if(!r.isRemoved()){var o=r.getLayout();i=o.width,a=o.height;var s=r.getModel(),u=s.get(m_),h=s.get(J8)/2,f=x_(s),v=Math.max(u,f),g=u-h,d=v-h;r.setLayout({borderWidth:u,upperHeight:v,upperLabelHeight:f},!0),i=as(i-2*g,0),a=as(a-g-d,0);var m=i*a,_=rC(r,s,m,t,e,n);if(!!_.length){var b={x:g,y:d,width:i,height:a},S=Bl(i,a),I=1/0,A=[];A.area=0;for(var D=0,V=_.length;D<V;){var R=_[D];A.push(R),A.area+=R.getLayout().area;var Z=oC(A,S,t.squareRatio);Z<=I?(D++,I=Z):(A.area-=A.pop().getLayout().area,kg(A,S,b,h,!1),S=Bl(b.width,b.height),A.length=A.area=0,I=1/0)}if(A.length&&kg(A,S,b,h,!0),!e){var j=s.get("childrenVisibleMin");j!=null&&m<j&&(e=!0)}for(var D=0,V=_.length;D<V;D++)y_(_[D],t,e,n+1)}}}function rC(r,t,e,n,i,a){var o=r.children||[],s=n.sort;s!=="asc"&&s!=="desc"&&(s=null);var u=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!u)return r.viewChildren=[];o=Cr(o,function(d){return!d.isRemoved()}),iC(o,s);var h=aC(t,o,s);if(h.sum===0)return r.viewChildren=[];if(h.sum=nC(t,e,h.sum,s,o),h.sum===0)return r.viewChildren=[];for(var f=0,v=o.length;f<v;f++){var g=o[f].getValue()/h.sum*e;o[f].setLayout({area:g})}return u&&(o.length&&r.setLayout({isLeafRoot:!0},!0),o.length=0),r.viewChildren=o,r.setLayout({dataExtent:h.dataExtent},!0),o}function nC(r,t,e,n,i){if(!n)return e;for(var a=r.get("visibleMin"),o=i.length,s=o,u=o-1;u>=0;u--){var h=i[n==="asc"?o-u-1:u].getValue();h/e*t<a&&(s=u,e-=h)}return n==="asc"?i.splice(0,o-s):i.splice(s,o-s),e}function iC(r,t){return t&&r.sort(function(e,n){var i=t==="asc"?e.getValue()-n.getValue():n.getValue()-e.getValue();return i===0?t==="asc"?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:i}),r}function aC(r,t,e){for(var n=0,i=0,a=t.length;i<a;i++)n+=t[i].getValue();var o=r.get("visualDimension"),s;return!t||!t.length?s=[NaN,NaN]:o==="value"&&e?(s=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&s.reverse()):(s=[1/0,-1/0],Qc(t,function(u){var h=u.getValue(o);h<s[0]&&(s[0]=h),h>s[1]&&(s[1]=h)})),{sum:n,dataExtent:s}}function oC(r,t,e){for(var n=0,i=1/0,a=0,o=void 0,s=r.length;a<s;a++)o=r[a].getLayout().area,o&&(o<i&&(i=o),o>n&&(n=o));var u=r.area*r.area,h=t*t*e;return u?as(h*n/u,u/(h*i)):1/0}function kg(r,t,e,n,i){var a=t===e.width?0:1,o=1-a,s=["x","y"],u=["width","height"],h=e[s[a]],f=t?r.area/t:0;(i||f>e[u[o]])&&(f=e[u[o]]);for(var v=0,g=r.length;v<g;v++){var d=r[v],m={},_=f?d.getLayout().area/f:0,b=m[u[o]]=as(f-2*n,0),S=e[s[a]]+e[u[a]]-h,I=v===g-1||S<_?S:_,A=m[u[a]]=as(I-2*n,0);m[s[o]]=e[s[o]]+Bl(n,b/2),m[s[a]]=h+Bl(n,A/2),h+=I,d.setLayout(m,!0)}e[s[o]]+=f,e[u[o]]-=f}function sC(r,t,e,n,i){var a=(t||{}).node,o=[n,i];if(!a||a===e)return o;for(var s,u=n*i,h=u*r.option.zoomToNodeRatio;s=a.parentNode;){for(var f=0,v=s.children,g=0,d=v.length;g<d;g++)f+=v[g].getValue();var m=a.getValue();if(m===0)return o;h*=f/m;var _=s.getModel(),b=_.get(m_),S=Math.max(b,x_(_));h+=4*b*b+(3*b+S)*Math.pow(h,.5),h>Bd&&(h=Bd),a=s}h<u&&(h=u);var I=Math.pow(h/u,.5);return[n*I,i*I]}function lC(r,t,e){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!e)return n;var i=e.node,a=i.getLayout();if(!a)return n;for(var o=[a.width/2,a.height/2],s=i;s;){var u=s.getLayout();o[0]+=u.x,o[1]+=u.y,s=s.parentNode}return{x:r.width/2-o[0],y:r.height/2-o[1]}}function __(r,t,e,n,i){var a=r.getLayout(),o=e[i],s=o&&o===r;if(!(o&&!s||i===e.length&&r!==n)){r.setLayout({isInView:!0,invisible:!s&&!t.intersect(a),isAboveViewRoot:s},!0);var u=new Je(t.x-a.x,t.y-a.y,t.width,t.height);Qc(r.viewChildren||[],function(h){__(h,u,e,n,i+1)})}}function x_(r){return r.get(Q8)?r.get(tC):0}function uC(r){r.registerSeriesModel(T8),r.registerChartView(F8),r.registerVisual(q8),r.registerLayout(eC),M8(r)}function hC(r){var t=r.findComponents({mainType:"legend"});!t||!t.length||r.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getGraph(),a=i.data,o=n.mapArray(n.getName);a.filterSelf(function(s){var u=a.getItemModel(s),h=u.getShallow("category");if(h!=null){Xr(h)&&(h=o[h]);for(var f=0;f<t.length;f++)if(!t[f].isSelected(h))return!1}return!0})})}function fC(r){var t={};r.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getData(),a={};n.each(function(o){var s=n.getName(o);a["ec-"+s]=o;var u=n.getItemModel(o),h=u.getModel("itemStyle").getItemStyle();h.fill||(h.fill=e.getColorFromPalette(s,t)),n.setItemVisual(o,"style",h);for(var f=["symbol","symbolSize","symbolKeepAspect"],v=0;v<f.length;v++){var g=u.getShallow(f[v],!0);g!=null&&n.setItemVisual(o,f[v],g)}}),n.count()&&i.each(function(o){var s=i.getItemModel(o),u=s.getShallow("category");if(u!=null){Se(u)&&(u=a["ec-"+u]);var h=n.getItemVisual(u,"style"),f=i.ensureUniqueItemVisual(o,"style");Ft(f,h);for(var v=["symbol","symbolSize","symbolKeepAspect"],g=0;g<v.length;g++)i.setItemVisual(o,v[g],n.getItemVisual(u,v[g]))}})})}function il(r){return r instanceof Array||(r=[r,r]),r}function cC(r){r.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),i=il(t.get("edgeSymbol")),a=il(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(o){var s=n.getItemModel(o),u=e.getEdgeByIndex(o),h=il(s.getShallow("symbol",!0)),f=il(s.getShallow("symbolSize",!0)),v=s.getModel("lineStyle").getLineStyle(),g=n.ensureUniqueItemVisual(o,"style");switch(Ft(g,v),g.stroke){case"source":{var d=u.node1.getVisual("style");g.stroke=d&&d.fill;break}case"target":{var d=u.node2.getVisual("style");g.stroke=d&&d.fill;break}}h[0]&&u.setVisual("fromSymbol",h[0]),h[1]&&u.setVisual("toSymbol",h[1]),f[0]&&u.setVisual("fromSymbolSize",f[0]),f[1]&&u.setVisual("toSymbolSize",f[1])})})}var $f="-->",wu=function(r){return r.get("autoCurveness")||null},b_=function(r,t){var e=wu(r),n=20,i=[];if(Xr(e))n=e;else if(Ot(e)){r.__curvenessList=e;return}t>n&&(n=t);var a=n%2?n+2:n+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));r.__curvenessList=i},os=function(r,t,e){var n=[r.id,r.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[e.uid,n,i].join($f)},w_=function(r){var t=r.split($f);return[t[0],t[2],t[1]].join($f)},vC=function(r,t){var e=os(r.node1,r.node2,t);return t.__edgeMap[e]},dC=function(r,t){var e=Wf(os(r.node1,r.node2,t),t),n=Wf(os(r.node2,r.node1,t),t);return e+n},Wf=function(r,t){var e=t.__edgeMap;return e[r]?e[r].length:0};function pC(r){!wu(r)||(r.__curvenessList=[],r.__edgeMap={},b_(r))}function gC(r,t,e,n){if(!!wu(e)){var i=os(r,t,e),a=e.__edgeMap,o=a[w_(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function tv(r,t,e,n){var i=wu(t),a=Ot(i);if(!i)return null;var o=vC(r,t);if(!o)return null;for(var s=-1,u=0;u<o.length;u++)if(o[u]===e){s=u;break}var h=dC(r,t);b_(t,h),r.lineStyle=r.lineStyle||{};var f=os(r.node1,r.node2,t),v=t.__curvenessList,g=a||h%2?0:1;if(o.isForward)return v[g+s];var d=w_(f),m=Wf(d,t),_=v[s+m+g];return n?a?i&&i[0]===0?(m+g)%2?_:-_:((m%2?0:1)+g)%2?_:-_:(m+g)%2?_:-_:v[s+m+g]}function S_(r){var t=r.coordinateSystem;if(!(t&&t.type!=="view")){var e=r.getGraph();e.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),ev(e,r)}}function ev(r,t){r.eachEdge(function(e,n){var i=mo(e.getModel().get(["lineStyle","curveness"]),-tv(e,t,n,!0),0),a=Ai(e.node1.getLayout()),o=Ai(e.node2.getLayout()),s=[a,o];+i&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*i,(a[1]+o[1])/2-(o[0]-a[0])*i]),e.setLayout(s)})}function mC(r,t){r.eachSeriesByType("graph",function(e){var n=e.get("layout"),i=e.coordinateSystem;if(i&&i.type!=="view"){var a=e.getData(),o=[];J(i.dimensions,function(g){o=o.concat(a.mapDimensionsAll(g))});for(var s=0;s<a.count();s++){for(var u=[],h=!1,f=0;f<o.length;f++){var v=a.get(o[f],s);isNaN(v)||(h=!0),u.push(v)}h?a.setItemLayout(s,i.dataToPoint(u)):a.setItemLayout(s,[NaN,NaN])}ev(a.graph,e)}else(!n||n==="none")&&S_(e)})}function Wo(r){var t=r.coordinateSystem;if(t.type!=="view")return 1;var e=r.option.nodeScaleRatio,n=t.scaleX,i=t.getZoom(),a=(i-1)*e+1;return a/n}function Uo(r){var t=r.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Eg=Math.PI,Ch=[];function rv(r,t,e,n){var i=r.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),o=r.getData(),s=o.graph,u=a.width/2+a.x,h=a.height/2+a.y,f=Math.min(a.width,a.height)/2,v=o.count();if(o.setLayout({cx:u,cy:h}),!!v){if(e){var g=i.pointToData(n),d=g[0],m=g[1],_=[d-u,m-h];_s(_,_),kw(_,_,f),e.setLayout([u+_[0],h+_[1]],!0);var b=r.get(["circular","rotateLabel"]);M_(e,b,u,h)}yC[t](r,s,o,f,u,h,v),s.eachEdge(function(S,I){var A=mo(S.getModel().get(["lineStyle","curveness"]),tv(S,r,I),0),D=Ai(S.node1.getLayout()),V=Ai(S.node2.getLayout()),R,Z=(D[0]+V[0])/2,j=(D[1]+V[1])/2;+A&&(A*=3,R=[u*A+Z*(1-A),h*A+j*(1-A)]),S.setLayout([D,V,R])})}}}var yC={value:function(r,t,e,n,i,a,o){var s=0,u=e.getSum("value"),h=Math.PI*2/(u||o);t.eachNode(function(f){var v=f.getValue("value"),g=h*(u?v:1)/2;s+=g,f.setLayout([n*Math.cos(s)+i,n*Math.sin(s)+a]),s+=g})},symbolSize:function(r,t,e,n,i,a,o){var s=0;Ch.length=o;var u=Wo(r);t.eachNode(function(v){var g=Uo(v);isNaN(g)&&(g=2),g<0&&(g=0),g*=u;var d=Math.asin(g/2/n);isNaN(d)&&(d=Eg/2),Ch[v.dataIndex]=d,s+=d*2});var h=(2*Eg-s)/o/2,f=0;t.eachNode(function(v){var g=h+Ch[v.dataIndex];f+=g,(!v.getLayout()||!v.getLayout().fixed)&&v.setLayout([n*Math.cos(f)+i,n*Math.sin(f)+a]),f+=g})}};function M_(r,t,e,n){var i=r.getGraphicEl();if(!!i){var a=r.getModel(),o=a.get(["label","rotate"])||0,s=i.getSymbolPath();if(t){var u=r.getLayout(),h=Math.atan2(u[1]-n,u[0]-e);h<0&&(h=Math.PI*2+h);var f=u[0]<e;f&&(h=h-Math.PI);var v=f?"left":"right";s.setTextConfig({rotation:-h,position:v,origin:"center"});var g=s.ensureState("emphasis");Ft(g.textConfig||(g.textConfig={}),{position:v})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function _C(r){r.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&rv(t,"symbolSize")})}var Ra=Lf;function xC(r,t,e){for(var n=r,i=t,a=e.rect,o=a.width,s=a.height,u=[a.x+o/2,a.y+s/2],h=e.gravity==null?.1:e.gravity,f=0;f<n.length;f++){var v=n[f];v.p||(v.p=Ew(o*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),v.pp=Ai(v.p),v.edges=null}var g=e.friction==null?.6:e.friction,d=g,m,_;return{warmUp:function(){d=g*.8},setFixed:function(b){n[b].fixed=!0},setUnfixed:function(b){n[b].fixed=!1},beforeStep:function(b){m=b},afterStep:function(b){_=b},step:function(b){m&&m(n,i);for(var S=[],I=n.length,A=0;A<i.length;A++){var D=i[A];if(!D.ignoreForceLayout){var V=D.n1,R=D.n2;qa(S,R.p,V.p);var Z=Gd(S)-D.d,j=R.w/(V.w+R.w);isNaN(j)&&(j=0),_s(S,S),!V.fixed&&Ra(V.p,V.p,S,j*Z*d),!R.fixed&&Ra(R.p,R.p,S,-(1-j)*Z*d)}}for(var A=0;A<I;A++){var X=n[A];X.fixed||(qa(S,u,X.p),Ra(X.p,X.p,S,h*d))}for(var A=0;A<I;A++)for(var V=n[A],et=A+1;et<I;et++){var R=n[et];qa(S,R.p,V.p);var Z=Gd(S);Z===0&&(Rw(S,Math.random()-.5,Math.random()-.5),Z=1);var it=(V.rep+R.rep)/Z/Z;!V.fixed&&Ra(V.pp,V.pp,S,it),!R.fixed&&Ra(R.pp,R.pp,S,-it)}for(var ht=[],A=0;A<I;A++){var X=n[A];X.fixed||(qa(ht,X.p,X.pp),Ra(X.p,X.p,ht,d),Ur(X.pp,X.p))}d=d*.992;var vt=d<.01;_&&_(n,i,vt),b&&b(vt)}}}function bC(r){r.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},i=t.getGraph(),a=i.data,o=i.edgeData,s=t.getModel("force"),u=s.get("initLayout");t.preservedPoints?a.each(function(A){var D=a.getId(A);a.setItemLayout(A,n[D]||[NaN,NaN])}):!u||u==="none"?S_(t):u==="circular"&&rv(t,"value");var h=a.getDataExtent("value"),f=o.getDataExtent("value"),v=s.get("repulsion"),g=s.get("edgeLength"),d=Ot(v)?v:[v,v],m=Ot(g)?g:[g,g];m=[m[1],m[0]];var _=a.mapArray("value",function(A,D){var V=a.getItemLayout(D),R=He(A,h,d);return isNaN(R)&&(R=(d[0]+d[1])/2),{w:R,rep:R,fixed:a.getItemModel(D).get("fixed"),p:!V||isNaN(V[0])||isNaN(V[1])?null:V}}),b=o.mapArray("value",function(A,D){var V=i.getEdgeByIndex(D),R=He(A,f,m);isNaN(R)&&(R=(m[0]+m[1])/2);var Z=V.getModel(),j=mo(V.getModel().get(["lineStyle","curveness"]),-tv(V,t,D,!0),0);return{n1:_[V.node1.dataIndex],n2:_[V.node2.dataIndex],d:R,curveness:j,ignoreForceLayout:Z.get("ignoreForceLayout")}}),S=e.getBoundingRect(),I=xC(_,b,{rect:S,gravity:s.get("gravity"),friction:s.get("friction")});I.beforeStep(function(A,D){for(var V=0,R=A.length;V<R;V++)A[V].fixed&&Ur(A[V].p,i.getNodeByIndex(V).getLayout())}),I.afterStep(function(A,D,V){for(var R=0,Z=A.length;R<Z;R++)A[R].fixed||i.getNodeByIndex(R).setLayout(A[R].p),n[a.getId(R)]=A[R].p;for(var R=0,Z=D.length;R<Z;R++){var j=D[R],X=i.getEdgeByIndex(R),et=j.n1.p,it=j.n2.p,ht=X.getLayout();ht=ht?ht.slice():[],ht[0]=ht[0]||[],ht[1]=ht[1]||[],Ur(ht[0],et),Ur(ht[1],it),+j.curveness&&(ht[2]=[(et[0]+it[0])/2-(et[1]-it[1])*j.curveness,(et[1]+it[1])/2-(it[0]-et[0])*j.curveness]),X.setLayout(ht)}}),t.forceLayout=I,t.preservedPoints=n,I.step()}else t.forceLayout=null})}function wC(r,t,e){var n=Ft(r.getBoxLayoutParams(),{aspect:e});return nn(n,{width:t.getWidth(),height:t.getHeight()})}function SC(r,t){var e=[];return r.eachSeriesByType("graph",function(n){var i=n.get("coordinateSystem");if(!i||i==="view"){var a=n.getData(),o=a.mapArray(function(b){var S=a.getItemModel(b);return[+S.get("x"),+S.get("y")]}),s=[],u=[];du(o,s,u),u[0]-s[0]===0&&(u[0]+=1,s[0]-=1),u[1]-s[1]===0&&(u[1]+=1,s[1]-=1);var h=(u[0]-s[0])/(u[1]-s[1]),f=wC(n,t,h);isNaN(h)&&(s=[f.x,f.y],u=[f.x+f.width,f.y+f.height]);var v=u[0]-s[0],g=u[1]-s[1],d=f.width,m=f.height,_=n.coordinateSystem=new Ls;_.zoomLimit=n.get("scaleLimit"),_.setBoundingRect(s[0],s[1],v,g),_.setViewRect(f.x,f.y,d,m),_.setCenter(n.get("center"),t),_.setZoom(n.get("zoom")),e.push(_)}}),e}var Rg=Vn.prototype,Ah=z1.prototype,C_=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}();(function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(C_);function Th(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var MC=function(r){_t(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new C_},t.prototype.buildPath=function(e,n){Th(n)?Rg.buildPath.call(this,e,n):Ah.buildPath.call(this,e,n)},t.prototype.pointAt=function(e){return Th(this.shape)?Rg.pointAt.call(this,e):Ah.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var n=this.shape,i=Th(n)?[n.x2-n.x1,n.y2-n.y1]:Ah.tangentAt.call(this,e);return _s(i,i)},t}(_r),CC=MC,Ih=["fromSymbol","toSymbol"];function zg(r){return"_"+r+"Type"}function Og(r,t,e){var n=t.getItemVisual(e,r);if(!n||n==="none")return n;var i=t.getItemVisual(e,r+"Size"),a=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),s=t.getItemVisual(e,r+"KeepAspect"),u=po(i),h=vo(o||0,u);return n+u+h+(a||"")+(s||"")}function Ng(r,t,e){var n=t.getItemVisual(e,r);if(!(!n||n==="none")){var i=t.getItemVisual(e,r+"Size"),a=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),s=t.getItemVisual(e,r+"KeepAspect"),u=po(i),h=vo(o||0,u),f=Gr(n,-u[0]/2+h[0],-u[1]/2+h[1],u[0],u[1],null,s);return f.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,f.name=r,f}}function AC(r){var t=new CC({name:"line",subPixelOptimize:!0});return Uf(t.shape,r),t}function Uf(r,t){r.x1=t[0][0],r.y1=t[0][1],r.x2=t[1][0],r.y2=t[1][1],r.percent=1;var e=t[2];e?(r.cpx1=e[0],r.cpy1=e[1]):(r.cpx1=NaN,r.cpy1=NaN)}var TC=function(r){_t(t,r);function t(e,n,i){var a=r.call(this)||this;return a._createLine(e,n,i),a}return t.prototype._createLine=function(e,n,i){var a=e.hostModel,o=e.getItemLayout(n),s=AC(o);s.shape.percent=0,ir(s,{shape:{percent:1}},a,n),this.add(s),J(Ih,function(u){var h=Ng(u,e,n);this.add(h),this[zg(u)]=Og(u,e,n)},this),this._updateCommonStl(e,n,i)},t.prototype.updateData=function(e,n,i){var a=e.hostModel,o=this.childOfName("line"),s=e.getItemLayout(n),u={shape:{}};Uf(u.shape,s),Ee(o,u,a,n),J(Ih,function(h){var f=Og(h,e,n),v=zg(h);if(this[v]!==f){this.remove(this.childOfName(h));var g=Ng(h,e,n);this.add(g)}this[v]=f},this),this._updateCommonStl(e,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,n,i){var a=e.hostModel,o=this.childOfName("line"),s=i&&i.emphasisLineStyle,u=i&&i.blurLineStyle,h=i&&i.selectLineStyle,f=i&&i.labelStatesModels,v=i&&i.emphasisDisabled,g=i&&i.focus,d=i&&i.blurScope;if(!i||e.hasItemOption){var m=e.getItemModel(n),_=m.getModel("emphasis");s=_.getModel("lineStyle").getLineStyle(),u=m.getModel(["blur","lineStyle"]).getLineStyle(),h=m.getModel(["select","lineStyle"]).getLineStyle(),v=_.get("disabled"),g=_.get("focus"),d=_.get("blurScope"),f=Ar(m)}var b=e.getItemVisual(n,"style"),S=b.stroke;o.useStyle(b),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=u,o.ensureState("select").style=h,J(Ih,function(R){var Z=this.childOfName(R);if(Z){Z.setColor(S),Z.style.opacity=b.opacity;for(var j=0;j<va.length;j++){var X=va[j],et=o.getState(X);if(et){var it=et.style||{},ht=Z.ensureState(X),vt=ht.style||(ht.style={});it.stroke!=null&&(vt[Z.__isEmptyBrush?"stroke":"fill"]=it.stroke),it.opacity!=null&&(vt.opacity=it.opacity)}}Z.markRedraw()}},this);var I=a.getRawValue(n);Fr(this,f,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(R,Z){return a.getFormattedLabel(R,Z,e.dataType)}},inheritColor:S||"#000",defaultOpacity:b.opacity,defaultText:(I==null?e.getName(n):isFinite(I)?Nn(I):I)+""});var A=this.getTextContent();if(A){var D=f.normal;A.__align=A.style.align,A.__verticalAlign=A.style.verticalAlign,A.__position=D.get("position")||"middle";var V=D.get("distance");Ot(V)||(V=[V,V]),A.__labelDistance=V}this.setTextConfig({position:null,local:!0,inside:!1}),hr(this,g,d,v)},t.prototype.highlight=function(){eo(this)},t.prototype.downplay=function(){ro(this)},t.prototype.updateLayout=function(e,n){this.setLinePoints(e.getItemLayout(n))},t.prototype.setLinePoints=function(e){var n=this.childOfName("line");Uf(n.shape,e),n.dirty()},t.prototype.beforeUpdate=function(){var e=this,n=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),a=e.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var u=e.childOfName("line");if(!this.__dirty&&!u.__dirty)return;var h=u.shape.percent,f=u.pointAt(0),v=u.pointAt(h),g=qa([],v,f);_s(g,g);function d(et,it){var ht=et.__specifiedRotation;if(ht==null){var vt=u.tangentAt(it);et.attr("rotation",(it===1?-1:1)*Math.PI/2-Math.atan2(vt[1],vt[0]))}else et.attr("rotation",ht)}if(n&&(n.setPosition(f),d(n,0),n.scaleX=n.scaleY=o*h,n.markRedraw()),i&&(i.setPosition(v),d(i,1),i.scaleX=i.scaleY=o*h,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var m=void 0,_=void 0,b=a.__labelDistance,S=b[0]*o,I=b[1]*o,A=h/2,D=u.tangentAt(A),V=[D[1],-D[0]],R=u.pointAt(A);V[1]>0&&(V[0]=-V[0],V[1]=-V[1]);var Z=D[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var j=-Math.atan2(D[1],D[0]);v[0]<f[0]&&(j=Math.PI+j),a.rotation=j}var X=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":X=-I,_="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":X=I,_="top";break;default:X=0,_="middle"}switch(a.__position){case"end":a.x=g[0]*S+v[0],a.y=g[1]*I+v[1],m=g[0]>.8?"left":g[0]<-.8?"right":"center",_=g[1]>.8?"top":g[1]<-.8?"bottom":"middle";break;case"start":a.x=-g[0]*S+f[0],a.y=-g[1]*I+f[1],m=g[0]>.8?"right":g[0]<-.8?"left":"center",_=g[1]>.8?"bottom":g[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=S*Z+f[0],a.y=f[1]+X,m=D[0]<0?"right":"left",a.originX=-S*Z,a.originY=-X;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=R[0],a.y=R[1]+X,m="center",a.originY=-X;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-S*Z+v[0],a.y=v[1]+X,m=D[0]>=0?"right":"left",a.originX=S*Z,a.originY=-X;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||_,align:a.__align||m})}},t}(ee),nv=TC,IC=function(){function r(t){this.group=new ee,this._LineCtor=t||nv}return r.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=t,a||i.removeAll();var o=Vg(t);t.diff(a).add(function(s){e._doAdd(t,s,o)}).update(function(s,u){e._doUpdate(a,t,u,s,o)}).remove(function(s){i.remove(a.getItemGraphicEl(s))}).execute()},r.prototype.updateLayout=function(){var t=this._lineData;!t||t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Vg(t),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function n(s){!s.isGroup&&!LC(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(Lh(a)){var o=new this._LineCtor(e,i,this._seriesScope);o.traverse(n),this.group.add(o),e.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(t){go(this._progressiveEls||this.group,t)},r.prototype._doAdd=function(t,e,n){var i=t.getItemLayout(e);if(!!Lh(i)){var a=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,a),this.group.add(a)}},r.prototype._doUpdate=function(t,e,n,i,a){var o=t.getItemGraphicEl(n);if(!Lh(e.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(e,i,a):o=new this._LineCtor(e,i,a),e.setItemGraphicEl(i,o),this.group.add(o)},r}();function LC(r){return r.animators&&r.animators.length>0}function Vg(r){var t=r.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:Ar(t)}}function Bg(r){return isNaN(r[0])||isNaN(r[1])}function Lh(r){return r&&!Bg(r[0])&&!Bg(r[1])}var iv=IC,Dh=[],Ph=[],kh=[],za=V1,Eh=Ow,Gg=Math.abs;function Fg(r,t,e){for(var n=r[0],i=r[1],a=r[2],o=1/0,s,u=e*e,h=.1,f=.1;f<=.9;f+=.1){Dh[0]=za(n[0],i[0],a[0],f),Dh[1]=za(n[1],i[1],a[1],f);var v=Gg(Eh(Dh,t)-u);v<o&&(o=v,s=f)}for(var g=0;g<32;g++){var d=s+h;Ph[0]=za(n[0],i[0],a[0],s),Ph[1]=za(n[1],i[1],a[1],s),kh[0]=za(n[0],i[0],a[0],d),kh[1]=za(n[1],i[1],a[1],d);var v=Eh(Ph,t)-u;if(Gg(v)<.01)break;var m=Eh(kh,t)-u;h/=2,v<0?m>=0?s=s+h:s=s-h:m>=0?s=s-h:s=s+h}return s}function Rh(r,t){var e=[],n=zw,i=[[],[],[]],a=[[],[]],o=[];t/=2,r.eachEdge(function(s,u){var h=s.getLayout(),f=s.getVisual("fromSymbol"),v=s.getVisual("toSymbol");h.__original||(h.__original=[Ai(h[0]),Ai(h[1])],h[2]&&h.__original.push(Ai(h[2])));var g=h.__original;if(h[2]!=null){if(Ur(i[0],g[0]),Ur(i[1],g[2]),Ur(i[2],g[1]),f&&f!=="none"){var d=Uo(s.node1),m=Fg(i,g[0],d*t);n(i[0][0],i[1][0],i[2][0],m,e),i[0][0]=e[3],i[1][0]=e[4],n(i[0][1],i[1][1],i[2][1],m,e),i[0][1]=e[3],i[1][1]=e[4]}if(v&&v!=="none"){var d=Uo(s.node2),m=Fg(i,g[1],d*t);n(i[0][0],i[1][0],i[2][0],m,e),i[1][0]=e[1],i[2][0]=e[2],n(i[0][1],i[1][1],i[2][1],m,e),i[1][1]=e[1],i[2][1]=e[2]}Ur(h[0],i[0]),Ur(h[1],i[2]),Ur(h[2],i[1])}else{if(Ur(a[0],g[0]),Ur(a[1],g[1]),qa(o,a[1],a[0]),_s(o,o),f&&f!=="none"){var d=Uo(s.node1);Lf(a[0],a[0],o,d*t)}if(v&&v!=="none"){var d=Uo(s.node2);Lf(a[1],a[1],o,-d*t)}Ur(h[0],a[0]),Ur(h[1],a[1])}})}function Hg(r){return r.type==="view"}var DC=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){var i=new Ss,a=new iv,o=this.group;this._controller=new Is(n.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(e,n,i){var a=this,o=e.coordinateSystem;this._model=e;var s=this._symbolDraw,u=this._lineDraw,h=this.group;if(Hg(o)){var f={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?h.attr(f):Ee(h,f,e)}Rh(e.getGraph(),Wo(e));var v=e.getData();s.updateData(v);var g=e.getEdgeData();u.updateData(g),this._updateNodeAndLinkScale(),this._updateController(e,n,i),clearTimeout(this._layoutTimeout);var d=e.forceLayout,m=e.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,m);var _=e.get("layout");v.graph.eachNode(function(A){var D=A.dataIndex,V=A.getGraphicEl(),R=A.getModel();if(!!V){V.off("drag").off("dragend");var Z=R.get("draggable");Z&&V.on("drag",function(X){switch(_){case"force":d.warmUp(),!a._layouting&&a._startForceLayoutIteration(d,m),d.setFixed(D),v.setItemLayout(D,[V.x,V.y]);break;case"circular":v.setItemLayout(D,[V.x,V.y]),A.setLayout({fixed:!0},!0),rv(e,"symbolSize",A,[X.offsetX,X.offsetY]),a.updateLayout(e);break;case"none":default:v.setItemLayout(D,[V.x,V.y]),ev(e.getGraph(),e),a.updateLayout(e);break}}).on("dragend",function(){d&&d.setUnfixed(D)}),V.setDraggable(Z,!!R.get("cursor"));var j=R.get(["emphasis","focus"]);j==="adjacency"&&(Ae(V).focus=A.getAdjacentDataIndices())}}),v.graph.eachEdge(function(A){var D=A.getGraphicEl(),V=A.getModel().get(["emphasis","focus"]);!D||V==="adjacency"&&(Ae(D).focus={edge:[A.dataIndex],node:[A.node1.dataIndex,A.node2.dataIndex]})});var b=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),S=v.getLayout("cx"),I=v.getLayout("cy");v.graph.eachNode(function(A){M_(A,b,S,I)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,n){var i=this;(function a(){e.step(function(o){i.updateLayout(i._model),(i._layouting=!o)&&(n?i._layoutTimeout=setTimeout(a,16):a())})})()},t.prototype._updateController=function(e,n,i){var a=this,o=this._controller,s=this._controllerHost,u=this.group;if(o.setPointerChecker(function(h,f,v){var g=u.getBoundingRect();return g.applyTransform(u.transform),g.contain(f,v)&&!_u(h,i,e)}),!Hg(e.coordinateSystem)){o.disable();return}o.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(h){Uc(s,h.dx,h.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:h.dx,dy:h.dy})}).on("zoom",function(h){Zc(s,h.scale,h.originX,h.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:h.scale,originX:h.originX,originY:h.originY}),a._updateNodeAndLinkScale(),Rh(e.getGraph(),Wo(e)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,n=e.getData(),i=Wo(e);n.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(e){Rh(e.getGraph(),Wo(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ar),PC=DC;function Oa(r){return"_EC_"+r}var kC=function(){function r(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var n=this._nodesMap;if(!n[Oa(t)]){var i=new Ji(t,e);return i.hostGraph=this,this.nodes.push(i),n[Oa(t)]=i,i}},r.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},r.prototype.getNodeById=function(t){return this._nodesMap[Oa(t)]},r.prototype.addEdge=function(t,e,n){var i=this._nodesMap,a=this._edgesMap;if(Xr(t)&&(t=this.nodes[t]),Xr(e)&&(e=this.nodes[e]),t instanceof Ji||(t=i[Oa(t)]),e instanceof Ji||(e=i[Oa(e)]),!(!t||!e)){var o=t.id+"-"+e.id,s=new A_(t,e,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),a[o]=s,s}},r.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},r.prototype.getEdge=function(t,e){t instanceof Ji&&(t=t.id),e instanceof Ji&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},r.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&t.call(e,n[a],a)},r.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(e,n[a],a)},r.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof Ji||(e=this._nodesMap[Oa(e)]),!!e){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var s=[e];s.length;)for(var u=s.shift(),h=u[a],o=0;o<h.length;o++){var f=h[o],v=f.node1===u?f.node2:f.node1;if(!v.__visited){if(t.call(i,v,u))return;s.push(v),v.__visited=!0}}}},r.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)n[t.getRawIndex(a)].dataIndex=a;e.filterSelf(function(s){var u=i[e.getRawIndex(s)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0});for(var a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(var a=0,o=e.count();a<o;a++)i[e.getRawIndex(a)].dataIndex=a},r.prototype.clone=function(){for(var t=new r(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},r}(),Ji=function(){function r(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t==null?"":t,this.dataIndex=e==null?-1:e}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},r.prototype.getTrajectoryDataIndices=function(){for(var t=de(),e=de(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var a=[i.node1],o=[i.node2],s=0;s<a.length;){var u=a[s];s++,e.set(u.dataIndex,!0);for(var h=0;h<u.inEdges.length;h++)t.set(u.inEdges[h].dataIndex,!0),a.push(u.inEdges[h].node1)}for(s=0;s<o.length;){var f=o[s];s++,e.set(f.dataIndex,!0);for(var h=0;h<f.outEdges.length;h++)t.set(f.outEdges[h].dataIndex,!0),o.push(f.outEdges[h].node2)}}}return{edge:t.keys(),node:e.keys()}},r}(),A_=function(){function r(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=n==null?-1:n}return r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var t=de(),e=de();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var o=n[a];a++,e.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)t.set(o.inEdges[s].dataIndex,!0),n.push(o.inEdges[s].node1)}for(a=0;a<i.length;){var u=i[a];a++,e.set(u.dataIndex,!0);for(var s=0;s<u.outEdges.length;s++)t.set(u.outEdges[s].dataIndex,!0),i.push(u.outEdges[s].node2)}return{edge:t.keys(),node:e.keys()}},r}();function T_(r,t){return{getValue:function(e){var n=this[r][t];return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,n){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,e,n)},getVisual:function(e){return this[r][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,n){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,e,n)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}An(Ji,T_("hostGraph","data"));An(A_,T_("hostGraph","edgeData"));var EC=kC;function I_(r,t,e,n,i){for(var a=new EC(n),o=0;o<r.length;o++)a.addNode(un(r[o].id,r[o].name,o),o);for(var s=[],u=[],h=0,o=0;o<t.length;o++){var f=t[o],v=f.source,g=f.target;a.addEdge(v,g,h)&&(u.push(f),s.push(un(si(f.id,null),v+" > "+g)),h++)}var d=e.get("coordinateSystem"),m;if(d==="cartesian2d"||d==="polar")m=ci(r,e);else{var _=Sc.get(d),b=_?_.dimensions||[]:[];Ye(b,"value")<0&&b.concat(["value"]);var S=nu(r,{coordDimensions:b,encodeDefine:e.getEncode()}).dimensions;m=new en(S,e),m.initData(r)}var I=new en(["value"],e);return I.initData(u,s),i&&i(m,I),u_({mainData:m,struct:a,structAttr:"graph",datas:{node:m,edge:I},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var RC=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new Ts(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){r.prototype.mergeDefaultAndTheme.apply(this,arguments),gs(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[],o=this;if(a&&i){pC(this);var s=I_(a,i,this,!0,u);return J(s.edges,function(h){gC(h.node1,h.node2,this,h.dataIndex)},this),s.data}function u(h,f){h.wrapMethod("getItemModel",function(m){var _=o._categoriesModels,b=m.getShallow("category"),S=_[b];return S&&(S.parentModel=m.parentModel,m.parentModel=S),m});var v=fn.prototype.getModel;function g(m,_){var b=v.call(this,m,_);return b.resolveParentPath=d,b}f.wrapMethod("getItemModel",function(m){return m.resolveParentPath=d,m.getModel=g,m});function d(m){if(m&&(m[0]==="label"||m[1]==="label")){var _=m.slice();return m[0]==="label"?_[0]="edgeLabel":m[1]==="label"&&(_[1]="edgeLabel"),_}return m}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,n,i){if(i==="edge"){var a=this.getData(),o=this.getDataParams(e,i),s=a.graph.getEdgeByIndex(e),u=a.getName(s.node1.dataIndex),h=a.getName(s.node2.dataIndex),f=[];return u!=null&&f.push(u),h!=null&&f.push(h),rn("nameValue",{name:f.join(" > "),value:o.value,noValue:o.value==null})}var v=Nw({series:this,dataIndex:e,multipleSeries:n});return v},t.prototype._updateCategoriesData=function(){var e=Lt(this.option.categories||[],function(i){return i.value!=null?i:Ft({value:0},i)}),n=new en(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(mr),zC=RC,OC={type:"graphRoam",event:"graphRoam",update:"none"};function NC(r){r.registerChartView(PC),r.registerSeriesModel(zC),r.registerProcessor(hC),r.registerVisual(fC),r.registerVisual(cC),r.registerLayout(mC),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,_C),r.registerLayout(bC),r.registerCoordinateSystem("graphView",{dimensions:Ls.dimensions,create:SC}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Li),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Li),r.registerAction(OC,function(t,e,n){e.eachComponent({mainType:"series",query:t},function(i){var a=i.coordinateSystem,o=Yc(a,t,void 0,n);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}var VC=["itemStyle","opacity"],BC=function(r){_t(t,r);function t(e,n){var i=r.call(this)||this,a=i,o=new Cn,s=new ur;return a.setTextContent(s),i.setTextGuideLine(o),i.updateData(e,n,!0),i}return t.prototype.updateData=function(e,n,i){var a=this,o=e.hostModel,s=e.getItemModel(n),u=e.getItemLayout(n),h=s.getModel("emphasis"),f=s.get(VC);f=f==null?1:f,i||Fn(a),a.useStyle(e.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:u.points}),a.style.opacity=0,ir(a,{style:{opacity:f}},o,n)):Ee(a,{style:{opacity:f},shape:{points:u.points}},o,n),jr(a,s),this._updateLabel(e,n),hr(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},t.prototype._updateLabel=function(e,n){var i=this,a=this.getTextGuideLine(),o=i.getTextContent(),s=e.hostModel,u=e.getItemModel(n),h=e.getItemLayout(n),f=h.label,v=e.getItemVisual(n,"style"),g=v.fill;Fr(o,Ar(u),{labelFetcher:e.hostModel,labelDataIndex:n,defaultOpacity:v.opacity,defaultText:e.getName(n)},{normal:{align:f.textAlign,verticalAlign:f.verticalAlign}}),i.setTextConfig({local:!0,inside:!!f.inside,insideStroke:g,outsideFill:g});var d=f.linePoints;a.setShape({points:d}),i.textGuideLineConfig={anchor:d?new We(d[0][0],d[0][1]):null},Ee(o,{style:{x:f.x,y:f.y}},s,n),o.attr({rotation:f.rotation,originX:f.x,originY:f.y,z2:10}),Oc(i,Nc(u),{stroke:g})},t}(Mn),GC=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._data,s=this.group;a.diff(o).add(function(u){var h=new BC(a,u);a.setItemGraphicEl(u,h),s.add(h)}).update(function(u,h){var f=o.getItemGraphicEl(h);f.updateData(a,u),s.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var h=o.getItemGraphicEl(u);Al(h,e,u)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ar),FC=GC,HC=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ts(Ht(this.getData,this),Ht(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,n){return ps(this,{coordDimensions:["value"],encodeDefaulter:_e(Tc,this)})},t.prototype._defaultLabelLine=function(e){gs(e,"labelLine",["show"]);var n=e.labelLine,i=e.emphasis.labelLine;n.show=n.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var n=this.getData(),i=r.prototype.getDataParams.call(this,e),a=n.mapDimension("value"),o=n.getSum(a);return i.percent=o?+(n.get(a,e)/o*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(mr),$C=HC;function WC(r,t){return nn(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function UC(r,t){for(var e=r.mapDimension("value"),n=r.mapArray(e,function(u){return u}),i=[],a=t==="ascending",o=0,s=r.count();o<s;o++)i[o]=o;return we(t)?i.sort(t):t!=="none"&&i.sort(function(u,h){return a?n[u]-n[h]:n[h]-n[u]}),i}function ZC(r){var t=r.hostModel,e=t.get("orient");r.each(function(n){var i=r.getItemModel(n),a=i.getModel("label"),o=a.get("position"),s=i.getModel("labelLine"),u=r.getItemLayout(n),h=u.points,f=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",v,g,d,m;if(f)o==="insideLeft"?(g=(h[0][0]+h[3][0])/2+5,d=(h[0][1]+h[3][1])/2,v="left"):o==="insideRight"?(g=(h[1][0]+h[2][0])/2-5,d=(h[1][1]+h[2][1])/2,v="right"):(g=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,d=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,v="center"),m=[[g,d],[g,d]];else{var _=void 0,b=void 0,S=void 0,I=void 0,A=s.get("length");o==="left"?(_=(h[3][0]+h[0][0])/2,b=(h[3][1]+h[0][1])/2,S=_-A,g=S-5,v="right"):o==="right"?(_=(h[1][0]+h[2][0])/2,b=(h[1][1]+h[2][1])/2,S=_+A,g=S+5,v="left"):o==="top"?(_=(h[3][0]+h[0][0])/2,b=(h[3][1]+h[0][1])/2,I=b-A,d=I-5,v="center"):o==="bottom"?(_=(h[1][0]+h[2][0])/2,b=(h[1][1]+h[2][1])/2,I=b+A,d=I+5,v="center"):o==="rightTop"?(_=e==="horizontal"?h[3][0]:h[1][0],b=e==="horizontal"?h[3][1]:h[1][1],e==="horizontal"?(I=b-A,d=I-5,v="center"):(S=_+A,g=S+5,v="top")):o==="rightBottom"?(_=h[2][0],b=h[2][1],e==="horizontal"?(I=b+A,d=I+5,v="center"):(S=_+A,g=S+5,v="bottom")):o==="leftTop"?(_=h[0][0],b=e==="horizontal"?h[0][1]:h[1][1],e==="horizontal"?(I=b-A,d=I-5,v="center"):(S=_-A,g=S-5,v="right")):o==="leftBottom"?(_=e==="horizontal"?h[1][0]:h[3][0],b=e==="horizontal"?h[1][1]:h[2][1],e==="horizontal"?(I=b+A,d=I+5,v="center"):(S=_-A,g=S-5,v="right")):(_=(h[1][0]+h[2][0])/2,b=(h[1][1]+h[2][1])/2,e==="horizontal"?(I=b+A,d=I+5,v="center"):(S=_+A,g=S+5,v="left")),e==="horizontal"?(S=_,g=S):(I=b,d=I),m=[[_,b],[S,I]]}u.label={linePoints:m,x:g,y:d,verticalAlign:"middle",textAlign:v,inside:f}})}function qC(r,t){r.eachSeriesByType("funnel",function(e){var n=e.getData(),i=n.mapDimension("value"),a=e.get("sort"),o=WC(e,t),s=e.get("orient"),u=o.width,h=o.height,f=UC(n,a),v=o.x,g=o.y,d=s==="horizontal"?[$t(e.get("minSize"),h),$t(e.get("maxSize"),h)]:[$t(e.get("minSize"),u),$t(e.get("maxSize"),u)],m=n.getDataExtent(i),_=e.get("min"),b=e.get("max");_==null&&(_=Math.min(m[0],0)),b==null&&(b=m[1]);var S=e.get("funnelAlign"),I=e.get("gap"),A=s==="horizontal"?u:h,D=(A-I*(n.count()-1))/n.count(),V=function(st,mt){if(s==="horizontal"){var lt=n.get(i,st)||0,Mt=He(lt,[_,b],d,!0),xt=void 0;switch(S){case"top":xt=g;break;case"center":xt=g+(h-Mt)/2;break;case"bottom":xt=g+(h-Mt);break}return[[mt,xt],[mt,xt+Mt]]}var St=n.get(i,st)||0,Pt=He(St,[_,b],d,!0),Nt;switch(S){case"left":Nt=v;break;case"center":Nt=v+(u-Pt)/2;break;case"right":Nt=v+u-Pt;break}return[[Nt,mt],[Nt+Pt,mt]]};a==="ascending"&&(D=-D,I=-I,s==="horizontal"?v+=u:g+=h,f=f.reverse());for(var R=0;R<f.length;R++){var Z=f[R],j=f[R+1],X=n.getItemModel(Z);if(s==="horizontal"){var et=X.get(["itemStyle","width"]);et==null?et=D:(et=$t(et,u),a==="ascending"&&(et=-et));var it=V(Z,v),ht=V(j,v+et);v+=et+I,n.setItemLayout(Z,{points:it.concat(ht.slice().reverse())})}else{var vt=X.get(["itemStyle","height"]);vt==null?vt=D:(vt=$t(vt,h),a==="ascending"&&(vt=-vt));var it=V(Z,g),ht=V(j,g+vt);g+=vt+I,n.setItemLayout(Z,{points:it.concat(ht.slice().reverse())})}}ZC(n)})}function YC(r){r.registerChartView(FC),r.registerSeriesModel($C),r.registerLayout(qC),r.registerProcessor(As("funnel"))}var XC=.3,jC=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new ee,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,n,i,a){this._progressiveEls=null;var o=this._dataGroup,s=e.getData(),u=this._data,h=e.coordinateSystem,f=h.dimensions,v=Wg(e);s.diff(u).add(g).update(d).remove(m).execute();function g(b){var S=$g(s,o,b,f,h);zh(S,s,b,v)}function d(b,S){var I=u.getItemGraphicEl(S),A=L_(s,b,f,h);s.setItemGraphicEl(b,I),Ee(I,{shape:{points:A}},e,b),Fn(I),zh(I,s,b,v)}function m(b){var S=u.getItemGraphicEl(b);o.remove(S)}if(!this._initialized){this._initialized=!0;var _=KC(h,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(_)}this._data=s},t.prototype.incrementalPrepareRender=function(e,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,n,i){for(var a=n.getData(),o=n.coordinateSystem,s=o.dimensions,u=Wg(n),h=this._progressiveEls=[],f=e.start;f<e.end;f++){var v=$g(a,this._dataGroup,f,s,o);v.incremental=!0,zh(v,a,f,u),h.push(v)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ar);function KC(r,t,e){var n=r.model,i=r.getRect(),a=new Ue({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o=n.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),ir(a,{shape:{width:i.width,height:i.height}},t,e),a}function L_(r,t,e,n){for(var i=[],a=0;a<e.length;a++){var o=e[a],s=r.get(r.mapDimension(o),t);JC(s,n.getAxis(o).type)||i.push(n.dataToPoint(s,o))}return i}function $g(r,t,e,n,i){var a=L_(r,e,n,i),o=new Cn({shape:{points:a},z2:10});return t.add(o),r.setItemGraphicEl(e,o),o}function Wg(r){var t=r.get("smooth",!0);return t===!0&&(t=XC),t=Vw(t),Bw(t)&&(t=0),{smooth:t}}function zh(r,t,e,n){r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.setShape("smooth",n.smooth);var i=t.getItemModel(e),a=i.getModel("emphasis");jr(r,i,"lineStyle"),hr(r,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function JC(r,t){return t==="category"?r==null:r==null||isNaN(r)}var QC=jC,tA=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,n){return ci(null,this,{useEncodeDefaulter:Ht(eA,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(o,s){e===o&&a.push(i.getRawIndex(s))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(mr);function eA(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(!!t){var e={};return J(t.dimensions,function(n){var i=rA(n);e[n]=i}),e}}function rA(r){return+r.replace("dim","")}var nA=tA,iA=["lineStyle","opacity"],aA={seriesType:"parallel",reset:function(r,t){var e=r.coordinateSystem,n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(i,a){e.eachActiveState(a,function(o,s){var u=n[o];if(o==="normal"&&a.hasItemOption){var h=a.getItemModel(s).get(iA,!0);h!=null&&(u=h)}var f=a.ensureUniqueItemVisual(s,"style");f.opacity=u},i.start,i.end)}}}},oA=aA;function sA(r){lA(r),uA(r)}function lA(r){if(!r.parallel){var t=!1;J(r.series,function(e){e&&e.type==="parallel"&&(t=!0)}),t&&(r.parallel=[{}])}}function uA(r){var t=Yr(r.parallelAxis);J(t,function(e){if(!!Dr(e)){var n=e.parallelIndex||0,i=Yr(r.parallel)[n];i&&i.parallelAxisDefault&&Be(e,i.parallelAxisDefault,!1)}})}var hA=5,fA=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this._model=e,this._api=i,this._handlers||(this._handlers={},J(cA,function(a,o){i.getZr().on(o,this._handlers[o]=Ht(a,this))},this)),pu(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,n){B1(this,"_throttledDispatchExpand"),J(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Ft({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Hr),cA={mousedown:function(r){Oh(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var t=this._mouseDownPoint;if(Oh(this,"click")&&t){var e=[r.offsetX,r.offsetY],n=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2);if(n>hA)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!Oh(this,"mousemove"))){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),n=e.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function Oh(r,t){var e=r._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var vA=fA,dA=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var n=this.option;e&&Be(n,e,!0),this._initDimensions()},t.prototype.contains=function(e,n){var i=e.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){J(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[],i=Cr(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);J(i,function(a){e.push("dim"+a.get("dim")),n.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Pr),pA=dA,gA=function(r){_t(t,r);function t(e,n,i,a,o){var s=r.call(this,e,n,i)||this;return s.type=a||"value",s.axisIndex=o,s}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(Hn),mA=gA;function Ma(r,t,e,n,i,a){r=r||0;var o=e[1]-e[0];if(i!=null&&(i=Na(i,[0,o])),a!=null&&(a=Math.max(a,i!=null?i:0)),n==="all"){var s=Math.abs(t[1]-t[0]);s=Na(s,[0,o]),i=a=Na(s,[i,a]),n=0}t[0]=Na(t[0],e),t[1]=Na(t[1],e);var u=Nh(t,n);t[n]+=r;var h=i||0,f=e.slice();u.sign<0?f[0]+=h:f[1]-=h,t[n]=Na(t[n],f);var v;return v=Nh(t,n),i!=null&&(v.sign!==u.sign||v.span<i)&&(t[1-n]=t[n]+u.sign*i),v=Nh(t,n),a!=null&&v.span>a&&(t[1-n]=t[n]+v.sign*a),t}function Nh(r,t){var e=r[t]-r[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Na(r,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,r))}var Vh=J,D_=Math.min,P_=Math.max,Ug=Math.floor,yA=Math.ceil,Zg=Nn,_A=Math.PI,xA=function(){function r(t,e,n){this.type="parallel",this._axesMap=de(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return r.prototype._init=function(t,e,n){var i=t.dimensions,a=t.parallelAxisIndex;Vh(i,function(o,s){var u=a[s],h=e.getComponent("parallelAxis",u),f=this._axesMap.set(o,new mA(o,hu(h),[0,0],h.get("type"),u)),v=f.type==="category";f.onBand=v&&h.get("boundaryGap"),f.inverse=h.get("inverse"),h.axis=f,f.model=h,f.coordinateSystem=h.coordinateSystem=this},this)},r.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},r.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,a=e.pixelDimIndex,o=t[1-a],s=t[a];return o>=n&&o<=n+e.axisLength&&s>=i&&s<=i+e.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(!!t.contains(n,e)){var i=n.getData();Vh(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(i,i.mapDimension(a)),ao(o.scale,o.model)},this)}},this)},r.prototype.resize=function(t,e){this._rect=nn(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,n=["x","y"],i=["width","height"],a=t.get("layout"),o=a==="horizontal"?0:1,s=e[i[o]],u=[0,s],h=this.dimensions.length,f=al(t.get("axisExpandWidth"),u),v=al(t.get("axisExpandCount")||0,[0,h]),g=t.get("axisExpandable")&&h>3&&h>v&&v>1&&f>0&&s>0,d=t.get("axisExpandWindow"),m;if(d)m=al(d[1]-d[0],u),d[1]=d[0]+m;else{m=al(f*(v-1),u);var _=t.get("axisExpandCenter")||Ug(h/2);d=[f*_-m/2],d[1]=d[0]+m}var b=(s-m)/(h-v);b<3&&(b=0);var S=[Ug(Zg(d[0]/f,1))+1,yA(Zg(d[1]/f,1))-1],I=b/f*d[0];return{layout:a,pixelDimIndex:o,layoutBase:e[n[o]],layoutLength:s,axisBase:e[n[1-o]],axisLength:e[i[1-o]],axisExpandable:g,axisExpandWidth:f,axisCollapseWidth:b,axisExpandWindow:d,axisCount:h,winInnerIndices:S,axisExpandWindow0Pos:I}},r.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;e.each(function(o){var s=[0,i.axisLength],u=o.inverse?1:0;o.setExtent(s[u],s[1-u])}),Vh(n,function(o,s){var u=(i.axisExpandable?wA:bA)(s,i),h={horizontal:{x:u.position,y:i.axisLength},vertical:{x:0,y:u.position}},f={horizontal:_A/2,vertical:0},v=[h[a].x+t.x,h[a].y+t.y],g=f[a],d=xo();vu(d,d,g),pa(d,d,v),this._axesLayout[o]={position:v,rotation:g,transform:d,axisNameAvailableWidth:u.axisNameAvailableWidth,axisLabelShow:u.axisLabelShow,nameTruncateMaxWidth:u.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(t){return this._axesMap.get(t)},r.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},r.prototype.eachActiveState=function(t,e,n,i){n==null&&(n=0),i==null&&(i=t.count());var a=this._axesMap,o=this.dimensions,s=[],u=[];J(o,function(b){s.push(t.mapDimension(b)),u.push(a.get(b).model)});for(var h=this.hasAxisBrushed(),f=n;f<i;f++){var v=void 0;if(!h)v="normal";else{v="active";for(var g=t.getValues(s,f),d=0,m=o.length;d<m;d++){var _=u[d].getActiveState(g[d]);if(_==="inactive"){v="inactive";break}}}e(v,f)}},r.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,a=t.length;i<a;i++)e.get(t[i]).model.getActiveState()!=="normal"&&(n=!0);return n},r.prototype.axisCoordToPoint=function(t,e){var n=this._axesLayout[e];return Ti([t,0],n.transform)},r.prototype.getAxisLayout=function(t){return ke(this._axesLayout[t])},r.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),a=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,u,h="slide",f=e.axisCollapseWidth,v=this._model.get("axisExpandSlideTriggerArea"),g=v[0]!=null;if(f)g&&f&&s<a*v[0]?(h="jump",u=s-a*v[2]):g&&f&&s>a*(1-v[0])?(h="jump",u=s-a*(1-v[2])):(u=s-a*v[1])>=0&&(u=s-a*(1-v[1]))<=0&&(u=0),u*=e.axisExpandWidth/f,u?Ma(u,i,o,"all"):h="none";else{var d=i[1]-i[0],m=o[1]*s/d;i=[P_(0,m-d/2)],i[1]=D_(o[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:h}},r}();function al(r,t){return D_(P_(r,t[0]),t[1])}function bA(r,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*r,axisNameAvailableWidth:e,axisLabelShow:!0}}function wA(r,t){var e=t.layoutLength,n=t.axisExpandWidth,i=t.axisCount,a=t.axisCollapseWidth,o=t.winInnerIndices,s,u=a,h=!1,f;return r<o[0]?(s=r*a,f=a):r<=o[1]?(s=t.axisExpandWindow0Pos+r*n-t.axisExpandWindow[0],u=n,h=!0):(s=e-(i-1-r)*a,f=a),{position:s,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:f}}var SA=xA;function MA(r,t){var e=[];return r.eachComponent("parallel",function(n,i){var a=new SA(n,r,t);a.name="parallel_"+i,a.resize(n,t),n.coordinateSystem=a,a.model=n,e.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",Rr).models[0];n.coordinateSystem=i.coordinateSystem}}),e}var CA={create:MA},AA=CA,k_=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return t.prototype.getAreaSelectStyle=function(){return O1([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var n=this.activeIntervals=ke(e);if(n)for(var i=n.length-1;i>=0;i--)wn(n[i])},t.prototype.getActiveState=function(e){var n=this.activeIntervals;if(!n.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var a=0,o=n.length;a<o;a++)if(n[a][0]<=e&&e<=n[a][1])return"active";return"inactive"},t}(Pr);An(k_,bs);var qg=k_,ma=!0,ss=Math.min,uo=Math.max,TA=Math.pow,IA=1e4,LA=6,DA=6,Yg="globalPan",PA={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},kA={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Xg={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},EA=0,RA=function(r){_t(t,r);function t(e){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new ee,n._uid="brushController_"+EA++,J(FA,function(i,a){this._handlers[a]=Ht(i,this)},n),n}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var n=this._zr;this._enableGlobalPan||Q6(n,Yg,this._uid),J(this._handlers,function(i,a){n.on(a,i)}),this._brushType=e.brushType,this._brushOption=Be(ke(Xg),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;t9(e,Yg,this._uid),J(this._handlers,function(n,i){e.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var n=this._panels={};J(e,function(i){n[i.panelId]=ke(i)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Lt(e,function(g){return Be(ke(Xg),g,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new Pi(i,e,h,u).add(f).update(f).remove(v).execute(),this;function u(g,d){return(g.id!=null?g.id:n+d)+"-"+g.brushType}function h(g,d){return u(g.__brushOption,d)}function f(g,d){var m=e[g];if(d!=null&&i[d]===s)a[g]=i[d];else{var _=a[g]=d!=null?(i[d].__brushOption=m,i[d]):R_(o,E_(o,m));av(o,_)}}function v(g){i[g]!==s&&o.group.remove(i[g])}},t.prototype.unmount=function(){return this.enableBrush(!1),Zf(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(D1);function E_(r,t){var e=Su[t.brushType].createCover(r,t);return e.__brushOption=t,O_(e,t),r.group.add(e),e}function R_(r,t){var e=ov(t);return e.endCreating&&(e.endCreating(r,t),O_(t,t.__brushOption)),t}function z_(r,t){var e=t.__brushOption;ov(t).updateCoverShape(r,t,e.range,e)}function O_(r,t){var e=t.z;e==null&&(e=IA),r.traverse(function(n){n.z=e,n.z2=e})}function av(r,t){ov(t).updateCommon(r,t),z_(r,t)}function ov(r){return Su[r.__brushOption.brushType]}function sv(r,t,e){var n=r._panels;if(!n)return ma;var i,a=r._transform;return J(n,function(o){o.isTargetByCursor(t,e,a)&&(i=o)}),i}function N_(r,t){var e=r._panels;if(!e)return ma;var n=t.__brushOption.panelId;return n!=null?e[n]:ma}function Zf(r){var t=r._covers,e=t.length;return J(t,function(n){r.group.remove(n)},r),t.length=0,!!e}function ya(r,t){var e=Lt(r._covers,function(n){var i=n.__brushOption,a=ke(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});r.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function zA(r){var t=r._track;if(!t.length)return!1;var e=t[t.length-1],n=t[0],i=e[0]-n[0],a=e[1]-n[1],o=TA(i*i+a*a,.5);return o>LA}function V_(r){var t=r.length-1;return t<0&&(t=0),[r[0],r[t]]}function B_(r,t,e,n){var i=new ee;return i.add(new Ue({name:"main",style:lv(e),silent:!0,draggable:!0,cursor:"move",drift:_e(jg,r,t,i,["n","s","w","e"]),ondragend:_e(ya,t,{isEnd:!0})})),J(n,function(a){i.add(new Ue({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:_e(jg,r,t,i,a),ondragend:_e(ya,t,{isEnd:!0})}))}),i}function G_(r,t,e,n){var i=n.brushStyle.lineWidth||0,a=uo(i,DA),o=e[0][0],s=e[1][0],u=o-i/2,h=s-i/2,f=e[0][1],v=e[1][1],g=f-a+i/2,d=v-a+i/2,m=f-o,_=v-s,b=m+i,S=_+i;ni(r,t,"main",o,s,m,_),n.transformable&&(ni(r,t,"w",u,h,a,S),ni(r,t,"e",g,h,a,S),ni(r,t,"n",u,h,b,a),ni(r,t,"s",u,d,b,a),ni(r,t,"nw",u,h,a,a),ni(r,t,"ne",g,h,a,a),ni(r,t,"sw",u,d,a,a),ni(r,t,"se",g,d,a,a))}function qf(r,t){var e=t.__brushOption,n=e.transformable,i=t.childAt(0);i.useStyle(lv(e)),i.attr({silent:!n,cursor:n?"move":"default"}),J([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=t.childOfName(a.join("")),s=a.length===1?Yf(r,a[0]):NA(r,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?kA[s]+"-resize":null})})}function ni(r,t,e,n,i,a,o){var s=t.childOfName(e);s&&s.setShape(BA(uv(r,t,[[n,i],[n+a,i+o]])))}function lv(r){return ve({strokeNoScale:!0},r.brushStyle)}function F_(r,t,e,n){var i=[ss(r,e),ss(t,n)],a=[uo(r,e),uo(t,n)];return[[i[0],a[0]],[i[1],a[1]]]}function OA(r){return Ka(r.group)}function Yf(r,t){var e={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=Rc(e[t],OA(r));return n[i]}function NA(r,t){var e=[Yf(r,t[0]),Yf(r,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function jg(r,t,e,n,i,a){var o=e.__brushOption,s=r.toRectRange(o.range),u=H_(t,i,a);J(n,function(h){var f=PA[h];s[f[0]][f[1]]+=u[f[0]]}),o.range=r.fromRectRange(F_(s[0][0],s[1][0],s[0][1],s[1][1])),av(t,e),ya(t,{isEnd:!1})}function VA(r,t,e,n){var i=t.__brushOption.range,a=H_(r,e,n);J(i,function(o){o[0]+=a[0],o[1]+=a[1]}),av(r,t),ya(r,{isEnd:!1})}function H_(r,t,e){var n=r.group,i=n.transformCoordToLocal(t,e),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function uv(r,t,e){var n=N_(r,t);return n&&n!==ma?n.clipPath(e,r._transform):ke(e)}function BA(r){var t=ss(r[0][0],r[1][0]),e=ss(r[0][1],r[1][1]),n=uo(r[0][0],r[1][0]),i=uo(r[0][1],r[1][1]);return{x:t,y:e,width:n-t,height:i-e}}function GA(r,t,e){if(!(!r._brushType||HA(r,t.offsetX,t.offsetY))){var n=r._zr,i=r._covers,a=sv(r,t,e);if(!r._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===ma||s.panelId===a.panelId)&&Su[s.brushType].contain(i[o],e[0],e[1]))return}a&&n.setCursorStyle("crosshair")}}function Xf(r){var t=r.event;t.preventDefault&&t.preventDefault()}function jf(r,t,e){return r.childOfName("main").contain(t,e)}function $_(r,t,e,n){var i=r._creatingCover,a=r._creatingPanel,o=r._brushOption,s;if(r._track.push(e.slice()),zA(r)||i){if(a&&!i){o.brushMode==="single"&&Zf(r);var u=ke(o);u.brushType=Kg(u.brushType,a),u.panelId=a===ma?null:a.panelId,i=r._creatingCover=E_(r,u),r._covers.push(i)}if(i){var h=Su[Kg(r._brushType,a)],f=i.__brushOption;f.range=h.getCreatingRange(uv(r,i,r._track)),n&&(R_(r,i),h.updateCommon(r,i)),z_(r,i),s={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&sv(r,t,e)&&Zf(r)&&(s={isEnd:n,removeOnClick:!0});return s}function Kg(r,t){return r==="auto"?t.defaultBrushType:r}var FA={mousedown:function(r){if(this._dragging)Jg(this,r);else if(!r.target||!r.target.draggable){Xf(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var e=this._creatingPanel=sv(this,r,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(r){var t=r.offsetX,e=r.offsetY,n=this.group.transformCoordToLocal(t,e);if(GA(this,r,n),this._dragging){Xf(r);var i=$_(this,r,n,!1);i&&ya(this,i)}},mouseup:function(r){Jg(this,r)}};function Jg(r,t){if(r._dragging){Xf(t);var e=t.offsetX,n=t.offsetY,i=r.group.transformCoordToLocal(e,n),a=$_(r,t,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,a&&ya(r,a)}}function HA(r,t,e){var n=r._zr;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var Su={lineX:Qg(0),lineY:Qg(1),rect:{createCover:function(r,t){function e(n){return n}return B_({toRectRange:e,fromRectRange:e},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=V_(r);return F_(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,e,n){G_(r,t,e,n)},updateCommon:qf,contain:jf},polygon:{createCover:function(r,t){var e=new ee;return e.add(new Cn({name:"main",style:lv(t),silent:!0})),e},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0)),t.add(new Mn({name:"main",draggable:!0,drift:_e(VA,r,t),ondragend:_e(ya,r,{isEnd:!0})}))},updateCoverShape:function(r,t,e,n){t.childAt(0).setShape({points:uv(r,t,e)})},updateCommon:qf,contain:jf}};function Qg(r){return{createCover:function(t,e){return B_({toRectRange:function(n){var i=[n,[0,100]];return r&&i.reverse(),i},fromRectRange:function(n){return n[r]}},t,e,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var e=V_(t),n=ss(e[0][r],e[1][r]),i=uo(e[0][r],e[1][r]);return[n,i]},updateCoverShape:function(t,e,n,i){var a,o=N_(t,e);if(o!==ma&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(r);else{var s=t._zr;a=[0,[s.getWidth(),s.getHeight()][1-r]]}var u=[n,a];r&&u.reverse(),G_(t,e,u,i)},updateCommon:qf,contain:jf}}var hv=RA;function W_(r){return r=fv(r),function(t){return Gw(t,r)}}function U_(r,t){return r=fv(r),function(e){var n=t!=null?t:e,i=n?r.width:r.height,a=n?r.x:r.y;return[a,a+(i||0)]}}function Z_(r,t,e){var n=fv(r);return function(i,a){return n.contain(a[0],a[1])&&!_u(i,t,e)}}function fv(r){return Je.create(r)}var $A=["axisLine","axisTickLabel","axisName"],WA=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){r.prototype.init.apply(this,arguments),(this._brushController=new hv(n.getZr())).on("brush",Ht(this._onBrush,this))},t.prototype.render=function(e,n,i,a){if(!UA(e,n,a)){this.axisModel=e,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ee,this.group.add(this._axisGroup),!!e.get("show")){var s=qA(e,n),u=s.coordinateSystem,h=e.getAreaSelectStyle(),f=h.width,v=e.axis.dim,g=u.getAxisLayout(v),d=Ft({strokeContainThreshold:f},g),m=new Di(e,d);J($A,m.add,m),this._axisGroup.add(m.getGroup()),this._refreshBrushController(d,h,e,s,f,i),fu(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,n,i,a,o,s){var u=i.axis.getExtent(),h=u[1]-u[0],f=Math.min(30,Math.abs(h)*.1),v=Je.create({x:u[0],y:-o/2,width:h,height:o});v.x-=f,v.width+=2*f,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:W_(v),isTargetByCursor:Z_(v,s,a),getLinearBrushOtherExtent:U_(v,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(ZA(i))},t.prototype._onBrush=function(e){var n=e.areas,i=this.axisModel,a=i.axis,o=Lt(n,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Hr);function UA(r,t,e){return e&&e.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:e})[0]===r}function ZA(r){var t=r.axis;return Lt(r.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}function qA(r,t){return t.getComponent("parallel",r.get("parallelIndex"))}var YA=WA,XA={type:"axisAreaSelect",event:"axisAreaSelected"};function jA(r){r.registerAction(XA,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),r.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var KA={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function q_(r){r.registerComponentView(vA),r.registerComponentModel(pA),r.registerCoordinateSystem("parallel",AA),r.registerPreprocessor(sA),r.registerComponentModel(qg),r.registerComponentView(YA),lo(r,"parallel",qg,KA),jA(r)}function JA(r){pe(q_),r.registerChartView(QC),r.registerSeriesModel(nA),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,oA)}var QA=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),tT=function(r){_t(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new QA},t.prototype.buildPath=function(e,n){var i=n.extent;e.moveTo(n.x1,n.y1),e.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(e.lineTo(n.x2+i,n.y2),e.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(e.lineTo(n.x2,n.y2+i),e.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),e.closePath()},t.prototype.highlight=function(){eo(this)},t.prototype.downplay=function(){ro(this)},t}(_r),eT=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return t.prototype.render=function(e,n,i){var a=this,o=e.getGraph(),s=this.group,u=e.layoutInfo,h=u.width,f=u.height,v=e.getData(),g=e.getData("edge"),d=e.get("orient");this._model=e,s.removeAll(),s.x=u.x,s.y=u.y,o.eachEdge(function(m){var _=new tT,b=Ae(_);b.dataIndex=m.dataIndex,b.seriesIndex=e.seriesIndex,b.dataType="edge";var S=m.getModel(),I=S.getModel("lineStyle"),A=I.get("curveness"),D=m.node1.getLayout(),V=m.node1.getModel(),R=V.get("localX"),Z=V.get("localY"),j=m.node2.getLayout(),X=m.node2.getModel(),et=X.get("localX"),it=X.get("localY"),ht=m.getLayout(),vt,st,mt,lt,Mt,xt,St,Pt;_.shape.extent=Math.max(1,ht.dy),_.shape.orient=d,d==="vertical"?(vt=(R!=null?R*h:D.x)+ht.sy,st=(Z!=null?Z*f:D.y)+D.dy,mt=(et!=null?et*h:j.x)+ht.ty,lt=it!=null?it*f:j.y,Mt=vt,xt=st*(1-A)+lt*A,St=mt,Pt=st*A+lt*(1-A)):(vt=(R!=null?R*h:D.x)+D.dx,st=(Z!=null?Z*f:D.y)+ht.sy,mt=et!=null?et*h:j.x,lt=(it!=null?it*f:j.y)+ht.ty,Mt=vt*(1-A)+mt*A,xt=st,St=vt*A+mt*(1-A),Pt=lt),_.setShape({x1:vt,y1:st,x2:mt,y2:lt,cpx1:Mt,cpy1:xt,cpx2:St,cpy2:Pt}),_.useStyle(I.getItemStyle()),t0(_.style,d,m);var Nt=""+S.get("value"),ne=Ar(S,"edgeLabel");Fr(_,ne,{labelFetcher:{getFormattedLabel:function(jt,be,he,Ut,qt,Yt){return e.getFormattedLabel(jt,be,"edge",Ut,mo(qt,ne.normal&&ne.normal.get("formatter"),Nt),Yt)}},labelDataIndex:m.dataIndex,defaultText:Nt}),_.setTextConfig({position:"inside"});var Qt=S.getModel("emphasis");jr(_,S,"lineStyle",function(jt){var be=jt.getItemStyle();return t0(be,d,m),be}),s.add(_),g.setItemGraphicEl(m.dataIndex,_);var ie=Qt.get("focus");hr(_,ie==="adjacency"?m.getAdjacentDataIndices():ie==="trajectory"?m.getTrajectoryDataIndices():ie,Qt.get("blurScope"),Qt.get("disabled"))}),o.eachNode(function(m){var _=m.getLayout(),b=m.getModel(),S=b.get("localX"),I=b.get("localY"),A=b.getModel("emphasis"),D=new Ue({shape:{x:S!=null?S*h:_.x,y:I!=null?I*f:_.y,width:_.dx,height:_.dy},style:b.getModel("itemStyle").getItemStyle(),z2:10});Fr(D,Ar(b),{labelFetcher:{getFormattedLabel:function(R,Z){return e.getFormattedLabel(R,Z,"node")}},labelDataIndex:m.dataIndex,defaultText:m.id}),D.disableLabelAnimation=!0,D.setStyle("fill",m.getVisual("color")),D.setStyle("decal",m.getVisual("style").decal),jr(D,b),s.add(D),v.setItemGraphicEl(m.dataIndex,D),Ae(D).dataType="node";var V=A.get("focus");hr(D,V==="adjacency"?m.getAdjacentDataIndices():V==="trajectory"?m.getTrajectoryDataIndices():V,A.get("blurScope"),A.get("disabled"))}),v.eachItemGraphicEl(function(m,_){var b=v.getItemModel(_);b.get("draggable")&&(m.drift=function(S,I){a._focusAdjacencyDisabled=!0,this.shape.x+=S,this.shape.y+=I,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:v.getRawIndex(_),localX:this.shape.x/h,localY:this.shape.y/f})},m.ondragend=function(){a._focusAdjacencyDisabled=!1},m.draggable=!0,m.cursor="move")}),!this._data&&e.isAnimationEnabled()&&s.setClipPath(rT(s.getBoundingRect(),e,function(){s.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ar);function t0(r,t,e){switch(r.fill){case"source":r.fill=e.node1.getVisual("color"),r.decal=e.node1.getVisual("style").decal;break;case"target":r.fill=e.node2.getVisual("color"),r.decal=e.node2.getVisual("style").decal;break;case"gradient":var n=e.node1.getVisual("color"),i=e.node2.getVisual("color");Se(n)&&Se(i)&&(r.fill=new lu(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function rT(r,t,e){var n=new Ue({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return ir(n,{shape:{width:r.width+20}},t,e),n}var nT=eT,iT=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){var i=e.edges||e.links,a=e.data||e.nodes,o=e.levels;this.levelModels=[];for(var s=this.levelModels,u=0;u<o.length;u++)o[u].depth!=null&&o[u].depth>=0&&(s[o[u].depth]=new fn(o[u],this,n));if(a&&i){var h=I_(a,i,this,!0,f);return h.data}function f(v,g){v.wrapMethod("getItemModel",function(d,m){var _=d.parentModel,b=_.getData().getItemLayout(m);if(b){var S=b.depth,I=_.levelModels[S];I&&(d.parentModel=I)}return d}),g.wrapMethod("getItemModel",function(d,m){var _=d.parentModel,b=_.getGraph().getEdgeByIndex(m),S=b.node1.getLayout();if(S){var I=S.depth,A=_.levelModels[I];A&&(d.parentModel=A)}return d})}},t.prototype.setNodePosition=function(e,n){var i=this.option.data||this.option.nodes,a=i[e];a.localX=n[0],a.localY=n[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,i){function a(d){return isNaN(d)||d==null}if(i==="edge"){var o=this.getDataParams(e,i),s=o.data,u=o.value,h=s.source+" -- "+s.target;return rn("nameValue",{name:h,value:u,noValue:a(u)})}else{var f=this.getGraph().getNodeByIndex(e),v=f.getLayout().value,g=this.getDataParams(e,i).data.name;return rn("nameValue",{name:g!=null?g+"":null,value:v,noValue:a(v)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,n){var i=r.prototype.getDataParams.call(this,e,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(e),o=a.getLayout().value;i.value=o}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(mr),aT=iT;function oT(r,t){r.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),i=e.get("nodeGap"),a=sT(e,t);e.layoutInfo=a;var o=a.width,s=a.height,u=e.getGraph(),h=u.nodes,f=u.edges;uT(h);var v=Cr(h,function(_){return _.getLayout().value===0}),g=v.length!==0?0:e.get("layoutIterations"),d=e.get("orient"),m=e.get("nodeAlign");lT(h,f,n,i,o,s,g,d,m)})}function sT(r,t){return nn(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function lT(r,t,e,n,i,a,o,s,u){hT(r,t,e,i,a,s,u),dT(r,t,a,i,n,o,s),ST(r,s)}function uT(r){J(r,function(t){var e=Ii(t.outEdges,Gl),n=Ii(t.inEdges,Gl),i=t.getValue()||0,a=Math.max(e,n,i);t.setLayout({value:a},!0)})}function hT(r,t,e,n,i,a,o){for(var s=[],u=[],h=[],f=[],v=0,g=0;g<t.length;g++)s[g]=1;for(var g=0;g<r.length;g++)u[g]=r[g].inEdges.length,u[g]===0&&h.push(r[g]);for(var d=-1;h.length;){for(var m=0;m<h.length;m++){var _=h[m],b=_.hostGraph.data.getRawDataItem(_.dataIndex),S=b.depth!=null&&b.depth>=0;S&&b.depth>d&&(d=b.depth),_.setLayout({depth:S?b.depth:v},!0),a==="vertical"?_.setLayout({dy:e},!0):_.setLayout({dx:e},!0);for(var I=0;I<_.outEdges.length;I++){var A=_.outEdges[I],D=t.indexOf(A);s[D]=0;var V=A.node2,R=r.indexOf(V);--u[R]===0&&f.indexOf(V)<0&&f.push(V)}}++v,h=f,f=[]}for(var g=0;g<s.length;g++)if(s[g]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Z=d>v-1?d:v-1;o&&o!=="left"&&fT(r,o,a,Z);var j=a==="vertical"?(i-e)/Z:(n-e)/Z;vT(r,j,a)}function Y_(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return t.depth!=null&&t.depth>=0}function fT(r,t,e,n){if(t==="right"){for(var i=[],a=r,o=0;a.length;){for(var s=0;s<a.length;s++){var u=a[s];u.setLayout({skNodeHeight:o},!0);for(var h=0;h<u.inEdges.length;h++){var f=u.inEdges[h];i.indexOf(f.node1)<0&&i.push(f.node1)}}a=i,i=[],++o}J(r,function(v){Y_(v)||v.setLayout({depth:Math.max(0,n-v.getLayout().skNodeHeight)},!0)})}else t==="justify"&&cT(r,n)}function cT(r,t){J(r,function(e){!Y_(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function vT(r,t,e){J(r,function(n){var i=n.getLayout().depth*t;e==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function dT(r,t,e,n,i,a,o){var s=pT(r,o);gT(s,t,e,n,i,o),Bh(s,i,e,n,o);for(var u=1;a>0;a--)u*=.99,mT(s,u,o),Bh(s,i,e,n,o),wT(s,u,o),Bh(s,i,e,n,o)}function pT(r,t){var e=[],n=t==="vertical"?"y":"x",i=Df(r,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,o){return a-o}),J(i.keys,function(a){e.push(i.buckets.get(a))}),e}function gT(r,t,e,n,i,a){var o=1/0;J(r,function(s){var u=s.length,h=0;J(s,function(v){h+=v.getLayout().value});var f=a==="vertical"?(n-(u-1)*i)/h:(e-(u-1)*i)/h;f<o&&(o=f)}),J(r,function(s){J(s,function(u,h){var f=u.getLayout().value*o;a==="vertical"?(u.setLayout({x:h},!0),u.setLayout({dx:f},!0)):(u.setLayout({y:h},!0),u.setLayout({dy:f},!0))})}),J(t,function(s){var u=+s.getValue()*o;s.setLayout({dy:u},!0)})}function Bh(r,t,e,n,i){var a=i==="vertical"?"x":"y";J(r,function(o){o.sort(function(_,b){return _.getLayout()[a]-b.getLayout()[a]});for(var s,u,h,f=0,v=o.length,g=i==="vertical"?"dx":"dy",d=0;d<v;d++)u=o[d],h=f-u.getLayout()[a],h>0&&(s=u.getLayout()[a]+h,i==="vertical"?u.setLayout({x:s},!0):u.setLayout({y:s},!0)),f=u.getLayout()[a]+u.getLayout()[g]+t;var m=i==="vertical"?n:e;if(h=f-t-m,h>0){s=u.getLayout()[a]-h,i==="vertical"?u.setLayout({x:s},!0):u.setLayout({y:s},!0),f=s;for(var d=v-2;d>=0;--d)u=o[d],h=u.getLayout()[a]+u.getLayout()[g]+t-f,h>0&&(s=u.getLayout()[a]-h,i==="vertical"?u.setLayout({x:s},!0):u.setLayout({y:s},!0)),f=u.getLayout()[a]}})}function mT(r,t,e){J(r.slice().reverse(),function(n){J(n,function(i){if(i.outEdges.length){var a=Ii(i.outEdges,yT,e)/Ii(i.outEdges,Gl);if(isNaN(a)){var o=i.outEdges.length;a=o?Ii(i.outEdges,_T,e)/o:0}if(e==="vertical"){var s=i.getLayout().x+(a-ki(i,e))*t;i.setLayout({x:s},!0)}else{var u=i.getLayout().y+(a-ki(i,e))*t;i.setLayout({y:u},!0)}}})})}function yT(r,t){return ki(r.node2,t)*r.getValue()}function _T(r,t){return ki(r.node2,t)}function xT(r,t){return ki(r.node1,t)*r.getValue()}function bT(r,t){return ki(r.node1,t)}function ki(r,t){return t==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function Gl(r){return r.getValue()}function Ii(r,t,e){for(var n=0,i=r.length,a=-1;++a<i;){var o=+t(r[a],e);isNaN(o)||(n+=o)}return n}function wT(r,t,e){J(r,function(n){J(n,function(i){if(i.inEdges.length){var a=Ii(i.inEdges,xT,e)/Ii(i.inEdges,Gl);if(isNaN(a)){var o=i.inEdges.length;a=o?Ii(i.inEdges,bT,e)/o:0}if(e==="vertical"){var s=i.getLayout().x+(a-ki(i,e))*t;i.setLayout({x:s},!0)}else{var u=i.getLayout().y+(a-ki(i,e))*t;i.setLayout({y:u},!0)}}})})}function ST(r,t){var e=t==="vertical"?"x":"y";J(r,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[e]-a.node2.getLayout()[e]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[e]-a.node1.getLayout()[e]})}),J(r,function(n){var i=0,a=0;J(n.outEdges,function(o){o.setLayout({sy:i},!0),i+=o.getLayout().dy}),J(n.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function MT(r){r.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes,i=e.edges;if(n.length){var a=1/0,o=-1/0;J(n,function(s){var u=s.getLayout().value;u<a&&(a=u),u>o&&(o=u)}),J(n,function(s){var u=new Or({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:t.get("color")}),h=u.mapValueToVisual(s.getLayout().value),f=s.getModel().get(["itemStyle","color"]);f!=null?(s.setVisual("color",f),s.setVisual("style",{fill:f})):(s.setVisual("color",h),s.setVisual("style",{fill:h}))})}i.length&&J(i,function(s){var u=s.getModel().get("lineStyle");s.setVisual("style",u)})})}function CT(r){r.registerChartView(nT),r.registerSeriesModel(aT),r.registerLayout(oT),r.registerVisual(MT),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var X_=function(){function r(){}return r.prototype.getInitialData=function(t,e){var n,i=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),s=a.get("type"),u;o==="category"?(t.layout="horizontal",n=i.getOrdinalMeta(),u=!0):s==="category"?(t.layout="vertical",n=a.getOrdinalMeta(),u=!0):t.layout=t.layout||"horizontal";var h=["x","y"],f=t.layout==="horizontal"?0:1,v=this._baseAxisDim=h[f],g=h[1-f],d=[i,a],m=d[f].get("type"),_=d[1-f].get("type"),b=t.data;if(b&&u){var S=[];J(b,function(D,V){var R;Ot(D)?(R=D.slice(),D.unshift(V)):Ot(D.value)?(R=Ft({},D),R.value=R.value.slice(),D.value.unshift(V)):R=D,S.push(R)}),t.data=S}var I=this.defaultValueDimensions,A=[{name:v,type:Sl(m),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:g,type:Sl(_),dimsDef:I.slice()}];return ps(this,{coordDimensions:A,dimensionsCount:I.length+1,encodeDefaulter:_e(d1,A,this)})},r.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},r}(),j_=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(mr);An(j_,X_,!0);var AT=j_,TT=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this.group,s=this._data;this._data||o.removeAll();var u=e.get("layout")==="horizontal"?1:0;a.diff(s).add(function(h){if(a.hasValue(h)){var f=a.getItemLayout(h),v=e0(f,a,h,u,!0);a.setItemGraphicEl(h,v),o.add(v)}}).update(function(h,f){var v=s.getItemGraphicEl(f);if(!a.hasValue(h)){o.remove(v);return}var g=a.getItemLayout(h);v?(Fn(v),K_(g,v,a,h)):v=e0(g,a,h,u),o.add(v),a.setItemGraphicEl(h,v)}).remove(function(h){var f=s.getItemGraphicEl(h);f&&o.remove(f)}).execute(),this._data=a},t.prototype.remove=function(e){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t}(ar),IT=function(){function r(){}return r}(),LT=function(r){_t(t,r);function t(e){var n=r.call(this,e)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new IT},t.prototype.buildPath=function(e,n){var i=n.points,a=0;for(e.moveTo(i[a][0],i[a][1]),a++;a<4;a++)e.lineTo(i[a][0],i[a][1]);for(e.closePath();a<i.length;a++)e.moveTo(i[a][0],i[a][1]),a++,e.lineTo(i[a][0],i[a][1])},t}(_r);function e0(r,t,e,n,i){var a=r.ends,o=new LT({shape:{points:i?DT(a,n,r):a}});return K_(r,o,t,e,i),o}function K_(r,t,e,n,i){var a=e.hostModel,o=_o[i?"initProps":"updateProps"];o(t,{shape:{points:r.ends}},a,n),t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=e.getItemModel(n),u=s.getModel("emphasis");jr(t,s),hr(t,u.get("focus"),u.get("blurScope"),u.get("disabled"))}function DT(r,t,e){return Lt(r,function(n){return n=n.slice(),n[t]=e.initBaseline,n})}var PT=TT,Xo=J;function kT(r){var t=ET(r);Xo(t,function(e){var n=e.seriesModels;!n.length||(RT(e),Xo(n,function(i,a){zT(i,e.boxOffsetList[a],e.boxWidthList[a])}))})}function ET(r){var t=[],e=[];return r.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=Ye(e,i);a<0&&(a=e.length,e[a]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(n)}),t}function RT(r){var t=r.axis,e=r.seriesModels,n=e.length,i=r.boxWidthList=[],a=r.boxOffsetList=[],o=[],s;if(t.type==="category")s=t.getBandWidth();else{var u=0;Xo(e,function(m){u=Math.max(u,m.getData().count())});var h=t.getExtent();s=Math.abs(h[1]-h[0])/u}Xo(e,function(m){var _=m.get("boxWidth");Ot(_)||(_=[_,_]),o.push([$t(_[0],s)||0,$t(_[1],s)||0])});var f=s*.8-2,v=f/n*.3,g=(f-v*(n-1))/n,d=g/2-f/2;Xo(e,function(m,_){a.push(d),d+=v+g,i.push(Math.min(Math.max(g,o[_][0]),o[_][1]))})}function zT(r,t,e){var n=r.coordinateSystem,i=r.getData(),a=e/2,o=r.get("layout")==="horizontal"?0:1,s=1-o,u=["x","y"],h=i.mapDimension(u[o]),f=i.mapDimensionsAll(u[s]);if(h==null||f.length<5)return;for(var v=0;v<i.count();v++){var g=i.get(h,v),d=A(g,f[2],v),m=A(g,f[0],v),_=A(g,f[1],v),b=A(g,f[3],v),S=A(g,f[4],v),I=[];D(I,_,!1),D(I,b,!0),I.push(m,_,S,b),V(I,m),V(I,S),V(I,d),i.setItemLayout(v,{initBaseline:d[s],ends:I})}function A(R,Z,j){var X=i.get(Z,j),et=[];et[o]=R,et[s]=X;var it;return isNaN(R)||isNaN(X)?it=[NaN,NaN]:(it=n.dataToPoint(et),it[o]+=t),it}function D(R,Z,j){var X=Z.slice(),et=Z.slice();X[o]+=a,et[o]-=a,j?R.push(X,et):R.push(et,X)}function V(R,Z){var j=Z.slice(),X=Z.slice();j[o]-=a,X[o]+=a,R.push(j,X)}}function OT(r,t){t=t||{};for(var e=[],n=[],i=t.boundIQR,a=i==="none"||i===0,o=0;o<r.length;o++){var s=wn(r[o].slice()),u=Ku(s,.25),h=Ku(s,.5),f=Ku(s,.75),v=s[0],g=s[s.length-1],d=(i==null?1.5:i)*(f-u),m=a?v:Math.max(v,u-d),_=a?g:Math.min(g,f+d),b=t.itemNameFormatter,S=we(b)?b({value:o}):Se(b)?b.replace("{value}",o+""):o+"";e.push([S,m,u,h,f,_]);for(var I=0;I<s.length;I++){var A=s[I];if(A<m||A>_){var D=[S,A];n.push(D)}}}return{boxData:e,outliers:n}}var NT={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==G1){var n="";pr(n)}var i=OT(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function VT(r){r.registerSeriesModel(AT),r.registerChartView(PT),r.registerLayout(kT),r.registerTransform(NT)}var BT=["color","borderColor"],GT=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,n,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,n):this._incrementalRenderNormal(e,n)},t.prototype.eachRendered=function(e){go(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e){var n=e.getData(),i=this._data,a=this.group,o=n.getLayout("isSimpleBox"),s=e.get("clip",!0),u=e.coordinateSystem,h=u.getArea&&u.getArea();this._data||a.removeAll(),n.diff(i).add(function(f){if(n.hasValue(f)){var v=n.getItemLayout(f);if(s&&r0(h,v))return;var g=Gh(v,f,!0);ir(g,{shape:{points:v.ends}},e,f),Fh(g,n,f,o),a.add(g),n.setItemGraphicEl(f,g)}}).update(function(f,v){var g=i.getItemGraphicEl(v);if(!n.hasValue(f)){a.remove(g);return}var d=n.getItemLayout(f);if(s&&r0(h,d)){a.remove(g);return}g?(Ee(g,{shape:{points:d.ends}},e,f),Fn(g)):g=Gh(d),Fh(g,n,f,o),a.add(g),n.setItemGraphicEl(f,g)}).remove(function(f){var v=i.getItemGraphicEl(f);v&&a.remove(v)}).execute(),this._data=n},t.prototype._renderLarge=function(e){this._clear(),n0(e,this.group);var n=e.get("clip",!0)?Ms(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),o;(o=e.next())!=null;){var s=i.getItemLayout(o),u=Gh(s);Fh(u,i,o,a),u.incremental=!0,this.group.add(u),this._progressiveEls.push(u)}},t.prototype._incrementalRenderLarge=function(e,n){n0(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ar),FT=function(){function r(){}return r}(),HT=function(r){_t(t,r);function t(e){var n=r.call(this,e)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new FT},t.prototype.buildPath=function(e,n){var i=n.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t}(_r);function Gh(r,t,e){var n=r.ends;return new HT({shape:{points:e?$T(n,r):n},z2:100})}function r0(r,t){for(var e=!0,n=0;n<t.ends.length;n++)if(r.contain(t.ends[n][0],t.ends[n][1])){e=!1;break}return e}function Fh(r,t,e,n){var i=t.getItemModel(e);r.useStyle(t.getItemVisual(e,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,jr(r,i)}function $T(r,t){return Lt(r,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var WT=function(){function r(){}return r}(),Hh=function(r){_t(t,r);function t(e){var n=r.call(this,e)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new WT},t.prototype.buildPath=function(e,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var o=i[a++];e.moveTo(o,i[a++]),e.lineTo(o,i[a++])}else a+=3},t}(_r);function n0(r,t,e,n){var i=r.getData(),a=i.getLayout("largePoints"),o=new Hh({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(o);var s=new Hh({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var u=new Hh({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(u),$h(1,o,r),$h(-1,s,r),$h(0,u,r),n&&(o.incremental=!0,s.incremental=!0),e&&e.push(o,s)}function $h(r,t,e,n){var i=e.get(["itemStyle",r>0?"borderColor":"borderColor0"])||e.get(["itemStyle",r>0?"color":"color0"]);r===0&&(i=e.get(["itemStyle","borderColorDoji"]));var a=e.getModel("itemStyle").getItemStyle(BT);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var UT=GT,J_=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,n,i){var a=n.getItemLayout(e);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(mr);An(J_,X_,!0);var ZT=J_;function qT(r){!r||!Ot(r.series)||J(r.series,function(t){Dr(t)&&t.type==="k"&&(t.type="candlestick")})}var YT=["itemStyle","borderColor"],XT=["itemStyle","borderColor0"],jT=["itemStyle","borderColorDoji"],KT=["itemStyle","color"],JT=["itemStyle","color0"],QT={seriesType:"candlestick",plan:uu(),performRawSeries:!0,reset:function(r,t){function e(a,o){return o.get(a>0?KT:JT)}function n(a,o){return o.get(a===0?jT:a>0?YT:XT)}if(!t.isSeriesFiltered(r)){var i=r.pipelineContext.large;return!i&&{progress:function(a,o){for(var s;(s=a.next())!=null;){var u=o.getItemModel(s),h=o.getItemLayout(s).sign,f=u.getItemStyle();f.fill=e(h,u),f.stroke=n(h,u)||f.fill;var v=o.ensureUniqueItemVisual(s,"style");Ft(v,f)}}}}}},t3=QT,e3={seriesType:"candlestick",plan:uu(),reset:function(r){var t=r.coordinateSystem,e=r.getData(),n=r3(r,e),i=0,a=1,o=["x","y"],s=e.getDimensionIndex(e.mapDimension(o[i])),u=Lt(e.mapDimensionsAll(o[a]),e.getDimensionIndex,e),h=u[0],f=u[1],v=u[2],g=u[3];if(e.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),s<0||u.length<4)return;return{progress:r.pipelineContext.large?m:d};function d(_,b){for(var S,I=b.getStore();(S=_.next())!=null;){var A=I.get(s,S),D=I.get(h,S),V=I.get(f,S),R=I.get(v,S),Z=I.get(g,S),j=Math.min(D,V),X=Math.max(D,V),et=Mt(j,A),it=Mt(X,A),ht=Mt(R,A),vt=Mt(Z,A),st=[];xt(st,it,0),xt(st,et,1),st.push(Pt(vt),Pt(it),Pt(ht),Pt(et));var mt=b.getItemModel(S),lt=!!mt.get(["itemStyle","borderColorDoji"]);b.setItemLayout(S,{sign:i0(I,S,D,V,f,lt),initBaseline:D>V?it[a]:et[a],ends:st,brushRect:St(R,Z,A)})}function Mt(Nt,ne){var Qt=[];return Qt[i]=ne,Qt[a]=Nt,isNaN(ne)||isNaN(Nt)?[NaN,NaN]:t.dataToPoint(Qt)}function xt(Nt,ne,Qt){var ie=ne.slice(),jt=ne.slice();ie[i]=Ju(ie[i]+n/2,1,!1),jt[i]=Ju(jt[i]-n/2,1,!0),Qt?Nt.push(ie,jt):Nt.push(jt,ie)}function St(Nt,ne,Qt){var ie=Mt(Nt,Qt),jt=Mt(ne,Qt);return ie[i]-=n/2,jt[i]-=n/2,{x:ie[0],y:ie[1],width:n,height:jt[1]-ie[1]}}function Pt(Nt){return Nt[i]=Ju(Nt[i],1),Nt}}function m(_,b){for(var S=oa(_.count*4),I=0,A,D=[],V=[],R,Z=b.getStore(),j=!!r.get(["itemStyle","borderColorDoji"]);(R=_.next())!=null;){var X=Z.get(s,R),et=Z.get(h,R),it=Z.get(f,R),ht=Z.get(v,R),vt=Z.get(g,R);if(isNaN(X)||isNaN(ht)||isNaN(vt)){S[I++]=NaN,I+=3;continue}S[I++]=i0(Z,R,et,it,f,j),D[i]=X,D[a]=ht,A=t.dataToPoint(D,null,V),S[I++]=A?A[0]:NaN,S[I++]=A?A[1]:NaN,D[a]=vt,A=t.dataToPoint(D,null,V),S[I++]=A?A[1]:NaN}b.setLayout("largePoints",S)}}};function i0(r,t,e,n,i,a){var o;return e>n?o=-1:e<n?o=1:o=a?0:t>0?r.get(i,t-1)<=n?1:-1:1,o}function r3(r,t){var e=r.getBaseAxis(),n,i=e.type==="category"?e.getBandWidth():(n=e.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=$t(Sr(r.get("barMaxWidth"),i),i),o=$t(Sr(r.get("barMinWidth"),1),i),s=r.get("barWidth");return s!=null?$t(s,i):Math.max(Math.min(i/2,a),o)}var n3=e3;function i3(r){r.registerChartView(UT),r.registerSeriesModel(ZT),r.registerPreprocessor(qT),r.registerVisual(t3),r.registerLayout(n3)}function a0(r,t){var e=t.rippleEffectColor||t.color;r.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var a3=function(r){_t(t,r);function t(e,n){var i=r.call(this)||this,a=new ws(e,n),o=new ee;return i.add(a),i.add(o),i.updateData(e,n),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var n=e.symbolType,i=e.color,a=e.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var u=Gr(n,-1,-1,2,2,i);u.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var h=-s/a*e.period+e.effectOffset;u.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(h).start(),u.animateStyle(!0).when(e.period,{opacity:0}).delay(h).start(),o.add(u)}a0(o,e)},t.prototype.updateEffectAnimation=function(e){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(n[s]!==e[s]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}a0(i,e)},t.prototype.highlight=function(){eo(this)},t.prototype.downplay=function(){ro(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,n){var i=this,a=e.hostModel;this.childAt(0).updateData(e,n);var o=this.childAt(1),s=e.getItemModel(n),u=e.getItemVisual(n,"symbol"),h=po(e.getItemVisual(n,"symbolSize")),f=e.getItemVisual(n,"style"),v=f&&f.fill,g=s.getModel("emphasis");o.setScale(h),o.traverse(function(b){b.setStyle("fill",v)});var d=vo(e.getItemVisual(n,"symbolOffset"),h);d&&(o.x=d[0],o.y=d[1]);var m=e.getItemVisual(n,"symbolRotate");o.rotation=(m||0)*Math.PI/180||0;var _={};_.showEffectOn=a.get("showEffectOn"),_.rippleScale=s.get(["rippleEffect","scale"]),_.brushType=s.get(["rippleEffect","brushType"]),_.period=s.get(["rippleEffect","period"])*1e3,_.effectOffset=n/e.count(),_.z=a.getShallow("z")||0,_.zlevel=a.getShallow("zlevel")||0,_.symbolType=u,_.color=v,_.rippleEffectColor=s.get(["rippleEffect","color"]),_.rippleNumber=s.get(["rippleEffect","number"]),_.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(_):this.startEffectAnimation(_),this._effectCfg=_):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(b){b==="emphasis"?_.showEffectOn!=="render"&&i.startEffectAnimation(_):b==="normal"&&_.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=_,hr(this,g.get("focus"),g.get("blurScope"),g.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(ee),o3=a3,s3=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new Ss(o3)},t.prototype.render=function(e,n,i){var a=e.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,i=n&&n.getArea&&n.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,n,i){var a=e.getData();this.group.dirty();var o=Cs("").reset(e,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var n=e.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=Fw(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ar),l3=s3,u3=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return ci(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(mr),h3=u3;function f3(r){r.registerChartView(l3),r.registerSeriesModel(h3),r.registerLayout(Cs("effectScatter"))}var c3=function(r){_t(t,r);function t(e,n,i){var a=r.call(this)||this;return a.add(a.createLine(e,n,i)),a._updateEffectSymbol(e,n),a}return t.prototype.createLine=function(e,n,i){return new nv(e,n,i)},t.prototype._updateEffectSymbol=function(e,n){var i=e.getItemModel(n),a=i.getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");Ot(o)||(o=[o,o]);var u=e.getItemVisual(n,"style"),h=a.get("color")||u&&u.stroke,f=this.childAt(1);this._symbolType!==s&&(this.remove(f),f=Gr(s,-.5,-.5,1,1,h),f.z2=100,f.culling=!0,this.add(f)),f&&(f.setStyle("shadowColor",h),f.setStyle(a.getItemStyle(["color"])),f.scaleX=o[0],f.scaleY=o[1],f.setColor(h),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(e,a,n))},t.prototype._updateEffectAnimation=function(e,n,i){var a=this.childAt(1);if(!!a){var o=e.getItemLayout(i),s=n.get("period")*1e3,u=n.get("loop"),h=n.get("roundTrip"),f=n.get("constantSpeed"),v=un(n.get("delay"),function(d){return d/e.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),f>0&&(s=this._getLineLength(a)/f*1e3),s!==this._period||u!==this._loop||h!==this._roundTrip){a.stopAnimation();var g=void 0;we(v)?g=v(i):g=v,a.__t>0&&(g=-s*a.__t),this._animateSymbol(a,s,g,u,h)}this._period=s,this._loop=u,this._roundTrip=h}},t.prototype._animateSymbol=function(e,n,i,a,o){if(n>0){e.__t=0;var s=this,u=e.animate("",a).when(o?n*2:n,{__t:o?2:1}).delay(i).during(function(){s._updateSymbolPosition(e)});a||u.done(function(){s.remove(e)}),u.start()}},t.prototype._getLineLength=function(e){return aa(e.__p1,e.__cp1)+aa(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,n){e.__p1=n[0],e.__p2=n[1],e.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(e,n,i){this.childAt(0).updateData(e,n,i),this._updateEffectSymbol(e,n)},t.prototype._updateSymbolPosition=function(e){var n=e.__p1,i=e.__p2,a=e.__cp1,o=e.__t<1?e.__t:2-e.__t,s=[e.x,e.y],u=s.slice(),h=V1,f=Hw;s[0]=h(n[0],a[0],i[0],o),s[1]=h(n[1],a[1],i[1],o);var v=e.__t<1?f(n[0],a[0],i[0],o):f(i[0],a[0],n[0],1-o),g=e.__t<1?f(n[1],a[1],i[1],o):f(i[1],a[1],n[1],1-o);e.rotation=-Math.atan2(g,v)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=aa(u,s)*1.05,o===1&&(s[0]=u[0]+(s[0]-u[0])/2,s[1]=u[1]+(s[1]-u[1])/2)):e.__lastT===1?e.scaleY=2*aa(n,s):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=s[0],e.y=s[1]},t.prototype.updateLayout=function(e,n){this.childAt(0).updateLayout(e,n);var i=e.getItemModel(n).getModel("effect");this._updateEffectAnimation(e,i,n)},t}(ee),Q_=c3,v3=function(r){_t(t,r);function t(e,n,i){var a=r.call(this)||this;return a._createPolyline(e,n,i),a}return t.prototype._createPolyline=function(e,n,i){var a=e.getItemLayout(n),o=new Cn({shape:{points:a}});this.add(o),this._updateCommonStl(e,n,i)},t.prototype.updateData=function(e,n,i){var a=e.hostModel,o=this.childAt(0),s={shape:{points:e.getItemLayout(n)}};Ee(o,s,a,n),this._updateCommonStl(e,n,i)},t.prototype._updateCommonStl=function(e,n,i){var a=this.childAt(0),o=e.getItemModel(n),s=i&&i.emphasisLineStyle,u=i&&i.focus,h=i&&i.blurScope,f=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var v=o.getModel("emphasis");s=v.getModel("lineStyle").getLineStyle(),f=v.get("disabled"),u=v.get("focus"),h=v.get("blurScope")}a.useStyle(e.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var g=a.ensureState("emphasis");g.style=s,hr(this,u,h,f)},t.prototype.updateLayout=function(e,n){var i=this.childAt(0);i.setShape("points",e.getItemLayout(n))},t}(ee),t2=v3,d3=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return t.prototype.createLine=function(e,n,i){return new t2(e,n,i)},t.prototype._updateAnimationPoints=function(e,n){this._points=n;for(var i=[0],a=0,o=1;o<n.length;o++){var s=n[o-1],u=n[o];a+=aa(s,u),i.push(a)}if(a===0){this._length=0;return}for(var o=0;o<i.length;o++)i[o]/=a;this._offsets=i,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var n=e.__t<1?e.__t:2-e.__t,i=this._points,a=this._offsets,o=i.length;if(!!a){var s=this._lastFrame,u;if(n<this._lastFramePercent){var h=Math.min(s+1,o-1);for(u=h;u>=0&&!(a[u]<=n);u--);u=Math.min(u,o-2)}else{for(u=s;u<o&&!(a[u]>n);u++);u=Math.min(u-1,o-2)}var f=(n-a[u])/(a[u+1]-a[u]),v=i[u],g=i[u+1];e.x=v[0]*(1-f)+f*g[0],e.y=v[1]*(1-f)+f*g[1];var d=e.__t<1?g[0]-v[0]:v[0]-g[0],m=e.__t<1?g[1]-v[1]:v[1]-g[1];e.rotation=-Math.atan2(m,d)-Math.PI/2,this._lastFrame=u,this._lastFramePercent=n,e.ignore=!1}},t}(Q_),p3=d3,g3=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),m3=function(r){_t(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new g3},t.prototype.buildPath=function(e,n){var i=n.segs,a=n.curveness,o;if(n.polyline)for(o=this._off;o<i.length;){var s=i[o++];if(s>0){e.moveTo(i[o++],i[o++]);for(var u=1;u<s;u++)e.lineTo(i[o++],i[o++])}}else for(o=this._off;o<i.length;){var h=i[o++],f=i[o++],v=i[o++],g=i[o++];if(e.moveTo(h,f),a>0){var d=(h+v)/2-(f-g)*a,m=(f+g)/2-(v-h)*a;e.quadraticCurveTo(d,m,v,g)}else e.lineTo(v,g)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(e,n){var i=this.shape,a=i.segs,o=i.curveness,s=this.style.lineWidth;if(i.polyline)for(var u=0,h=0;h<a.length;){var f=a[h++];if(f>0)for(var v=a[h++],g=a[h++],d=1;d<f;d++){var m=a[h++],_=a[h++];if(Fd(v,g,m,_,s,e,n))return u}u++}else for(var u=0,h=0;h<a.length;){var v=a[h++],g=a[h++],m=a[h++],_=a[h++];if(o>0){var b=(v+m)/2-(g-_)*o,S=(g+_)/2-(m-v)*o;if($w(v,g,b,S,m,_,s,e,n))return u}else if(Fd(v,g,m,_,s,e,n))return u;u++}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.segs,a=1/0,o=1/0,s=-1/0,u=-1/0,h=0;h<i.length;){var f=i[h++],v=i[h++];a=Math.min(f,a),s=Math.max(f,s),o=Math.min(v,o),u=Math.max(v,u)}e=this._rect=new Je(a,o,s,u)}return e},t}(_r),y3=function(){function r(){this.group=new ee}return r.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},r.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],i=e.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+i.length);s.set(a),s.set(i,o),n.setShape({segs:s})}else{this._newAdded=[];var u=this._create();u.incremental=!0,u.setShape({segs:i}),this._setCommon(u,e),u.__startIndex=t.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new m3({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var o=Ae(t);o.seriesIndex=i.seriesIndex,t.on("mousemove",function(s){o.dataIndex=null;var u=t.hoverDataIdx;u>0&&(o.dataIndex=u+t.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),_3=y3,x3={seriesType:"lines",plan:uu(),reset:function(r){var t=r.coordinateSystem;if(!!t){var e=r.get("polyline"),n=r.pipelineContext.large;return{progress:function(i,a){var o=[];if(n){var s=void 0,u=i.end-i.start;if(e){for(var h=0,f=i.start;f<i.end;f++)h+=r.getLineCoordsCount(f);s=new Float32Array(u+h*2)}else s=new Float32Array(u*4);for(var v=0,g=[],f=i.start;f<i.end;f++){var d=r.getLineCoords(f,o);e&&(s[v++]=d);for(var m=0;m<d;m++)g=t.dataToPoint(o[m],!1,g),s[v++]=g[0],s[v++]=g[1]}a.setLayout("linesPoints",s)}else for(var f=i.start;f<i.end;f++){var _=a.getItemModel(f),d=r.getLineCoords(f,o),b=[];if(e)for(var S=0;S<d;S++)b.push(t.dataToPoint(o[S]));else{b[0]=t.dataToPoint(o[0]),b[1]=t.dataToPoint(o[1]);var I=_.get(["lineStyle","curveness"]);+I&&(b[2]=[(b[0][0]+b[1][0])/2-(b[0][1]-b[1][1])*I,(b[0][1]+b[1][1])/2-(b[1][0]-b[0][0])*I])}a.setItemLayout(f,b)}}}}}},e2=x3,b3=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._updateLineDraw(a,e),s=e.get("zlevel"),u=e.get(["effect","trailLength"]),h=i.getZr(),f=h.painter.getType()==="svg";f||h.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!f&&h.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&u>0&&(f||h.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),o.updateData(a);var v=e.get("clip",!0)&&Ms(e.coordinateSystem,!1,e);v?this.group.setClipPath(v):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),o=this._updateLineDraw(a,e);o.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._lineDraw.incrementalUpdate(e,n.getData()),this._finished=e.end===n.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,n,i){var a=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=e2.reset(e,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,n){var i=this._lineDraw,a=this._showEffect(n),o=!!n.get("polyline"),s=n.pipelineContext,u=s.large;return(!i||a!==this._hasEffet||o!==this._isPolyline||u!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=u?new _3:new iv(o?a?p3:t2:a?Q_:nv),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=u),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var n=e.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.type="lines",t}(ar),w3=b3,S3=typeof Uint32Array=="undefined"?Array:Uint32Array,M3=typeof Float64Array=="undefined"?Array:Float64Array;function o0(r){var t=r.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(r.data=Lt(t,function(e){var n=[e[0].coord,e[1].coord],i={coords:n};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),kc([i,e[0],e[1]])}))}var C3=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.init=function(e){e.data=e.data||[],o0(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),r.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(o0(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}r.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=Tf(this._flatCoords,n.flatCoords),this._flatCoordsOffset=Tf(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var n=this.getData().getItemModel(e),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[e*2],a=this._flatCoordsOffset[e*2+1],o=0;o<a;o++)n[o]=n[o]||[],n[o][0]=this._flatCoords[i+o*2],n[o][1]=this._flatCoords[i+o*2+1];return a}else{for(var s=this._getCoordsFromItemModel(e),o=0;o<s.length;o++)n[o]=n[o]||[],n[o][0]=s[o][0],n[o][1]=s[o][1];return s.length}},t.prototype._processFlatCoordsArray=function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),Xr(e[0])){for(var i=e.length,a=new S3(i),o=new M3(i),s=0,u=0,h=0,f=0;f<i;){h++;var v=e[f++];a[u++]=s+n,a[u++]=v;for(var g=0;g<v;g++){var d=e[f++],m=e[f++];o[s++]=d,o[s++]=m}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,u),flatCoords:o,count:h}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,n){var i=new en(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],function(a,o,s,u){if(a instanceof Array)return NaN;i.hasItemOption=!0;var h=a.value;if(h!=null)return h instanceof Array?h[u]:h}),i},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=a.getItemModel(e),s=o.get("name");if(s)return s;var u=o.get("fromName"),h=o.get("toName"),f=[];return u!=null&&f.push(u),h!=null&&f.push(h),rn("nameValue",{name:f.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e==null?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),n=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(mr),A3=C3;function ol(r){return r instanceof Array||(r=[r,r]),r}var T3={seriesType:"lines",reset:function(r){var t=ol(r.get("symbol")),e=ol(r.get("symbolSize")),n=r.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",e&&e[0]),n.setVisual("toSymbolSize",e&&e[1]);function i(a,o){var s=a.getItemModel(o),u=ol(s.getShallow("symbol",!0)),h=ol(s.getShallow("symbolSize",!0));u[0]&&a.setItemVisual(o,"fromSymbol",u[0]),u[1]&&a.setItemVisual(o,"toSymbol",u[1]),h[0]&&a.setItemVisual(o,"fromSymbolSize",h[0]),h[1]&&a.setItemVisual(o,"toSymbolSize",h[1])}return{dataEach:n.hasItemOption?i:null}}},I3=T3;function L3(r){r.registerChartView(w3),r.registerSeriesModel(A3),r.registerLayout(e2),r.registerVisual(I3)}var D3=256,P3=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Hd.createCanvas();this.canvas=t}return r.prototype.update=function(t,e,n,i,a,o){var s=this._getBrush(),u=this._getGradient(a,"inRange"),h=this._getGradient(a,"outOfRange"),f=this.pointSize+this.blurSize,v=this.canvas,g=v.getContext("2d"),d=t.length;v.width=e,v.height=n;for(var m=0;m<d;++m){var _=t[m],b=_[0],S=_[1],I=_[2],A=i(I);g.globalAlpha=A,g.drawImage(s,b-f,S-f)}if(!v.width||!v.height)return v;for(var D=g.getImageData(0,0,v.width,v.height),V=D.data,R=0,Z=V.length,j=this.minOpacity,X=this.maxOpacity,et=X-j;R<Z;){var A=V[R+3]/256,it=Math.floor(A*(D3-1))*4;if(A>0){var ht=o(A)?u:h;A>0&&(A=A*et+j),V[R++]=ht[it],V[R++]=ht[it+1],V[R++]=ht[it+2],V[R++]=ht[it+3]*A*256}else R+=4}return g.putImageData(D,0,0),v},r.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Hd.createCanvas()),e=this.pointSize+this.blurSize,n=e*2;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},r.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,s=0;s<256;s++)t[e](s/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i},r}(),k3=P3;function E3(r,t,e){var n=r[1]-r[0];t=Lt(t,function(o){return{interval:[(o.interval[0]-r[0])/n,(o.interval[1]-r[0])/n]}});var i=t.length,a=0;return function(o){var s;for(s=a;s<i;s++){var u=t[s].interval;if(u[0]<=o&&o<=u[1]){a=s;break}}if(s===i)for(s=a-1;s>=0;s--){var u=t[s].interval;if(u[0]<=o&&o<=u[1]){a=s;break}}return s>=0&&s<i&&e[s]}}function R3(r,t){var e=r[1]-r[0];return t=[(t[0]-r[0])/e,(t[1]-r[0])/e],function(n){return n>=t[0]&&n<=t[1]}}function s0(r){var t=r.dimensions;return t[0]==="lng"&&t[1]==="lat"}var z3=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(u){u===e&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):s0(o)&&this._renderOnGeo(o,e,a,i)},t.prototype.incrementalPrepareRender=function(e,n,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,n,i,a){var o=n.coordinateSystem;o&&(s0(o)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){go(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,n,i,a,o){var s=e.coordinateSystem,u=Sa(s,"cartesian2d"),h,f,v,g;if(u){var d=s.getAxis("x"),m=s.getAxis("y");h=d.getBandWidth()+.5,f=m.getBandWidth()+.5,v=d.scale.getExtent(),g=m.scale.getExtent()}for(var _=this.group,b=e.getData(),S=e.getModel(["emphasis","itemStyle"]).getItemStyle(),I=e.getModel(["blur","itemStyle"]).getItemStyle(),A=e.getModel(["select","itemStyle"]).getItemStyle(),D=e.get(["itemStyle","borderRadius"]),V=Ar(e),R=e.getModel("emphasis"),Z=R.get("focus"),j=R.get("blurScope"),X=R.get("disabled"),et=u?[b.mapDimension("x"),b.mapDimension("y"),b.mapDimension("value")]:[b.mapDimension("time"),b.mapDimension("value")],it=i;it<a;it++){var ht=void 0,vt=b.getItemVisual(it,"style");if(u){var st=b.get(et[0],it),mt=b.get(et[1],it);if(isNaN(b.get(et[2],it))||isNaN(st)||isNaN(mt)||st<v[0]||st>v[1]||mt<g[0]||mt>g[1])continue;var lt=s.dataToPoint([st,mt]);ht=new Ue({shape:{x:lt[0]-h/2,y:lt[1]-f/2,width:h,height:f},style:vt})}else{if(isNaN(b.get(et[1],it)))continue;ht=new Ue({z2:1,shape:s.dataToRect([b.get(et[0],it)]).contentShape,style:vt})}if(b.hasItemOption){var Mt=b.getItemModel(it),xt=Mt.getModel("emphasis");S=xt.getModel("itemStyle").getItemStyle(),I=Mt.getModel(["blur","itemStyle"]).getItemStyle(),A=Mt.getModel(["select","itemStyle"]).getItemStyle(),D=Mt.get(["itemStyle","borderRadius"]),Z=xt.get("focus"),j=xt.get("blurScope"),X=xt.get("disabled"),V=Ar(Mt)}ht.shape.r=D;var St=e.getRawValue(it),Pt="-";St&&St[2]!=null&&(Pt=St[2]+""),Fr(ht,V,{labelFetcher:e,labelDataIndex:it,defaultOpacity:vt.opacity,defaultText:Pt}),ht.ensureState("emphasis").style=S,ht.ensureState("blur").style=I,ht.ensureState("select").style=A,hr(ht,Z,j,X),ht.incremental=o,o&&(ht.states.emphasis.hoverLayer=!0),_.add(ht),b.setItemGraphicEl(it,ht),this._progressiveEls&&this._progressiveEls.push(ht)}},t.prototype._renderOnGeo=function(e,n,i,a){var o=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,u=n.getData(),h=this._hmLayer||this._hmLayer||new k3;h.blurSize=n.get("blurSize"),h.pointSize=n.get("pointSize"),h.minOpacity=n.get("minOpacity"),h.maxOpacity=n.get("maxOpacity");var f=e.getViewRect().clone(),v=e.getRoamTransform();f.applyTransform(v);var g=Math.max(f.x,0),d=Math.max(f.y,0),m=Math.min(f.width+f.x,a.getWidth()),_=Math.min(f.height+f.y,a.getHeight()),b=m-g,S=_-d,I=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],A=u.mapArray(I,function(Z,j,X){var et=e.dataToPoint([Z,j]);return et[0]-=g,et[1]-=d,et.push(X),et}),D=i.getExtent(),V=i.type==="visualMap.continuous"?R3(D,i.option.range):E3(D,i.getPieceList(),i.option.selected);h.update(A,b,S,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},V);var R=new Jn({style:{width:b,height:S,x:g,y:d,image:h.canvas},silent:!0});this.group.add(R)},t.type="heatmap",t}(ar),O3=z3,N3=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return ci(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Sc.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(mr),V3=N3;function B3(r){r.registerChartView(O3),r.registerSeriesModel(V3)}var G3=["itemStyle","borderWidth"],l0=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Wh=new ms,F3=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group,o=e.getData(),s=this._data,u=e.coordinateSystem,h=u.getBaseAxis(),f=h.isHorizontal(),v=u.master.getRect(),g={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:u,coordSysExtent:[[v.x,v.x+v.width],[v.y,v.y+v.height]],isHorizontal:f,valueDim:l0[+f],categoryDim:l0[1-+f]};o.diff(s).add(function(m){if(!!o.hasValue(m)){var _=h0(o,m),b=u0(o,m,_,g),S=f0(o,g,b);o.setItemGraphicEl(m,S),a.add(S),v0(S,g,b)}}).update(function(m,_){var b=s.getItemGraphicEl(_);if(!o.hasValue(m)){a.remove(b);return}var S=h0(o,m),I=u0(o,m,S,g),A=s2(o,I);b&&A!==b.__pictorialShapeStr&&(a.remove(b),o.setItemGraphicEl(m,null),b=null),b?Y3(b,g,I):b=f0(o,g,I,!0),o.setItemGraphicEl(m,b),b.__pictorialSymbolMeta=I,a.add(b),v0(b,g,I)}).remove(function(m){var _=s.getItemGraphicEl(m);_&&c0(s,m,_.__pictorialSymbolMeta.animationModel,_)}).execute();var d=e.get("clip",!0)?Ms(e.coordinateSystem,!1,e):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(e,n){var i=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(o){c0(a,Ae(o).dataIndex,e,o)}):i.removeAll()},t.type="pictorialBar",t}(ar);function u0(r,t,e,n){var i=r.getItemLayout(t),a=e.get("symbolRepeat"),o=e.get("symbolClip"),s=e.get("symbolPosition")||"start",u=e.get("symbolRotate"),h=(u||0)*Math.PI/180||0,f=e.get("symbolPatternSize")||2,v=e.isAnimationEnabled(),g={dataIndex:t,layout:i,itemModel:e,symbolType:r.getItemVisual(t,"symbol")||"circle",style:r.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:h,animationModel:v?e:null,hoverScale:v&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};H3(e,a,i,n,g),$3(r,t,i,a,o,g.boundingLength,g.pxSign,f,n,g),W3(e,g.symbolScale,h,n,g);var d=g.symbolSize,m=vo(e.get("symbolOffset"),d);return U3(e,d,i,a,o,m,s,g.valueLineWidth,g.boundingLength,g.repeatCutLength,n,g),g}function H3(r,t,e,n,i){var a=n.valueDim,o=r.get("symbolBoundingData"),s=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),u=s.toGlobalCoord(s.dataToCoord(0)),h=1-+(e[a.wh]<=0),f;if(Ot(o)){var v=[Uh(s,o[0])-u,Uh(s,o[1])-u];v[1]<v[0]&&v.reverse(),f=v[h]}else o!=null?f=Uh(s,o)-u:t?f=n.coordSysExtent[a.index][h]-u:f=e[a.wh];i.boundingLength=f,t&&(i.repeatCutLength=e[a.wh]),i.pxSign=f>0?1:-1}function Uh(r,t){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(t)))}function $3(r,t,e,n,i,a,o,s,u,h){var f=u.valueDim,v=u.categoryDim,g=Math.abs(e[v.wh]),d=r.getItemVisual(t,"symbolSize"),m;Ot(d)?m=d.slice():d==null?m=["100%","100%"]:m=[d,d],m[v.index]=$t(m[v.index],g),m[f.index]=$t(m[f.index],n?g:Math.abs(a)),h.symbolSize=m;var _=h.symbolScale=[m[0]/s,m[1]/s];_[f.index]*=(u.isHorizontal?-1:1)*o}function W3(r,t,e,n,i){var a=r.get(G3)||0;a&&(Wh.attr({scaleX:t[0],scaleY:t[1],rotation:e}),Wh.updateTransform(),a/=Wh.getLineScale(),a*=t[n.valueDim.index]),i.valueLineWidth=a||0}function U3(r,t,e,n,i,a,o,s,u,h,f,v){var g=f.categoryDim,d=f.valueDim,m=v.pxSign,_=Math.max(t[d.index]+s,0),b=_;if(n){var S=Math.abs(u),I=un(r.get("symbolMargin"),"15%")+"",A=!1;I.lastIndexOf("!")===I.length-1&&(A=!0,I=I.slice(0,I.length-1));var D=$t(I,t[d.index]),V=Math.max(_+D*2,0),R=A?0:D*2,Z=Ww(n),j=Z?n:d0((S+R)/V),X=S-j*_;D=X/2/(A?j:Math.max(j-1,1)),V=_+D*2,R=A?0:D*2,!Z&&n!=="fixed"&&(j=h?d0((Math.abs(h)+R)/V):0),b=j*V-R,v.repeatTimes=j,v.symbolMargin=D}var et=m*(b/2),it=v.pathPosition=[];it[g.index]=e[g.wh]/2,it[d.index]=o==="start"?et:o==="end"?u-et:u/2,a&&(it[0]+=a[0],it[1]+=a[1]);var ht=v.bundlePosition=[];ht[g.index]=e[g.xy],ht[d.index]=e[d.xy];var vt=v.barRectShape=Ft({},e);vt[d.wh]=m*Math.max(Math.abs(e[d.wh]),Math.abs(it[d.index]+et)),vt[g.wh]=e[g.wh];var st=v.clipShape={};st[g.xy]=-e[g.xy],st[g.wh]=f.ecSize[g.wh],st[d.xy]=0,st[d.wh]=e[d.wh]}function r2(r){var t=r.symbolPatternSize,e=Gr(r.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function n2(r,t,e,n){var i=r.__pictorialBundle,a=e.symbolSize,o=e.valueLineWidth,s=e.pathPosition,u=t.valueDim,h=e.repeatTimes||0,f=0,v=a[t.valueDim.index]+o+e.symbolMargin*2;for(cv(r,function(_){_.__pictorialAnimationIndex=f,_.__pictorialRepeatTimes=h,f<h?Qa(_,null,m(f),e,n):Qa(_,null,{scaleX:0,scaleY:0},e,n,function(){i.remove(_)}),f++});f<h;f++){var g=r2(e);g.__pictorialAnimationIndex=f,g.__pictorialRepeatTimes=h,i.add(g);var d=m(f);Qa(g,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},e,n)}function m(_){var b=s.slice(),S=e.pxSign,I=_;return(e.symbolRepeatDirection==="start"?S>0:S<0)&&(I=h-1-_),b[u.index]=v*(I-h/2+.5)+s[u.index],{x:b[0],y:b[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function i2(r,t,e,n){var i=r.__pictorialBundle,a=r.__pictorialMainPath;a?Qa(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,n):(a=r.__pictorialMainPath=r2(e),i.add(a),Qa(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,n))}function a2(r,t,e){var n=Ft({},t.barRectShape),i=r.__pictorialBarRect;i?Qa(i,null,{shape:n},t,e):(i=r.__pictorialBarRect=new Ue({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,r.add(i))}function o2(r,t,e,n){if(e.symbolClip){var i=r.__pictorialClipPath,a=Ft({},e.clipShape),o=t.valueDim,s=e.animationModel,u=e.dataIndex;if(i)Ee(i,{shape:a},s,u);else{a[o.wh]=0,i=new Ue({shape:a}),r.__pictorialBundle.setClipPath(i),r.__pictorialClipPath=i;var h={};h[o.wh]=e.clipShape[o.wh],_o[n?"updateProps":"initProps"](i,{shape:h},s,u)}}}function h0(r,t){var e=r.getItemModel(t);return e.getAnimationDelayParams=Z3,e.isAnimationEnabled=q3,e}function Z3(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function q3(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function f0(r,t,e,n){var i=new ee,a=new ee;return i.add(a),i.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?n2(i,t,e):i2(i,t,e),a2(i,e,n),o2(i,t,e,n),i.__pictorialShapeStr=s2(r,e),i.__pictorialSymbolMeta=e,i}function Y3(r,t,e){var n=e.animationModel,i=e.dataIndex,a=r.__pictorialBundle;Ee(a,{x:e.bundlePosition[0],y:e.bundlePosition[1]},n,i),e.symbolRepeat?n2(r,t,e,!0):i2(r,t,e,!0),a2(r,e,!0),o2(r,t,e,!0)}function c0(r,t,e,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];cv(n,function(o){a.push(o)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(e=null),J(a,function(o){no(o,{scaleX:0,scaleY:0},e,t,function(){n.parent&&n.parent.remove(n)})}),r.setItemGraphicEl(t,null)}function s2(r,t){return[r.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function cv(r,t,e){J(r.__pictorialBundle.children(),function(n){n!==r.__pictorialBarRect&&t.call(e,n)})}function Qa(r,t,e,n,i,a){t&&r.attr(t),n.symbolClip&&!i?e&&r.attr(e):e&&_o[i?"updateProps":"initProps"](r,e,n.animationModel,n.dataIndex,a)}function v0(r,t,e){var n=e.dataIndex,i=e.itemModel,a=i.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),u=i.getModel(["select","itemStyle"]).getItemStyle(),h=i.getShallow("cursor"),f=a.get("focus"),v=a.get("blurScope"),g=a.get("scale");cv(r,function(_){if(_ instanceof Jn){var b=_.style;_.useStyle(Ft({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},e.style))}else _.useStyle(e.style);var S=_.ensureState("emphasis");S.style=o,g&&(S.scaleX=_.scaleX*1.1,S.scaleY=_.scaleY*1.1),_.ensureState("blur").style=s,_.ensureState("select").style=u,h&&(_.cursor=h),_.z2=e.z2});var d=t.valueDim.posDesc[+(e.boundingLength>0)],m=r.__pictorialBarRect;m.ignoreClip=!0,Fr(m,Ar(i),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:so(t.seriesModel.getData(),n),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:d}),hr(r,f,v,a.get("disabled"))}function d0(r){var t=Math.round(r);return Math.abs(r-t)<1e-4?t:Math.ceil(r)}var X3=F3,j3=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,r.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=ba(Rl.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(Rl),K3=j3;function J3(r){r.registerChartView(X3),r.registerSeriesModel(K3),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,_e(T1,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,A1("pictorialBar"))}var Q3=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this,s=this.group,u=e.getLayerSeries(),h=a.getLayout("layoutInfo"),f=h.rect,v=h.boundaryGap;s.x=0,s.y=f.y+v[0];function g(b){return b.name}var d=new Pi(this._layersSeries||[],u,g,g),m=[];d.add(Ht(_,this,"add")).update(Ht(_,this,"update")).remove(Ht(_,this,"remove")).execute();function _(b,S,I){var A=o._layers;if(b==="remove"){s.remove(A[S]);return}for(var D=[],V=[],R,Z=u[S].indices,j=0;j<Z.length;j++){var X=a.getItemLayout(Z[j]),et=X.x,it=X.y0,ht=X.y;D.push(et,it),V.push(et,it+ht),R=a.getItemVisual(Z[j],"style")}var vt,st=a.getItemLayout(Z[0]),mt=e.getModel("label"),lt=mt.get("margin"),Mt=e.getModel("emphasis");if(b==="add"){var xt=m[S]=new ee;vt=new ky({shape:{points:D,stackedOnPoints:V,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),xt.add(vt),s.add(xt),e.isAnimationEnabled()&&vt.setClipPath(tI(vt.getBoundingRect(),e,function(){vt.removeClipPath()}))}else{var xt=A[I];vt=xt.childAt(0),s.add(xt),m[S]=xt,Ee(vt,{shape:{points:D,stackedOnPoints:V}},e),Fn(vt)}Fr(vt,Ar(e),{labelDataIndex:Z[j-1],defaultText:a.getName(Z[j-1]),inheritColor:R.fill},{normal:{verticalAlign:"middle"}}),vt.setTextConfig({position:null,local:!0});var St=vt.getTextContent();St&&(St.x=st.x-lt,St.y=st.y0+st.y/2),vt.useStyle(R),a.setItemGraphicEl(S,vt),jr(vt,e),hr(vt,Mt.get("focus"),Mt.get("blurScope"),Mt.get("disabled"))}this._layersSeries=u,this._layers=m},t.type="themeRiver",t}(ar);function tI(r,t,e){var n=new Ue({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return ir(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,e),n}var eI=Q3,Zh=2,rI=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ts(Ht(this.getData,this),Ht(this.getRawData,this))},t.prototype.fixData=function(e){var n=e.length,i={},a=Df(e,function(g){return i.hasOwnProperty(g[0]+"")||(i[g[0]+""]=-1),g[2]}),o=[];a.buckets.each(function(g,d){o.push({name:d,dataList:g})});for(var s=o.length,u=0;u<s;++u){for(var h=o[u].name,f=0;f<o[u].dataList.length;++f){var v=o[u].dataList[f][0]+"";i[v]=u}for(var v in i)i.hasOwnProperty(v)&&i[v]!==u&&(i[v]=u,e[n]=[v,0,h],n++)}return e},t.prototype.getInitialData=function(e,n){for(var i=this.getReferringComponents("singleAxis",Rr).models[0],a=i.get("type"),o=Cr(e.data,function(m){return m[2]!==void 0}),s=this.fixData(o||[]),u=[],h=this.nameMap=de(),f=0,v=0;v<s.length;++v)u.push(s[v][Zh]),h.get(s[v][Zh])||(h.set(s[v][Zh],f),f++);var g=nu(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Sl(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new en(g,this);return d.initData(s),d},t.prototype.getLayerSeries=function(){for(var e=this.getData(),n=e.count(),i=[],a=0;a<n;++a)i[a]=a;var o=e.mapDimension("single"),s=Df(i,function(h){return e.get("name",h)}),u=[];return s.buckets.each(function(h,f){h.sort(function(v,g){return e.get(o,v)-e.get(o,g)}),u.push({name:f,indices:h})}),u},t.prototype.getAxisTooltipData=function(e,n,i){Ot(e)||(e=e?[e]:[]);for(var a=this.getData(),o=this.getLayerSeries(),s=[],u=o.length,h,f=0;f<u;++f){for(var v=Number.MAX_VALUE,g=-1,d=o[f].indices.length,m=0;m<d;++m){var _=a.get(e[0],o[f].indices[m]),b=Math.abs(_-n);b<=v&&(h=_,v=b,g=o[f].indices[m])}s.push(g)}return{dataIndices:s,nestestValue:h}},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=a.getName(e),s=a.get(a.mapDimension("value"),e);return rn("nameValue",{name:o,value:s})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(mr),nI=rI;function iI(r,t){r.eachSeriesByType("themeRiver",function(e){var n=e.getData(),i=e.coordinateSystem,a={},o=i.getRect();a.rect=o;var s=e.get("boundaryGap"),u=i.getAxis();if(a.boundaryGap=s,u.orient==="horizontal"){s[0]=$t(s[0],o.height),s[1]=$t(s[1],o.height);var h=o.height-s[0]-s[1];p0(n,e,h)}else{s[0]=$t(s[0],o.width),s[1]=$t(s[1],o.width);var f=o.width-s[0]-s[1];p0(n,e,f)}n.setLayout("layoutInfo",a)})}function p0(r,t,e){if(!!r.count())for(var n=t.coordinateSystem,i=t.getLayerSeries(),a=r.mapDimension("single"),o=r.mapDimension("value"),s=Lt(i,function(b){return Lt(b.indices,function(S){var I=n.dataToPoint(r.get(a,S));return I[1]=r.get(o,S),I})}),u=aI(s),h=u.y0,f=e/u.max,v=i.length,g=i[0].indices.length,d,m=0;m<g;++m){d=h[m]*f,r.setItemLayout(i[0].indices[m],{layerIndex:0,x:s[0][m][0],y0:d,y:s[0][m][1]*f});for(var _=1;_<v;++_)d+=s[_-1][m][1]*f,r.setItemLayout(i[_].indices[m],{layerIndex:_,x:s[_][m][0],y0:d,y:s[_][m][1]*f})}}function aI(r){for(var t=r.length,e=r[0].length,n=[],i=[],a=0,o=0;o<e;++o){for(var s=0,u=0;u<t;++u)s+=r[u][o][1];s>a&&(a=s),n.push(s)}for(var h=0;h<e;++h)i[h]=(a-n[h])/2;a=0;for(var f=0;f<e;++f){var v=n[f]+i[f];v>a&&(a=v)}return{y0:i,max:a}}function oI(r){r.registerChartView(eI),r.registerSeriesModel(nI),r.registerLayout(iI),r.registerProcessor(As("themeRiver"))}var sI=2,lI=4,uI=function(r){_t(t,r);function t(e,n,i,a){var o=r.call(this)||this;o.z2=sI,o.textConfig={inside:!0},Ae(o).seriesIndex=n.seriesIndex;var s=new ur({z2:lI,silent:e.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,e,n,i,a),o}return t.prototype.updateData=function(e,n,i,a,o){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var s=this;Ae(s).dataIndex=n.dataIndex;var u=n.getModel(),h=u.getModel("emphasis"),f=n.getLayout(),v=Ft({},f);v.label=null;var g=n.getVisual("style");g.lineJoin="bevel";var d=n.getVisual("decal");d&&(g.decal=Dc(d,o));var m=sa(u.getModel("itemStyle"),v,!0);Ft(v,m),J(va,function(I){var A=s.ensureState(I),D=u.getModel([I,"itemStyle"]);A.style=D.getItemStyle();var V=sa(D,v);V&&(A.shape=V)}),e?(s.setShape(v),s.shape.r=f.r0,ir(s,{shape:{r:f.r}},i,n.dataIndex)):(Ee(s,{shape:v},i),Fn(s)),s.useStyle(g),this._updateLabel(i);var _=u.getShallow("cursor");_&&s.attr("cursor",_),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var b=h.get("focus"),S=b==="ancestor"?n.getAncestorsIndices():b==="descendant"?n.getDescendantIndices():b;hr(this,S,h.get("blurScope"),h.get("disabled"))},t.prototype._updateLabel=function(e){var n=this,i=this.node.getModel(),a=i.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,u=(o.startAngle+o.endAngle)/2,h=Math.cos(u),f=Math.sin(u),v=this,g=v.getTextContent(),d=this.node.dataIndex,m=a.get("minAngle")/180*Math.PI,_=a.get("show")&&!(m!=null&&Math.abs(s)<m);g.ignore=!_,J(Sf,function(S){var I=S==="normal"?i.getModel("label"):i.getModel([S,"label"]),A=S==="normal",D=A?g:g.ensureState(S),V=e.getFormattedLabel(d,S);A&&(V=V||n.node.name),D.style=zr(I,{},null,S!=="normal",!0),V&&(D.style.text=V);var R=I.get("show");R!=null&&!A&&(D.ignore=!R);var Z=b(I,"position"),j=A?v:v.states[S],X=j.style.fill;j.textConfig={outsideFill:I.get("color")==="inherit"?X:null,inside:Z!=="outside"};var et,it=b(I,"distance")||0,ht=b(I,"align"),vt=b(I,"rotate"),st=Math.PI*.5,mt=Math.PI*1.5,lt=oi(vt==="tangential"?Math.PI/2-u:u),Mt=lt>st&&!Uw(lt-st)&&lt<mt;Z==="outside"?(et=o.r+it,ht=Mt?"right":"left"):!ht||ht==="center"?(s===2*Math.PI&&o.r0===0?et=0:et=(o.r+o.r0)/2,ht="center"):ht==="left"?(et=o.r0+it,ht=Mt?"right":"left"):ht==="right"&&(et=o.r-it,ht=Mt?"left":"right"),D.style.align=ht,D.style.verticalAlign=b(I,"verticalAlign")||"middle",D.x=et*h+o.cx,D.y=et*f+o.cy;var xt=0;vt==="radial"?xt=oi(-u)+(Mt?Math.PI:0):vt==="tangential"?xt=oi(Math.PI/2-u)+(Mt?Math.PI:0):Xr(vt)&&(xt=vt*Math.PI/180),D.rotation=oi(xt)});function b(S,I){var A=S.get(I);return A==null?a.get(I):A}g.dirtyStyle()},t}(Kn),g0=uI,Kf="sunburstRootToNode",m0="sunburstHighlight",hI="sunburstUnhighlight";function fI(r){r.registerAction({type:Kf,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i,a){var o=ns(t,[Kf],i);if(o){var s=i.getViewRoot();s&&(t.direction=Kc(s,o.node)?"rollUp":"drillDown"),i.resetViewRoot(o.node)}}}),r.registerAction({type:m0,update:"none"},function(t,e,n){t=Ft({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(a){var o=ns(t,[m0],a);o&&(t.dataIndex=o.node.dataIndex)}n.dispatchAction(Ft(t,{type:"highlight"}))}),r.registerAction({type:hI,update:"updateView"},function(t,e,n){t=Ft({},t),n.dispatchAction(Ft(t,{type:"downplay"}))})}var cI=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){var o=this;this.seriesModel=e,this.api=i,this.ecModel=n;var s=e.getData(),u=s.tree.root,h=e.getViewRoot(),f=this.group,v=e.get("renderLabelForZeroData"),g=[];h.eachNode(function(I){g.push(I)});var d=this._oldChildren||[];m(g,d),S(u,h),this._initEvents(),this._oldChildren=g;function m(I,A){if(I.length===0&&A.length===0)return;new Pi(A,I,D,D).add(V).update(V).remove(_e(V,null)).execute();function D(R){return R.getId()}function V(R,Z){var j=R==null?null:I[R],X=Z==null?null:A[Z];_(j,X)}}function _(I,A){if(!v&&I&&!I.getValue()&&(I=null),I!==u&&A!==u){if(A&&A.piece)I?(A.piece.updateData(!1,I,e,n,i),s.setItemGraphicEl(I.dataIndex,A.piece)):b(A);else if(I){var D=new g0(I,e,n,i);f.add(D),s.setItemGraphicEl(I.dataIndex,D)}}}function b(I){!I||I.piece&&(f.remove(I.piece),I.piece=null)}function S(I,A){A.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,I,e,n,i):(o.virtualPiece=new g0(I,e,n,i),f.add(o.virtualPiece)),A.piece.off("click"),o.virtualPiece.on("click",function(D){o._rootToNode(A.parentNode)})):o.virtualPiece&&(f.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=e.seriesModel.getViewRoot();a.eachNode(function(o){if(!i&&o.piece&&o.piece===n.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")e._rootToNode(o);else if(s==="link"){var u=o.getModel(),h=u.get("link");if(h){var f=u.get("target",!0)||"_blank";N1(h,f)}}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Kf,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=e[0]-a.cx,s=e[1]-a.cy,u=Math.sqrt(o*o+s*s);return u<=a.r&&u>=a.r0}},t.type="sunburst",t}(ar),vI=cI,dI=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,n){var i={name:e.name,children:e.data};l2(i);var a=this._levelModels=Lt(e.levels||[],function(u){return new fn(u,this,n)},this),o=jc.createTree(i,this,s);function s(u){u.wrapMethod("getItemModel",function(h,f){var v=o.getNodeByDataIndex(f),g=a[v.depth];return g&&(h.parentModel=g),h})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=bu(i,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){c_(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(mr);function l2(r){var t=0;J(r.children,function(n){l2(n);var i=n.value;Ot(i)&&(i=i[0]),t+=i});var e=r.value;Ot(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Ot(r.value)?r.value[0]=e:r.value=e}var pI=dI,y0=Math.PI/180;function gI(r,t,e){t.eachSeriesByType(r,function(n){var i=n.get("center"),a=n.get("radius");Ot(a)||(a=[0,a]),Ot(i)||(i=[i,i]);var o=e.getWidth(),s=e.getHeight(),u=Math.min(o,s),h=$t(i[0],o),f=$t(i[1],s),v=$t(a[0],u/2),g=$t(a[1],u/2),d=-n.get("startAngle")*y0,m=n.get("minAngle")*y0,_=n.getData().tree.root,b=n.getViewRoot(),S=b.depth,I=n.get("sort");I!=null&&u2(b,I);var A=0;J(b.children,function(lt){!isNaN(lt.getValue())&&A++});var D=b.getValue(),V=Math.PI/(D||A)*2,R=b.depth>0,Z=b.height-(R?-1:1),j=(g-v)/(Z||1),X=n.get("clockwise"),et=n.get("stillShowZeroSum"),it=X?1:-1,ht=function(lt,Mt){if(!!lt){var xt=Mt;if(lt!==_){var St=lt.getValue(),Pt=D===0&&et?V:St*V;Pt<m&&(Pt=m),xt=Mt+it*Pt;var Nt=lt.depth-S-(R?-1:1),ne=v+j*Nt,Qt=v+j*(Nt+1),ie=n.getLevelModel(lt);if(ie){var jt=ie.get("r0",!0),be=ie.get("r",!0),he=ie.get("radius",!0);he!=null&&(jt=he[0],be=he[1]),jt!=null&&(ne=$t(jt,u/2)),be!=null&&(Qt=$t(be,u/2))}lt.setLayout({angle:Pt,startAngle:Mt,endAngle:xt,clockwise:X,cx:h,cy:f,r0:ne,r:Qt})}if(lt.children&&lt.children.length){var Ut=0;J(lt.children,function(qt){Ut+=ht(qt,Mt+Ut)})}return xt-Mt}};if(R){var vt=v,st=v+j,mt=Math.PI*2;_.setLayout({angle:mt,startAngle:d,endAngle:d+mt,clockwise:X,cx:h,cy:f,r0:vt,r:st})}ht(b,d)})}function u2(r,t){var e=r.children||[];r.children=mI(e,t),e.length&&J(r.children,function(n){u2(n,t)})}function mI(r,t){if(we(t)){var e=Lt(r,function(i,a){var o=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return o}},index:a}});return e.sort(function(i,a){return t(i.params,a.params)}),Lt(e,function(i){return r[i.index]})}else{var n=t==="asc";return r.sort(function(i,a){var o=(i.getValue()-a.getValue())*(n?1:-1);return o===0?(i.dataIndex-a.dataIndex)*(n?-1:1):o})}}function yI(r){var t={};function e(n,i,a){for(var o=n;o&&o.depth>1;)o=o.parentNode;var s=i.getColorFromPalette(o.name||o.dataIndex+"",t);return n.depth>1&&Se(s)&&(s=Zw(s,(n.depth-1)/(a-1)*.5)),s}r.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(o){var s=o.getModel(),u=s.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e(o,n,a.root.height));var h=i.ensureUniqueItemVisual(o.dataIndex,"style");Ft(h,u)})})}function _I(r){r.registerChartView(vI),r.registerSeriesModel(pI),r.registerLayout(_e(gI,"sunburst")),r.registerProcessor(_e(As,"sunburst")),r.registerVisual(yI),fI(r)}var _0={color:"fill",borderColor:"stroke"},xI={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},li=Qe(),bI=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,n){return ci(null,this)},t.prototype.getDataParams=function(e,n,i){var a=r.prototype.getDataParams.call(this,e,n);return i&&(a.info=li(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(mr),wI=bI;function SI(r,t){return t=t||[0,0],Lt(["x","y"],function(e,n){var i=this.getAxis(e),a=t[n],o=r[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))},this)}function MI(r){var t=r.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:Ht(SI,r)}}}function CI(r,t){return t=t||[0,0],Lt([0,1],function(e){var n=t[e],i=r[e]/2,a=[],o=[];return a[e]=n-i,o[e]=n+i,a[1-e]=o[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(o)[e])},this)}function AI(r){var t=r.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:r.getZoom()},api:{coord:function(e){return r.dataToPoint(e)},size:Ht(CI,r)}}}function TI(r,t){var e=this.getAxis(),n=t instanceof Array?t[0]:t,i=(r instanceof Array?r[0]:r)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(n-i)-e.dataToCoord(n+i))}function II(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:Ht(TI,r)}}}function LI(r,t){return t=t||[0,0],Lt(["Radius","Angle"],function(e,n){var i="get"+e+"Axis",a=this[i](),o=t[n],s=r[n]/2,u=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return e==="Angle"&&(u=u*Math.PI/180),u},this)}function DI(r){var t=r.getRadiusAxis(),e=r.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),o=e.dataToAngle(i[1]),s=r.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:Ht(LI,r)}}}function PI(r){var t=r.getRect(),e=r.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(n,i){return r.dataToPoint(n,i)}}}}function h2(r,t,e,n){return r&&(r.legacy||r.legacy!==!1&&!e&&!n&&t!=="tspan"&&(t==="text"||zt(r,"text")))}function f2(r,t,e){var n=r,i,a,o;if(t==="text")o=n;else{o={},zt(n,"text")&&(o.text=n.text),zt(n,"rich")&&(o.rich=n.rich),zt(n,"textFill")&&(o.fill=n.textFill),zt(n,"textStroke")&&(o.stroke=n.textStroke),zt(n,"fontFamily")&&(o.fontFamily=n.fontFamily),zt(n,"fontSize")&&(o.fontSize=n.fontSize),zt(n,"fontStyle")&&(o.fontStyle=n.fontStyle),zt(n,"fontWeight")&&(o.fontWeight=n.fontWeight),a={type:"text",style:o,silent:!0},i={};var s=zt(n,"textPosition");e?i.position=s?n.textPosition:"inside":s&&(i.position=n.textPosition),zt(n,"textPosition")&&(i.position=n.textPosition),zt(n,"textOffset")&&(i.offset=n.textOffset),zt(n,"textRotation")&&(i.rotation=n.textRotation),zt(n,"textDistance")&&(i.distance=n.textDistance)}return x0(o,r),J(o.rich,function(u){x0(u,u)}),{textConfig:i,textContent:a}}function x0(r,t){!t||(t.font=t.textFont||t.font,zt(t,"textStrokeWidth")&&(r.lineWidth=t.textStrokeWidth),zt(t,"textAlign")&&(r.align=t.textAlign),zt(t,"textVerticalAlign")&&(r.verticalAlign=t.textVerticalAlign),zt(t,"textLineHeight")&&(r.lineHeight=t.textLineHeight),zt(t,"textWidth")&&(r.width=t.textWidth),zt(t,"textHeight")&&(r.height=t.textHeight),zt(t,"textBackgroundColor")&&(r.backgroundColor=t.textBackgroundColor),zt(t,"textPadding")&&(r.padding=t.textPadding),zt(t,"textBorderColor")&&(r.borderColor=t.textBorderColor),zt(t,"textBorderWidth")&&(r.borderWidth=t.textBorderWidth),zt(t,"textBorderRadius")&&(r.borderRadius=t.textBorderRadius),zt(t,"textBoxShadowColor")&&(r.shadowColor=t.textBoxShadowColor),zt(t,"textBoxShadowBlur")&&(r.shadowBlur=t.textBoxShadowBlur),zt(t,"textBoxShadowOffsetX")&&(r.shadowOffsetX=t.textBoxShadowOffsetX),zt(t,"textBoxShadowOffsetY")&&(r.shadowOffsetY=t.textBoxShadowOffsetY))}function b0(r,t,e){var n=r;n.textPosition=n.textPosition||e.position||"inside",e.offset!=null&&(n.textOffset=e.offset),e.rotation!=null&&(n.textRotation=e.rotation),e.distance!=null&&(n.textDistance=e.distance);var i=n.textPosition.indexOf("inside")>=0,a=r.fill||"#000";w0(n,t);var o=n.textFill==null;return i?o&&(n.textFill=e.insideFill||"#fff",!n.textStroke&&e.insideStroke&&(n.textStroke=e.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(o&&(n.textFill=r.fill||e.outsideFill||"#000"),!n.textStroke&&e.outsideStroke&&(n.textStroke=e.outsideStroke)),n.text=t.text,n.rich=t.rich,J(t.rich,function(s){w0(s,s)}),n}function w0(r,t){!t||(zt(t,"fill")&&(r.textFill=t.fill),zt(t,"stroke")&&(r.textStroke=t.fill),zt(t,"lineWidth")&&(r.textStrokeWidth=t.lineWidth),zt(t,"font")&&(r.font=t.font),zt(t,"fontStyle")&&(r.fontStyle=t.fontStyle),zt(t,"fontWeight")&&(r.fontWeight=t.fontWeight),zt(t,"fontSize")&&(r.fontSize=t.fontSize),zt(t,"fontFamily")&&(r.fontFamily=t.fontFamily),zt(t,"align")&&(r.textAlign=t.align),zt(t,"verticalAlign")&&(r.textVerticalAlign=t.verticalAlign),zt(t,"lineHeight")&&(r.textLineHeight=t.lineHeight),zt(t,"width")&&(r.textWidth=t.width),zt(t,"height")&&(r.textHeight=t.height),zt(t,"backgroundColor")&&(r.textBackgroundColor=t.backgroundColor),zt(t,"padding")&&(r.textPadding=t.padding),zt(t,"borderColor")&&(r.textBorderColor=t.borderColor),zt(t,"borderWidth")&&(r.textBorderWidth=t.borderWidth),zt(t,"borderRadius")&&(r.textBorderRadius=t.borderRadius),zt(t,"shadowColor")&&(r.textBoxShadowColor=t.shadowColor),zt(t,"shadowBlur")&&(r.textBoxShadowBlur=t.shadowBlur),zt(t,"shadowOffsetX")&&(r.textBoxShadowOffsetX=t.shadowOffsetX),zt(t,"shadowOffsetY")&&(r.textBoxShadowOffsetY=t.shadowOffsetY),zt(t,"textShadowColor")&&(r.textShadowColor=t.textShadowColor),zt(t,"textShadowBlur")&&(r.textShadowBlur=t.textShadowBlur),zt(t,"textShadowOffsetX")&&(r.textShadowOffsetX=t.textShadowOffsetX),zt(t,"textShadowOffsetY")&&(r.textShadowOffsetY=t.textShadowOffsetY))}var c2={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},S0=lr(c2);E1(Qo,function(r,t){return r[t]=1,r},{});Qo.join(", ");var Fl=["","style","shape","extra"],ho=Qe();function vv(r,t,e,n,i){var a=r+"Animation",o=xs(r,n,i)||{},s=ho(t).userDuring;return o.duration>0&&(o.during=s?Ht(OI,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=r),Ft(o,e[a]),o}function _l(r,t,e,n){n=n||{};var i=n.dataIndex,a=n.isInit,o=n.clearStyle,s=e.isAnimationEnabled(),u=ho(r),h=t.style;u.userDuring=t.during;var f={},v={};if(VI(r,t,v),C0("shape",t,v),C0("extra",t,v),!a&&s&&(NI(r,t,f),M0("shape",r,t,f),M0("extra",r,t,f),BI(r,t,h,f)),v.style=h,kI(r,v,o),RI(r,t),s)if(a){var g={};J(Fl,function(m){var _=m?t[m]:t;_&&_.enterFrom&&(m&&(g[m]=g[m]||{}),Ft(m?g[m]:g,_.enterFrom))});var d=vv("enter",r,t,e,i);d.duration>0&&r.animateFrom(g,d)}else EI(r,t,i||0,e,f);v2(r,t),h?r.dirty():r.markRedraw()}function v2(r,t){for(var e=ho(r).leaveToProps,n=0;n<Fl.length;n++){var i=Fl[n],a=i?t[i]:t;a&&a.leaveTo&&(e||(e=ho(r).leaveToProps={}),i&&(e[i]=e[i]||{}),Ft(i?e[i]:e,a.leaveTo))}}function Mu(r,t,e,n){if(r){var i=r.parent,a=ho(r).leaveToProps;if(a){var o=vv("update",r,t,e,0);o.done=function(){i.remove(r),n&&n()},r.animateTo(a,o)}else i.remove(r),n&&n()}}function ha(r){return r==="all"}function kI(r,t,e){var n=t.style;if(!r.isGroup&&n){if(e){r.useStyle({});for(var i=r.animators,a=0;a<i.length;a++){var o=i[a];o.targetName==="style"&&o.changeTarget(r.style)}}r.setStyle(n)}t&&(t.style=null,t&&r.attr(t),t.style=n)}function EI(r,t,e,n,i){if(i){var a=vv("update",r,t,n,e);a.duration>0&&r.animateFrom(i,a)}}function RI(r,t){zt(t,"silent")&&(r.silent=t.silent),zt(t,"ignore")&&(r.ignore=t.ignore),r instanceof ga&&zt(t,"invisible")&&(r.invisible=t.invisible),r instanceof _r&&zt(t,"autoBatch")&&(r.autoBatch=t.autoBatch)}var Zn={},zI={setTransform:function(r,t){return Zn.el[r]=t,this},getTransform:function(r){return Zn.el[r]},setShape:function(r,t){var e=Zn.el,n=e.shape||(e.shape={});return n[r]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(r){var t=Zn.el.shape;if(t)return t[r]},setStyle:function(r,t){var e=Zn.el,n=e.style;return n&&(n[r]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(r){var t=Zn.el.style;if(t)return t[r]},setExtra:function(r,t){var e=Zn.el.extra||(Zn.el.extra={});return e[r]=t,this},getExtra:function(r){var t=Zn.el.extra;if(t)return t[r]}};function OI(){var r=this,t=r.el;if(!!t){var e=ho(t).userDuring,n=r.userDuring;if(e!==n){r.el=r.userDuring=null;return}Zn.el=t,n(zI)}}function M0(r,t,e,n){var i=e[r];if(!!i){var a=t[r],o;if(a){var s=e.transition,u=i.transition;if(u)if(!o&&(o=n[r]={}),ha(u))Ft(o,a);else for(var h=Yr(u),f=0;f<h.length;f++){var v=h[f],g=a[v];o[v]=g}else if(ha(s)||Ye(s,r)>=0){!o&&(o=n[r]={});for(var d=lr(a),f=0;f<d.length;f++){var v=d[f],g=a[v];GI(i[v],g)&&(o[v]=g)}}}}}function C0(r,t,e){var n=t[r];if(!!n)for(var i=e[r]={},a=lr(n),o=0;o<a.length;o++){var s=a[o];i[s]=qw(n[s])}}function NI(r,t,e){for(var n=t.transition,i=ha(n)?Qo:Yr(n||[]),a=0;a<i.length;a++){var o=i[a];if(!(o==="style"||o==="shape"||o==="extra")){var s=r[o];e[o]=s}}}function VI(r,t,e){for(var n=0;n<S0.length;n++){var i=S0[n],a=c2[i],o=t[i];o&&(e[a[0]]=o[0],e[a[1]]=o[1])}for(var n=0;n<Qo.length;n++){var s=Qo[n];t[s]!=null&&(e[s]=t[s])}}function BI(r,t,e,n){if(!!e){var i=r.style,a;if(i){var o=e.transition,s=t.transition;if(o&&!ha(o)){var u=Yr(o);!a&&(a=n.style={});for(var h=0;h<u.length;h++){var f=u[h],v=i[f];a[f]=v}}else if(r.getAnimationStyleProps&&(ha(s)||ha(o)||Ye(s,"style")>=0)){var g=r.getAnimationStyleProps(),d=g?g.style:null;if(d){!a&&(a=n.style={});for(var m=lr(e),h=0;h<m.length;h++){var f=m[h];if(d[f]){var v=i[f];a[f]=v}}}}}}}function GI(r,t){return F1(r)?r!==t:r!=null&&isFinite(r)}var d2=Qe(),FI=["percent","easing","shape","style","extra"];function p2(r){r.stopAnimation("keyframe"),r.attr(d2(r))}function Hl(r,t,e){if(!(!e.isAnimationEnabled()||!t)){if(Ot(t)){J(t,function(s){Hl(r,s,e)});return}var n=t.keyframes,i=t.duration;if(e&&i==null){var a=xs("enter",e,0);i=a&&a.duration}if(!(!n||!i)){var o=d2(r);J(Fl,function(s){if(!(s&&!r[s])){var u;n.sort(function(h,f){return h.percent-f.percent}),J(n,function(h){var f=r.animators,v=s?h[s]:h;if(!!v){var g=lr(v);if(s||(g=Cr(g,function(_){return Ye(FI,_)<0})),!!g.length){u||(u=r.animate(s,t.loop,!0),u.scope="keyframe");for(var d=0;d<f.length;d++)f[d]!==u&&f[d].targetName===u.targetName&&f[d].stopTracks(g);s&&(o[s]=o[s]||{});var m=s?o[s]:o;J(g,function(_){m[_]=((s?r[s]:r)||{})[_]}),u.whenWithKeys(i*h.percent,v,g,h.easing)}}}),u&&u.delay(t.delay||0).duration(i).start(t.easing)}})}}}var ui="emphasis",Mi="normal",dv="blur",pv="select",Ei=[Mi,ui,dv,pv],qh={normal:["itemStyle"],emphasis:[ui,"itemStyle"],blur:[dv,"itemStyle"],select:[pv,"itemStyle"]},Yh={normal:["label"],emphasis:[ui,"label"],blur:[dv,"label"],select:[pv,"label"]},HI=["x","y"],$I="e\0\0",mn={normal:{},emphasis:{},blur:{},select:{}},WI={cartesian2d:MI,geo:AI,single:II,polar:DI,calendar:PI};function Jf(r){return r instanceof _r}function Qf(r){return r instanceof ga}function UI(r,t){t.copyTransform(r),Qf(t)&&Qf(r)&&(t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t.invisible=r.invisible,t.ignore=r.ignore,Jf(t)&&Jf(r)&&t.setShape(r.shape))}var ZI=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this._progressiveEls=null;var o=this._data,s=e.getData(),u=this.group,h=A0(e,s,n,i);o||u.removeAll(),s.diff(o).add(function(v){Xh(i,null,v,h(v,a),e,u,s)}).remove(function(v){var g=o.getItemGraphicEl(v);g&&Mu(g,li(g).option,e)}).update(function(v,g){var d=o.getItemGraphicEl(g);Xh(i,d,v,h(v,a),e,u,s)}).execute();var f=e.get("clip",!0)?Ms(e.coordinateSystem,!1,e):null;f?u.setClipPath(f):u.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(e,n,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,n,i,a,o){var s=n.getData(),u=A0(n,s,i,a),h=this._progressiveEls=[];function f(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var v=e.start;v<e.end;v++){var g=Xh(null,null,v,u(v,o),n,this.group,s);g&&(g.traverse(f),h.push(g))}},t.prototype.eachRendered=function(e){go(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,n,i,a){var o=n.element;if(o==null||i.name===o)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1},t.type="custom",t}(ar),qI=ZI;function gv(r){var t=r.type,e;if(t==="path"){var n=r.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=y2(n);e=Xw(a,null,i,n.layout||"center"),li(e).customPathData=a}else if(t==="image")e=new Jn({}),li(e).customImagePath=r.style.image;else if(t==="text")e=new ur({});else if(t==="group")e=new ee;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var o=$1(t);if(!o){var s="";pr(s)}e=new o}return li(e).customGraphicType=t,e.name=r.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function mv(r,t,e,n,i,a,o){p2(t);var s=i&&i.normal.cfg;s&&t.setTextConfig(s),n&&n.transition==null&&(n.transition=HI);var u=n&&n.style;if(u){if(t.type==="text"){var h=u;zt(h,"textFill")&&(h.fill=h.textFill),zt(h,"textStroke")&&(h.stroke=h.textStroke)}var f=void 0,v=Jf(t)?u.decal:null;r&&v&&(v.dirty=!0,f=Dc(v,r)),u.__decalPattern=f}if(Qf(t)&&u){var f=u.__decalPattern;f&&(u.decal=f)}_l(t,n,a,{dataIndex:e,isInit:o,clearStyle:!0}),Hl(t,n.keyframeAnimation,a)}function g2(r,t,e,n,i){var a=t.isGroup?null:t,o=i&&i[r].cfg;if(a){var s=a.ensureState(r);if(n===!1){var u=a.getState(r);u&&(u.style=null)}else s.style=n||null;o&&(s.textConfig=o),oo(a)}}function YI(r,t,e){if(!r.isGroup){var n=r,i=e.currentZ,a=e.currentZLevel;n.z=i,n.zlevel=a;var o=t.z2;o!=null&&(n.z2=o||0);for(var s=0;s<Ei.length;s++)XI(n,t,Ei[s])}}function XI(r,t,e){var n=e===Mi,i=n?t:$l(t,e),a=i?i.z2:null,o;a!=null&&(o=n?r:r.ensureState(e),o.z2=a||0)}function A0(r,t,e,n){var i=r.get("renderItem"),a=r.coordinateSystem,o={};a&&(o=a.prepareCustoms?a.prepareCustoms(a):WI[a.type](a));for(var s=ve({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:D,style:R,ordinalRawValue:V,styleEmphasis:Z,visual:et,barLayout:it,currentSeriesIndices:ht,font:vt},o.api||{}),u={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:o.coordSys,dataInsideLength:t.count(),encode:jI(r.getData())},h,f,v={},g={},d={},m={},_=0;_<Ei.length;_++){var b=Ei[_];d[b]=r.getModel(qh[b]),m[b]=r.getModel(Yh[b])}function S(st){return st===h?f||(f=t.getItemModel(st)):t.getItemModel(st)}function I(st,mt){return t.hasItemOption?st===h?v[mt]||(v[mt]=S(st).getModel(qh[mt])):S(st).getModel(qh[mt]):d[mt]}function A(st,mt){return t.hasItemOption?st===h?g[mt]||(g[mt]=S(st).getModel(Yh[mt])):S(st).getModel(Yh[mt]):m[mt]}return function(st,mt){return h=st,f=null,v={},g={},i&&i(ve({dataIndexInside:st,dataIndex:t.getRawIndex(st),actionType:mt?mt.type:null},u),s)};function D(st,mt){return mt==null&&(mt=h),t.getStore().get(t.getDimensionIndex(st||0),mt)}function V(st,mt){mt==null&&(mt=h),st=st||0;var lt=t.getDimensionInfo(st);if(!lt){var Mt=t.getDimensionIndex(st);return Mt>=0?t.getStore().get(Mt,mt):void 0}var xt=t.get(lt.name,mt),St=lt&&lt.ordinalMeta;return St?St.categories[xt]:xt}function R(st,mt){mt==null&&(mt=h);var lt=t.getItemVisual(mt,"style"),Mt=lt&&lt.fill,xt=lt&&lt.opacity,St=I(mt,Mi).getItemStyle();Mt!=null&&(St.fill=Mt),xt!=null&&(St.opacity=xt);var Pt={inheritColor:Se(Mt)?Mt:"#000"},Nt=A(mt,Mi),ne=zr(Nt,null,Pt,!1,!0);ne.text=Nt.getShallow("show")?Sr(r.getFormattedLabel(mt,Mi),so(t,mt)):null;var Qt=$d(Nt,Pt,!1);return X(st,St),St=b0(St,ne,Qt),st&&j(St,st),St.legacy=!0,St}function Z(st,mt){mt==null&&(mt=h);var lt=I(mt,ui).getItemStyle(),Mt=A(mt,ui),xt=zr(Mt,null,null,!0,!0);xt.text=Mt.getShallow("show")?mo(r.getFormattedLabel(mt,ui),r.getFormattedLabel(mt,Mi),so(t,mt)):null;var St=$d(Mt,null,!0);return X(st,lt),lt=b0(lt,xt,St),st&&j(lt,st),lt.legacy=!0,lt}function j(st,mt){for(var lt in mt)zt(mt,lt)&&(st[lt]=mt[lt])}function X(st,mt){st&&(st.textFill&&(mt.textFill=st.textFill),st.textPosition&&(mt.textPosition=st.textPosition))}function et(st,mt){if(mt==null&&(mt=h),zt(_0,st)){var lt=t.getItemVisual(mt,"style");return lt?lt[_0[st]]:null}if(zt(xI,st))return t.getItemVisual(mt,st)}function it(st){if(a.type==="cartesian2d"){var mt=a.getBaseAxis();return Yw(ve({axis:mt},st))}}function ht(){return e.getCurrentSeriesIndices()}function vt(st){return H1(st,e)}}function jI(r){var t={};return J(r.dimensions,function(e){var n=r.getDimensionInfo(e);if(!n.isExtraCoord){var i=n.coordDim,a=t[i]=t[i]||[];a[n.coordDimIndex]=r.getDimensionIndex(e)}}),t}function Xh(r,t,e,n,i,a,o){if(!n){a.remove(t);return}var s=yv(r,t,e,n,i,a);return s&&o.setItemGraphicEl(e,s),s&&hr(s,n.focus,n.blurScope,n.emphasisDisabled),s}function yv(r,t,e,n,i,a){var o=-1,s=t;t&&m2(t,n,i)&&(o=Ye(a.childrenRef(),t),t=null);var u=!t,h=t;h?h.clearStates():(h=gv(n),s&&UI(s,h)),n.morph===!1?h.disableMorphing=!0:h.disableMorphing&&(h.disableMorphing=!1),mn.normal.cfg=mn.normal.conOpt=mn.emphasis.cfg=mn.emphasis.conOpt=mn.blur.cfg=mn.blur.conOpt=mn.select.cfg=mn.select.conOpt=null,mn.isLegacy=!1,JI(h,e,n,i,u,mn),KI(h,e,n,i,u),mv(r,h,e,n,mn,i,u),zt(n,"info")&&(li(h).info=n.info);for(var f=0;f<Ei.length;f++){var v=Ei[f];if(v!==Mi){var g=$l(n,v),d=_v(n,g,v);g2(v,h,g,d,mn)}}return YI(h,n,i),n.type==="group"&&QI(r,h,e,n,i),o>=0?a.replaceAt(h,o):a.add(h),h}function m2(r,t,e){var n=li(r),i=t.type,a=t.shape,o=t.style;return e.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&n7(a)&&y2(a)!==n.customPathData||i==="image"&&zt(o,"image")&&o.image!==n.customImagePath}function KI(r,t,e,n,i){var a=e.clipPath;if(a===!1)r&&r.getClipPath()&&r.removeClipPath();else if(a){var o=r.getClipPath();o&&m2(o,a,n)&&(o=null),o||(o=gv(a),r.setClipPath(o)),mv(null,o,t,a,null,n,i)}}function JI(r,t,e,n,i,a){if(!r.isGroup){T0(e,null,a),T0(e,ui,a);var o=a.normal.conOpt,s=a.emphasis.conOpt,u=a.blur.conOpt,h=a.select.conOpt;if(o!=null||s!=null||h!=null||u!=null){var f=r.getTextContent();if(o===!1)f&&r.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},f?f.clearStates():(f=gv(o),r.setTextContent(f)),mv(null,f,t,o,null,n,i);for(var v=o&&o.style,g=0;g<Ei.length;g++){var d=Ei[g];if(d!==Mi){var m=a[d].conOpt;g2(d,f,m,_v(o,m,d),null)}}v?f.dirty():f.markRedraw()}}}}function T0(r,t,e){var n=t?$l(r,t):r,i=t?_v(r,n,ui):r.style,a=r.type,o=n?n.textConfig:null,s=r.textContent,u=s?t?$l(s,t):s:null;if(i&&(e.isLegacy||h2(i,a,!!o,!!u))){e.isLegacy=!0;var h=f2(i,a,!t);!o&&h.textConfig&&(o=h.textConfig),!u&&h.textContent&&(u=h.textContent)}if(!t&&u){var f=u;!f.type&&(f.type="text")}var v=t?e[t]:e.normal;v.cfg=o,v.conOpt=u}function $l(r,t){return t?r?r[t]:null:r}function _v(r,t,e){var n=t&&t.style;return n==null&&e===ui&&r&&(n=r.styleEmphasis),n}function QI(r,t,e,n,i){var a=n.children,o=a?a.length:0,s=n.$mergeChildren,u=s==="byName"||n.diffChildrenByName,h=s===!1;if(!(!o&&!u&&!h)){if(u){e7({api:r,oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,seriesModel:i,group:t});return}h&&t.removeAll();for(var f=0;f<o;f++){var v=a[f],g=t.childAt(f);v?(v.ignore==null&&(v.ignore=!1),yv(r,g,e,v,i,t)):g.ignore=!0}for(var d=t.childCount()-1;d>=f;d--){var m=t.childAt(d);t7(t,m,i)}}}function t7(r,t,e){t&&Mu(t,li(r).option,e)}function e7(r){new Pi(r.oldChildren,r.newChildren,I0,I0,r).add(L0).update(L0).remove(r7).execute()}function I0(r,t){var e=r&&r.name;return e!=null?e:$I+t}function L0(r,t){var e=this.context,n=r!=null?e.newChildren[r]:null,i=t!=null?e.oldChildren[t]:null;yv(e.api,i,e.dataIndex,n,e.seriesModel,e.group)}function r7(r){var t=this.context,e=t.oldChildren[r];e&&Mu(e,li(e).option,t.seriesModel)}function y2(r){return r&&(r.pathData||r.d)}function n7(r){return r&&(zt(r,"pathData")||zt(r,"d"))}function i7(r){r.registerChartView(qI),r.registerSeriesModel(wI)}function a7(r){pe(Ky),pe(gu)}var o7=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var u=s.polar,h=u.getOtherAxis(s),f=h.getExtent(),v=s.dataToCoord(n),g=a.get("type");if(g&&g!=="none"){var d=W1(a),m=l7[g](s,u,v,f);m.style=d,e.graphicKey=m.type,e.pointer=m}var _=a.get(["label","margin"]),b=s7(n,i,a,u,_);jw(e,i,a,o,b)},t}(U1);function s7(r,t,e,n,i){var a=t.axis,o=a.dataToCoord(r),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u=n.getRadiusAxis().getExtent(),h,f,v;if(a.dim==="radius"){var g=xo();vu(g,g,s),pa(g,g,[n.cx,n.cy]),h=Ti([o,-i],g);var d=t.getModel("axisLabel").get("rotate")||0,m=Di.innerTextLayout(s,d*Math.PI/180,-1);f=m.textAlign,v=m.textVerticalAlign}else{var _=u[1];h=n.coordToPoint([_+i,o]);var b=n.cx,S=n.cy;f=Math.abs(h[0]-b)/_<.3?"center":h[0]>b?"left":"right",v=Math.abs(h[1]-S)/_<.3?"middle":h[1]>S?"top":"bottom"}return{position:h,align:f,verticalAlign:v}}var l7={line:function(r,t,e,n){return r.dim==="angle"?{type:"Line",shape:Z1(t.coordToPoint([n[0],e]),t.coordToPoint([n[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(r,t,e,n){var i=Math.max(1,r.getBandWidth()),a=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:Wd(t.cx,t.cy,n[0],n[1],(-e-i/2)*a,(-e+i/2)*a)}:{type:"Sector",shape:Wd(t.cx,t.cy,e-i/2,e+i/2,0,Math.PI*2)}}},u7=o7,h7=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.findAxisModel=function(e){var n,i=this.ecModel;return i.eachComponent(e,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(Pr),f7=h7,xv=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Rr).models[0]},t.type="polarAxis",t}(Pr);An(xv,bs);var c7=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="angleAxis",t}(xv),v7=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="radiusAxis",t}(xv),bv=function(r){_t(t,r);function t(e,n){return r.call(this,"radius",e,n)||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t}(Hn);bv.prototype.dataToRadius=Hn.prototype.dataToCoord;bv.prototype.radiusToData=Hn.prototype.coordToData;var d7=bv,p7=Qe(),wv=function(r){_t(t,r);function t(e,n){return r.call(this,"angle",e,n||[0,360])||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,n=e.getLabelModel(),i=e.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=a[0],u=e.dataToCoord(s+1)-e.dataToCoord(s),h=Math.abs(u),f=Mc(s==null?"":s+"",n.getFont(),"center","top"),v=Math.max(f.height,7),g=v/h;isNaN(g)&&(g=1/0);var d=Math.max(0,Math.floor(g)),m=p7(e.model),_=m.lastAutoInterval,b=m.lastTickCount;return _!=null&&b!=null&&Math.abs(_-d)<=1&&Math.abs(b-o)<=1&&_>d?d=_:(m.lastTickCount=o,m.lastAutoInterval=d),d},t}(Hn);wv.prototype.dataToAngle=Hn.prototype.dataToCoord;wv.prototype.angleToData=Hn.prototype.coordToData;var g7=wv,_2=["radius","angle"],m7=function(){function r(t){this.dimensions=_2,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new d7,this._angleAxis=new g7,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},r.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},r.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},r.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},r.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},r.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);i.inverse?o=s-360:s=o+360;var u=Math.sqrt(e*e+n*n);e/=u,n/=u;for(var h=Math.atan2(-n,e)/Math.PI*180,f=h<o?1:-1;h<o||h>s;)h+=f*360;return[u,h]},r.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI,i=Math.cos(n)*e+this.cx,a=-Math.sin(n)*e+this.cy;return[i,a]},r.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),n=e.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(o,s){var u=o-this.cx,h=s-this.cy,f=u*u+h*h-1e-4,v=this.r,g=this.r0;return f<=v*v&&f>=g*g}}},r.prototype.convertToPixel=function(t,e,n){var i=D0(e);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=D0(e);return i===this?this.pointToData(n):null},r}();function D0(r){var t=r.seriesModel,e=r.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var y7=m7;function _7(r,t,e){var n=t.get("center"),i=e.getWidth(),a=e.getHeight();r.cx=$t(n[0],i),r.cy=$t(n[1],a);var o=r.getRadiusAxis(),s=Math.min(i,a)/2,u=t.get("radius");u==null?u=[0,"100%"]:Ot(u)||(u=[0,u]);var h=[$t(u[0],s),$t(u[1],s)];o.inverse?o.setExtent(h[1],h[0]):o.setExtent(h[0],h[1])}function x7(r,t){var e=this,n=e.getAngleAxis(),i=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),r.eachSeries(function(s){if(s.coordinateSystem===e){var u=s.getData();J(Mf(u,"radius"),function(h){i.scale.unionExtentFromData(u,h)}),J(Mf(u,"angle"),function(h){n.scale.unionExtentFromData(u,h)})}}),ao(n.scale,n.model),ao(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),o=360/n.scale.count();n.inverse?a[1]+=o:a[1]-=o,n.setExtent(a[0],a[1])}}function b7(r){return r.mainType==="angleAxis"}function P0(r,t){var e;if(r.type=t.get("type"),r.scale=hu(t),r.onBand=t.get("boundaryGap")&&r.type==="category",r.inverse=t.get("inverse"),b7(t)){r.inverse=r.inverse!==t.get("clockwise");var n=t.get("startAngle"),i=(e=t.get("endAngle"))!==null&&e!==void 0?e:n+(r.inverse?-360:360);r.setExtent(n,i)}t.axis=r,r.model=t}var w7={dimensions:_2,create:function(r,t){var e=[];return r.eachComponent("polar",function(n,i){var a=new y7(i+"");a.update=x7;var o=a.getRadiusAxis(),s=a.getAngleAxis(),u=n.findAxisModel("radiusAxis"),h=n.findAxisModel("angleAxis");P0(o,u),P0(s,h),_7(a,n,t),e.push(a),n.coordinateSystem=a,a.model=n}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",Rr).models[0];n.coordinateSystem=i.coordinateSystem}}),e}},S7=w7,M7=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function sl(r,t,e){t[1]>t[0]&&(t=t.slice().reverse());var n=r.coordToPoint([t[0],e]),i=r.coordToPoint([t[1],e]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function ll(r){var t=r.getRadiusAxis();return t.inverse?0:1}function k0(r){var t=r[0],e=r[r.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&r.pop()}var C7=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n){if(this.group.removeAll(),!!e.get("show")){var i=e.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),s=i.getTicksCoords(),u=i.getMinorTicksCoords(),h=Lt(i.getViewLabels(),function(f){f=ke(f);var v=i.scale,g=v.type==="ordinal"?v.getRawOrdinalNumber(f.tickValue):f.tickValue;return f.coord=i.dataToCoord(g),f});k0(h),k0(s),J(M7,function(f){e.get([f,"show"])&&(!i.scale.isBlank()||f==="axisLine")&&A7[f](this.group,e,a,s,u,o,h)},this)}},t.type="angleAxis",t}(yo),A7={axisLine:function(r,t,e,n,i,a){var o=t.getModel(["axisLine","lineStyle"]),s=e.getAngleAxis(),u=Math.PI/180,h=s.getExtent(),f=ll(e),v=f?0:1,g,d=Math.abs(h[1]-h[0])===360?"Circle":"Arc";a[v]===0?g=new _o[d]({shape:{cx:e.cx,cy:e.cy,r:a[f],startAngle:-h[0]*u,endAngle:-h[1]*u,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):g=new L1({shape:{cx:e.cx,cy:e.cy,r:a[f],r0:a[v]},style:o.getLineStyle(),z2:1,silent:!0}),g.style.fill=null,r.add(g)},axisTick:function(r,t,e,n,i,a){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),u=a[ll(e)],h=Lt(n,function(f){return new Vn({shape:sl(e,[u,u+s],f.coord)})});r.add(On(h,{style:ve(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,t,e,n,i,a){if(!!i.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),u=(o.get("inside")?-1:1)*s.get("length"),h=a[ll(e)],f=[],v=0;v<i.length;v++)for(var g=0;g<i[v].length;g++)f.push(new Vn({shape:sl(e,[h,h+u],i[v][g].coord)}));r.add(On(f,{style:ve(s.getModel("lineStyle").getLineStyle(),ve(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,t,e,n,i,a,o){var s=t.getCategories(!0),u=t.getModel("axisLabel"),h=u.get("margin"),f=t.get("triggerEvent");J(o,function(v,g){var d=u,m=v.tickValue,_=a[ll(e)],b=e.coordToPoint([_+h,v.coord]),S=e.cx,I=e.cy,A=Math.abs(b[0]-S)/_<.3?"center":b[0]>S?"left":"right",D=Math.abs(b[1]-I)/_<.3?"middle":b[1]>I?"top":"bottom";if(s&&s[m]){var V=s[m];Dr(V)&&V.textStyle&&(d=new fn(V.textStyle,u,u.ecModel))}var R=new ur({silent:Di.isLabelSilent(t),style:zr(d,{x:b[0],y:b[1],fill:d.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:v.formattedLabel,align:A,verticalAlign:D})});if(r.add(R),f){var Z=Di.makeAxisEventDataBase(t);Z.targetType="axisLabel",Z.value=v.rawLabel,Ae(R).eventData=Z}},this)},splitLine:function(r,t,e,n,i,a){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),u=s.get("color"),h=0;u=u instanceof Array?u:[u];for(var f=[],v=0;v<n.length;v++){var g=h++%u.length;f[g]=f[g]||[],f[g].push(new Vn({shape:sl(e,a,n[v].coord)}))}for(var v=0;v<f.length;v++)r.add(On(f[v],{style:ve({stroke:u[v%u.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(r,t,e,n,i,a){if(!!i.length){for(var o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),u=[],h=0;h<i.length;h++)for(var f=0;f<i[h].length;f++)u.push(new Vn({shape:sl(e,a,i[h][f].coord)}));r.add(On(u,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(r,t,e,n,i,a){if(!!n.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),u=s.get("color"),h=0;u=u instanceof Array?u:[u];for(var f=[],v=Math.PI/180,g=-n[0].coord*v,d=Math.min(a[0],a[1]),m=Math.max(a[0],a[1]),_=t.get("clockwise"),b=1,S=n.length;b<=S;b++){var I=b===S?n[0].coord:n[b].coord,A=h++%u.length;f[A]=f[A]||[],f[A].push(new Kn({shape:{cx:e.cx,cy:e.cy,r0:d,r:m,startAngle:g,endAngle:-I*v,clockwise:_},silent:!0})),g=-I*v}for(var b=0;b<f.length;b++)r.add(On(f[b],{style:ve({fill:u[b%u.length]},s.getAreaStyle()),silent:!0}))}}},T7=C7,I7=["axisLine","axisTickLabel","axisName"],L7=["splitLine","splitArea","minorSplitLine"],D7=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n){if(this.group.removeAll(),!!e.get("show")){var i=this._axisGroup,a=this._axisGroup=new ee;this.group.add(a);var o=e.axis,s=o.polar,u=s.getAngleAxis(),h=o.getTicksCoords(),f=o.getMinorTicksCoords(),v=u.getExtent()[0],g=o.getExtent(),d=k7(s,e,v),m=new Di(e,d);J(I7,m.add,m),a.add(m.getGroup()),fu(i,a,e),J(L7,function(_){e.get([_,"show"])&&!o.scale.isBlank()&&P7[_](this.group,e,s,v,g,h,f)},this)}},t.type="radiusAxis",t}(yo),P7={splitLine:function(r,t,e,n,i,a){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),u=s.get("color"),h=0,f=e.getAngleAxis(),v=Math.PI/180,g=f.getExtent(),d=Math.abs(g[1]-g[0])===360?"Circle":"Arc";u=u instanceof Array?u:[u];for(var m=[],_=0;_<a.length;_++){var b=h++%u.length;m[b]=m[b]||[],m[b].push(new _o[d]({shape:{cx:e.cx,cy:e.cy,r:Math.max(a[_].coord,0),startAngle:-g[0]*v,endAngle:-g[1]*v,clockwise:f.inverse}}))}for(var _=0;_<m.length;_++)r.add(On(m[_],{style:ve({stroke:u[_%u.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(r,t,e,n,i,a,o){if(!!o.length){for(var s=t.getModel("minorSplitLine"),u=s.getModel("lineStyle"),h=[],f=0;f<o.length;f++)for(var v=0;v<o[f].length;v++)h.push(new ms({shape:{cx:e.cx,cy:e.cy,r:o[f][v].coord}}));r.add(On(h,{style:ve({fill:null},u.getLineStyle()),silent:!0}))}},splitArea:function(r,t,e,n,i,a){if(!!a.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),u=s.get("color"),h=0;u=u instanceof Array?u:[u];for(var f=[],v=a[0].coord,g=1;g<a.length;g++){var d=h++%u.length;f[d]=f[d]||[],f[d].push(new Kn({shape:{cx:e.cx,cy:e.cy,r0:v,r:a[g].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),v=a[g].coord}for(var g=0;g<f.length;g++)r.add(On(f[g],{style:ve({fill:u[g%u.length]},s.getAreaStyle()),silent:!0}))}}};function k7(r,t,e){return{position:[r.cx,r.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var E7=D7;function x2(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function b2(r,t){return t.dim+r.model.componentIndex}function R7(r,t,e){var n={},i=z7(Cr(t.getSeriesByType(r),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(r,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),s=a.coordinateSystem,u=s.getBaseAxis(),h=b2(s,u),f=x2(a),v=i[h][f],g=v.offset,d=v.width,m=s.getOtherAxis(u),_=a.coordinateSystem.cx,b=a.coordinateSystem.cy,S=a.get("barMinHeight")||0,I=a.get("barMinAngle")||0;n[f]=n[f]||[];for(var A=o.mapDimension(m.dim),D=o.mapDimension(u.dim),V=io(o,A),R=u.dim!=="radius"||!a.get("roundCap",!0),Z=m.dataToCoord(0),j=0,X=o.count();j<X;j++){var et=o.get(A,j),it=o.get(D,j),ht=et>=0?"p":"n",vt=Z;V&&(n[f][it]||(n[f][it]={p:Z,n:Z}),vt=n[f][it][ht]);var st=void 0,mt=void 0,lt=void 0,Mt=void 0;if(m.dim==="radius"){var xt=m.dataToCoord(et)-Z,St=u.dataToCoord(it);Math.abs(xt)<S&&(xt=(xt<0?-1:1)*S),st=vt,mt=vt+xt,lt=St-g,Mt=lt-d,V&&(n[f][it][ht]=mt)}else{var Pt=m.dataToCoord(et,R)-Z,Nt=u.dataToCoord(it);Math.abs(Pt)<I&&(Pt=(Pt<0?-1:1)*I),st=Nt+g,mt=st+d,lt=vt,Mt=vt+Pt,V&&(n[f][it][ht]=Mt)}o.setItemLayout(j,{cx:_,cy:b,r0:st,r:mt,startAngle:-lt*Math.PI/180,endAngle:-Mt*Math.PI/180,clockwise:lt>=Mt})}}})}function z7(r){var t={};J(r,function(n,i){var a=n.getData(),o=n.coordinateSystem,s=o.getBaseAxis(),u=b2(o,s),h=s.getExtent(),f=s.type==="category"?s.getBandWidth():Math.abs(h[1]-h[0])/a.count(),v=t[u]||{bandWidth:f,remainedWidth:f,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},g=v.stacks;t[u]=v;var d=x2(n);g[d]||v.autoWidthCount++,g[d]=g[d]||{width:0,maxWidth:0};var m=$t(n.get("barWidth"),f),_=$t(n.get("barMaxWidth"),f),b=n.get("barGap"),S=n.get("barCategoryGap");m&&!g[d].width&&(m=Math.min(v.remainedWidth,m),g[d].width=m,v.remainedWidth-=m),_&&(g[d].maxWidth=_),b!=null&&(v.gap=b),S!=null&&(v.categoryGap=S)});var e={};return J(t,function(n,i){e[i]={};var a=n.stacks,o=n.bandWidth,s=$t(n.categoryGap,o),u=$t(n.gap,1),h=n.remainedWidth,f=n.autoWidthCount,v=(h-s)/(f+(f-1)*u);v=Math.max(v,0),J(a,function(_,b){var S=_.maxWidth;S&&S<v&&(S=Math.min(S,h),_.width&&(S=Math.min(S,_.width)),h-=S,_.width=S,f--)}),v=(h-s)/(f+(f-1)*u),v=Math.max(v,0);var g=0,d;J(a,function(_,b){_.width||(_.width=v),d=_,g+=_.width*(1+u)}),d&&(g-=d.width*u);var m=-g/2;J(a,function(_,b){e[i][b]=e[i][b]||{offset:m,width:_.width},m+=_.width*(1+u)})}),e}var O7={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},N7={splitNumber:5},V7=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="polar",t}(Hr);function B7(r){pe(gu),yo.registerAxisPointerClass("PolarAxisPointer",u7),r.registerCoordinateSystem("polar",S7),r.registerComponentModel(f7),r.registerComponentView(V7),lo(r,"angle",c7,O7),lo(r,"radius",v7,N7),r.registerComponentView(T7),r.registerComponentView(E7),r.registerLayout(_e(R7,"bar"))}function tc(r,t){t=t||{};var e=r.coordinateSystem,n=r.axis,i={},a=n.position,o=n.orient,s=e.getRect(),u=[s.x,s.x+s.width,s.y,s.y+s.height],h={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};i.position=[o==="vertical"?h.vertical[a]:u[0],o==="horizontal"?h.horizontal[a]:u[3]];var f={horizontal:0,vertical:1};i.rotation=Math.PI/2*f[o];var v={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=v[a],r.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),un(t.labelInside,r.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var g=t.rotate;return g==null&&(g=r.get(["axisLabel","rotate"])),i.labelRotation=a==="top"?-g:g,i.z2=1,i}var G7=["axisLine","axisTickLabel","axisName"],F7=["splitArea","splitLine"],H7=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return t.prototype.render=function(e,n,i,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new ee;var u=tc(e),h=new Di(e,u);J(G7,h.add,h),o.add(this._axisGroup),o.add(h.getGroup()),J(F7,function(f){e.get([f,"show"])&&$7[f](this,this.group,this._axisGroup,e)},this),fu(s,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)},t.prototype.remove=function(){Yy(this)},t.type="singleAxis",t}(yo),$7={splitLine:function(r,t,e,n){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var u=o.get("width"),h=n.coordinateSystem.getRect(),f=i.isHorizontal(),v=[],g=0,d=i.getTicksCoords({tickModel:a}),m=[],_=[],b=0;b<d.length;++b){var S=i.toGlobalCoord(d[b].coord);f?(m[0]=S,m[1]=h.y,_[0]=S,_[1]=h.y+h.height):(m[0]=h.x,m[1]=S,_[0]=h.x+h.width,_[1]=S);var I=new Vn({shape:{x1:m[0],y1:m[1],x2:_[0],y2:_[1]},silent:!0});Af(I.shape,u);var A=g++%s.length;v[A]=v[A]||[],v[A].push(I)}for(var D=o.getLineStyle(["color"]),b=0;b<v.length;++b)t.add(On(v[b],{style:ve({stroke:s[b%s.length]},D),silent:!0}))}},splitArea:function(r,t,e,n){qy(r,e,n,n)}},W7=H7,w2=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Pr);An(w2,bs.prototype);var jh=w2,U7=function(r){_t(t,r);function t(e,n,i,a,o){var s=r.call(this,e,n,i)||this;return s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.pointToData=function(e,n){return this.coordinateSystem.pointToData(e)[0]},t}(Hn),Z7=U7,S2=["single"],q7=function(){function r(t,e,n){this.type="single",this.dimension="single",this.dimensions=S2,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return r.prototype._init=function(t,e,n){var i=this.dimension,a=new Z7(i,hu(t),[0,0],t.get("type"),t.get("position")),o=a.type==="category";a.onBand=o&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},r.prototype.update=function(t,e){t.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();J(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),ao(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(t,e){this._rect=nn({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],a=e.inverse?1:0;e.setExtent(i[a],i[1-a]),this._updateAxisTransform(e,n?t.x:t.y)},r.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(o){return o+e}:function(o){return i-o+e},t.toLocalCoord=a?function(o){return o-e}:function(o){return i-o+e}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},r.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[e.orient==="horizontal"?0:1]))]},r.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),i=[],a=e.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),i[a]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-a]=a===0?n.y+n.height/2:n.x+n.width/2,i},r.prototype.convertToPixel=function(t,e,n){var i=E0(e);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=E0(e);return i===this?this.pointToData(n):null},r}();function E0(r){var t=r.seriesModel,e=r.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function Y7(r,t){var e=[];return r.eachComponent("singleAxis",function(n,i){var a=new q7(n,r,t);a.name="single_"+i,a.resize(n,t),n.coordinateSystem=a,e.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",Rr).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),e}var X7={create:Y7,dimensions:S2},j7=X7,R0=["x","y"],K7=["width","height"],J7=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var s=i.axis,u=s.coordinateSystem,h=Kh(u,1-Wl(s)),f=u.dataToPoint(n)[0],v=a.get("type");if(v&&v!=="none"){var g=W1(a),d=Q7[v](s,f,h);d.style=g,e.graphicKey=d.type,e.pointer=d}var m=tc(i);Kw(n,e,m,i,a,o)},t.prototype.getHandleTransform=function(e,n,i){var a=tc(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=Jw(n.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,i,a){var o=i.axis,s=o.coordinateSystem,u=Wl(o),h=Kh(s,u),f=[e.x,e.y];f[u]+=n[u],f[u]=Math.min(h[1],f[u]),f[u]=Math.max(h[0],f[u]);var v=Kh(s,1-u),g=(v[1]+v[0])/2,d=[g,g];return d[u]=f[u],{x:f[0],y:f[1],rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},t}(U1),Q7={line:function(r,t,e){var n=Z1([t,e[0]],[t,e[1]],Wl(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,t,e){var n=r.getBandWidth(),i=e[1]-e[0];return{type:"Rect",shape:Qw([t-n/2,e[0]],[n,i],Wl(r))}}};function Wl(r){return r.isHorizontal()?0:1}function Kh(r,t){var e=r.getRect();return[e[R0[t]],e[R0[t]]+e[K7[t]]]}var tL=J7,eL=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="single",t}(Hr);function rL(r){pe(gu),yo.registerAxisPointerClass("SingleAxisPointer",tL),r.registerComponentView(eL),r.registerComponentView(W7),r.registerComponentModel(jh),lo(r,"single",jh,jh.defaultOption),r.registerCoordinateSystem("single",j7)}var nL=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,i){var a=Ic(e);r.prototype.init.apply(this,arguments),z0(e,a)},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),z0(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Pr);function z0(r,t){var e=r.cellSize,n;Ot(e)?n=e:n=r.cellSize=[e,e],n.length===1&&(n[1]=n[0]);var i=Lt([0,1],function(a){return tS(t,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});Lc(r,t,{type:"box",ignoreSize:i})}var iL=nL,aL=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group;a.removeAll();var o=e.coordinateSystem,s=o.getRangeInfo(),u=o.getOrient(),h=n.getLocaleModel();this._renderDayRect(e,s,a),this._renderLines(e,s,u,a),this._renderYearText(e,s,u,a),this._renderMonthText(e,h,u,a),this._renderWeekText(e,h,s,u,a)},t.prototype._renderDayRect=function(e,n,i){for(var a=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),u=a.getCellHeight(),h=n.start.time;h<=n.end.time;h=a.getNextNDay(h,1).time){var f=a.dataToRect([h],!1).tl,v=new Ue({shape:{x:f[0],y:f[1],width:s,height:u},cursor:"default",style:o});i.add(v)}},t.prototype._renderLines=function(e,n,i,a){var o=this,s=e.coordinateSystem,u=e.getModel(["splitLine","lineStyle"]).getLineStyle(),h=e.get(["splitLine","show"]),f=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var v=n.start,g=0;v.time<=n.end.time;g++){m(v.formatedDate),g===0&&(v=s.getDateInfo(n.start.y+"-"+n.start.m));var d=v.date;d.setMonth(d.getMonth()+1),v=s.getDateInfo(d)}m(s.getNextNDay(n.end.time,1).formatedDate);function m(_){o._firstDayOfMonth.push(s.getDateInfo(_)),o._firstDayPoints.push(s.dataToRect([_],!1).tl);var b=o._getLinePointsOfOneWeek(e,_,i);o._tlpoints.push(b[0]),o._blpoints.push(b[b.length-1]),h&&o._drawSplitline(b,u,a)}h&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,f,i),u,a),h&&this._drawSplitline(o._getEdgesPoints(o._blpoints,f,i),u,a)},t.prototype._getEdgesPoints=function(e,n,i){var a=[e[0].slice(),e[e.length-1].slice()],o=i==="horizontal"?0:1;return a[0][o]=a[0][o]-n/2,a[1][o]=a[1][o]+n/2,a},t.prototype._drawSplitline=function(e,n,i){var a=new Cn({z2:20,shape:{points:e},style:n});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,n,i){for(var a=e.coordinateSystem,o=a.getDateInfo(n),s=[],u=0;u<7;u++){var h=a.getNextNDay(o.time,u),f=a.dataToRect([h.time],!1);s[2*h.day]=f.tl,s[2*h.day+1]=f[i==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,n){return Se(e)&&e?eS(e,n):we(e)?e(n):n.nameMap},t.prototype._yearTextPositionControl=function(e,n,i,a,o){var s=n[0],u=n[1],h=["center","bottom"];a==="bottom"?(u+=o,h=["center","top"]):a==="left"?s-=o:a==="right"?(s+=o,h=["center","top"]):u-=o;var f=0;return(a==="left"||a==="right")&&(f=Math.PI/2),{rotation:f,x:s,y:u,style:{align:h[0],verticalAlign:h[1]}}},t.prototype._renderYearText=function(e,n,i,a){var o=e.getModel("yearLabel");if(!!o.get("show")){var s=o.get("margin"),u=o.get("position");u||(u=i!=="horizontal"?"top":"left");var h=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],f=(h[0][0]+h[1][0])/2,v=(h[0][1]+h[1][1])/2,g=i==="horizontal"?0:1,d={top:[f,h[g][1]],bottom:[f,h[1-g][1]],left:[h[1-g][0],v],right:[h[g][0],v]},m=n.start.y;+n.end.y>+n.start.y&&(m=m+"-"+n.end.y);var _=o.get("formatter"),b={start:n.start.y,end:n.end.y,nameMap:m},S=this._formatterLabel(_,b),I=new ur({z2:30,style:zr(o,{text:S})});I.attr(this._yearTextPositionControl(I,d[u],i,u,s)),a.add(I)}},t.prototype._monthTextPositionControl=function(e,n,i,a,o){var s="left",u="top",h=e[0],f=e[1];return i==="horizontal"?(f=f+o,n&&(s="center"),a==="start"&&(u="bottom")):(h=h+o,n&&(u="middle"),a==="start"&&(s="right")),{x:h,y:f,align:s,verticalAlign:u}},t.prototype._renderMonthText=function(e,n,i,a){var o=e.getModel("monthLabel");if(!!o.get("show")){var s=o.get("nameMap"),u=o.get("margin"),h=o.get("position"),f=o.get("align"),v=[this._tlpoints,this._blpoints];(!s||Se(s))&&(s&&(n=Ud(s)||n),s=n.get(["time","monthAbbr"])||[]);var g=h==="start"?0:1,d=i==="horizontal"?0:1;u=h==="start"?-u:u;for(var m=f==="center",_=0;_<v[g].length-1;_++){var b=v[g][_].slice(),S=this._firstDayOfMonth[_];if(m){var I=this._firstDayPoints[_];b[d]=(I[d]+v[0][_+1][d])/2}var A=o.get("formatter"),D=s[+S.m-1],V={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:D},R=this._formatterLabel(A,V),Z=new ur({z2:30,style:Ft(zr(o,{text:R}),this._monthTextPositionControl(b,m,i,h,u))});a.add(Z)}}},t.prototype._weekTextPositionControl=function(e,n,i,a,o){var s="center",u="middle",h=e[0],f=e[1],v=i==="start";return n==="horizontal"?(h=h+a+(v?1:-1)*o[0]/2,s=v?"right":"left"):(f=f+a+(v?1:-1)*o[1]/2,u=v?"bottom":"top"),{x:h,y:f,align:s,verticalAlign:u}},t.prototype._renderWeekText=function(e,n,i,a,o){var s=e.getModel("dayLabel");if(!!s.get("show")){var u=e.coordinateSystem,h=s.get("position"),f=s.get("nameMap"),v=s.get("margin"),g=u.getFirstDayOfWeek();if(!f||Se(f)){f&&(n=Ud(f)||n);var d=n.get(["time","dayOfWeekShort"]);f=d||Lt(n.get(["time","dayOfWeekAbbr"]),function(V){return V[0]})}var m=u.getNextNDay(i.end.time,7-i.lweek).time,_=[u.getCellWidth(),u.getCellHeight()];v=$t(v,Math.min(_[1],_[0])),h==="start"&&(m=u.getNextNDay(i.start.time,-(7+i.fweek)).time,v=-v);for(var b=0;b<7;b++){var S=u.getNextNDay(m,b),I=u.dataToRect([S.time],!1).center,A=b;A=Math.abs((b+g)%7);var D=new ur({z2:30,style:Ft(zr(s,{text:f[A]}),this._weekTextPositionControl(I,a,h,v,_))});o.add(D)}}},t.type="calendar",t}(Hr),oL=aL,Jh=864e5,sL=function(){function r(t,e,n){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=t}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(t){t=rS(t);var e=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,a=t.getDate(),o=a<10?"0"+a:""+a,s=t.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:e+"",m:i,d:o,day:s,time:t.getTime(),formatedDate:e+"-"+i+"-"+o,date:t}},r.prototype.getNextNDay=function(t,e){return e=e||0,e===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},r.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[n,7]:[7,n];J([0,1],function(v){f(a,v)&&(o[i[v]]=a[v]*s[v])});var u={width:e.getWidth(),height:e.getHeight()},h=this._rect=nn(o,u);J([0,1],function(v){f(a,v)||(a[v]=h[i[v]]/s[v])});function f(v,g){return v[g]!=null&&v[g]!=="auto"}this._sw=a[0],this._sh=a[1]},r.prototype.dataToPoint=function(t,e){Ot(t)&&(t=t[0]),e==null&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,a=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time<i.end.time+Jh))return[NaN,NaN];var o=n.day,s=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},r.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},r.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},r.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},r.prototype.convertToPixel=function(t,e,n){var i=O0(e);return i===this?i.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=O0(e);return i===this?i.pointToData(n):null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var t=this._model.get("range"),e;if(Ot(t)&&t.length===1&&(t=t[0]),Ot(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);e=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var s=this._getRangeInfo(e);return s.start.time>s.end.time&&e.reverse(),e},r.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;e[0].time>e[1].time&&(n=!0,e.reverse());var i=Math.floor(e[1].time/Jh)-Math.floor(e[0].time/Jh)+1,a=new Date(e[0].time),o=a.getDate(),s=e[1].date.getDate();a.setDate(o+i-1);var u=a.getDate();if(u!==s)for(var h=a.getTime()-e[1].time>0?1:-1;(u=a.getDate())!==s&&(a.getTime()-e[1].time)*h>0;)i-=h,a.setDate(u-h);var f=Math.floor((i+e[0].day+6)/7),v=n?-f+1:f-1;return n&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:f,nthWeek:v,fweek:e[0].day,lweek:e[1].day}},r.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||t===0&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var a=(t-1)*7-i.fweek+e,o=new Date(i.start.time);return o.setDate(+i.start.d+a),this.getDateInfo(o)},r.create=function(t,e){var n=[];return t.eachComponent("calendar",function(i){var a=new r(i);n.push(a),i.coordinateSystem=a}),t.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},r.dimensions=["time","value"],r}();function O0(r){var t=r.calendarModel,e=r.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}var lL=sL;function uL(r){r.registerComponentModel(iL),r.registerComponentView(oL),r.registerCoordinateSystem("calendar",lL)}function hL(r,t){var e=r.existing;if(t.id=r.keyInfo.id,!t.type&&e&&(t.type=e.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:e&&(t.parentId=e.parentId)}t.parentOption=null}function N0(r,t){var e;return J(t,function(n){r[n]!=null&&r[n]!=="auto"&&(e=!0)}),e}function fL(r,t,e){var n=Ft({},e),i=r[t],a=e.$action||"merge";a==="merge"?i?(Be(i,n,!0),Lc(i,n,{ignoreSize:!0}),iS(e,i),ul(e,i),ul(e,i,"shape"),ul(e,i,"style"),ul(e,i,"extra"),e.clipPath=i.clipPath):r[t]=n:a==="replace"?r[t]=n:a==="remove"&&i&&(r[t]=null)}var M2=["transition","enterFrom","leaveTo"],cL=M2.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function ul(r,t,e){if(e&&(!r[e]&&t[e]&&(r[e]={}),r=r[e],t=t[e]),!(!r||!t))for(var n=e?M2:cL,i=0;i<n.length;i++){var a=n[i];r[a]==null&&t[a]!=null&&(r[a]=t[a])}}function vL(r,t){if(!!r&&(r.hv=t.hv=[N0(t,["left","right"]),N0(t,["top","bottom"])],r.type==="group")){var e=r,n=t;e.width==null&&(e.width=n.width=0),e.height==null&&(e.height=n.height=0)}}var dL=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,e,n),this.option.elements=i},t.prototype.optionUpdated=function(e,n){var i=this.option,a=(n?i:e).elements,o=i.elements=n?[]:i.elements,s=[];this._flatten(a,s,null);var u=nS(o,s,"normalMerge"),h=this._elOptionsToUpdate=[];J(u,function(f,v){var g=f.newOption;!g||(h.push(g),hL(f,g),fL(o,v,g),vL(o[v],g))},this),i.elements=Cr(o,function(f){return f&&delete f.$action,f!=null})},t.prototype._flatten=function(e,n,i){J(e,function(a){if(!!a){i&&(a.parentOption=i),n.push(a);var o=a.children;o&&o.length&&this._flatten(o,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(Pr),V0={path:null,compoundPath:null,group:ee,image:Jn,text:ur},_n=Qe(),pL=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._elMap=de()},t.prototype.render=function(e,n,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var n=e.useElOptionsToUpdate();if(!!n){var i=this._elMap,a=this.group,o=e.get("z"),s=e.get("zlevel");J(n,function(u){var h=si(u.id,null),f=h!=null?i.get(h):null,v=si(u.parentId,null),g=v!=null?i.get(v):a,d=u.type,m=u.style;d==="text"&&m&&u.hv&&u.hv[1]&&(m.textVerticalAlign=m.textBaseline=m.verticalAlign=m.align=null);var _=u.textContent,b=u.textConfig;if(m&&h2(m,d,!!b,!!_)){var S=f2(m,d,!0);!b&&S.textConfig&&(b=u.textConfig=S.textConfig),!_&&S.textContent&&(_=S.textContent)}var I=gL(u),A=u.$action||"merge",D=A==="merge",V=A==="replace";if(D){var R=!f,Z=f;R?Z=B0(h,g,u.type,i):(Z&&(_n(Z).isNew=!1),p2(Z)),Z&&(_l(Z,I,e,{isInit:R}),G0(Z,u,o,s))}else if(V){xl(f,u,i,e);var j=B0(h,g,u.type,i);j&&(_l(j,I,e,{isInit:!0}),G0(j,u,o,s))}else A==="remove"&&(v2(f,u),xl(f,u,i,e));var X=i.get(h);if(X&&_)if(D){var et=X.getTextContent();et?et.attr(_):X.setTextContent(new ur(_))}else V&&X.setTextContent(new ur(_));if(X){var it=u.clipPath;if(it){var ht=it.type,vt=void 0,R=!1;if(D){var st=X.getClipPath();R=!st||_n(st).type!==ht,vt=R?ec(ht):st}else V&&(R=!0,vt=ec(ht));X.setClipPath(vt),_l(vt,it,e,{isInit:R}),Hl(vt,it.keyframeAnimation,e)}var mt=_n(X);X.setTextConfig(b),mt.option=u,mL(X,e,u),Pc({el:X,componentModel:e,itemName:X.name,itemTooltipOption:u.tooltip}),Hl(X,u.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,n){for(var i=e.option.elements,a=this.group,o=this._elMap,s=n.getWidth(),u=n.getHeight(),h=["x","y"],f=0;f<i.length;f++){var v=i[f],g=si(v.id,null),d=g!=null?o.get(g):null;if(!(!d||!d.isGroup)){var m=d.parent,_=m===a,b=_n(d),S=_n(m);b.width=$t(b.option.width,_?s:S.width)||0,b.height=$t(b.option.height,_?u:S.height)||0}}for(var f=i.length-1;f>=0;f--){var v=i[f],g=si(v.id,null),d=g!=null?o.get(g):null;if(!!d){var m=d.parent,S=_n(m),I=m===a?{width:s,height:u}:{width:S.width,height:S.height},A={},D=Ec(d,v,I,null,{hv:v.hv,boundingMode:v.bounding},A);if(!_n(d).isNew&&D){for(var V=v.transition,R={},Z=0;Z<h.length;Z++){var j=h[Z],X=A[j];V&&(ha(V)||Ye(V,j)>=0)?R[j]=X:d[j]=X}Ee(d,R,e,0)}else d.attr(A)}}},t.prototype._clear=function(){var e=this,n=this._elMap;n.each(function(i){xl(i,_n(i).option,n,e._lastGraphicModel)}),this._elMap=de()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Hr);function ec(r){var t=zt(V0,r)?V0[r]:$1(r),e=new t({});return _n(e).type=r,e}function B0(r,t,e,n){var i=ec(e);return t.add(i),n.set(r,i),_n(i).id=r,_n(i).isNew=!0,i}function xl(r,t,e,n){var i=r&&r.parent;i&&(r.type==="group"&&r.traverse(function(a){xl(a,t,e,n)}),Mu(r,t,n),e.removeKey(_n(r).id))}function G0(r,t,e,n){r.isGroup||J([["cursor",ga.prototype.cursor],["zlevel",n||0],["z",e||0],["z2",0]],function(i){var a=i[0];zt(t,a)?r[a]=Sr(t[a],i[1]):r[a]==null&&(r[a]=i[1])}),J(lr(t),function(i){if(i.indexOf("on")===0){var a=t[i];r[i]=we(a)?a:null}}),zt(t,"draggable")&&(r.draggable=t.draggable),t.name!=null&&(r.name=t.name),t.id!=null&&(r.id=t.id)}function gL(r){return r=Ft({},r),J(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(aS),function(t){delete r[t]}),r}function mL(r,t,e){var n=Ae(r).eventData;!r.silent&&!r.ignore&&!n&&(n=Ae(r).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:r.name}),n&&(n.info=e.info)}function yL(r){r.registerComponentModel(dL),r.registerComponentView(pL),r.registerPreprocessor(function(t){var e=t.graphic;Ot(e)?!e[0]||!e[0].elements?t.graphic=[{elements:e}]:t.graphic=[t.graphic[0]]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}var F0=["x","y","radius","angle","single"],_L=["cartesian2d","polar","singleAxis"];function xL(r){var t=r.get("coordinateSystem");return Ye(_L,t)>=0}function Ci(r){return r+"Axis"}function bL(r,t){var e=de(),n=[],i=de();r.eachComponent({mainType:"dataZoom",query:t},function(f){i.get(f.uid)||s(f)});var a;do a=!1,r.eachComponent("dataZoom",o);while(a);function o(f){!i.get(f.uid)&&u(f)&&(s(f),a=!0)}function s(f){i.set(f.uid,!0),n.push(f),h(f)}function u(f){var v=!1;return f.eachTargetAxis(function(g,d){var m=e.get(g);m&&m[d]&&(v=!0)}),v}function h(f){f.eachTargetAxis(function(v,g){(e.get(v)||e.set(v,[]))[g]=!0})}return n}function C2(r){var t=r.ecModel,e={infoList:[],infoMap:de()};return r.eachTargetAxis(function(n,i){var a=t.getComponent(Ci(n),i);if(!!a){var o=a.getCoordSysModel();if(!!o){var s=o.uid,u=e.infoMap.get(s);u||(u={model:o,axisModels:[]},e.infoList.push(u),e.infoMap.set(s,u)),u.axisModels.push(a)}}}),e}var Qh=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r}(),wL=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,n,i){var a=H0(e);this.settledOption=a,this.mergeDefaultAndTheme(e,i),this._doInit(a)},t.prototype.mergeOption=function(e){var n=H0(e);Be(this.option,e,!0),Be(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;J([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=de(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return J(F0,function(i){var a=this.getReferringComponents(Ci(i),oS);if(!!a.specified){n=!0;var o=new Qh;J(a.models,function(s){o.add(s.componentIndex)}),e.set(i,o)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var i=this.ecModel,a=!0;if(a){var o=n==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});u(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(f){return f.get("orient",!0)===n}});u(s,"single")}function u(h,f){var v=h[0];if(!!v){var g=new Qh;if(g.add(v.componentIndex),e.set(f,g),a=!1,f==="x"||f==="y"){var d=v.getReferringComponents("grid",Rr).models[0];d&&J(h,function(m){v.componentIndex!==m.componentIndex&&d===m.getReferringComponents("grid",Rr).models[0]&&g.add(m.componentIndex)})}}}a&&J(F0,function(h){if(!!a){var f=i.findComponents({mainType:Ci(h),filter:function(g){return g.get("type",!0)==="category"}});if(f[0]){var v=new Qh;v.add(f[0].componentIndex),e.set(h,v),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,i=this.get("rangeMode");J([["start","startValue"],["end","endValue"]],function(a,o){var s=e[a[0]]!=null,u=e[a[1]]!=null;s&&!u?n[o]="percent":!s&&u?n[o]="value":i?n[o]=i[o]:s&&(n[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,i){e==null&&(e=this.ecModel.getComponent(Ci(n),i))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(i,a){J(i.indexList,function(o){e.call(n,a,o)})})},t.prototype.getAxisProxy=function(e,n){var i=this.getAxisModel(e,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[n])return this.ecModel.getComponent(Ci(e),n)},t.prototype.setRawRange=function(e){var n=this.option,i=this.settledOption;J([["start","startValue"],["end","endValue"]],function(a){(e[a[0]]!=null||e[a[1]]!=null)&&(n[a[0]]=i[a[0]]=e[a[0]],n[a[1]]=i[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;J(["start","startValue","end","endValue"],function(i){n[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(e==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(e,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),u=0;u<s.indexList.length;u++){var h=this.getAxisProxy(o,s.indexList[u]);if(h.hostedBy(this))return h;n||(n=h)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Pr);function H0(r){var t={};return J(["start","end","startValue","endValue","throttle"],function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}),t}var ls=wL,SL=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(ls),ML=SL,CL=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.dataZoomModel=e,this.ecModel=n,this.api=i},t.type="dataZoom",t}(Hr),Sv=CL,AL=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(Sv),TL=AL,Wa=J,$0=wn,IL=function(){function r(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(xL(e)){var n=Ci(this._dimName),i=e.getReferringComponents(n,Rr).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return ke(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var e=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],u=[],h;Wa(["start","end"],function(g,d){var m=t[g],_=t[g+"Value"];a[d]==="percent"?(m==null&&(m=o[d]),_=i.parse(He(m,o,e))):(h=!0,_=_==null?e[d]:i.parse(_),m=He(_,e,o)),u[d]=_==null||isNaN(_)?e[d]:_,s[d]=m==null||isNaN(m)?o[d]:m}),$0(u),$0(s);var f=this._minMaxSpan;h?v(u,s,e,o,!1):v(s,u,o,e,!0);function v(g,d,m,_,b){var S=b?"Span":"ValueSpan";Ma(0,g,m,"all",f["min"+S],f["max"+S]);for(var I=0;I<2;I++)d[I]=He(g[I],m,_,!0),b&&(d[I]=i.parse(d[I]))}return{valueWindow:u,percentWindow:s}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=LL(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow;if(a==="none")return;Wa(i,function(u){var h=u.getData(),f=h.mapDimensionsAll(n);if(!!f.length){if(a==="weakFilter"){var v=h.getStore(),g=Lt(f,function(d){return h.getDimensionIndex(d)},h);h.filterSelf(function(d){for(var m,_,b,S=0;S<f.length;S++){var I=v.get(g[S],d),A=!isNaN(I),D=I<o[0],V=I>o[1];if(A&&!D&&!V)return!0;A&&(b=!0),D&&(m=!0),V&&(_=!0)}return b&&m&&_})}else Wa(f,function(d){if(a==="empty")u.setData(h=h.map(d,function(_){return s(_)?_:NaN}));else{var m={};m[d]=o,h.selectRange(m)}});Wa(f,function(d){h.setApproximateExtent(o,d)})}});function s(u){return u>=o[0]&&u<=o[1]}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;Wa(["min","max"],function(i){var a=e.get(i+"Span"),o=e.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=He(n[0]+o,n,[0,100],!0):a!=null&&(o=He(a,[0,100],n,!0)-n[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=o},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(!!e){var i=_1(n,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;e[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),e[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},r}();function LL(r,t,e){var n=[1/0,-1/0];Wa(e,function(o){sS(n,o.getData(),t)});var i=r.getAxisModel(),a=lS(i.axis.scale,i,n).calculate();return[a.min,a.max]}var DL=IL,PL={getTargetSeries:function(r){function t(i){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var u=r.getComponent(Ci(o),s);i(o,s,u,a)})})}t(function(i,a,o,s){o.__dzAxisProxy=null});var e=[];t(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new DL(i,a,s,r),e.push(o.__dzAxisProxy))});var n=de();return J(e,function(i){J(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(r,t){r.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).reset(e)}),e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).filterData(e,t)})}),r.eachComponent("dataZoom",function(e){var n=e.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}},kL=PL;function EL(r){r.registerAction("dataZoom",function(t,e){var n=bL(e,t);J(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var W0=!1;function Mv(r){W0||(W0=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,kL),EL(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function RL(r){r.registerComponentModel(ML),r.registerComponentView(TL),Mv(r)}var bn=function(){function r(){}return r}(),A2={};function Ua(r,t){A2[r]=t}function T2(r){return A2[r]}var zL=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;J(this.option.feature,function(n,i){var a=T2(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),Be(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Pr),OL=zL,NL=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){var o=this.group;if(o.removeAll(),!e.get("show"))return;var s=+e.get("itemSize"),u=e.get("orient")==="vertical",h=e.get("feature")||{},f=this._features||(this._features={}),v=[];J(h,function(m,_){v.push(_)}),new Pi(this._featureNames||[],v).add(g).update(g).remove(_e(g,null)).execute(),this._featureNames=v;function g(m,_){var b=v[m],S=v[_],I=h[b],A=new fn(I,e,e.ecModel),D;if(a&&a.newTitle!=null&&a.featureName===b&&(I.title=a.newTitle),b&&!S){if(VL(b))D={onclick:A.option.onclick,featureName:b};else{var V=T2(b);if(!V)return;D=new V}f[b]=D}else if(D=f[S],!D)return;D.uid=k1("toolbox-feature"),D.model=A,D.ecModel=n,D.api=i;var R=D instanceof bn;if(!b&&S){R&&D.dispose&&D.dispose(n,i);return}if(!A.get("show")||R&&D.unusable){R&&D.remove&&D.remove(n,i);return}d(A,D,b),A.setIconStatus=function(Z,j){var X=this.option,et=this.iconPaths;X.iconStatus=X.iconStatus||{},X.iconStatus[Z]=j,et[Z]&&(j==="emphasis"?eo:ro)(et[Z])},D instanceof bn&&D.render&&D.render(A,n,i,a)}function d(m,_,b){var S=m.getModel("iconStyle"),I=m.getModel(["emphasis","iconStyle"]),A=_ instanceof bn&&_.getIcons?_.getIcons():m.get("icon"),D=m.get("title")||{},V,R;Se(A)?(V={},V[b]=A):V=A,Se(D)?(R={},R[b]=D):R=D;var Z=m.iconPaths={};J(V,function(j,X){var et=q1(j,{},{x:-s/2,y:-s/2,width:s,height:s});et.setStyle(S.getItemStyle());var it=et.ensureState("emphasis");it.style=I.getItemStyle();var ht=new ur({style:{text:R[X],align:I.get("textAlign"),borderRadius:I.get("textBorderRadius"),padding:I.get("textPadding"),fill:null,font:H1({fontStyle:I.get("textFontStyle"),fontFamily:I.get("textFontFamily"),fontSize:I.get("textFontSize"),fontWeight:I.get("textFontWeight")},n)},ignore:!0});et.setTextContent(ht),Pc({el:et,componentModel:e,itemName:X,formatterParamsExtra:{title:R[X]}}),et.__title=R[X],et.on("mouseover",function(){var vt=I.getItemStyle(),st=u?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";ht.setStyle({fill:I.get("textFill")||vt.fill||vt.stroke||"#000",backgroundColor:I.get("textBackgroundColor")}),et.setTextConfig({position:I.get("textPosition")||st}),ht.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){m.get(["iconStatus",X])!=="emphasis"&&i.leaveEmphasis(this),ht.hide()}),(m.get(["iconStatus",X])==="emphasis"?eo:ro)(et),o.add(et),et.on("click",Ht(_.onclick,_,n,i,X)),Z[X]=et})}uS(o,e,i),o.add(hS(o.getBoundingRect(),e)),u||o.eachChild(function(m){var _=m.__title,b=m.ensureState("emphasis"),S=b.textConfig||(b.textConfig={}),I=m.getTextContent(),A=I&&I.ensureState("emphasis");if(A&&!we(A)&&_){var D=A.style||(A.style={}),V=Mc(_,ur.makeFont(D)),R=m.x+o.x,Z=m.y+o.y+s,j=!1;Z+V.height>i.getHeight()&&(S.position="top",j=!0);var X=j?-5-V.height:s+10;R+V.width/2>i.getWidth()?(S.position=["100%",X],D.align="right"):R-V.width/2<0&&(S.position=[0,X],D.align="left")}})},t.prototype.updateView=function(e,n,i,a){J(this._features,function(o){o instanceof bn&&o.updateView&&o.updateView(o.model,n,i,a)})},t.prototype.remove=function(e,n){J(this._features,function(i){i instanceof bn&&i.remove&&i.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){J(this._features,function(i){i instanceof bn&&i.dispose&&i.dispose(e,n)})},t.type="toolbox",t}(Hr);function VL(r){return r.indexOf("my")===0}var BL=NL,GL=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){var i=this.model,a=i.get("name")||e.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",u=n.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),h=Y1.browser;if(we(MouseEvent)&&(h.newEdge||!h.ie&&!h.edge)){var f=document.createElement("a");f.download=a+"."+s,f.target="_blank",f.href=u;var v=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});f.dispatchEvent(v)}else if(window.navigator.msSaveOrOpenBlob||o){var g=u.split(","),d=g[0].indexOf("base64")>-1,m=o?decodeURIComponent(g[1]):g[1];d&&(m=window.atob(m));var _=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var b=m.length,S=new Uint8Array(b);b--;)S[b]=m.charCodeAt(b);var I=new Blob([S]);window.navigator.msSaveOrOpenBlob(I,_)}else{var A=document.createElement("iframe");document.body.appendChild(A);var D=A.contentWindow,V=D.document;V.open("image/svg+xml","replace"),V.write(m),V.close(),D.focus(),V.execCommand("SaveAs",!0,_),document.body.removeChild(A)}}else{var R=i.get("lang"),Z='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(R&&R[0]||"")+'" /></body>',j=window.open();j.document.write(Z),j.document.title=a}},t.getDefaultOption=function(e){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t}(bn),FL=GL,U0="__ec_magicType_stack__",HL=[["line","bar"],["stack"]],$L=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),i={};return J(e.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},t.getDefaultOption=function(e){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(e,n,i){var a=this.model,o=a.get(["seriesIndex",i]);if(!!Z0[i]){var s={series:[]},u=function(v){var g=v.subType,d=v.id,m=Z0[i](g,d,v,a);m&&(ve(m,v.option),s.series.push(m));var _=v.coordinateSystem;if(_&&_.type==="cartesian2d"&&(i==="line"||i==="bar")){var b=_.getAxesByScale("ordinal")[0];if(b){var S=b.dim,I=S+"Axis",A=v.getReferringComponents(I,Rr).models[0],D=A.componentIndex;s[I]=s[I]||[];for(var V=0;V<=D;V++)s[I][D]=s[I][D]||{};s[I][D].boundaryGap=i==="bar"}}};J(HL,function(v){Ye(v,i)>=0&&J(v,function(g){a.setIconStatus(g,"normal")})}),a.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},u);var h,f=i;i==="stack"&&(h=Be({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(f="tiled")),n.dispatchAction({type:"changeMagicType",currentType:f,newOption:s,newTitle:h,featureName:"magicType"})}},t}(bn),Z0={line:function(r,t,e,n){if(r==="bar")return Be({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,t,e,n){if(r==="line")return Be({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,t,e,n){var i=e.get("stack")===U0;if(r==="line"||r==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),Be({id:t,stack:i?"":U0},n.get(["option","stack"])||{},!0)}};cu({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,t){t.mergeOption(r.newOption)});var WL=$L,Cu=new Array(60).join("-"),fo="	";function UL(r){var t={},e=[],n=[];return r.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(i)}else e.push(i)}else e.push(i)}),{seriesGroupByCategoryAxis:t,other:e,meta:n}}function ZL(r){var t=[];return J(r,function(e,n){var i=e.categoryAxis,a=e.valueAxis,o=a.dim,s=[" "].concat(Lt(e.series,function(d){return d.name})),u=[i.model.getCategories()];J(e.series,function(d){var m=d.getRawData();u.push(d.getRawData().mapArray(m.mapDimension(o),function(_){return _}))});for(var h=[s.join(fo)],f=0;f<u[0].length;f++){for(var v=[],g=0;g<u.length;g++)v.push(u[g][f]);h.push(v.join(fo))}t.push(h.join(`
`))}),t.join(`

`+Cu+`

`)}function qL(r){return Lt(r,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=e.getName(o),u=0;u<a-1;u++)i[u]=arguments[u];n.push((s?s+fo:"")+i.join(fo))}),n.join(`
`)}).join(`

`+Cu+`

`)}function YL(r){var t=UL(r);return{value:Cr([ZL(t.seriesGroupByCategoryAxis),qL(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+Cu+`

`),meta:t.meta}}function Ul(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function XL(r){var t=r.slice(0,r.indexOf(`
`));if(t.indexOf(fo)>=0)return!0}var rc=new RegExp("["+fo+"]+","g");function jL(r){for(var t=r.split(/\n+/g),e=Ul(t.shift()).split(rc),n=[],i=Lt(e,function(u){return{name:u,data:[]}}),a=0;a<t.length;a++){var o=Ul(t[a]).split(rc);n.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:n}}function KL(r){for(var t=r.split(/\n+/g),e=Ul(t.shift()),n=[],i=0;i<t.length;i++){var a=Ul(t[i]);if(!!a){var o=a.split(rc),s="",u=void 0,h=!1;isNaN(o[0])?(h=!0,s=o[0],o=o.slice(1),n[i]={name:s,value:[]},u=n[i].value):u=n[i]=[];for(var f=0;f<o.length;f++)u.push(+o[f]);u.length===1&&(h?n[i].value=u[0]:n[i]=u[0])}}return{name:e,data:n}}function JL(r,t){var e=r.split(new RegExp(`
*`+Cu+`
*`,"g")),n={series:[]};return J(e,function(i,a){if(XL(i)){var o=jL(i),s=t[a],u=s.axisDim+"Axis";s&&(n[u]=n[u]||[],n[u][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=KL(i);n.series.push(o)}}),n}var QL=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=a.get("lang")||[];s.innerHTML=u[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var h=document.createElement("div"),f=document.createElement("textarea");h.style.cssText="overflow:auto";var v=a.get("optionToContent"),g=a.get("contentToOption"),d=YL(e);if(we(v)){var m=v(n.getOption());Se(m)?h.innerHTML=m:fS(m)&&h.appendChild(m)}else{f.readOnly=a.get("readOnly");var _=f.style;_.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",_.color=a.get("textColor"),_.borderColor=a.get("textareaBorderColor"),_.backgroundColor=a.get("textareaColor"),f.value=d.value,h.appendChild(f)}var b=d.meta,S=document.createElement("div");S.style.cssText="position:absolute;bottom:5px;left:0;right:0";var I="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",A=document.createElement("div"),D=document.createElement("div");I+=";background-color:"+a.get("buttonColor"),I+=";color:"+a.get("buttonTextColor");var V=this;function R(){i.removeChild(o),V._dom=null}Zd(A,"click",R),Zd(D,"click",function(){if(g==null&&v!=null||g!=null&&v==null){R();return}var Z;try{we(g)?Z=g(h,n.getOption()):Z=JL(f.value,b)}catch(j){throw R(),new Error("Data view format error "+j)}Z&&n.dispatchAction({type:"changeDataView",newOption:Z}),R()}),A.innerHTML=u[1],D.innerHTML=u[2],D.style.cssText=A.style.cssText=I,!a.get("readOnly")&&S.appendChild(D),S.appendChild(A),o.appendChild(s),o.appendChild(h),o.appendChild(S),h.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},t}(bn);function tD(r,t){return Lt(r,function(e,n){var i=t&&t[n];if(Dr(i)&&!Ot(i)){var a=Dr(e)&&!Ot(e);a||(e={value:e});var o=i.name!=null&&e.name==null;return e=ve(e,i),o&&delete e.name,e}else return e})}cu({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,t){var e=[];J(r.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)e.push(Ft({type:"scatter"},n));else{var a=i.get("data");e.push({name:n.name,data:tD(n.data,a)})}}),t.mergeOption(ve({series:e},r.newOption))});var eD=QL,I2=J,L2=Qe();function rD(r,t){var e=Cv(r);I2(t,function(n,i){for(var a=e.length-1;a>=0;a--){var o=e[a];if(o[i])break}if(a<0){var s=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var u=s.getPercentRange();e[0][i]={dataZoomId:i,start:u[0],end:u[1]}}}}),e.push(t)}function nD(r){var t=Cv(r),e=t[t.length-1];t.length>1&&t.pop();var n={};return I2(e,function(i,a){for(var o=t.length-1;o>=0;o--)if(i=t[o][a],i){n[a]=i;break}}),n}function iD(r){L2(r).snapshots=null}function aD(r){return Cv(r).length}function Cv(r){var t=L2(r);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var oD=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){iD(e),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return n},t}(bn);cu({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,t){t.resetOption("recreate")});var sD=oD,lD=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],uD=function(){function r(t,e,n){var i=this;this._targetInfoList=[];var a=q0(e,t);J(hD,function(o,s){(!n||!n.include||Ye(n.include,s)>=0)&&o(a,i._targetInfoList)})}return r.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var o=tf[n.brushType](0,a,i);n.__rangeOffset={offset:K0[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},r.prototype.matchOutputRanges=function(t,e,n){J(t,function(i){var a=this.findTargetInfo(i,e);a&&a!==!0&&J(a.coordSyses,function(o){var s=tf[i.brushType](1,o,i.range,!0);n(i,s.values,o,e)})},this)},r.prototype.setInputRanges=function(t,e){J(t,function(n){var i=this.findTargetInfo(n,e);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=tf[n.brushType](0,i.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?K0[n.brushType](a.values,o.offset,fD(a.xyMinMax,o.xyMinMax)):a.values}},this)},r.prototype.makePanelOpts=function(t,e){return Lt(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:W_(i),isTargetByCursor:Z_(i,t,n.coordSysModel),getLinearBrushOtherExtent:U_(i)}})},r.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return i===!0||i&&Ye(i.coordSyses,e.coordinateSystem)>=0},r.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=q0(e,t),a=0;a<n.length;a++){var o=n[a],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var u=0;u<Y0.length;u++)if(Y0[u](i,o))return o}return!0},r}();function nc(r){return r[0]>r[1]&&r.reverse(),r}function q0(r,t){return X1(r,t,{includeMainTypes:lD})}var hD={grid:function(r,t){var e=r.xAxisModels,n=r.yAxisModels,i=r.gridModels,a=de(),o={},s={};!e&&!n&&!i||(J(e,function(u){var h=u.axis.grid.model;a.set(h.id,h),o[h.id]=!0}),J(n,function(u){var h=u.axis.grid.model;a.set(h.id,h),s[h.id]=!0}),J(i,function(u){a.set(u.id,u),o[u.id]=!0,s[u.id]=!0}),a.each(function(u){var h=u.coordinateSystem,f=[];J(h.getCartesians(),function(v,g){(Ye(e,v.getAxis("x").model)>=0||Ye(n,v.getAxis("y").model)>=0)&&f.push(v)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:f[0],coordSyses:f,getPanelRect:X0.grid,xAxisDeclared:o[u.id],yAxisDeclared:s[u.id]})}))},geo:function(r,t){J(r.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:X0.geo})})}},Y0=[function(r,t){var e=r.xAxisModel,n=r.yAxisModel,i=r.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(r,t){var e=r.geoModel;return e&&e===t.geoModel}],X0={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,t=r.getBoundingRect().clone();return t.applyTransform(Ka(r)),t}},tf={lineX:_e(j0,0),lineY:_e(j0,1),rect:function(r,t,e,n){var i=r?t.pointToData([e[0][0],e[1][0]],n):t.dataToPoint([e[0][0],e[1][0]],n),a=r?t.pointToData([e[0][1],e[1][1]],n):t.dataToPoint([e[0][1],e[1][1]],n),o=[nc([i[0],a[0]]),nc([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(r,t,e,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=Lt(e,function(o){var s=r?t.pointToData(o,n):t.dataToPoint(o,n);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function j0(r,t,e,n){var i=e.getAxis(["x","y"][r]),a=nc(Lt([0,1],function(s){return t?i.coordToData(i.toLocalCoord(n[s]),!0):i.toGlobalCoord(i.dataToCoord(n[s]))})),o=[];return o[r]=a,o[1-r]=[NaN,NaN],{values:a,xyMinMax:o}}var K0={lineX:_e(J0,0),lineY:_e(J0,1),rect:function(r,t,e){return[[r[0][0]-e[0]*t[0][0],r[0][1]-e[0]*t[0][1]],[r[1][0]-e[1]*t[1][0],r[1][1]-e[1]*t[1][1]]]},polygon:function(r,t,e){return Lt(r,function(n,i){return[n[0]-e[0]*t[i][0],n[1]-e[1]*t[i][1]]})}};function J0(r,t,e,n){return[t[0]-n[r]*e[0],t[1]-n[r]*e[1]]}function fD(r,t){var e=Q0(r),n=Q0(t),i=[e[0]/n[0],e[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function Q0(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var Av=uD,ic=J,cD=vS("toolbox-dataZoom_"),vD=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){this._brushController||(this._brushController=new hv(i.getZr()),this._brushController.on("brush",Ht(this._onBrush,this)).mount()),gD(e,n,this,a,i),pD(e,n)},t.prototype.onclick=function(e,n,i){dD[i].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var n=e.areas;if(!e.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new Av(Tv(this.model),a,{include:["grid"]});o.matchOutputRanges(n,a,function(h,f,v){if(v.type==="cartesian2d"){var g=h.brushType;g==="rect"?(s("x",v,f[0]),s("y",v,f[1])):s({lineX:"x",lineY:"y"}[g],v,f)}}),rD(a,i),this._dispatchZoomAction(i);function s(h,f,v){var g=f.getAxis(h),d=g.model,m=u(h,d,a),_=m.findRepresentativeAxisProxy(d).getMinMaxSpan();(_.minValueSpan!=null||_.maxValueSpan!=null)&&(v=Ma(0,v.slice(),g.scale.getExtent(),0,_.minValueSpan,_.maxValueSpan)),m&&(i[m.id]={dataZoomId:m.id,startValue:v[0],endValue:v[1]})}function u(h,f,v){var g;return v.eachComponent({mainType:"dataZoom",subType:"select"},function(d){var m=d.getAxisModel(h,f.componentIndex);m&&(g=d)}),g}},t.prototype._dispatchZoomAction=function(e){var n=[];ic(e,function(i,a){n.push(ke(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},t}(bn),dD={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(nD(this.ecModel))}};function Tv(r){var t={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function pD(r,t){r.setIconStatus("back",aD(t)>1?"emphasis":"normal")}function gD(r,t,e,n,i){var a=e._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),e._isZoomActive=a,r.setIconStatus("zoom",a?"emphasis":"normal");var o=new Av(Tv(r),t,{include:["grid"]}),s=o.makePanelOpts(i,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}cS("dataZoom",function(r){var t=r.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var n=t.getModel(e),i=[],a=Tv(n),o=X1(r,a);ic(o.xAxisModels,function(u){return s(u,"xAxis","xAxisIndex")}),ic(o.yAxisModels,function(u){return s(u,"yAxis","yAxisIndex")});function s(u,h,f){var v=u.componentIndex,g={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:cD+h+v};g[f]=v,i.push(g)}return i});var mD=vD;function yD(r){r.registerComponentModel(OL),r.registerComponentView(BL),Ua("saveAsImage",FL),Ua("magicType",WL),Ua("dataView",eD),Ua("dataZoom",mD),Ua("restore",sD),pe(RL)}var _D=["rect","polygon","keep","clear"];function xD(r,t){var e=Yr(r?r.brush:[]);if(!!e.length){var n=[];J(e,function(u){var h=u.hasOwnProperty("toolbox")?u.toolbox:[];h instanceof Array&&(n=n.concat(h))});var i=r&&r.toolbox;Ot(i)&&(i=i[0]),i||(i={feature:{}},r.toolbox=[i]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,n),bD(s),t&&!s.length&&s.push.apply(s,_D)}}function bD(r){var t={};J(r,function(e){t[e]=1}),r.length=0,J(t,function(e,n){r.push(n)})}var tm=J;function em(r){if(r){for(var t in r)if(r.hasOwnProperty(t))return!0}}function ac(r,t,e){var n={};return tm(t,function(a){var o=n[a]=i();tm(r[a],function(s,u){if(!!Or.isValidType(u)){var h={type:u,visual:s};e&&e(h,a),o[u]=new Or(h),u==="opacity"&&(h=ke(h),h.type="colorAlpha",o.__hidden.__alphaForOpacity=new Or(h))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function D2(r,t,e){var n;J(e,function(i){t.hasOwnProperty(i)&&em(t[i])&&(n=!0)}),n&&J(e,function(i){t.hasOwnProperty(i)&&em(t[i])?r[i]=ke(t[i]):delete r[i]})}function wD(r,t,e,n,i,a){var o={};J(r,function(v){var g=Or.prepareVisualTypes(t[v]);o[v]=g});var s;function u(v){return j1(e,s,v)}function h(v,g){K1(e,s,v,g)}a==null?e.each(f):e.each([a],f);function f(v,g){s=a==null?v:g;var d=e.getRawDataItem(s);if(!(d&&d.visualMap===!1))for(var m=n.call(i,v),_=t[m],b=o[m],S=0,I=b.length;S<I;S++){var A=b[S];_[A]&&_[A].applyVisual(v,u,h)}}}function SD(r,t,e,n){var i={};return J(r,function(a){var o=Or.prepareVisualTypes(t[a]);i[a]=o}),{progress:function(o,s){var u;n!=null&&(u=s.getDimensionIndex(n));function h(V){return j1(s,v,V)}function f(V,R){K1(s,v,V,R)}for(var v,g=s.getStore();(v=o.next())!=null;){var d=s.getRawDataItem(v);if(!(d&&d.visualMap===!1))for(var m=n!=null?g.get(u,v):v,_=e(m),b=t[_],S=i[_],I=0,A=S.length;I<A;I++){var D=S[I];b[D]&&b[D].applyVisual(m,h,f)}}}}}function MD(r){var t=r.brushType,e={point:function(n){return rm[t].point(n,e,r)},rect:function(n){return rm[t].rect(n,e,r)}};return e}var rm={lineX:nm(0),lineY:nm(1),rect:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])},rect:function(r,t,e){return r&&e.boundingRect.intersect(r)}},polygon:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])&&ra(e.range,r[0],r[1])},rect:function(r,t,e){var n=e.range;if(!r||n.length<=1)return!1;var i=r.x,a=r.y,o=r.width,s=r.height,u=n[0];if(ra(n,i,a)||ra(n,i+o,a)||ra(n,i,a+s)||ra(n,i+o,a+s)||Je.create(r).contain(u[0],u[1])||qs(i,a,i+o,a,n)||qs(i,a,i,a+s,n)||qs(i+o,a,i+o,a+s,n)||qs(i,a+s,i+o,a+s,n))return!0}}};function nm(r){var t=["x","y"],e=["width","height"];return{point:function(n,i,a){if(n){var o=a.range,s=n[r];return zo(s,o)}},rect:function(n,i,a){if(n){var o=a.range,s=[n[t[r]],n[t[r]]+n[e[r]]];return s[1]<s[0]&&s.reverse(),zo(s[0],o)||zo(s[1],o)||zo(o[0],s)||zo(o[1],s)}}}}function zo(r,t){return t[0]<=r&&r<=t[1]}var im=["inBrush","outOfBrush"],ef="__ecBrushSelect",oc="__ecInBrushSelectEvent";function P2(r){r.eachComponent({mainType:"brush"},function(t){var e=t.brushTargetManager=new Av(t.option,r);e.setInputRanges(t.areas,r)})}function CD(r,t,e){var n=[],i,a;r.eachComponent({mainType:"brush"},function(o){e&&e.type==="takeGlobalCursor"&&o.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),P2(r),r.eachComponent({mainType:"brush"},function(o,s){var u={brushId:o.id,brushIndex:s,brushName:o.name,areas:ke(o.areas),selected:[]};n.push(u);var h=o.option,f=h.brushLink,v=[],g=[],d=[],m=!1;s||(i=h.throttleType,a=h.throttleDelay);var _=Lt(o.areas,function(V){var R=LD[V.brushType],Z=ve({boundingRect:R?R(V):void 0},V);return Z.selectors=MD(Z),Z}),b=ac(o.option,im,function(V){V.mappingMethod="fixed"});Ot(f)&&J(f,function(V){v[V]=1});function S(V){return f==="all"||!!v[V]}function I(V){return!!V.length}r.eachSeries(function(V,R){var Z=d[R]=[];V.subType==="parallel"?A(V,R):D(V,R,Z)});function A(V,R){var Z=V.coordinateSystem;m=m||Z.hasAxisBrushed(),S(R)&&Z.eachActiveState(V.getData(),function(j,X){j==="active"&&(g[X]=1)})}function D(V,R,Z){if(!(!V.brushSelector||ID(o,R))&&(J(_,function(X){o.brushTargetManager.controlSeries(X,V,r)&&Z.push(X),m=m||I(Z)}),S(R)&&I(Z))){var j=V.getData();j.each(function(X){am(V,Z,j,X)&&(g[X]=1)})}}r.eachSeries(function(V,R){var Z={seriesId:V.id,seriesIndex:R,seriesName:V.name,dataIndex:[]};u.selected.push(Z);var j=d[R],X=V.getData(),et=S(R)?function(it){return g[it]?(Z.dataIndex.push(X.getRawIndex(it)),"inBrush"):"outOfBrush"}:function(it){return am(V,j,X,it)?(Z.dataIndex.push(X.getRawIndex(it)),"inBrush"):"outOfBrush"};(S(R)?m:I(j))&&wD(im,b,X,et)})}),AD(t,i,a,n,e)}function AD(r,t,e,n,i){if(!!i){var a=r.getZr();if(!a[oc]){a[ef]||(a[ef]=TD);var o=pu(a,ef,e,t);o(r,n)}}}function TD(r,t){if(!r.isDisposed()){var e=r.getZr();e[oc]=!0,r.dispatchAction({type:"brushSelect",batch:t}),e[oc]=!1}}function am(r,t,e,n){for(var i=0,a=t.length;i<a;i++){var o=t[i];if(r.brushSelector(n,e,o.selectors,o))return!0}}function ID(r,t){var e=r.option.seriesIndex;return e!=null&&e!=="all"&&(Ot(e)?Ye(e,t)<0:t!==e)}var LD={rect:function(r){return om(r.range)},polygon:function(r){for(var t,e=r.range,n=0,i=e.length;n<i;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=e[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&om(t)}};function om(r){return new Je(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var DD=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n,this.model,(this._brushController=new hv(n.getZr())).on("brush",Ht(this._onBrush,this)).mount()},t.prototype.render=function(e,n,i,a){this.model=e,this._updateController(e,n,i,a)},t.prototype.updateTransform=function(e,n,i,a){P2(n),this._updateController(e,n,i,a)},t.prototype.updateVisual=function(e,n,i,a){this.updateTransform(e,n,i,a)},t.prototype.updateView=function(e,n,i,a){this._updateController(e,n,i,a)},t.prototype._updateController=function(e,n,i,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:ke(i),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:ke(i),$from:n})},t.type="brush",t}(Hr),PD=DD,kD="#ddd",ED=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return t.prototype.optionUpdated=function(e,n){var i=this.option;!n&&D2(i,e,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:kD},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){!e||(this.areas=Lt(e,function(n){return sm(this.option,n)},this))},t.prototype.setBrushOption=function(e){this.brushOption=sm(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Pr);function sm(r,t){return Be({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new fn(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},t,!0)}var RD=ED,zD=["rect","polygon","lineX","lineY","keep","clear"],OD=function(r){_t(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i){var a,o,s;n.eachComponent({mainType:"brush"},function(u){a=u.brushType,o=u.brushOption.brushMode||"single",s=s||!!u.areas.length}),this._brushType=a,this._brushMode=o,J(e.get("type",!0),function(u){e.setIconStatus(u,(u==="keep"?o==="multiple":u==="clear"?s:u===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,n,i){this.render(e,n,i)},t.prototype.getIcons=function(){var e=this.model,n=e.get("icon",!0),i={};return J(e.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},t.prototype.onclick=function(e,n,i){var a=this._brushType,o=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?o==="multiple"?"single":"multiple":o}})},t.getDefaultOption=function(e){var n={show:!0,type:zD.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return n},t}(bn),ND=OD;function VD(r){r.registerComponentView(PD),r.registerComponentModel(RD),r.registerPreprocessor(xD),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,CD),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Li),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Li),Ua("brush",ND)}var BD=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var n=this._data.count();this.option.loop?e=(e%n+n)%n:(e>=n&&(e=n-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e=this.option,n=e.data||[],i=e.axisType,a=this._names=[],o;i==="category"?(o=[],J(n,function(h,f){var v=si(p1(h),""),g;Dr(h)?(g=ke(h),g.value=f):g=f,o.push(g),a.push(v)})):o=n;var s={category:"ordinal",time:"time",value:"number"}[i]||"number",u=this._data=new en([{name:"value",type:s}],this);u.initData(o,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Pr),lm=BD,k2=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline.slider",t.defaultOption=ba(lm.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(lm);An(k2,J1.prototype);var GD=k2,FD=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline",t}(Hr),HD=FD,$D=function(r){_t(t,r);function t(e,n,i,a){var o=r.call(this,e,n,i)||this;return o.type=a||"value",o}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(Hn),WD=$D,rf=Math.PI,um=Qe(),UD=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.api=n},t.prototype.render=function(e,n,i){if(this.model=e,this.api=i,this.ecModel=n,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,i),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),u=this._axis=this._createAxis(a,e);e.formatTooltip=function(h){var f=u.scale.getLabel({value:h});return rn("nameValue",{noName:!0,value:f})},J(["AxisLine","AxisTick","Control","CurrentPointer"],function(h){this["_render"+h](a,o,u,e)},this),this._renderAxisLabel(a,s,u,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,n){var i=e.get(["label","position"]),a=e.get("orient"),o=qD(e,n),s;i==null||i==="auto"?s=a==="horizontal"?o.y+o.height/2<n.getHeight()/2?"-":"+":o.x+o.width/2<n.getWidth()/2?"+":"-":Se(i)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:s=i;var u={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},h={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},f={horizontal:0,vertical:rf/2},v=a==="vertical"?o.height:o.width,g=e.getModel("controlStyle"),d=g.get("show",!0),m=d?g.get("itemSize"):0,_=d?g.get("itemGap"):0,b=m+_,S=e.get(["label","rotate"])||0;S=S*rf/180;var I,A,D,V=g.get("position",!0),R=d&&g.get("showPlayBtn",!0),Z=d&&g.get("showPrevBtn",!0),j=d&&g.get("showNextBtn",!0),X=0,et=v;V==="left"||V==="bottom"?(R&&(I=[0,0],X+=b),Z&&(A=[X,0],X+=b),j&&(D=[et-m,0],et-=b)):(R&&(I=[et-m,0],et-=b),Z&&(A=[0,0],X+=b),j&&(D=[et-m,0],et-=b));var it=[X,et];return e.get("inverse")&&it.reverse(),{viewRect:o,mainLength:v,orient:a,rotation:f[a],labelRotation:S,labelPosOpt:s,labelAlign:e.get(["label","align"])||u[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||h[a],playPosition:I,prevBtnPosition:A,nextBtnPosition:D,axisExtent:it,controlSize:m,controlGap:_}},t.prototype._position=function(e,n){var i=this._mainGroup,a=this._labelGroup,o=e.viewRect;if(e.orient==="vertical"){var s=xo(),u=o.x,h=o.y+o.height;pa(s,s,[-u,-h]),vu(s,s,-rf/2),pa(s,s,[u,h]),o=o.clone(),o.applyTransform(s)}var f=I(o),v=I(i.getBoundingRect()),g=I(a.getBoundingRect()),d=[i.x,i.y],m=[a.x,a.y];m[0]=d[0]=f[0][0];var _=e.labelPosOpt;if(_==null||Se(_)){var b=_==="+"?0:1;A(d,v,f,1,b),A(m,g,f,1,1-b)}else{var b=_>=0?0:1;A(d,v,f,1,b),m[1]=d[1]+_}i.setPosition(d),a.setPosition(m),i.rotation=a.rotation=e.rotation,S(i),S(a);function S(D){D.originX=f[0][0]-D.x,D.originY=f[1][0]-D.y}function I(D){return[[D.x,D.x+D.width],[D.y,D.y+D.height]]}function A(D,V,R,Z,j){D[Z]+=R[Z][j]-V[Z][j]}},t.prototype._createAxis=function(e,n){var i=n.getData(),a=n.get("axisType"),o=ZD(n,a);o.getTicks=function(){return i.mapArray(["value"],function(h){return{value:h}})};var s=i.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var u=new WD("value",o,e.axisExtent,a);return u.model=n,u},t.prototype._createGroup=function(e){var n=this[e]=new ee;return this.group.add(n),n},t.prototype._renderAxisLine=function(e,n,i,a){var o=i.getExtent();if(!!a.get(["lineStyle","show"])){var s=new Vn({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:Ft({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var u=this._progressLine=new Vn({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:ve({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(u)}},t.prototype._renderAxisTick=function(e,n,i,a){var o=this,s=a.getData(),u=i.scale.getTicks();this._tickSymbols=[],J(u,function(h){var f=i.dataToCoord(h.value),v=s.getItemModel(h.value),g=v.getModel("itemStyle"),d=v.getModel(["emphasis","itemStyle"]),m=v.getModel(["progress","itemStyle"]),_={x:f,y:0,onclick:Ht(o._changeTimeline,o,h.value)},b=hm(v,g,n,_);b.ensureState("emphasis").style=d.getItemStyle(),b.ensureState("progress").style=m.getItemStyle(),ml(b);var S=Ae(b);v.get("tooltip")?(S.dataIndex=h.value,S.dataModel=a):S.dataIndex=S.dataModel=null,o._tickSymbols.push(b)})},t.prototype._renderAxisLabel=function(e,n,i,a){var o=this,s=i.getLabelModel();if(!!s.get("show")){var u=a.getData(),h=i.getViewLabels();this._tickLabels=[],J(h,function(f){var v=f.tickValue,g=u.getItemModel(v),d=g.getModel("label"),m=g.getModel(["emphasis","label"]),_=g.getModel(["progress","label"]),b=i.dataToCoord(f.tickValue),S=new ur({x:b,y:0,rotation:e.labelRotation-e.rotation,onclick:Ht(o._changeTimeline,o,v),silent:!1,style:zr(d,{text:f.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});S.ensureState("emphasis").style=zr(m),S.ensureState("progress").style=zr(_),n.add(S),ml(S),um(S).dataIndex=v,o._tickLabels.push(S)})}},t.prototype._renderControl=function(e,n,i,a){var o=e.controlSize,s=e.rotation,u=a.getModel("controlStyle").getItemStyle(),h=a.getModel(["emphasis","controlStyle"]).getItemStyle(),f=a.getPlayState(),v=a.get("inverse",!0);g(e.nextBtnPosition,"next",Ht(this._changeTimeline,this,v?"-":"+")),g(e.prevBtnPosition,"prev",Ht(this._changeTimeline,this,v?"+":"-")),g(e.playPosition,f?"stop":"play",Ht(this._handlePlayClick,this,!f),!0);function g(d,m,_,b){if(!!d){var S=Cl(Sr(a.get(["controlStyle",m+"BtnSize"]),o),o),I=[0,-S/2,S,S],A=YD(a,m+"Icon",I,{x:d[0],y:d[1],originX:o/2,originY:0,rotation:b?-s:0,rectHover:!0,style:u,onclick:_});A.ensureState("emphasis").style=h,n.add(A),ml(A)}}},t.prototype._renderCurrentPointer=function(e,n,i,a){var o=a.getData(),s=a.getCurrentIndex(),u=o.getItemModel(s).getModel("checkpointStyle"),h=this,f={onCreate:function(v){v.draggable=!0,v.drift=Ht(h._handlePointerDrag,h),v.ondragend=Ht(h._handlePointerDragend,h),fm(v,h._progressLine,s,i,a,!0)},onUpdate:function(v){fm(v,h._progressLine,s,i,a)}};this._currentPointer=hm(u,u,this._mainGroup,{},this._currentPointer,f)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,n){var i=this._toAxisCoord(e)[0],a=this._axis,o=wn(a.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var u=this._findNearestTick(i),h=this.model;(n||u!==h.getCurrentIndex()&&h.get("realtime"))&&this._changeTimeline(u)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=e.model;e._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var n=this._mainGroup.getLocalTransform();return Ti(e,n,!0)},t.prototype._findNearestTick=function(e){var n=this.model.getData(),i=1/0,a,o=this._axis;return n.each(["value"],function(s,u){var h=o.dataToCoord(s),f=Math.abs(h-e);f<i&&(i=f,a=u)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var n=this.model.getCurrentIndex();e==="+"?e=n+1:e==="-"&&(e=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<e);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",um(i[a]).dataIndex<=e)},t.type="timeline.slider",t}(HD);function ZD(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new pS({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new dS({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new Tl}}function qD(r,t){return nn(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},r.get("padding"))}function YD(r,t,e,n){var i=n.style,a=q1(r.get(["controlStyle",t]),n||{},new Je(e[0],e[1],e[2],e[3]));return i&&a.setStyle(i),a}function hm(r,t,e,n,i,a){var o=t.get("color");if(i)i.setColor(o),e.add(i),a&&a.onUpdate(i);else{var s=r.get("symbol");i=Gr(s,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),e.add(i),a&&a.onCreate(i)}var u=t.getItemStyle(["color"]);i.setStyle(u),n=Be({rectHover:!0,z2:100},n,!0);var h=po(r.get("symbolSize"));n.scaleX=h[0]/2,n.scaleY=h[1]/2;var f=vo(r.get("symbolOffset"),h);f&&(n.x=(n.x||0)+f[0],n.y=(n.y||0)+f[1]);var v=r.get("symbolRotate");return n.rotation=(v||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function fm(r,t,e,n,i,a){if(!r.dragging){var o=i.getModel("checkpointStyle"),s=n.dataToCoord(i.getData().get("value",e));if(a||!o.get("animation",!0))r.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var u={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:s,y:0},u),t&&t.animateTo({shape:{x2:s}},u)}}}var XD=UD;function jD(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,n){var i=e.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),ve({currentIndex:i.option.currentIndex},t)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function KD(r){var t=r&&r.timeline;Ot(t)||(t=t?[t]:[]),J(t,function(e){!e||JD(e)})}function JD(r){var t=r.type,e={number:"value",time:"time"};if(e[t]&&(r.axisType=e[t],delete r.type),cm(r),ia(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});ia(n,"position")||(n.position=r.controlPosition),n.position==="none"&&!ia(n,"show")&&(n.show=!1,delete n.position),delete r.controlPosition}J(r.data||[],function(i){Dr(i)&&!Ot(i)&&(!ia(i,"value")&&ia(i,"name")&&(i.value=i.name),cm(i))})}function cm(r){var t=r.itemStyle||(r.itemStyle={}),e=t.emphasis||(t.emphasis={}),n=r.label||r.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};J(n,function(o,s){!a[s]&&!ia(i,s)&&(i[s]=o)}),e.label&&!ia(n,"emphasis")&&(n.emphasis=e.label,delete e.label)}function ia(r,t){return r.hasOwnProperty(t)}function QD(r){r.registerComponentModel(GD),r.registerComponentView(XD),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),jD(r),r.registerPreprocessor(KD)}function Iv(r,t){if(!r)return!1;for(var e=Ot(r)?r:[r],n=0;n<e.length;n++)if(e[n]&&e[n][t])return!0;return!1}function hl(r){gs(r,"label",["show"])}var fl=Qe(),E2=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Y1.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,n){this._mergeOption(e,n,!1,!1)},t.prototype._mergeOption=function(e,n,i,a){var o=this.mainType;i||n.eachSeries(function(s){var u=s.get(this.mainType,!0),h=fl(s)[o];if(!u||!u.data){fl(s)[o]=null;return}h?h._mergeOption(u,n,!0):(a&&hl(u),J(u.data,function(f){f instanceof Array?(hl(f[0]),hl(f[1])):hl(f)}),h=this.createMarkerModelFromSeries(u,this,n),Ft(h,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),h.__hostSeries=s),fl(s)[o]=h},this)},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.getRawValue(e),s=a.getName(e);return rn("section",{header:this.name,blocks:[rn("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,n){return fl(e)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Pr);An(E2,J1.prototype);var Ri=E2,t4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Ri),e4=t4;function sc(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function r4(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function cl(r,t,e,n,i,a){var o=[],s=io(t,n),u=s?t.getCalculationInfo("stackResultDimension"):n,h=Lv(t,u,r),f=t.indicesOfNearest(u,h)[0];o[i]=t.get(e,f),o[a]=t.get(u,f);var v=t.get(n,f),g=gS(t.get(n,f));return g=Math.min(g,20),g>=0&&(o[a]=+o[a].toFixed(g)),[o,v]}var nf={min:_e(cl,"min"),max:_e(cl,"max"),average:_e(cl,"average"),median:_e(cl,"median")};function us(r,t){if(!!t){var e=r.getData(),n=r.coordinateSystem,i=n&&n.dimensions;if(!r4(t)&&!Ot(t.coord)&&Ot(i)){var a=R2(t,e,n,r);if(t=ke(t),t.type&&nf[t.type]&&a.baseAxis&&a.valueAxis){var o=Ye(i,a.baseAxis.dim),s=Ye(i,a.valueAxis.dim),u=nf[t.type](e,a.baseDataDim,a.valueDataDim,o,s);t.coord=u[0],t.value=u[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!Ot(i))t.coord=[];else for(var h=t.coord,f=0;f<2;f++)nf[h[f]]&&(h[f]=Lv(e,e.mapDimension(i[f]),h[f]));return t}}function R2(r,t,e,n){var i={};return r.valueIndex!=null||r.valueDim!=null?(i.valueDataDim=r.valueIndex!=null?t.getDimension(r.valueIndex):r.valueDim,i.valueAxis=e.getAxis(n4(n,i.valueDataDim)),i.baseAxis=e.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=e.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function n4(r,t){var e=r.getData().getDimensionInfo(t);return e&&e.coordDim}function hs(r,t){return r&&r.containData&&t.coord&&!sc(t)?r.containData(t.coord):!0}function i4(r,t,e){return r&&r.containZone&&t.coord&&e.coord&&!sc(t)&&!sc(e)?r.containZone(t.coord,e.coord):!0}function z2(r,t){return r?function(e,n,i,a){var o=a<2?e.coord&&e.coord[a]:e.value;return Ll(o,t[a])}:function(e,n,i,a){return Ll(e.value,t[a])}}function Lv(r,t,e){if(e==="average"){var n=0,i=0;return r.each(t,function(a,o){isNaN(a)||(n+=a,i++)}),n/i}else return e==="median"?r.getMedian(t):r.getDataExtent(t)[e==="max"?1:0]}var af=Qe(),a4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this.markerGroupMap=de()},t.prototype.render=function(e,n,i){var a=this,o=this.markerGroupMap;o.each(function(s){af(s).keep=!1}),n.eachSeries(function(s){var u=Ri.getMarkerModelFromSeries(s,a.type);u&&a.renderSeries(s,u,n,i)}),o.each(function(s){!af(s).keep&&a.group.remove(s.group)})},t.prototype.markKeep=function(e){af(e).keep=!0},t.prototype.toggleBlurSeries=function(e,n){var i=this;J(e,function(a){var o=Ri.getMarkerModelFromSeries(a,i.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(u){u&&(n?mS(u):yS(u))})}})},t.type="marker",t}(Hr),Dv=a4;function vm(r,t,e){var n=t.coordinateSystem;r.each(function(i){var a=r.getItemModel(i),o,s=$t(a.get("x"),e.getWidth()),u=$t(a.get("y"),e.getHeight());if(!isNaN(s)&&!isNaN(u))o=[s,u];else if(t.getMarkerPosition)o=t.getMarkerPosition(r.getValues(r.dimensions,i));else if(n){var h=r.get(n.dimensions[0],i),f=r.get(n.dimensions[1],i);o=n.dataToPoint([h,f])}isNaN(s)||(o[0]=s),isNaN(u)||(o[1]=u),r.setItemLayout(i,o)})}var o4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=Ri.getMarkerModelFromSeries(a,"markPoint");o&&(vm(o.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,s=e.id,u=e.getData(),h=this.markerGroupMap,f=h.get(s)||h.set(s,new Ss),v=s4(o,e,n);n.setData(v),vm(n.getData(),e,a),v.each(function(g){var d=v.getItemModel(g),m=d.getShallow("symbol"),_=d.getShallow("symbolSize"),b=d.getShallow("symbolRotate"),S=d.getShallow("symbolOffset"),I=d.getShallow("symbolKeepAspect");if(we(m)||we(_)||we(b)||we(S)){var A=n.getRawValue(g),D=n.getDataParams(g);we(m)&&(m=m(A,D)),we(_)&&(_=_(A,D)),we(b)&&(b=b(A,D)),we(S)&&(S=S(A,D))}var V=d.getModel("itemStyle").getItemStyle(),R=mu(u,"color");V.fill||(V.fill=R),v.setItemVisual(g,{symbol:m,symbolSize:_,symbolRotate:b,symbolOffset:S,symbolKeepAspect:I,style:V})}),f.updateData(v),this.group.add(f.group),v.eachItemGraphicEl(function(g){g.traverse(function(d){Ae(d).dataModel=n})}),this.markKeep(f),f.group.silent=n.get("silent")||e.get("silent")},t.type="markPoint",t}(Dv);function s4(r,t,e){var n;r?n=Lt(r&&r.dimensions,function(s){var u=t.getData().getDimensionInfo(t.getData().mapDimension(s))||{};return Ft(Ft({},u),{name:s,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new en(n,e),a=Lt(e.get("data"),_e(us,t));r&&(a=Cr(a,_e(hs,r)));var o=z2(!!r,n);return i.initData(a,null,o),i}var l4=o4;function u4(r){r.registerComponentModel(e4),r.registerComponentView(l4),r.registerPreprocessor(function(t){Iv(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var h4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Ri),f4=h4,vl=Qe(),c4=function(r,t,e,n){var i=r.getData(),a;if(Ot(n))a=n;else{var o=n.type;if(o==="min"||o==="max"||o==="average"||o==="median"||n.xAxis!=null||n.yAxis!=null){var s=void 0,u=void 0;if(n.yAxis!=null||n.xAxis!=null)s=t.getAxis(n.yAxis!=null?"y":"x"),u=un(n.yAxis,n.xAxis);else{var h=R2(n,i,t,r);s=h.valueAxis;var f=_S(i,h.valueDataDim);u=Lv(i,f,o)}var v=s.dim==="x"?0:1,g=1-v,d=ke(n),m={coord:[]};d.type=null,d.coord=[],d.coord[g]=-1/0,m.coord[g]=1/0;var _=e.get("precision");_>=0&&Xr(u)&&(u=+u.toFixed(Math.min(_,20))),d.coord[v]=m.coord[v]=u,a=[d,m,{type:o,valueIndex:n.valueIndex,value:u}]}else a=[]}var b=[us(r,a[0]),us(r,a[1]),Ft({},a[2])];return b[2].type=b[2].type||null,Be(b[2],b[0]),Be(b[2],b[1]),b};function Zl(r){return!isNaN(r)&&!isFinite(r)}function dm(r,t,e,n){var i=1-r,a=n.dimensions[r];return Zl(t[i])&&Zl(e[i])&&t[r]===e[r]&&n.getAxis(a).containData(t[r])}function v4(r,t){if(r.type==="cartesian2d"){var e=t[0].coord,n=t[1].coord;if(e&&n&&(dm(1,e,n,r)||dm(0,e,n,r)))return!0}return hs(r,t[0])&&hs(r,t[1])}function of(r,t,e,n,i){var a=n.coordinateSystem,o=r.getItemModel(t),s,u=$t(o.get("x"),i.getWidth()),h=$t(o.get("y"),i.getHeight());if(!isNaN(u)&&!isNaN(h))s=[u,h];else{if(n.getMarkerPosition)s=n.getMarkerPosition(r.getValues(r.dimensions,t));else{var f=a.dimensions,v=r.get(f[0],t),g=r.get(f[1],t);s=a.dataToPoint([v,g])}if(Sa(a,"cartesian2d")){var d=a.getAxis("x"),m=a.getAxis("y"),f=a.dimensions;Zl(r.get(f[0],t))?s[0]=d.toGlobalCoord(d.getExtent()[e?0:1]):Zl(r.get(f[1],t))&&(s[1]=m.toGlobalCoord(m.getExtent()[e?0:1]))}isNaN(u)||(s[0]=u),isNaN(h)||(s[1]=h)}r.setItemLayout(t,s)}var d4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=Ri.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),u=vl(o).from,h=vl(o).to;u.each(function(f){of(u,f,!0,a,i),of(h,f,!1,a,i)}),s.each(function(f){s.setItemLayout(f,[u.getItemLayout(f),h.getItemLayout(f)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,s=e.id,u=e.getData(),h=this.markerGroupMap,f=h.get(s)||h.set(s,new iv);this.group.add(f.group);var v=p4(o,e,n),g=v.from,d=v.to,m=v.line;vl(n).from=g,vl(n).to=d,n.setData(m);var _=n.get("symbol"),b=n.get("symbolSize"),S=n.get("symbolRotate"),I=n.get("symbolOffset");Ot(_)||(_=[_,_]),Ot(b)||(b=[b,b]),Ot(S)||(S=[S,S]),Ot(I)||(I=[I,I]),v.from.each(function(D){A(g,D,!0),A(d,D,!1)}),m.each(function(D){var V=m.getItemModel(D).getModel("lineStyle").getLineStyle();m.setItemLayout(D,[g.getItemLayout(D),d.getItemLayout(D)]),V.stroke==null&&(V.stroke=g.getItemVisual(D,"style").fill),m.setItemVisual(D,{fromSymbolKeepAspect:g.getItemVisual(D,"symbolKeepAspect"),fromSymbolOffset:g.getItemVisual(D,"symbolOffset"),fromSymbolRotate:g.getItemVisual(D,"symbolRotate"),fromSymbolSize:g.getItemVisual(D,"symbolSize"),fromSymbol:g.getItemVisual(D,"symbol"),toSymbolKeepAspect:d.getItemVisual(D,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(D,"symbolOffset"),toSymbolRotate:d.getItemVisual(D,"symbolRotate"),toSymbolSize:d.getItemVisual(D,"symbolSize"),toSymbol:d.getItemVisual(D,"symbol"),style:V})}),f.updateData(m),v.line.eachItemGraphicEl(function(D){Ae(D).dataModel=n,D.traverse(function(V){Ae(V).dataModel=n})});function A(D,V,R){var Z=D.getItemModel(V);of(D,V,R,e,a);var j=Z.getModel("itemStyle").getItemStyle();j.fill==null&&(j.fill=mu(u,"color")),D.setItemVisual(V,{symbolKeepAspect:Z.get("symbolKeepAspect"),symbolOffset:Sr(Z.get("symbolOffset",!0),I[R?0:1]),symbolRotate:Sr(Z.get("symbolRotate",!0),S[R?0:1]),symbolSize:Sr(Z.get("symbolSize"),b[R?0:1]),symbol:Sr(Z.get("symbol",!0),_[R?0:1]),style:j})}this.markKeep(f),f.group.silent=n.get("silent")||e.get("silent")},t.type="markLine",t}(Dv);function p4(r,t,e){var n;r?n=Lt(r&&r.dimensions,function(h){var f=t.getData().getDimensionInfo(t.getData().mapDimension(h))||{};return Ft(Ft({},f),{name:h,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new en(n,e),a=new en(n,e),o=new en([],e),s=Lt(e.get("data"),_e(c4,t,r,e));r&&(s=Cr(s,_e(v4,r)));var u=z2(!!r,n);return i.initData(Lt(s,function(h){return h[0]}),null,u),a.initData(Lt(s,function(h){return h[1]}),null,u),o.initData(Lt(s,function(h){return h[2]})),o.hasItemOption=!0,{from:i,to:a,line:o}}var g4=d4;function m4(r){r.registerComponentModel(f4),r.registerComponentView(g4),r.registerPreprocessor(function(t){Iv(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var y4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Ri),_4=y4,dl=Qe(),x4=function(r,t,e,n){var i=n[0],a=n[1];if(!(!i||!a)){var o=us(r,i),s=us(r,a),u=o.coord,h=s.coord;u[0]=un(u[0],-1/0),u[1]=un(u[1],-1/0),h[0]=un(h[0],1/0),h[1]=un(h[1],1/0);var f=kc([{},o,s]);return f.coord=[o.coord,s.coord],f.x0=o.x,f.y0=o.y,f.x1=s.x,f.y1=s.y,f}};function ql(r){return!isNaN(r)&&!isFinite(r)}function pm(r,t,e,n){var i=1-r;return ql(t[i])&&ql(e[i])}function b4(r,t){var e=t.coord[0],n=t.coord[1],i={coord:e,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return Sa(r,"cartesian2d")?e&&n&&(pm(1,e,n)||pm(0,e,n))?!0:i4(r,i,a):hs(r,i)||hs(r,a)}function gm(r,t,e,n,i){var a=n.coordinateSystem,o=r.getItemModel(t),s,u=$t(o.get(e[0]),i.getWidth()),h=$t(o.get(e[1]),i.getHeight());if(!isNaN(u)&&!isNaN(h))s=[u,h];else{if(n.getMarkerPosition){var f=r.getValues(["x0","y0"],t),v=r.getValues(["x1","y1"],t),g=a.clampData(f),d=a.clampData(v),m=[];e[0]==="x0"?m[0]=g[0]>d[0]?v[0]:f[0]:m[0]=g[0]>d[0]?f[0]:v[0],e[1]==="y0"?m[1]=g[1]>d[1]?v[1]:f[1]:m[1]=g[1]>d[1]?f[1]:v[1],s=n.getMarkerPosition(m,e,!0)}else{var _=r.get(e[0],t),b=r.get(e[1],t),S=[_,b];a.clampData&&a.clampData(S,S),s=a.dataToPoint(S,!0)}if(Sa(a,"cartesian2d")){var I=a.getAxis("x"),A=a.getAxis("y"),_=r.get(e[0],t),b=r.get(e[1],t);ql(_)?s[0]=I.toGlobalCoord(I.getExtent()[e[0]==="x0"?0:1]):ql(b)&&(s[1]=A.toGlobalCoord(A.getExtent()[e[1]==="y0"?0:1]))}isNaN(u)||(s[0]=u),isNaN(h)||(s[1]=h)}return s}var mm=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],w4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=Ri.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(u){var h=Lt(mm,function(v){return gm(s,u,v,a,i)});s.setItemLayout(u,h);var f=s.getItemGraphicEl(u);f.setShape("points",h)})}},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,s=e.id,u=e.getData(),h=this.markerGroupMap,f=h.get(s)||h.set(s,{group:new ee});this.group.add(f.group),this.markKeep(f);var v=S4(o,e,n);n.setData(v),v.each(function(g){var d=Lt(mm,function(j){return gm(v,g,j,e,a)}),m=o.getAxis("x").scale,_=o.getAxis("y").scale,b=m.getExtent(),S=_.getExtent(),I=[m.parse(v.get("x0",g)),m.parse(v.get("x1",g))],A=[_.parse(v.get("y0",g)),_.parse(v.get("y1",g))];wn(I),wn(A);var D=!(b[0]>I[1]||b[1]<I[0]||S[0]>A[1]||S[1]<A[0]),V=!D;v.setItemLayout(g,{points:d,allClipped:V});var R=v.getItemModel(g).getModel("itemStyle").getItemStyle(),Z=mu(u,"color");R.fill||(R.fill=Z,Se(R.fill)&&(R.fill=Il(R.fill,.4))),R.stroke||(R.stroke=Z),v.setItemVisual(g,"style",R)}),v.diff(dl(f).data).add(function(g){var d=v.getItemLayout(g);if(!d.allClipped){var m=new Mn({shape:{points:d.points}});v.setItemGraphicEl(g,m),f.group.add(m)}}).update(function(g,d){var m=dl(f).data.getItemGraphicEl(d),_=v.getItemLayout(g);_.allClipped?m&&f.group.remove(m):(m?Ee(m,{shape:{points:_.points}},n,g):m=new Mn({shape:{points:_.points}}),v.setItemGraphicEl(g,m),f.group.add(m))}).remove(function(g){var d=dl(f).data.getItemGraphicEl(g);f.group.remove(d)}).execute(),v.eachItemGraphicEl(function(g,d){var m=v.getItemModel(d),_=v.getItemVisual(d,"style");g.useStyle(v.getItemVisual(d,"style")),Fr(g,Ar(m),{labelFetcher:n,labelDataIndex:d,defaultText:v.getName(d)||"",inheritColor:Se(_.fill)?Il(_.fill,1):"#000"}),jr(g,m),hr(g,null,null,m.get(["emphasis","disabled"])),Ae(g).dataModel=n}),dl(f).data=v,f.group.silent=n.get("silent")||e.get("silent")},t.type="markArea",t}(Dv);function S4(r,t,e){var n,i,a=["x0","y0","x1","y1"];if(r){var o=Lt(r&&r.dimensions,function(h){var f=t.getData(),v=f.getDimensionInfo(f.mapDimension(h))||{};return Ft(Ft({},v),{name:h,ordinalMeta:null})});i=Lt(a,function(h,f){return{name:h,type:o[f%2].type}}),n=new en(i,e)}else i=[{name:"value",type:"float"}],n=new en(i,e);var s=Lt(e.get("data"),_e(x4,t,r,e));r&&(s=Cr(s,_e(b4,r)));var u=r?function(h,f,v,g){var d=h.coord[Math.floor(g/2)][g%2];return Ll(d,i[g])}:function(h,f,v,g){return Ll(h.value,i[g])};return n.initData(s,null,u),n.hasItemOption=!0,n}var M4=w4;function C4(r){r.registerComponentModel(_4),r.registerComponentView(M4),r.registerPreprocessor(function(t){Iv(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var A4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=ba(ls.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(ls),T4=A4,Pv=Qe();function I4(r,t,e){Pv(r).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=e)})}function L4(r,t){for(var e=Pv(r).coordSysRecordMap,n=e.keys(),i=0;i<n.length;i++){var a=n[i],o=e.get(a),s=o.dataZoomInfoMap;if(s){var u=t.uid,h=s.get(u);h&&(s.removeKey(u),s.keys().length||O2(e,o))}}}function O2(r,t){if(t){r.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function D4(r,t){var e={model:t,containsPoint:_e(k4,t),dispatchAction:_e(P4,r),dataZoomInfoMap:null,controller:null},n=e.controller=new Is(r.getZr());return J(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var o=[];e.dataZoomInfoMap.each(function(s){if(!!a.isAvailableBehavior(s.model.option)){var u=(s.getRange||{})[i],h=u&&u(s.dzReferCoordSysInfo,e.model.mainType,e.controller,a);!s.model.get("disabled",!0)&&h&&o.push({dataZoomId:s.model.id,start:h[0],end:h[1]})}}),o.length&&e.dispatchAction(o)})}),e}function P4(r,t){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function k4(r,t,e,n){return r.coordinateSystem.containPoint([e,n])}function E4(r){var t,e="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return r.each(function(a){var o=a.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;n[e+s]>n[e+t]&&(t=s),i=i&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function R4(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=Pv(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=de());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var o=C2(a);J(o.infoList,function(s){var u=s.model.uid,h=i.get(u)||i.set(u,D4(e,s.model)),f=h.dataZoomInfoMap||(h.dataZoomInfoMap=de());f.set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),i.each(function(a){var o=a.controller,s,u=a.dataZoomInfoMap;if(u){var h=u.keys()[0];h!=null&&(s=u.get(h))}if(!s){O2(i,a);return}var f=E4(u);o.enable(f.controlType,f.opt),o.setPointerChecker(a.containsPoint),pu(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var z4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,n,i){if(r.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),I4(i,e,{pan:Ht(sf.pan,this),zoom:Ht(sf.zoom,this),scrollMove:Ht(sf.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){L4(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(Sv),sf={zoom:function(r,t,e,n){var i=this.range,a=i.slice(),o=r.axisModels[0];if(!!o){var s=lf[t](null,[n.originX,n.originY],o,e,r),u=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],h=Math.max(1/n.scale,0);a[0]=(a[0]-u)*h+u,a[1]=(a[1]-u)*h+u;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ma(0,a,[0,100],0,f.minSpan,f.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:ym(function(r,t,e,n,i,a){var o=lf[n]([a.oldX,a.oldY],[a.newX,a.newY],t,i,e);return o.signal*(r[1]-r[0])*o.pixel/o.pixelLength}),scrollMove:ym(function(r,t,e,n,i,a){var o=lf[n]([0,0],[a.scrollDelta,a.scrollDelta],t,i,e);return o.signal*(r[1]-r[0])*a.scrollDelta})};function ym(r){return function(t,e,n,i){var a=this.range,o=a.slice(),s=t.axisModels[0];if(!!s){var u=r(o,s,t,e,n,i);if(Ma(u,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}}}var lf={grid:function(r,t,e,n,i){var a=e.axis,o={},s=i.model.coordinateSystem.getRect();return r=r||[0,0],a.dim==="x"?(o.pixel=t[0]-r[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(r,t,e,n,i){var a=e.axis,o={},s=i.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),h=s.getAngleAxis().getExtent();return r=r?s.pointToCoord(r):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(o.pixel=t[0]-r[0],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=h[1]-h[0],o.pixelStart=h[0],o.signal=a.inverse?-1:1),o},singleAxis:function(r,t,e,n,i){var a=e.axis,o=i.model.coordinateSystem.getRect(),s={};return r=r||[0,0],a.orient==="horizontal"?(s.pixel=t[0]-r[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-r[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}},O4=z4;function N2(r){Mv(r),r.registerComponentModel(T4),r.registerComponentView(O4),R4(r)}var N4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=ba(ls.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(ls),V4=N4,Oo=Ue,_m=7,B4=1,uf=30,G4=7,No="horizontal",xm="vertical",F4=5,H4=["line","bar","candlestick","scatter"],$4={easing:"cubicOut",duration:100,delay:0},W4=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,n){this.api=n,this._onBrush=Ht(this._onBrush,this),this._onBrushEnd=Ht(this._onBrushEnd,this)},t.prototype.render=function(e,n,i,a){if(r.prototype.render.apply(this,arguments),pu(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){B1(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new ee;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,n=this.api,i=e.get("brushSelect"),a=i?G4:0,o=this._findCoordRect(),s={width:n.getWidth(),height:n.getHeight()},u=this._orient===No?{right:s.width-o.x-o.width,top:s.height-uf-_m-a,width:o.width,height:uf}:{right:_m,top:o.y,width:uf,height:o.height},h=Ic(e.option);J(["right","top","width","height"],function(v){h[v]==="ph"&&(h[v]=u[v])});var f=nn(h,s);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===xm&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===No&&!o?{scaleY:u?1:-1,scaleX:1}:i===No&&o?{scaleY:u?1:-1,scaleX:-1}:i===xm&&!o?{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2});var h=e.getBoundingRect([s]);e.x=n.x-h.x,e.y=n.y-h.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=e.get("brushSelect");i.add(new Oo({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new Oo({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Ht(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var n=this._size,i=this._shadowSize||[],a=e.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),u=s&&o.getDimensionInfo(s)?a.getShadowDim():e.otherDim;if(u==null)return;var h=this._shadowPolygonPts,f=this._shadowPolylinePts;if(o!==this._shadowData||u!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var v=o.getDataExtent(u),g=(v[1]-v[0])*.3;v=[v[0]-g,v[1]+g];var d=[0,n[1]],m=[0,n[0]],_=[[n[0],0],[0,0]],b=[],S=m[1]/(o.count()-1),I=0,A=Math.round(o.count()/n[0]),D;o.each([u],function(X,et){if(A>0&&et%A){I+=S;return}var it=X==null||isNaN(X)||X==="",ht=it?0:He(X,v,d,!0);it&&!D&&et?(_.push([_[_.length-1][0],0]),b.push([b[b.length-1][0],0])):!it&&D&&(_.push([I,0]),b.push([I,0])),_.push([I,ht]),b.push([I,ht]),I+=S,D=it}),h=this._shadowPolygonPts=_,f=this._shadowPolylinePts=b}this._shadowData=o,this._shadowDim=u,this._shadowSize=[n[0],n[1]];var V=this.dataZoomModel;function R(X){var et=V.getModel(X?"selectedDataBackground":"dataBackground"),it=new ee,ht=new Mn({shape:{points:h},segmentIgnoreThreshold:1,style:et.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),vt=new Cn({shape:{points:f},segmentIgnoreThreshold:1,style:et.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return it.add(ht),it.add(vt),it}for(var Z=0;Z<3;Z++){var j=R(Z===1);this._displayables.sliderGroup.add(j),this._displayables.dataShadowSegs.push(j)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,n=e.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return e.eachTargetAxis(function(o,s){var u=e.getAxisProxy(o,s).getTargetSeriesModels();J(u,function(h){if(!i&&!(n!==!0&&Ye(H4,h.get("type"))<0)){var f=a.getComponent(Ci(o),s).axis,v=U4(o),g,d=h.coordinateSystem;v!=null&&d.getOtherAxis&&(g=d.getOtherAxis(f).inverse),v=h.getData().mapDimension(v),i={thisAxis:f,series:h,thisDim:o,otherDim:v,otherAxisInverse:g}}},this)},this),i}},t.prototype._renderHandle=function(){var e=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,u=this.dataZoomModel,h=this.api,f=u.get("borderRadius")||0,v=u.get("brushSelect"),g=n.filler=new Oo({silent:v,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});o.add(g),o.add(new Oo({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:f},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:B4,fill:"rgba(0,0,0,0)"}})),J([0,1],function(A){var D=u.get("handleIcon");!xS[D]&&D.indexOf("path://")<0&&D.indexOf("image://")<0&&(D="path://"+D);var V=Gr(D,-1,0,2,2,null,!0);V.attr({cursor:bm(this._orient),draggable:!0,drift:Ht(this._onDragMove,this,A),ondragend:Ht(this._onDragEnd,this),onmouseover:Ht(this._showDataInfo,this,!0),onmouseout:Ht(this._showDataInfo,this,!1),z2:5});var R=V.getBoundingRect(),Z=u.get("handleSize");this._handleHeight=$t(Z,this._size[1]),this._handleWidth=R.width/R.height*this._handleHeight,V.setStyle(u.getModel("handleStyle").getItemStyle()),V.style.strokeNoScale=!0,V.rectHover=!0,V.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),ml(V);var j=u.get("handleColor");j!=null&&(V.style.fill=j),o.add(i[A]=V);var X=u.getModel("textStyle");e.add(a[A]=new ur({silent:!0,invisible:!0,style:zr(X,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:X.getTextColor(),font:X.getFont()}),z2:10}))},this);var d=g;if(v){var m=$t(u.get("moveHandleSize"),s[1]),_=n.moveHandle=new Ue({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:m}}),b=m*.8,S=n.moveHandleIcon=Gr(u.get("moveHandleIcon"),-b/2,-b/2,b,b,"#fff",!0);S.silent=!0,S.y=s[1]+m/2-.5,_.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var I=Math.min(s[1]/2,Math.max(m,10));d=n.moveZone=new Ue({invisible:!0,shape:{y:s[1]-I,height:m+I}}),d.on("mouseover",function(){h.enterEmphasis(_)}).on("mouseout",function(){h.leaveEmphasis(_)}),o.add(_),o.add(S),o.add(d)}d.attr({draggable:!0,cursor:bm(this._orient),drift:Ht(this._onDragMove,this,"all"),ondragstart:Ht(this._showDataInfo,this,!0),ondragend:Ht(this._onDragEnd,this),onmouseover:Ht(this._showDataInfo,this,!0),onmouseout:Ht(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[He(e[0],[0,100],n,!0),He(e[1],[0,100],n,!0)]},t.prototype._updateInterval=function(e,n){var i=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];Ma(n,a,o,i.get("zoomLock")?"all":e,s.minSpan!=null?He(s.minSpan,u,o,!0):null,s.maxSpan!=null?He(s.maxSpan,u,o,!0):null);var h=this._range,f=this._range=wn([He(a[0],o,u,!0),He(a[1],o,u,!0)]);return!h||h[0]!==f[0]||h[1]!==f[1]},t.prototype._updateView=function(e){var n=this._displayables,i=this._handleEnds,a=wn(i.slice()),o=this._size;J([0,1],function(d){var m=n.handles[d],_=this._handleHeight;m.attr({scaleX:_/2,scaleY:_/2,x:i[d]+(d?-1:1),y:o[1]/2-_/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var u=n.dataShadowSegs,h=[0,a[0],a[1],o[0]],f=0;f<u.length;f++){var v=u[f],g=v.getClipPath();g||(g=new Ue,v.setClipPath(g)),g.setShape({x:h[f],y:0,width:h[f+1]-h[f],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,o=this._orient,s=["",""];if(n.get("showDetail")){var u=n.findRepresentativeAxisProxy();if(u){var h=u.getAxisModel().axis,f=this._range,v=e?u.calculateDataWindow({start:f[0],end:f[1]}).valueWindow:u.getDataValueWindow();s=[this._formatLabel(v[0],h),this._formatLabel(v[1],h)]}}var g=wn(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(m){var _=Ka(i.handles[m].parent,this.group),b=Rc(m===0?"right":"left",_),S=this._handleWidth/2+F4,I=Ti([g[m]+(m===0?-S:S),this._size[1]/2],_);a[m].setStyle({x:I[0],y:I[1],verticalAlign:o===No?"middle":b,align:o===No?b:"center",text:s[m]})}},t.prototype._formatLabel=function(e,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=n.getPixelPrecision());var s=e==null||isNaN(e)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return we(a)?a(e,s):Se(a)?a.replace("{value}",s):s},t.prototype._showDataInfo=function(e){e=this._dragging||e;var n=this._displayables,i=n.handleLabels;i[0].attr("invisible",!e),i[1].attr("invisible",!e),n.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](n.moveHandle,1)},t.prototype._onDragMove=function(e,n,i,a){this._dragging=!0,da(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=Ti([n,i],o,!0),u=this._updateInterval(e,s[0]),h=this.dataZoomModel.get("realtime");this._updateView(!h),u&&h&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,s=this._updateInterval("all",i[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var n=e.offsetX,i=e.offsetY;this._brushStart=new We(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(!!this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=wn([He(i.x,o,s,!0),He(i.x+i.width,o,s,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(da(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,n){var i=this._displayables,a=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new Oo({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,u=this._displayables.sliderGroup,h=u.transformCoordToLocal(e,n),f=u.transformCoordToLocal(s.x,s.y),v=this._size;h[0]=Math.max(Math.min(v[0],h[0]),0),o.setShape({x:f[0],y:0,width:h[0]-f[0],height:v[1]})},t.prototype._dispatchZoomAction=function(e){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?$4:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var e,n=C2(this.dataZoomModel).infoList;if(!e&&n.length){var i=n[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var a=this.api.getWidth(),o=this.api.getHeight();e={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return e},t.type="dataZoom.slider",t}(Sv);function U4(r){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[r]}function bm(r){return r==="vertical"?"ns-resize":"ew-resize"}var Z4=W4;function V2(r){r.registerComponentModel(V4),r.registerComponentView(Z4),Mv(r)}function q4(r){pe(N2),pe(V2)}var Y4={get:function(r,t,e){var n=ke((X4[r]||{})[t]);return e&&Ot(n)?n[n.length-1]:n}},X4={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},B2=Y4,wm=Or.mapVisual,j4=Or.eachVisual,K4=Ot,Sm=J,J4=wn,Q4=He,tP=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,n){var i=this.option;!n&&D2(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var n=this.stateList;e=Ht(e,this),this.controllerVisuals=ac(this.option.controller,n,e),this.targetVisuals=ac(this.option.target,n,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,n=[];return e==null||e==="all"?this.ecModel.eachSeries(function(i,a){n.push(a)}):n=Yr(e),n},t.prototype.eachTargetSeries=function(e,n){J(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&e.call(n,a)},this)},t.prototype.isTargetSeries=function(e){var n=!1;return this.eachTargetSeries(function(i){i===e&&(n=!0)}),n},t.prototype.formatValueText=function(e,n,i){var a=this.option,o=a.precision,s=this.dataBound,u=a.formatter,h;i=i||["<",">"],Ot(e)&&(e=e.slice(),h=!0);var f=n?e:h?[v(e[0]),v(e[1])]:v(e);if(Se(u))return u.replace("{value}",h?f[0]:f).replace("{value2}",h?f[1]:f);if(we(u))return h?u(e[0],e[1]):u(e);if(h)return e[0]===s[0]?i[0]+" "+f[1]:e[1]===s[1]?i[1]+" "+f[0]:f[0]+" - "+f[1];return f;function v(g){return g===s[0]?"min":g===s[1]?"max":(+g).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,n=J4([e.min,e.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(e){var n=this.option.dimension;if(n!=null)return e.getDimensionIndex(n);for(var i=e.dimensions,a=i.length-1;a>=0;a--){var o=i[a],s=e.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),o=n.controller||(n.controller={});Be(a,i),Be(o,i);var s=this.isCategory();u.call(this,a),u.call(this,o),h.call(this,a,"inRange","outOfRange"),f.call(this,o);function u(v){K4(n.color)&&!v.inRange&&(v.inRange={color:n.color.slice().reverse()}),v.inRange=v.inRange||{color:e.get("gradientColor")}}function h(v,g,d){var m=v[g],_=v[d];m&&!_&&(_=v[d]={},Sm(m,function(b,S){if(!!Or.isValidType(S)){var I=B2.get(S,"inactive",s);I!=null&&(_[S]=I,S==="color"&&!_.hasOwnProperty("opacity")&&!_.hasOwnProperty("colorAlpha")&&(_.opacity=[0,0]))}}))}function f(v){var g=(v.inRange||{}).symbol||(v.outOfRange||{}).symbol,d=(v.inRange||{}).symbolSize||(v.outOfRange||{}).symbolSize,m=this.get("inactiveColor"),_=this.getItemSymbol(),b=_||"roundRect";Sm(this.stateList,function(S){var I=this.itemSize,A=v[S];A||(A=v[S]={color:s?m:[m]}),A.symbol==null&&(A.symbol=g&&ke(g)||(s?b:[b])),A.symbolSize==null&&(A.symbolSize=d&&ke(d)||(s?I[0]:[I[0],I[0]])),A.symbol=wm(A.symbol,function(R){return R==="none"?b:R});var D=A.symbolSize;if(D!=null){var V=-1/0;j4(D,function(R){R>V&&(V=R)}),A.symbolSize=wm(D,function(R){return Q4(R,[0,V],[0,I[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Pr),Yl=tP,Mm=[20,140],eP=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(e,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=Mm[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=Mm[1])},t.prototype._resetRange=function(){var e=this.getExtent(),n=this.option.range;!n||n.auto?(e.auto=1,this.option.range=e):Ot(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],e[0]),n[1]=Math.min(n[1],e[1]))},t.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),J(this.stateList,function(e){var n=this.option.controller[e].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),n=wn((this.get("range")||[]).slice());return n[0]>e[1]&&(n[0]=e[1]),n[1]>e[1]&&(n[1]=e[1]),n[0]<e[0]&&(n[0]=e[0]),n[1]<e[0]&&(n[1]=e[0]),n},t.prototype.getValueState=function(e){var n=this.option.range,i=this.getExtent();return(n[0]<=i[0]||n[0]<=e)&&(n[1]>=i[1]||e<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[];return this.eachTargetSeries(function(i){var a=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,u){e[0]<=s&&s<=e[1]&&a.push(u)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(e){var n=Cm(this,"outOfRange",this.getExtent()),i=Cm(this,"inRange",this.option.range.slice()),a=[];function o(d,m){a.push({value:d,color:e(d,m)})}for(var s=0,u=0,h=i.length,f=n.length;u<f&&(!i.length||n[u]<=i[0]);u++)n[u]<i[s]&&o(n[u],"outOfRange");for(var v=1;s<h;s++,v=0)v&&a.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(var v=1;u<f;u++)(!i.length||i[i.length-1]<n[u])&&(v&&(a.length&&o(a[a.length-1].value,"outOfRange"),v=0),o(n[u],"outOfRange"));var g=a.length;return{stops:a,outerColors:[g?a[0].color:"transparent",g?a[g-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=ba(Yl.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Yl);function Cm(r,t,e){if(e[0]===e[1])return e.slice();for(var n=200,i=(e[1]-e[0])/n,a=e[0],o=[],s=0;s<=n&&a<e[1];s++)o.push(a),a+=i;return o.push(e[1]),o}var rP=eP,nP=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n},t.prototype.render=function(e,n,i,a){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,n,i,a)},t.prototype.renderBackground=function(e){var n=this.visualMapModel,i=bS(n.get("padding")||0),a=e.getBoundingRect();e.add(new Ue({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,n,i){i=i||{};var a=i.forceState,o=this.visualMapModel,s={};if(n==="color"){var u=o.get("contentColor");s.color=u}function h(d){return s[d]}function f(d,m){s[d]=m}var v=o.controllerVisuals[a||o.getValueState(e)],g=Or.prepareVisualTypes(v);return J(g,function(d){var m=v[d];i.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",m=v.__alphaForOpacity),Or.dependsOn(d,n)&&m&&m.applyVisual(e,h,f)}),s[n]},t.prototype.positionGroup=function(e){var n=this.visualMapModel,i=this.api;Ec(e,n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,n,i,a){},t.type="visualMap",t}(Hr),G2=nP,Am=[["left","right","width"],["top","bottom","height"]];function F2(r,t,e){var n=r.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:t.getWidth(),height:t.getHeight()},o=n.orient==="horizontal"?1:0,s=Am[o],u=[0,null,10],h={},f=0;f<3;f++)h[Am[1-o][f]]=u[f],h[s[f]]=f===2?e[0]:n[s[f]];var v=[["x","width",3],["y","height",0]][o],g=nn(h,a,n.padding);return s[(g.margin[v[2]]||0)+g[v[0]]+g[v[1]]*.5<a[v[1]]*.5?0:1]}function bl(r,t){return J(r||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),r}var qn=He,iP=J,Tm=Math.min,hf=Math.max,aP=12,oP=6,sP=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return t.prototype.init=function(e,n){r.prototype.init.call(this,e,n),this._hoverLinkFromSeriesMouseOver=Ht(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Ht(this._hideIndicator,this)},t.prototype.doRender=function(e,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,n=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(n);var i=e.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(e,n,i){if(!!n){var a=n[1-i];a=a!=null?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),u=o.itemSize,h=this._shapes.mainGroup,f=this._applyTransform([u[0]/2,i===0?-s:u[1]+s],h),v=this._applyTransform(i===0?"bottom":"top",h),g=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new ur({style:zr(d,{x:f[0],y:f[1],verticalAlign:g==="horizontal"?"middle":v,align:g==="horizontal"?v:"center",text:a})}))}},t.prototype._renderBar=function(e){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,o=this._orient,s=this._useHandle,u=F2(n,this.api,a),h=i.mainGroup=this._createBarGroup(u),f=new ee;h.add(f),f.add(i.outOfRange=Im()),f.add(i.inRange=Im(null,s?Dm(this._orient):null,Ht(this._dragHandle,this,"all",!1),Ht(this._dragHandle,this,"all",!0))),f.setClipPath(new Ue({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var v=n.textStyleModel.getTextRect("\u56FD"),g=hf(v.width,v.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,h,0,a,g,o),this._createHandle(n,h,1,a,g,o)),this._createIndicator(n,h,a,g,o),e.add(h)},t.prototype._createHandle=function(e,n,i,a,o,s){var u=Ht(this._dragHandle,this,i,!1),h=Ht(this._dragHandle,this,i,!0),f=Cl(e.get("handleSize"),a[0]),v=Gr(e.get("handleIcon"),-f/2,-f/2,f,f,null,!0),g=Dm(this._orient);v.attr({cursor:g,draggable:!0,drift:u,ondragend:h,onmousemove:function(S){da(S.event)}}),v.x=a[0]/2,v.useStyle(e.getModel("handleStyle").getItemStyle()),v.setStyle({strokeNoScale:!0,strokeFirst:!0}),v.style.lineWidth*=2,v.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Go(v,!0),n.add(v);var d=this.visualMapModel.textStyleModel,m=new ur({cursor:g,draggable:!0,drift:u,onmousemove:function(S){da(S.event)},ondragend:h,style:zr(d,{x:0,y:0,text:""})});m.ensureState("blur").style={opacity:.1},m.stateTransition={duration:200},this.group.add(m);var _=[f,0],b=this._shapes;b.handleThumbs[i]=v,b.handleLabelPoints[i]=_,b.handleLabels[i]=m},t.prototype._createIndicator=function(e,n,i,a,o){var s=Cl(e.get("indicatorSize"),i[0]),u=Gr(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);u.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var h=e.getModel("indicatorStyle").getItemStyle();if(u instanceof Jn){var f=u.style;u.useStyle(Ft({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},h))}else u.useStyle(h);n.add(u);var v=this.visualMapModel.textStyleModel,g=new ur({silent:!0,invisible:!0,style:zr(v,{x:0,y:0,text:""})});this.group.add(g);var d=[(o==="horizontal"?a/2:oP)+i[0]/2,0],m=this._shapes;m.indicator=u,m.indicatorLabel=g,m.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,n,i,a){if(!!this._useHandle){if(this._dragging=!n,!n){var o=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():Lm(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,n=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[qn(n[0],i,a,!0),qn(n[1],i,a,!0)]},t.prototype._updateInterval=function(e,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,o=[0,i.itemSize[1]];Ma(n,a,o,e,0);var s=i.getExtent();this._dataInterval=[qn(a[0],o,s,!0),qn(a[1],o,s,!0)]},t.prototype._updateView=function(e){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,o=[0,n.itemSize[1]],s=e?o:this._handleEnds,u=this._createBarVisual(this._dataInterval,i,s,"inRange"),h=this._createBarVisual(i,i,o,"outOfRange");a.inRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),a.outOfRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),this._updateHandle(s,u)},t.prototype._createBarVisual=function(e,n,i,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,o),u=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],h=this._createBarPoints(i,u);return{barColor:new lu(0,0,0,1,s),barPoints:h,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,n){var i=100,a=[],o=(e[1]-e[0])/i;a.push({color:this.getControllerVisual(e[0],"color",n),offset:0});for(var s=1;s<i;s++){var u=e[0]+o*s;if(u>e[1])break;a.push({color:this.getControllerVisual(u,"color",n),offset:s/i})}return a.push({color:this.getControllerVisual(e[1],"color",n),offset:1}),a},t.prototype._createBarPoints=function(e,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-n[1],e[1]]]},t.prototype._createBarGroup=function(e){var n=this._orient,i=this.visualMapModel.get("inverse");return new ee(n==="horizontal"&&!i?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,n){if(!!this._useHandle){var i=this._shapes,a=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,u=a.itemSize,h=a.getExtent();iP([0,1],function(f){var v=o[f];v.setStyle("fill",n.handlesColor[f]),v.y=e[f];var g=qn(e[f],[0,u[1]],h,!0),d=this.getControllerVisual(g,"symbolSize");v.scaleX=v.scaleY=d/u[0],v.x=u[0]-d/2;var m=Ti(i.handleLabelPoints[f],Ka(v,this.group));s[f].setStyle({x:m[0],y:m[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,n,i,a){var o=this.visualMapModel,s=o.getExtent(),u=o.itemSize,h=[0,u[1]],f=this._shapes,v=f.indicator;if(!!v){v.attr("invisible",!1);var g={convertOpacityToAlpha:!0},d=this.getControllerVisual(e,"color",g),m=this.getControllerVisual(e,"symbolSize"),_=qn(e,s,h,!0),b=u[0]-m/2,S={x:v.x,y:v.y};v.y=_,v.x=b;var I=Ti(f.indicatorLabelPoint,Ka(v,this.group)),A=f.indicatorLabel;A.attr("invisible",!1);var D=this._applyTransform("left",f.mainGroup),V=this._orient,R=V==="horizontal";A.setStyle({text:(i||"")+o.formatValueText(n),verticalAlign:R?D:"middle",align:R?"center":D});var Z={x:b,y:_,style:{fill:d}},j={style:{x:I[0],y:I[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var X={duration:100,easing:"cubicInOut",additive:!0};v.x=S.x,v.y=S.y,v.animateTo(Z,X),A.animateTo(j,X)}else v.attr(Z),A.attr(j);this._firstShowIndicator=!1;var et=this._shapes.handleLabels;if(et)for(var it=0;it<et.length;it++)this.api.enterBlur(et[it])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(n){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([n.offsetX,n.offsetY],e._shapes.mainGroup,!0,!0);a[1]=Tm(hf(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,n){var i=this.visualMapModel,a=i.itemSize;if(!!i.option.hoverLink){var o=[0,a[1]],s=i.getExtent();e=Tm(hf(o[0],e),o[1]);var u=lP(i,s,o),h=[e-u,e+u],f=qn(e,o,s,!0),v=[qn(h[0],o,s,!0),qn(h[1],o,s,!0)];h[0]<o[0]&&(v[0]=-1/0),h[1]>o[1]&&(v[1]=1/0),n&&(v[0]===-1/0?this._showIndicator(f,v[1],"< ",u):v[1]===1/0?this._showIndicator(f,v[0],"> ",u):this._showIndicator(f,f,"\u2248 ",u));var g=this._hoverLinkDataIndices,d=[];(n||Lm(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(v));var m=wS(g,d);this._dispatchHighDown("downplay",bl(m[0],i)),this._dispatchHighDown("highlight",bl(m[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var n;if(R1(e.target,function(u){var h=Ae(u);if(h.dataIndex!=null)return n=h,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(!!a.isTargetSeries(i)){var o=i.getData(n.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",bl(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,n,i,a){var o=Ka(n,a?null:this.group);return Ot(e)?Ti(e,o,i):Rc(e,o,i)},t.prototype._dispatchHighDown=function(e,n){n&&n.length&&this.api.dispatchAction({type:e,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(G2);function Im(r,t,e,n){return new Mn({shape:{points:r},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){da(i.event)},ondragend:n})}function lP(r,t,e){var n=aP/2,i=r.get("hoverLinkDataSize");return i&&(n=qn(i,t,e,!0)/2),n}function Lm(r){var t=r.get("hoverLinkOnHandle");return!!(t==null?r.get("realtime"):t)}function Dm(r){return r==="vertical"?"ns-resize":"ew-resize"}var uP=sP,hP={type:"selectDataRange",event:"dataRangeSelected",update:"update"},fP=function(r,t){t.eachComponent({mainType:"visualMap",query:r},function(e){e.setSelected(r.selected)})},cP=[{createOnAllSeries:!0,reset:function(r,t){var e=[];return t.eachComponent("visualMap",function(n){var i=r.pipelineContext;!n.isTargetSeries(r)||i&&i.large||e.push(SD(n.stateList,n.targetVisuals,Ht(n.getValueState,n),n.getDataDimensionIndex(r.getData())))}),e}},{createOnAllSeries:!0,reset:function(r,t){var e=r.getData(),n=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(r)){var a=i.getVisualMeta(Ht(vP,null,r,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(e);o>=0&&(a.dimension=o,n.push(a))}}),r.getData().setVisual("visualMeta",n)}}];function vP(r,t,e,n){for(var i=t.targetVisuals[n],a=Or.prepareVisualTypes(i),o={color:mu(r.getData(),"color")},s=0,u=a.length;s<u;s++){var h=a[s],f=i[h==="opacity"?"__alphaForOpacity":h];f&&f.applyVisual(e,v,g)}return o.color;function v(d){return o[d]}function g(d,m){o[d]=m}}var Pm=J;function dP(r){var t=r&&r.visualMap;Ot(t)||(t=t?[t]:[]),Pm(t,function(e){if(!!e){Va(e,"splitList")&&!Va(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var n=e.pieces;n&&Ot(n)&&Pm(n,function(i){Dr(i)&&(Va(i,"start")&&!Va(i,"min")&&(i.min=i.start),Va(i,"end")&&!Va(i,"max")&&(i.max=i.end))})}})}function Va(r,t){return r&&r.hasOwnProperty&&r.hasOwnProperty(t)}var km=!1;function H2(r){km||(km=!0,r.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),r.registerAction(hP,fP),J(cP,function(t){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,t)}),r.registerPreprocessor(dP))}function $2(r){r.registerComponentModel(rP),r.registerComponentView(uP),H2(r)}var pP=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return t.prototype.optionUpdated=function(e,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],gP[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var a=this.option.categories;this.resetVisual(function(o,s){i==="categories"?(o.mappingMethod="category",o.categories=ke(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Lt(this._pieceList,function(u){return u=ke(u),s!=="inRange"&&(u.visual=null),u}))})},t.prototype.completeVisualOption=function(){var e=this.option,n={},i=Or.listVisualTypes(),a=this.isCategory();J(e.pieces,function(s){J(i,function(u){s.hasOwnProperty(u)&&(n[u]=1)})}),J(n,function(s,u){var h=!1;J(this.stateList,function(f){h=h||o(e,f,u)||o(e.target,f,u)},this),!h&&J(this.stateList,function(f){(e[f]||(e[f]={}))[u]=B2.get(u,f==="inRange"?"active":"inactive",a)})},this);function o(s,u,h){return s&&s[u]&&s[u].hasOwnProperty(h)}r.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,n){var i=this.option,a=this._pieceList,o=(n?i:e).selected||{};if(i.selected=o,J(a,function(u,h){var f=this.getSelectedMapKey(u);o.hasOwnProperty(f)||(o[f]=!0)},this),i.selectedMode==="single"){var s=!1;J(a,function(u,h){var f=this.getSelectedMapKey(u);o[f]&&(s?o[f]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=ke(e)},t.prototype.getValueState=function(e){var n=Or.findPieceIndex(e,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(u,h){var f=Or.findPieceIndex(u,i);f===e&&o.push(h)},this),n.push({seriesId:a.id,dataIndex:o})},this),n},t.prototype.getRepresentValue=function(e){var n;if(this.isCategory())n=e.value;else if(e.value!=null)n=e.value;else{var i=e.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var n=[],i=["",""],a=this;function o(f,v){var g=a.getRepresentValue({interval:f});v||(v=a.getValueState(g));var d=e(g,v);f[0]===-1/0?i[0]=d:f[1]===1/0?i[1]=d:n.push({value:f[0],color:d},{value:f[1],color:d})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var u=s[0].interval[0];u!==-1/0&&s.unshift({interval:[-1/0,u]}),u=s[s.length-1].interval[1],u!==1/0&&s.push({interval:[u,1/0]})}var h=-1/0;return J(s,function(f){var v=f.interval;v&&(v[0]>h&&o([h,v[0]],"outOfRange"),o(v.slice()),h=v[1])},this),{stops:n,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=ba(Yl.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Yl),gP={splitNumber:function(r){var t=this.option,e=Math.min(t.precision,20),n=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&r.push({interval:[-1/0,n[0]],close:[0,0]});for(var o=0,s=n[0];o<i;s+=a,o++){var u=o===i-1?n[1]:s+a;r.push({interval:[s,u],close:[1,1]})}t.maxOpen&&r.push({interval:[n[1],1/0],close:[0,0]}),qd(r),J(r,function(h,f){h.index=f,h.text=this.formatValueText(h.interval)},this)},categories:function(r){var t=this.option;J(t.categories,function(e){r.push({text:this.formatValueText(e,!0),value:e})},this),Em(t,r)},pieces:function(r){var t=this.option;J(t.pieces,function(e,n){Dr(e)||(e={value:e});var i={text:"",index:n};if(e.label!=null&&(i.text=e.label),e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],u=[1,0,1],h=[-1/0,1/0],f=[],v=0;v<2;v++){for(var g=[["gte","gt","min"],["lte","lt","max"]][v],d=0;d<3&&o[v]==null;d++)o[v]=e[g[d]],s[v]=u[d],f[v]=d===2;o[v]==null&&(o[v]=h[v])}f[0]&&o[1]===1/0&&(s[0]=0),f[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=Or.retrieveVisuals(e),r.push(i)},this),Em(t,r),qd(r),J(r,function(e){var n=e.close,i=[["<","\u2264"][n[1]],[">","\u2265"][n[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,i)},this)}};function Em(r,t){var e=r.inverse;(r.orient==="vertical"?!e:e)&&t.reverse()}var mP=pP,yP=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,o=a.getFont(),s=a.getTextColor(),u=this._getItemAlign(),h=n.itemSize,f=this._getViewData(),v=f.endsText,g=un(n.get("showLabel",!0),!v);v&&this._renderEndsText(e,v[0],h,g,u),J(f.viewPieceList,function(d){var m=d.piece,_=new ee;_.onclick=Ht(this._onItemClick,this,m),this._enableHoverLink(_,d.indexInModelPieceList);var b=n.getRepresentValue(m);if(this._createItemSymbol(_,b,[0,0,h[0],h[1]]),g){var S=this.visualMapModel.getValueState(b);_.add(new ur({style:{x:u==="right"?-i:h[0]+i,y:h[1]/2,text:m.text,verticalAlign:"middle",align:u,font:o,fill:s,opacity:S==="outOfRange"?.5:1}}))}e.add(_)},this),v&&this._renderEndsText(e,v[1],h,g,u),SS(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,n){var i=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:bl(s.findTargetDataIndices(n),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,n=e.option;if(n.orient==="vertical")return F2(e,this.api,e.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(e,n,i,a,o){if(!!n){var s=new ee,u=this.visualMapModel.textStyleModel;s.add(new ur({style:zr(u,{x:a?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?o:"center",text:n})})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,n=Lt(e.getPieceList(),function(s,u){return{piece:s,indexInModelPieceList:u}}),i=e.get("text"),a=e.get("orient"),o=e.get("inverse");return(a==="horizontal"?o:!o)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},t.prototype._createItemSymbol=function(e,n,i){e.add(Gr(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color")))},t.prototype._onItemClick=function(e){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(!!a){var o=ke(i.selected),s=n.getSelectedMapKey(e);a==="single"||a===!0?(o[s]=!0,J(o,function(u,h){o[h]=h===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}(G2),_P=yP;function W2(r){r.registerComponentModel(mP),r.registerComponentView(_P),H2(r)}function xP(r){pe($2),pe(W2)}var bP={label:{enabled:!0},decal:{show:!1}},Rm=Qe(),wP={};function SP(r,t){var e=r.getModel("aria");if(!e.get("enabled"))return;var n=ke(bP);Be(n.label,r.getLocaleModel().get("aria"),!1),Be(e.option,n,!1),i(),a();function i(){var h=e.getModel("decal"),f=h.get("show");if(f){var v=de();r.eachSeries(function(g){if(!g.isColorBySeries()){var d=v.get(g.type);d||(d={},v.set(g.type,d)),Rm(g).scope=d}}),r.eachRawSeries(function(g){if(r.isSeriesFiltered(g))return;if(we(g.enableAriaDecal)){g.enableAriaDecal();return}var d=g.getData();if(g.isColorBySeries()){var I=If(g.ecModel,g.name,wP,r.getSeriesCount()),A=d.getVisual("decal");d.setVisual("decal",D(A,I))}else{var m=g.getRawData(),_={},b=Rm(g).scope;d.each(function(V){var R=d.getRawIndex(V);_[R]=V});var S=m.count();m.each(function(V){var R=_[V],Z=m.getName(V)||V+"",j=If(g.ecModel,Z,b,S),X=d.getItemVisual(R,"decal");d.setItemVisual(R,"decal",D(X,j))})}function D(V,R){var Z=V?Ft(Ft({},R),V):R;return Z.dirty=!0,Z}})}}function a(){var h=r.getLocaleModel().get("aria"),f=e.getModel("label");if(f.option=ve(f.option,h),!!f.get("enabled")){var v=t.getZr().dom;if(f.get("description")){v.setAttribute("aria-label",f.get("description"));return}var g=r.getSeriesCount(),d=f.get(["data","maxCount"])||10,m=f.get(["series","maxCount"])||10,_=Math.min(g,m),b;if(!(g<1)){var S=s();if(S){var I=f.get(["general","withTitle"]);b=o(I,{title:S})}else b=f.get(["general","withoutTitle"]);var A=[],D=g>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);b+=o(D,{seriesCount:g}),r.eachSeries(function(j,X){if(X<_){var et=void 0,it=j.get("name"),ht=it?"withName":"withoutName";et=g>1?f.get(["series","multiple",ht]):f.get(["series","single",ht]),et=o(et,{seriesId:j.seriesIndex,seriesName:j.get("name"),seriesType:u(j.subType)});var vt=j.getData();if(vt.count()>d){var st=f.get(["data","partialData"]);et+=o(st,{displayCnt:d})}else et+=f.get(["data","allData"]);for(var mt=f.get(["data","separator","middle"]),lt=f.get(["data","separator","end"]),Mt=[],xt=0;xt<vt.count();xt++)if(xt<d){var St=vt.getName(xt),Pt=vt.getValues(xt),Nt=f.get(["data",St?"withName":"withoutName"]);Mt.push(o(Nt,{name:St,value:Pt.join(mt)}))}et+=Mt.join(mt)+lt,A.push(et)}});var V=f.getModel(["series","multiple","separator"]),R=V.get("middle"),Z=V.get("end");b+=A.join(R)+Z,v.setAttribute("aria-label",b)}}}function o(h,f){if(!Se(h))return h;var v=h;return J(f,function(g,d){v=v.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),g)}),v}function s(){var h=r.get("title");return h&&h.length&&(h=h[0]),h&&h.text}function u(h){var f=r.getLocaleModel().get(["series","typeNames"]);return f[h]||f.chart}}function MP(r){if(!(!r||!r.aria)){var t=r.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},J(["description","general","series","data"],function(e){t[e]!=null&&(t.label[e]=t[e])})}}function CP(r){r.registerPreprocessor(MP),r.registerVisual(r.PRIORITY.VISUAL.ARIA,SP)}var zm={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},AP=function(){function r(t){var e=this._condVal=Se(t)?new RegExp(t):CS(t)?t:null;if(e==null){var n="";pr(n)}}return r.prototype.evaluate=function(t){var e=typeof t;return Se(e)?this._condVal.test(t):Xr(e)?this._condVal.test(t+""):!1},r}(),TP=function(){function r(){}return r.prototype.evaluate=function(){return this.value},r}(),IP=function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},r}(),LP=function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},r}(),DP=function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r}(),PP=function(){function r(){}return r.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,n=e(this.valueGetterParam),i=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:n))return!1;return!0},r}();function kv(r,t){if(r===!0||r===!1){var e=new TP;return e.value=r,e}var n="";return U2(r)||pr(n),r.and?Om("and",r,t):r.or?Om("or",r,t):r.not?kP(r,t):EP(r,t)}function Om(r,t,e){var n=t[r],i="";Ot(n)||pr(i),n.length||pr(i);var a=r==="and"?new IP:new LP;return a.children=Lt(n,function(o){return kv(o,e)}),a.children.length||pr(i),a}function kP(r,t){var e=r.not,n="";U2(e)||pr(n);var i=new DP;return i.child=kv(e,t),i.child||pr(n),i}function EP(r,t){for(var e="",n=t.prepareGetValue(r),i=[],a=lr(r),o=r.parser,s=o?Q1(o):null,u=0;u<a.length;u++){var h=a[u];if(!(h==="parser"||t.valueGetterAttrMap.get(h))){var f=zt(zm,h)?zm[h]:h,v=r[h],g=s?s(v):v,d=MS(f,g)||f==="reg"&&new AP(g);d||pr(e),i.push(d)}}i.length||pr(e);var m=new PP;return m.valueGetterParam=n,m.valueParser=s,m.getValue=t.getValue,m.subCondList=i,m}function U2(r){return Dr(r)&&!F1(r)}var RP=function(){function r(t,e){this._cond=kv(t,e)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r}();function zP(r,t){return new RP(r,t)}var OP={type:"echarts:filter",transform:function(r){for(var t=r.upstream,e,n=zP(r.config,{valueGetterAttrMap:de({dimension:!0}),prepareGetValue:function(s){var u="",h=s.dimension;zt(s,"dimension")||pr(u);var f=t.getDimensionInfo(h);return f||pr(u),{dimIdx:f.index}},getValue:function(s){return t.retrieveValueFromItem(e,s.dimIdx)}}),i=[],a=0,o=t.count();a<o;a++)e=t.getRawDataItem(a),n.evaluate()&&i.push(e);return{data:i}}},NP={type:"echarts:sort",transform:function(r){var t=r.upstream,e=r.config,n="",i=Yr(e);i.length||pr(n);var a=[];J(i,function(f){var v=f.dimension,g=f.order,d=f.parser,m=f.incomparable;if(v==null&&pr(n),g!=="asc"&&g!=="desc"&&pr(n),m&&m!=="min"&&m!=="max"){var _="";pr(_)}if(g!=="asc"&&g!=="desc"){var b="";pr(b)}var S=t.getDimensionInfo(v);S||pr(n);var I=d?Q1(d):null;d&&!I&&pr(n),a.push({dimIdx:S.index,parser:I,comparator:new AS(g,m)})});var o=t.sourceFormat;o!==G1&&o!==TS&&pr(n);for(var s=[],u=0,h=t.count();u<h;u++)s.push(t.getRawDataItem(u));return s.sort(function(f,v){for(var g=0;g<a.length;g++){var d=a[g],m=t.retrieveValueFromItem(f,d.dimIdx),_=t.retrieveValueFromItem(v,d.dimIdx);d.parser&&(m=d.parser(m),_=d.parser(_));var b=d.comparator.evaluate(m,_);if(b!==0)return b}return 0}),{data:s}}};function VP(r){r.registerTransform(OP),r.registerTransform(NP)}var BP=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.prototype.init=function(e,n,i){r.prototype.init.call(this,e,n,i),this._sourceManager=new IS(this),Yd(this)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),Yd(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:LS},t}(Pr),GP=function(r){_t(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.type="dataset",t}(Hr);function FP(r){r.registerComponentModel(BP),r.registerComponentView(GP)}const HP=Object.keys(u1);function $P(r){return HP.reduce((t,e)=>{const n=r[e];return n!==void 0&&(t[e]=n),t},{})}var pl=cb({name:"QBtnDropdown",props:{...u1,...vb,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(r,{slots:t,emit:e}){const{proxy:n}=mb(),i=Qr(r.modelValue),a=Qr(null),o=db(),s=tn(()=>{const D={"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true","aria-controls":o.value,"aria-label":r.toggleAriaLabel||n.$q.lang.label[i.value===!0?"collapse":"expand"](r.label)};return(r.disable===!0||r.split===!1&&r.disableMainBtn===!0||r.disableDropdown===!0)&&(D["aria-disabled"]="true"),D}),u=tn(()=>"q-btn-dropdown__arrow"+(i.value===!0&&r.noIconAnimation===!1?" rotate-180":"")+(r.split===!1?" q-btn-dropdown__arrow-container":"")),h=tn(()=>pb(r)),f=tn(()=>$P(r));to(()=>r.modelValue,D=>{a.value!==null&&a.value[D?"show":"hide"]()}),to(()=>r.split,A);function v(D){i.value=!0,e("beforeShow",D)}function g(D){e("show",D),e("update:modelValue",!0)}function d(D){i.value=!1,e("beforeHide",D)}function m(D){e("hide",D),e("update:modelValue",!1)}function _(D){e("click",D)}function b(D){yb(D),A(),e("click",D)}function S(D){a.value!==null&&a.value.toggle(D)}function I(D){a.value!==null&&a.value.show(D)}function A(D){a.value!==null&&a.value.hide(D)}return Object.assign(n,{show:I,hide:A,toggle:S}),Ni(()=>{r.modelValue===!0&&I()}),()=>{const D=[Pa(ai,{class:u.value,name:r.dropdownIcon||n.$q.iconSet.arrow.dropdown})];return r.disableDropdown!==!0&&D.push(Pa(xf,{ref:a,id:o.value,class:r.contentClass,style:r.contentStyle,cover:r.cover,fit:!0,persistent:r.persistent,noRouteDismiss:r.noRouteDismiss,autoClose:r.autoClose,anchor:r.menuAnchor,self:r.menuSelf,offset:r.menuOffset,separateClosePopup:!0,transitionShow:r.transitionShow,transitionHide:r.transitionHide,transitionDuration:r.transitionDuration,onBeforeShow:v,onShow:g,onBeforeHide:d,onHide:m},t.default)),r.split===!1?Pa(Te,{class:"q-btn-dropdown q-btn-dropdown--simple",...f.value,...s.value,disable:r.disable===!0||r.disableMainBtn===!0,noWrap:!0,round:!1,onClick:_},{default:()=>gb(t.label,[]).concat(D),loading:t.loading}):Pa(bf,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:r.rounded,square:r.square,...h.value,glossy:r.glossy,stretch:r.stretch},()=>[Pa(Te,{class:"q-btn-dropdown--current",...f.value,disable:r.disable===!0||r.disableMainBtn===!0,noWrap:!0,round:!1,onClick:b},{default:t.label,loading:t.loading}),Pa(Te,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...h.value,disable:r.disable===!0||r.disableDropdown===!0,rounded:r.rounded,color:r.color,textColor:r.textColor,dense:r.dense,size:r.size,padding:r.padding,ripple:r.ripple},()=>D)])}}});const WP=fi({name:"TopToolbar",emits:["menuAction"],props:{object:{type:Object,required:!1},selectedCount:{type:Number,required:!0},disableUndo:{type:Boolean,required:!1},disableRedo:{type:Boolean,required:!1},disablePaste:{type:Boolean,required:!1},zoom:{type:Number,required:!0},rulersGridVisible:{type:Boolean,required:!1}},setup(r,{emit:t}){const e=ty();function n(o,s=null){t("menuAction",o,s)}function i(){e.cookies.remove("token"),Kd.value=null,localStorage.removeItem("user")}const a=Qr(r.rulersGridVisible?"Enable":"Disable");return to(()=>r.rulersGridVisible,o=>{a.value=o?"Enable":"Disable"}),{menuActionEmit:n,logout:i,tools:ey,user:Kd,showRulersGrid:a,devVersion:FS}}}),Ze=r=>(h1("data-v-41dc03af"),r=r(),f1(),r),UP={style:{"margin-left":"10px","font-size":"10px",color:"gray","z-index":"99",position:"absolute","margin-top":"10px"}},ZP={class:"flex gap-1 sticky-top-tool-bar"},qP={class:"flex gap-1"},YP=Ze(()=>Y("strong",null,"Undo",-1)),XP=Ze(()=>Y("em",null," (Ctrl + Z)",-1)),jP=Ze(()=>Y("strong",null,"Redo",-1)),KP=Ze(()=>Y("em",null," (Ctrl + Y)",-1)),JP=Ze(()=>Y("strong",null,"Duplicate selected",-1)),QP=Ze(()=>Y("em",null," (Ctrl + D)",-1)),tk=Ze(()=>Y("strong",null,"Group selected",-1)),ek=Ze(()=>Y("em",null," (Ctrl + G)",-1)),rk=Ze(()=>Y("strong",null,"Ungroup selected",-1)),nk=Ze(()=>Y("em",null," (Ctrl + Shift + G)",-1)),ik=Ze(()=>Y("strong",null,"Add selected to library",-1)),ak=Ze(()=>Y("em",null," (Ctrl + L)",-1)),ok=Ze(()=>Y("strong",null,"Delete selected",-1)),sk=Ze(()=>Y("em",null," (Delete)",-1)),lk=Ze(()=>Y("strong",null,"Weld selected",-1)),uk=Ze(()=>Y("em",null," (Ctrl + B)",-1)),hk={class:"flex gap-1"},fk=Ze(()=>Y("strong",null,"Link",-1)),ck=Ze(()=>Y("strong",null,"Duplicate",-1)),vk=Ze(()=>Y("strong",null,"Rotate 90\xB0",-1)),dk=Ze(()=>Y("strong",null,"Rotate -90\xB0",-1)),pk=Ze(()=>Y("strong",null,"Flip horizontal",-1)),gk=Ze(()=>Y("strong",null,"Flip vertical",-1)),mk=Ze(()=>Y("strong",null,"Bring to front",-1)),yk=Ze(()=>Y("strong",null,"Send to Back",-1)),_k=Ze(()=>Y("strong",null,"Convert to",-1)),xk=Ze(()=>Y("strong",null,"Remove",-1)),bk={class:"flex"},wk={class:"flex items-center px-1"},Sk=["value"];function Mk(r,t,e,n,i,a){return Rt(),Ke(la,null,[Y("span",UP,dr(r.devVersion),1),nt(BS,{class:"toolbar text-white shadow-2"},{default:ot(()=>[nt(pl,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",class:"file-menu",label:"File",style:{width:"80px"}},{default:ot(()=>[nt(ii,null,{default:ot(()=>[se((Rt(),Zt(Pe,{clickable:"",class:"new-project-menu-item",onClick:t[0]||(t[0]=o=>r.menuActionEmit("newProject"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"assignment",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("New Project")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + R")]),_:1})]),_:1})]),_:1})),[[fe]]),se((Rt(),Zt(Pe,{clickable:"",onClick:t[1]||(t[1]=o=>r.menuActionEmit("importJsonAction"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"file_open",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Import")]),_:1})]),_:1})]),_:1})),[[fe]]),se((Rt(),Zt(Pe,{clickable:"",onClick:t[2]||(t[2]=o=>r.menuActionEmit("exportToJsonAction"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"file_open",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Export")]),_:1})]),_:1})]),_:1})),[[fe]]),se((Rt(),Zt(Pe,{clickable:"",onClick:t[3]||(t[3]=o=>r.menuActionEmit("save"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"save",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Save")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + S")]),_:1})]),_:1})]),_:1})),[[fe]])]),_:1})]),_:1}),nt(pl,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"Edit",style:{width:"80px"}},{default:ot(()=>[nt(ii,null,{default:ot(()=>[se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[4]||(t[4]=o=>r.menuActionEmit("copy"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"content_copy",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Copy")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + C")]),_:1})]),_:1})]),_:1})),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[5]||(t[5]=o=>r.menuActionEmit("paste")),disable:r.disablePaste},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"content_paste",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Paste")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + V")]),_:1})]),_:1})]),_:1},8,["disable"])),[[fe]]),nt(yn,{inset:"",spaced:""}),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[6]||(t[6]=o=>r.menuActionEmit("undoAction")),disable:r.disableUndo},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"undo",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Undo")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + Z")]),_:1})]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[7]||(t[7]=o=>r.menuActionEmit("redoAction")),disable:r.disableRedo},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"redo",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Redo")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + Y")]),_:1})]),_:1})]),_:1},8,["disable"])),[[fe]]),nt(yn,{inset:"",spaced:""}),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[8]||(t[8]=o=>r.menuActionEmit("duplicateSelected")),disable:r.selectedCount<1},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"content_copy",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Duplicate selected")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + D")]),_:1})]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[9]||(t[9]=o=>r.menuActionEmit("groupSelected")),disable:r.selectedCount<2},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"join_full",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Group selected")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + G")]),_:1})]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[10]||(t[10]=o=>r.menuActionEmit("ungroupSelected")),disable:r.selectedCount<2},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"join_inner",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Ungroup selected")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + Shift + G")]),_:1})]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[11]||(t[11]=o=>r.menuActionEmit("addToLibrary")),disable:r.selectedCount<2},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"library_books",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Add selected to library")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + L")]),_:1})]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[12]||(t[12]=o=>r.menuActionEmit("deleteSelected")),disable:r.selectedCount<1},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"delete",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Delete selected")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Delete")]),_:1})]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[13]||(t[13]=o=>r.menuActionEmit("weldSelected")),disable:!(r.selectedCount>=2)},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"splitscreen",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt("Weld selected")]),_:1})]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(dn,null,{default:ot(()=>[Wt("Ctrl + B")]),_:1})]),_:1})]),_:1},8,["disable"])),[[fe]])]),_:1})]),_:1}),nt(pl,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"Object",style:{width:"80px"},disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(ii,null,{default:ot(()=>[se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[14]||(t[14]=o=>r.menuActionEmit("link"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"link",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Link")]),_:1})]),_:1})),[[fe]]),nt(yn),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[15]||(t[15]=o=>r.menuActionEmit("duplicateObject"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"file_copy",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Duplicate")]),_:1})]),_:1})),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[16]||(t[16]=o=>r.menuActionEmit("rotate90"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"autorenew",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Rotate 90\xB0")]),_:1})]),_:1})),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[17]||(t[17]=o=>r.menuActionEmit("rotate-90"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"sync",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Rotate -90\xB0")]),_:1})]),_:1})),[[fe]]),nt(yn),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[18]||(t[18]=o=>r.menuActionEmit("flipH"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"flip",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Flip horizontal")]),_:1})]),_:1})),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[19]||(t[19]=o=>r.menuActionEmit("flipV"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"flip",color:"grey-7","text-color":"white",style:{transform:"rotate(90deg)"}})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Flip vertical")]),_:1})]),_:1})),[[fe]]),nt(yn),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[20]||(t[20]=o=>r.menuActionEmit("bringToFront"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"flip_to_front",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Bring to front")]),_:1})]),_:1})),[[fe]]),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[21]||(t[21]=o=>r.menuActionEmit("sendToBack"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"flip_to_back",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Send to Back")]),_:1})]),_:1})),[[fe]]),nt(yn),nt(Pe,{dense:"",clickable:""},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"transform",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Convert to")]),_:1}),nt(Dt,{side:""},{default:ot(()=>[nt(ai,{name:"keyboard_arrow_right"})]),_:1}),nt(xf,{anchor:"top end",self:"top start","auto-close":""},{default:ot(()=>[nt(ii,null,{default:ot(()=>[(Rt(!0),Ke(la,null,wl(r.tools.filter(o=>o.name!==r.object.type&&!["Duct","Pointer","Text"].includes(o.name)),o=>se((Rt(),Zt(Pe,{key:o.name,dense:"",clickable:"",onClick:s=>r.menuActionEmit("convertObjectType",o.name)},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:o.icon,color:"grey-7","text-color":"white"},null,8,["icon"])]),_:2},1024),nt(Dt,null,{default:ot(()=>[Wt(dr(o.name),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[fe]])),128))]),_:1})]),_:1})]),_:1}),nt(yn),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:t[22]||(t[22]=o=>r.menuActionEmit("removeObject"))},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"remove",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Remove")]),_:1})]),_:1})),[[fe]])]),_:1})]),_:1},8,["disable"]),nt(yn,{dark:"",vertical:""}),Y("div",ZP,[Y("div",qP,[se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"undo",onClick:t[23]||(t[23]=o=>r.menuActionEmit("undoAction")),disable:r.disableUndo},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[YP,XP]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"redo",onClick:t[24]||(t[24]=o=>r.menuActionEmit("redoAction")),disable:r.disableRedo},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[jP,KP]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"content_copy",onClick:t[25]||(t[25]=o=>r.menuActionEmit("duplicateSelected")),disable:r.selectedCount<1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[JP,QP]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"join_full",onClick:t[26]||(t[26]=o=>r.menuActionEmit("groupSelected")),disable:r.selectedCount<2},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[tk,ek]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"join_inner",onClick:t[27]||(t[27]=o=>r.menuActionEmit("ungroupSelected")),disable:r.selectedCount<2},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[rk,nk]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"library_books",onClick:t[28]||(t[28]=o=>r.menuActionEmit("addToLibrary")),disable:r.selectedCount<2},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[ik,ak]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"delete",onClick:t[29]||(t[29]=o=>r.menuActionEmit("deleteSelected")),disable:r.selectedCount<1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[ok,sk]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"splitscreen",onClick:t[30]||(t[30]=o=>r.menuActionEmit("weldSelected")),disable:!(r.selectedCount>=2)},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[lk,uk]),_:1})]),_:1},8,["disable"])),[[fe]])]),nt(yn,{dark:"",vertical:""}),Y("div",hk,[se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"link",onClick:t[31]||(t[31]=o=>r.menuActionEmit("link")),disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[fk]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"file_copy",onClick:t[32]||(t[32]=o=>r.menuActionEmit("duplicateObject")),disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[ck]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"autorenew",onClick:t[33]||(t[33]=o=>r.menuActionEmit("rotate90")),disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[vk]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"sync",onClick:t[34]||(t[34]=o=>r.menuActionEmit("rotate-90")),disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[dk]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"flip",onClick:t[35]||(t[35]=o=>r.menuActionEmit("flipH")),disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[pk]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"flip",onClick:t[36]||(t[36]=o=>r.menuActionEmit("flipV")),style:{transform:"rotate(90deg)"},disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[gk]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"flip_to_front",onClick:t[37]||(t[37]=o=>r.menuActionEmit("bringToFront")),disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[mk]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"flip_to_back",onClick:t[38]||(t[38]=o=>r.menuActionEmit("sendToBack")),disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[yk]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"transform",disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(xf,{anchor:"top end",self:"top start","auto-close":""},{default:ot(()=>[nt(ii,null,{default:ot(()=>[(Rt(!0),Ke(la,null,wl(r.tools.filter(o=>o.name!==r.object.type&&!["Duct","Pointer","Text"].includes(o.name)),o=>se((Rt(),Zt(Pe,{key:o.name,dense:"",clickable:"",onClick:s=>r.menuActionEmit("convertObjectType",o.name)},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:o.icon,color:"grey-7","text-color":"white"},null,8,["icon"])]),_:2},1024),nt(Dt,null,{default:ot(()=>[Wt(dr(o.name),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[fe]])),128))]),_:1})]),_:1}),nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[_k]),_:1})]),_:1},8,["disable"])),[[fe]]),se((Rt(),Zt(Te,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"remove",onClick:t[39]||(t[39]=o=>r.menuActionEmit("removeObject")),disable:!r.selectedCount||r.selectedCount>1},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[xk]),_:1})]),_:1},8,["disable"])),[[fe]])])]),nt(DS),Y("div",bk,[nt(_b,{color:"blue","false-value":"Disable","true-value":"Enable",modelValue:r.showRulersGrid,"onUpdate:modelValue":[t[40]||(t[40]=o=>r.showRulersGrid=o),t[41]||(t[41]=o=>r.menuActionEmit("toggleRulersGrid",r.showRulersGrid))],size:"xs"},{default:ot(()=>[nt(or,{anchor:"top middle",self:"bottom middle"},{default:ot(()=>[Wt(" Show rulers and grid ("+dr(r.showRulersGrid)+") ",1)]),_:1})]),_:1},8,["modelValue"]),nt(Te,{onClick:t[42]||(t[42]=o=>r.menuActionEmit("zoomOut")),disable:r.zoom<=10,dense:"",flat:"",size:"sm",icon:"zoom_out"},null,8,["disable"]),Y("div",wk,[Y("input",{class:"zoom-input",onKeydown:t[43]||(t[43]=xb(o=>r.menuActionEmit("zoomSet",o.target.value),["enter"])),value:r.zoom,type:"number"},null,40,Sk),Wt("% ")]),nt(Te,{onClick:t[44]||(t[44]=o=>r.menuActionEmit("zoomIn")),disable:r.zoom>=400,dense:"",flat:"",size:"sm",icon:"zoom_in"},null,8,["disable"]),Y("div",null,[r.user?(Rt(),Zt(pl,{key:1,"no-caps":"",flat:"",dense:"","content-class":"menu-dropdown",label:r.user.name,class:"px-2 ml-4"},{default:ot(()=>[nt(ii,null,{default:ot(()=>[nt(Pe,{dense:""},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"person",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,{class:"text-zinc-500"},{default:ot(()=>[Wt(dr(r.user.name),1)]),_:1})]),_:1}),nt(yn),se((Rt(),Zt(Pe,{dense:"",clickable:"",onClick:r.logout},{default:ot(()=>[nt(Dt,{avatar:""},{default:ot(()=>[nt(Fe,{size:"sm",icon:"logout",color:"grey-7","text-color":"white"})]),_:1}),nt(Dt,null,{default:ot(()=>[Wt("Logout")]),_:1})]),_:1},8,["onClick"])),[[fe]])]),_:1})]),_:1},8,["label"])):(Rt(),Zt(Te,{key:0,flat:"",color:"primary",label:"Login",to:"/login"}))])])]),_:1})],64)}var GN=wa(WP,[["render",Mk],["__scopeId","data-v-41dc03af"]]);const Ck=fi({name:"ToolConfig",props:{object:{type:Object,required:!0}},emits:["refreshMoveable","T3UpdateEntryField","linkT3Entry","gaugeSettings","mounted","noChange"],setup(r,{emit:t}){let e={};Ni(()=>{e=th.exports.cloneDeep(r.object),t("mounted")});const n=tn({get(){return r.object},set(b,S){b!==S&&t("update:object",b)}}),i=tn(()=>{var b;return((b=ey.find(S=>S.name===r.object.type))==null?void 0:b.settings)||{}}),a=tn(()=>{var A,D;const b=(D=(A=Ja.getEntryRange(r.object.t3Entry))==null?void 0:A.options)==null?void 0:D.filter(V=>V.status===1),S=th.exports.cloneDeep(b);return S==null?void 0:S.map(V=>(V.value=V.value,V))}),o=tn(()=>{var S,I,A,D;const b=[{label:"None",value:"none"},{label:"ID",value:"id"}];return((S=n.value.t3Entry)==null?void 0:S.label)!==void 0&&b.push({label:"Label",value:"label"}),((I=n.value.t3Entry)==null?void 0:I.description)!==void 0&&b.push({label:"Description",value:"description"}),((A=n.value.t3Entry)==null?void 0:A.value)!==void 0&&b.push({label:"Value",value:((D=n.value.t3Entry)==null?void 0:D.digital_analog)===1?"value":"control"}),b});function s(){n.value.type==="Int_Ext_Wall"&&(n.value.settings.strokeWidth=Xd.Hvac.PageMain.GetExteriorWallStrokeWidth(n.value.height)),t("refreshMoveable")}function u(b,S){t("T3UpdateEntryField",b,S)}function h(){t("linkT3Entry")}function f(b){t("gaugeSettings",b)}bb(()=>{th.exports.isEqual(r.object,e)&&t("noChange")});function v(b){var I;const S=jd.find(A=>A.value===b);return(I=S==null?void 0:S.icon)!=null&&I.off?S.icon.off:"block"}function g(b){n.value.type==="Int_Ext_Wall"&&(n.value.height=Xd.Hvac.PageMain.GetExteriorWallHeight(n.value.settings.strokeWidth),t("refreshMoveable"))}function d(b){t("DisplayFieldValueChanged",b)}const m=b=>Ja.getEntryRange(b),_=tn(()=>"   "+Ja.getUnitText(n.value.t3Entry));return{item:n,refreshMoveable:s,T3UpdateEntryField:u,linkT3Entry:h,t3EntryDisplayFieldOptions:o,gaugeSettings:f,icons:GS,switchIcons:jd,settings:i,getEntryRange:m,getSwitchIcon:v,rangeOptions:a,updatePropsValue:g,DisplayFieldValueChanged:d,unitText:_}}}),Ev=r=>(h1("data-v-c311f1fe"),r=r(),f1(),r),Ak={key:0,class:"item-config flex flex-nowrap column"},Tk={class:"leading-8 font-bold text-white"},Ik={class:"item-config-inner"},Lk={key:0},Dk=Ev(()=>Y("p",null,"Link with an entry",-1)),Pk=[Dk],kk={key:1,style:{"text-align":"left",width:"100%"}},Ek={style:{"font-size":"13px"}},Rk={key:1,class:"p-1"},zk={class:"p-1"},Ok={class:"grid gap-4 grid-cols-2 mb-4"},Nk={class:"w-full relative mb-2"},Vk={class:"flex flex-nowrap items-center mb-2"},Bk={class:"ml-2",for:"bg-color-input"},Gk={key:0,class:"flex flex-nowrap justify-center items-center mb-2"},Fk=Ev(()=>Y("div",{class:"mx-1"},"Align",-1)),Hk={key:1,class:"flex flex-nowrap justify-center items-center mb-2"},$k=Ev(()=>Y("div",{class:"mx-1"},"Align",-1)),Wk={key:2,class:"flex flex-nowrap items-center mb-2"},Uk=["onUpdate:modelValue"],Zk={class:"ml-2",for:"text-color-input"},qk={key:3,class:"w-full relative mb-2"},Yk={key:4,class:"w-full relative mb-2"},Xk={key:5,class:"w-full mb-2"},jk={key:6,class:"w-full mb-2"};function Kk(r,t,e,n,i,a){var o,s,u,h,f,v,g,d;return r.item?(Rt(),Ke("div",Ak,[Y("h3",Tk,dr(r.item.type),1),Y("div",Ik,[Y("div",null,[["Gauge","Dial"].includes(r.item.type)?(Rt(),Zt(Te,{key:0,dark:"",outline:"","no-caps":"",stretch:"",icon:"settings",class:"text-white w-full mb-2",label:"Settings",onClick:t[0]||(t[0]=m=>r.gaugeSettings(r.item))})):Wr("",!0),nt(Te,{dark:"",outline:"","no-caps":"",stretch:"",class:"text-white w-full link-t3-entry",onClick:r.linkT3Entry},{default:ot(()=>[r.item.t3Entry?Wr("",!0):(Rt(),Ke("div",Lk,Pk)),r.item.t3Entry?(Rt(),Ke("div",kk,[Y("p",Ek,[Wt("Linked with "),nt(ai,{name:"dataset_linked",style:{"font-size":"18px"}})]),Y("p",null,dr(r.item.t3Entry.description),1)])):Wr("",!0)]),_:1},8,["onClick"]),r.item.t3Entry?(Rt(),Ke("div",Rk,[r.item.t3Entry.auto_manual!==void 0?(Rt(),Zt(ri,{key:0,class:"mb-1",filled:"",dark:"",modelValue:r.item.t3Entry.auto_manual,"onUpdate:modelValue":[t[1]||(t[1]=m=>r.item.t3Entry.auto_manual=m),t[2]||(t[2]=m=>r.T3UpdateEntryField("auto_manual",r.item))],options:[{label:"Auto",value:0},{label:"Manual",value:1}],label:"Auto/Manual","emit-value":"","map-options":""},null,8,["modelValue"])):Wr("",!0),r.item.t3Entry.range<101&&r.item.t3Entry.digital_analog===0&&r.item.t3Entry.range?(Rt(),Zt(ri,{key:1,class:"mb-1",disable:((o=r.item.t3Entry)==null?void 0:o.auto_manual)===0,filled:"",dark:"",modelValue:r.item.t3Entry.control,"onUpdate:modelValue":[t[3]||(t[3]=m=>r.item.t3Entry.control=m),t[4]||(t[4]=m=>r.T3UpdateEntryField("control",r.item))],options:[{label:(s=r.getEntryRange(r.item.t3Entry))==null?void 0:s.off,value:0},{label:(u=r.getEntryRange(r.item.t3Entry))==null?void 0:u.on,value:1}],label:"Value","emit-value":"","map-options":""},null,8,["disable","modelValue","options"])):Wr("",!0),r.item.t3Entry.range>100?(Rt(),Zt(ri,{key:2,class:"mb-1",disable:((h=r.item.t3Entry)==null?void 0:h.auto_manual)===0,filled:"",dark:"",modelValue:r.item.t3Entry.value,"onUpdate:modelValue":[t[5]||(t[5]=m=>r.item.t3Entry.value=m),t[6]||(t[6]=m=>r.T3UpdateEntryField("value",r.item))],options:r.rangeOptions,label:"Value","emit-value":"","map-options":"","option-label":"name"},null,8,["disable","modelValue","options"])):r.item.t3Entry.type==="PROGRAM"?(Rt(),Zt(ri,{key:3,class:"mb-1",disable:((f=r.item.t3Entry)==null?void 0:f.auto_manual)===0,filled:"",dark:"",modelValue:r.item.t3Entry.status,"onUpdate:modelValue":[t[7]||(t[7]=m=>r.item.t3Entry.status=m),t[8]||(t[8]=m=>r.T3UpdateEntryField("status",r.item))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Status","emit-value":"","map-options":""},null,8,["disable","modelValue"])):r.item.t3Entry.type==="SCHEDULE"?(Rt(),Zt(ri,{key:4,class:"mb-1",disable:((v=r.item.t3Entry)==null?void 0:v.auto_manual)===0,filled:"",dark:"",modelValue:r.item.t3Entry.output,"onUpdate:modelValue":[t[9]||(t[9]=m=>r.item.t3Entry.output=m),t[10]||(t[10]=m=>r.T3UpdateEntryField("output",r.item))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Output","emit-value":"","map-options":""},null,8,["disable","modelValue"])):r.item.t3Entry.type==="HOLIDAY"?(Rt(),Zt(ri,{key:5,class:"mb-1",disable:((g=r.item.t3Entry)==null?void 0:g.auto_manual)===0,filled:"",dark:"",modelValue:r.item.t3Entry.value,"onUpdate:modelValue":[t[11]||(t[11]=m=>r.item.t3Entry.value=m),t[12]||(t[12]=m=>r.T3UpdateEntryField("value",r.item))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Value","emit-value":"","map-options":""},null,8,["disable","modelValue"])):Wr("",!0),r.item.t3Entry.range<101&&r.item.t3Entry.digital_analog===1?(Rt(),Zt(Rn,{key:6,class:"mb-1",disable:((d=r.item.t3Entry)==null?void 0:d.auto_manual)===0,filled:"",dark:"",type:"number",modelValue:r.item.t3Entry.value,"onUpdate:modelValue":[t[13]||(t[13]=m=>r.item.t3Entry.value=m),t[14]||(t[14]=m=>r.T3UpdateEntryField("value",r.item))],modelModifiers:{number:!0},label:"Value",suffix:r.unitText},null,8,["disable","modelValue","suffix"])):Wr("",!0),nt(ri,{filled:"",dark:"",modelValue:r.item.settings.t3EntryDisplayField,"onUpdate:modelValue":[t[15]||(t[15]=m=>r.item.settings.t3EntryDisplayField=m),t[16]||(t[16]=m=>r.DisplayFieldValueChanged(r.item.settings.t3EntryDisplayField))],options:r.t3EntryDisplayFieldOptions,label:"Display field","emit-value":"","map-options":""},null,8,["modelValue","options"])])):Wr("",!0)]),nt(Ib,{class:"mb-2 border border-solid border-gray-700",dark:"","default-opened":"",label:"General"},{default:ot(()=>{var m;return[Y("div",zk,[Y("div",Ok,[nt(Rn,{"input-style":"width: 100%","onUpdate:modelValue":[r.refreshMoveable,t[17]||(t[17]=_=>r.item.translate[0]=_)],label:"X",modelValue:r.item.translate[0],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),nt(Rn,{"input-style":"width: 100%","onUpdate:modelValue":[r.refreshMoveable,t[18]||(t[18]=_=>r.item.translate[1]=_)],label:"Y",modelValue:r.item.translate[1],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),nt(Rn,{"input-style":"width: 100%","onUpdate:modelValue":[r.refreshMoveable,t[19]||(t[19]=_=>r.item.width=_)],label:"Width",modelValue:r.item.width,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),nt(Rn,{"input-style":"width: 100%","onUpdate:modelValue":[r.refreshMoveable,t[20]||(t[20]=_=>r.item.height=_)],label:"Height",modelValue:r.item.height,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),nt(Rn,{"input-style":"width: 100%","onUpdate:modelValue":[r.refreshMoveable,t[21]||(t[21]=_=>r.item.rotate=_)],label:"Rotate",modelValue:r.item.rotate,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),nt(Rn,{"input-style":"width: 100%",label:"Font size",modelValue:r.item.settings.fontSize,"onUpdate:modelValue":t[22]||(t[22]=_=>r.item.settings.fontSize=_),modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"])]),Y("div",Nk,[nt(Rn,{dark:"",filled:"",modelValue:r.item.settings.title,"onUpdate:modelValue":t[23]||(t[23]=_=>r.item.settings.title=_),label:"Title"},null,8,["modelValue"]),se(Y("input",{type:"color",class:"absolute top-2 right-2","onUpdate:modelValue":t[24]||(t[24]=_=>r.item.settings.titleColor=_)},null,512),[[qu,r.item.settings.titleColor]])]),Y("div",Vk,[se(Y("input",{type:"color",id:"bg-color-input","onUpdate:modelValue":t[25]||(t[25]=_=>r.item.settings.bgColor=_)},null,512),[[qu,r.item.settings.bgColor]]),Y("label",Bk,dr(((m=r.settings.bgColor)==null?void 0:m.label)||"Background color"),1)]),(Rt(!0),Ke(la,null,wl(r.settings,(_,b)=>(Rt(),Ke(la,{key:b},[["bgColor","title","titleColor"].includes(b)?Wr("",!0):(Rt(),Ke(la,{key:0},[_.type==="justifyContent"?(Rt(),Ke("div",Gk,[Fk,nt(bf,{push:""},{default:ot(()=>[nt(Te,{push:"",icon:"format_align_left",color:r.item.settings[b]==="flex-start"?"grey-9":null,"text-color":"grey-5",onClick:S=>r.item.settings[b]="flex-start"},null,8,["color","onClick"]),nt(Te,{push:"",icon:"format_align_center",color:r.item.settings[b]==="center"?"grey-9":null,"text-color":"grey-5",onClick:S=>r.item.settings[b]="center"},null,8,["color","onClick"]),nt(Te,{push:"",icon:"format_align_right",color:r.item.settings[b]==="flex-end"?"grey-9":null,"text-color":"grey-5",onClick:S=>r.item.settings[b]="flex-end"},null,8,["color","onClick"])]),_:2},1024)])):_.type==="textAlign"?(Rt(),Ke("div",Hk,[$k,nt(bf,{push:""},{default:ot(()=>[nt(Te,{push:"",icon:"format_align_left",color:r.item.settings[b]==="left"?"grey-9":null,"text-color":"grey-5",onClick:S=>r.item.settings[b]="left"},null,8,["color","onClick"]),nt(Te,{push:"",icon:"format_align_center",color:r.item.settings[b]==="center"?"grey-9":null,"text-color":"grey-5",onClick:S=>r.item.settings[b]="center"},null,8,["color","onClick"]),nt(Te,{push:"",icon:"format_align_right",color:r.item.settings[b]==="right"?"grey-9":null,"text-color":"grey-5",onClick:S=>r.item.settings[b]="right"},null,8,["color","onClick"])]),_:2},1024)])):_.type==="color"?(Rt(),Ke("div",Wk,[se(Y("input",{type:"color",id:"text-color-input","onUpdate:modelValue":S=>r.item.settings[b]=S},null,8,Uk),[[qu,r.item.settings[b]]]),Y("label",Zk,dr(_.label),1)])):_.type==="text"?(Rt(),Ke("div",qk,[nt(Rn,{autogrow:"",autofocus:"",dark:"",filled:"",modelValue:r.item.settings[b],"onUpdate:modelValue":S=>r.item.settings[b]=S,label:_.label},null,8,["modelValue","onUpdate:modelValue","label"])])):_.type==="number"?(Rt(),Ke("div",Yk,[nt(Rn,{class:"mb-1",filled:"",dark:"",type:"number",modelValue:r.item.settings[b],"onUpdate:modelValue":[S=>r.item.settings[b]=S,S=>r.updatePropsValue(b)],modelModifiers:{number:!0},label:_.label},null,8,["modelValue","onUpdate:modelValue","label"])])):_.type==="icon"?(Rt(),Ke("div",Xk,[nt(ri,{filled:"",dark:"",modelValue:r.item.settings[b],"onUpdate:modelValue":S=>r.item.settings[b]=S,options:r.icons,label:_.label,"emit-value":"","map-options":""},{prepend:ot(()=>[nt(ai,{name:r.item.settings[b]||"block"},null,8,["name"])]),option:ot(S=>[nt(Pe,Sd({ref_for:!0},S.itemProps),{default:ot(()=>[nt(Dt,{avatar:"",class:"pr-1 min-w-0"},{default:ot(()=>[nt(ai,{name:S.opt.value||"block"},null,8,["name"])]),_:2},1024),nt(Dt,{class:"grow"},{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt(dr(S.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","label"])])):_.type==="iconSwitch"?(Rt(),Ke("div",jk,[nt(ri,{filled:"",dark:"",modelValue:r.item.settings[b],"onUpdate:modelValue":S=>r.item.settings[b]=S,options:r.switchIcons,label:_.label,"emit-value":"","map-options":""},{prepend:ot(()=>[nt(ai,{name:r.getSwitchIcon(r.item.settings[b])},null,8,["name"])]),option:ot(S=>[nt(Pe,Sd({ref_for:!0},S.itemProps),{default:ot(()=>[nt(Dt,{avatar:"",class:"pr-1 min-w-0"},{default:ot(()=>[nt(ai,{name:S.opt.icon.off||"block"},null,8,["name"])]),_:2},1024),nt(Dt,{class:"grow"},{default:ot(()=>[nt(Ce,null,{default:ot(()=>[Wt(dr(S.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","label"])])):_.type==="boolean"?(Rt(),Zt(wb,{key:7,dark:"",filled:"",modelValue:r.item.settings[b],"onUpdate:modelValue":S=>r.item.settings[b]=S,class:"text-white w-full",label:_.label,disable:b==="active"&&(r.item.t3Entry&&r.item.t3Entry.auto_manual===0||r.item.t3Entry&&r.item.t3Entry.digital_analog===1)||r.item.t3Entry&&r.item.t3Entry.decom!==void 0},{default:ot(()=>{var S;return[b==="active"&&((S=r.item.t3Entry)==null?void 0:S.auto_manual)===0?(Rt(),Zt(or,{key:0,anchor:"center left",self:"center end"},{default:ot(()=>[Wt(" Manual changes are not possible as the linked entry is set to auto mode. ")]),_:1})):Wr("",!0)]}),_:2},1032,["modelValue","onUpdate:modelValue","label","disable"])):Wr("",!0)],64))],64))),128))])]}),_:1})])])):Wr("",!0)}var FN=wa(Ck,[["render",Kk],["__scopeId","data-v-c311f1fe"]]),Z2={exports:{}},Jk={},Qk=Object.freeze(Object.defineProperty({__proto__:null,default:Jk},Symbol.toStringTag,{value:"Module"})),Nm=HS(Qk);/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(r){(function(t,e){t=t||Nm;var n=t.window,i=t.document,a=new function(){var l=/^(statics|enumerable|beans|preserve)$/,c=[],p=c.slice,y=Object.create,x=Object.getOwnPropertyDescriptor,w=Object.defineProperty,C=c.forEach||function(E,k){for(var $=0,B=this.length;$<B;$++)E.call(k,this[$],$,this)},M=function(E,k){for(var $ in this)this.hasOwnProperty($)&&E.call(k,this[$],$,this)},T=Object.assign||function(E){for(var k=1,$=arguments.length;k<$;k++){var B=arguments[k];for(var W in B)B.hasOwnProperty(W)&&(E[W]=B[W])}return E},L=function(E,k,$){if(E){var B=x(E,"length");(B&&typeof B.value=="number"?C:M).call(E,k,$=$||E)}return $};function z(E,k,$,B,W){var O={};function F(H,K){K=K||(K=x(k,H))&&(K.get?K:K.value),typeof K=="string"&&K[0]==="#"&&(K=E[K.substring(1)]||K);var tt=typeof K=="function",rt=K,ft=W||tt&&!K.base?K&&K.get?H in E:E[H]:null,Q;(!W||!ft)&&(tt&&ft&&(K.base=ft),tt&&B!==!1&&(Q=H.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(O[Q[3].toLowerCase()+Q[4]]=Q[2]),(!rt||tt||!rt.get||typeof rt.get!="function"||!N.isPlainObject(rt))&&(rt={value:rt,writable:!0}),(x(E,H)||{configurable:!0}).configurable&&(rt.configurable=!0,rt.enumerable=$!=null?$:!Q),w(E,H,rt))}if(k){for(var P in k)k.hasOwnProperty(P)&&!l.test(P)&&F(P);for(var P in O){var G=O[P],U=E["set"+G],q=E["get"+G]||U&&E["is"+G];q&&(B===!0||q.length===0)&&F(P,{get:q,set:U})}}return E}function N(){for(var E=0,k=arguments.length;E<k;E++){var $=arguments[E];$&&T(this,$)}return this}return z(N,{inject:function(E){if(E){var k=E.statics===!0?E:E.statics,$=E.beans,B=E.preserve;k!==E&&z(this.prototype,E,E.enumerable,$,B),z(this,k,null,$,B)}for(var W=1,O=arguments.length;W<O;W++)this.inject(arguments[W]);return this},extend:function(){for(var E=this,k,$,B=0,W,O=arguments.length;B<O&&!(k&&$);B++)W=arguments[B],k=k||W.initialize,$=$||W.prototype;return k=k||function(){E.apply(this,arguments)},$=k.prototype=$||y(this.prototype),w($,"constructor",{value:k,writable:!0,configurable:!0}),z(k,this),arguments.length&&this.inject.apply(k,arguments),k.base=E,k}}).inject({enumerable:!1,initialize:N,set:N,inject:function(){for(var E=0,k=arguments.length;E<k;E++){var $=arguments[E];$&&z(this,$,$.enumerable,$.beans,$.preserve)}return this},extend:function(){var E=y(this);return E.inject.apply(E,arguments)},each:function(E,k){return L(this,E,k)},clone:function(){return new this.constructor(this)},statics:{set:T,each:L,create:y,define:w,describe:x,clone:function(E){return T(new E.constructor,E)},isPlainObject:function(E){var k=E!=null&&E.constructor;return k&&(k===Object||k===N||k.name==="Object")},pick:function(E,k){return E!==e?E:k},slice:function(E,k,$){return p.call(E,k,$)}}})};r.exports=a,a.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+a.each(this,function(l,c){if(!/^_/.test(c)){var p=typeof l;this.push(c+": "+(p==="number"?f.instance.number(l):p==="string"?"'"+l+"'":l))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(l){return a.importJSON(l,this)},exportJSON:function(l){return a.exportJSON(this,l)},toJSON:function(){return a.serialize(this)},set:function(l,c){return l&&a.filter(this,l,c,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function l(){var c=l.base.apply(this,arguments),p=c.prototype._class;return p&&!a.exports[p]&&(a.exports[p]=c),c},equals:function(l,c){if(l===c)return!0;if(l&&l.equals)return l.equals(c);if(c&&c.equals)return c.equals(l);if(l&&c&&typeof l=="object"&&typeof c=="object"){if(Array.isArray(l)&&Array.isArray(c)){var p=l.length;if(p!==c.length)return!1;for(;p--;)if(!a.equals(l[p],c[p]))return!1}else{var y=Object.keys(l),p=y.length;if(p!==Object.keys(c).length)return!1;for(;p--;){var x=y[p];if(!(c.hasOwnProperty(x)&&a.equals(l[x],c[x])))return!1}}return!0}return!1},read:function(l,c,p,y){if(this===a){var x=this.peek(l,c);return l.__index++,x}var w=this.prototype,C=w._readIndex,M=c||C&&l.__index||0,T=l.length,L=l[M];if(y=y||T-M,L instanceof this||p&&p.readNull&&L==null&&y<=1)return C&&(l.__index=M+1),L&&p&&p.clone?L.clone():L;if(L=a.create(w),C&&(L.__read=!0),L=L.initialize.apply(L,M>0||M+y<T?a.slice(l,M,M+y):l)||L,C){l.__index=M+L.__read;var z=L.__filtered;z&&(l.__filtered=z,L.__filtered=e),L.__read=e}return L},peek:function(l,c){return l[l.__index=c||l.__index||0]},remain:function(l){return l.length-(l.__index||0)},readList:function(l,c,p,y){for(var x=[],w,C=c||0,M=y?C+y:l.length,T=C;T<M;T++)x.push(Array.isArray(w=l[T])?this.read(w,0,p):this.read(l,T,p,1));return x},readNamed:function(l,c,p,y,x){var w=this.getNamed(l,c),C=w!==e;if(C){var M=l.__filtered;if(!M){var T=this.getSource(l);M=l.__filtered=a.create(T),M.__unfiltered=T}M[c]=e}return this.read(C?[w]:l,p,y,x)},readSupported:function(l,c){var p=this.getSource(l),y=this,x=!1;return p&&Object.keys(p).forEach(function(w){if(w in c){var C=y.readNamed(l,w);C!==e&&(c[w]=C),x=!0}}),x},getSource:function(l){var c=l.__source;if(c===e){var p=l.length===1&&l[0];c=l.__source=p&&a.isPlainObject(p)?p:null}return c},getNamed:function(l,c){var p=this.getSource(l);if(p)return c?p[c]:l.__filtered||p},hasNamed:function(l,c){return!!this.getNamed(l,c)},filter:function(l,c,p,y){var x;function w(z){if(!(p&&z in p)&&!(x&&z in x)){var N=c[z];N!==e&&(l[z]=N)}}if(y){for(var C={},M=0,T,L=y.length;M<L;M++)(T=y[M])in c&&(w(T),C[T]=!0);x=C}return Object.keys(c.__unfiltered||c).forEach(w),l},isPlainValue:function(l,c){return a.isPlainObject(l)||Array.isArray(l)||c&&typeof l=="string"},serialize:function(l,c,p,y){c=c||{};var x=!y,w;if(x&&(c.formatter=new f(c.precision),y={length:0,definitions:{},references:{},add:function(N,E){var k="#"+N._id,$=this.references[k];if(!$){this.length++;var B=E.call(N),W=N._class;W&&B[0]!==W&&B.unshift(W),this.definitions[k]=B,$=this.references[k]=[k]}return $}}),l&&l._serialize){w=l._serialize(c,y);var C=l._class;C&&!l._compactSerialize&&(x||!p)&&w[0]!==C&&w.unshift(C)}else if(Array.isArray(l)){w=[];for(var M=0,T=l.length;M<T;M++)w[M]=a.serialize(l[M],c,p,y)}else if(a.isPlainObject(l)){w={};for(var L=Object.keys(l),M=0,T=L.length;M<T;M++){var z=L[M];w[z]=a.serialize(l[z],c,p,y)}}else typeof l=="number"?w=c.formatter.number(l,c.precision):w=l;return x&&y.length>0?[["dictionary",y.definitions],w]:w},deserialize:function(l,c,p,y,x){var w=l,C=!p,M=C&&l&&l.length&&l[0][0]==="dictionary";if(p=p||{},Array.isArray(l)){var T=l[0],L=T==="dictionary";if(l.length==1&&/^#/.test(T))return p.dictionary[T];T=a.exports[T],w=[];for(var z=T?1:0,N=l.length;z<N;z++)w.push(a.deserialize(l[z],c,p,L,M));if(T){var E=w;c?w=c(T,E,C||x):w=new T(E)}}else if(a.isPlainObject(l)){w={},y&&(p.dictionary=w);for(var k in l)w[k]=a.deserialize(l[k],c,p)}return M?w[1]:w},exportJSON:function(l,c){var p=a.serialize(l,c);return c&&c.asString==!1?p:JSON.stringify(p)},importJSON:function(l,c){return a.deserialize(typeof l=="string"?JSON.parse(l):l,function(p,y,x){var w=x&&c&&c.constructor===p,C=w?c:a.create(p.prototype);if(y.length===1&&C instanceof R&&(w||!(C instanceof j))){var M=y[0];a.isPlainObject(M)&&(M.insert=!1,w&&(y=y.concat([R.INSERT])))}return(w?C.set:p).apply(C,y),w&&(c=null),C})},push:function(l,c){var p=c.length;if(p<4096)l.push.apply(l,c);else{var y=l.length;l.length+=p;for(var x=0;x<p;x++)l[y+x]=c[x]}return l},splice:function(l,c,p,y){var x=c&&c.length,w=p===e;p=w?l.length:p,p>l.length&&(p=l.length);for(var C=0;C<x;C++)c[C]._index=p+C;if(w)return a.push(l,c),[];var M=[p,y];c&&a.push(M,c);for(var T=l.splice.apply(l,M),C=0,L=T.length;C<L;C++)T[C]._index=e;for(var C=p+x,L=l.length;C<L;C++)l[C]._index=C;return T},capitalize:function(l){return l.replace(/\b[a-z]/g,function(c){return c.toUpperCase()})},camelize:function(l){return l.replace(/-(.)/g,function(c,p){return p.toUpperCase()})},hyphenate:function(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var o={on:function(l,c){if(typeof l!="string")a.each(l,function(w,C){this.on(C,w)},this);else{var p=this._eventTypes,y=p&&p[l],x=this._callbacks=this._callbacks||{};x=x[l]=x[l]||[],x.indexOf(c)===-1&&(x.push(c),y&&y.install&&x.length===1&&y.install.call(this,l))}return this},off:function(l,c){if(typeof l!="string"){a.each(l,function(C,M){this.off(M,C)},this);return}var p=this._eventTypes,y=p&&p[l],x=this._callbacks&&this._callbacks[l],w;return x&&(!c||(w=x.indexOf(c))!==-1&&x.length===1?(y&&y.uninstall&&y.uninstall.call(this,l),delete this._callbacks[l]):w!==-1&&x.splice(w,1)),this},once:function(l,c){return this.on(l,function p(){c.apply(this,arguments),this.off(l,p)})},emit:function(l,c){var p=this._callbacks&&this._callbacks[l];if(!p)return!1;var y=a.slice(arguments,1),x=c&&c.target&&!c.currentTarget;p=p.slice(),x&&(c.currentTarget=this);for(var w=0,C=p.length;w<C;w++)if(p[w].apply(this,y)==!1){c&&c.stop&&c.stop();break}return x&&delete c.currentTarget,!0},responds:function(l){return!!(this._callbacks&&this._callbacks[l])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(l){var c=this._eventTypes,p=this._callbacks,y=l?"install":"uninstall";if(c){for(var x in p)if(p[x].length>0){var w=c[x],C=w&&w[y];C&&C.call(this,x)}}},statics:{inject:function l(c){var p=c._events;if(p){var y={};a.each(p,function(x,w){var C=typeof x=="string",M=C?x:w,T=a.capitalize(M),L=M.substring(2).toLowerCase();y[L]=C?{}:x,M="_"+M,c["get"+T]=function(){return this[M]},c["set"+T]=function(z){var N=this[M];N&&this.off(L,N),z&&this.on(L,z),this[M]=z}}),c._eventTypes=y}return l.base.apply(this,arguments)}}},s=a.extend({_class:"PaperScope",initialize:function l(){xe=this,this.settings=new a({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=l._id++,l._scopes[this._id]=this;var c=l.prototype;if(!this.support){var p=Ge.getContext(1,1)||{};c.support={nativeDash:"setLineDash"in p||"mozDash"in p,nativeBlendModes:Ca.nativeModes},Ge.release(p)}if(!this.agent){var y=t.navigator.userAgent.toLowerCase(),x=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(y)||[])[0],w=x==="darwin"?"mac":x,C=c.agent=c.browser={platform:w};w&&(C[w]=!0),y.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(M,T,L,z,N){if(!C.chrome){var E=T==="opera"?z:/^(node|trident)$/.test(T)?N:L;C.version=E,C.versionNumber=parseFloat(E),T={trident:"msie",jsdom:"node"}[T]||T,C.name=T,C[T]=!0}}),C.chrome&&delete C.webkit,C.atom&&delete C.chrome}},version:"0.12.18",getView:function(){var l=this.project;return l&&l._view},getPaper:function(){return this},execute:function(l,c){var p=xe.PaperScript.execute(l,this,c);return Xt.updateFocus(),p},install:function(l){var c=this;a.each(["project","view","tool"],function(y){a.define(l,y,{configurable:!0,get:function(){return c[y]}})});for(var p in this)!/^_/.test(p)&&this[p]&&(l[p]=this[p])},setup:function(l){return xe=this,this.project=new V(l),this},createCanvas:function(l,c){return Ge.getCanvas(l,c)},activate:function(){xe=this},clear:function(){for(var l=this.projects,c=this.tools,p=l.length-1;p>=0;p--)l[p].remove();for(var p=c.length-1;p>=0;p--)c[p].remove()},remove:function(){this.clear(),delete s._scopes[this._id]},statics:new function(){function l(c){return c+="Attribute",function(p,y){return p[c](y)||p[c]("data-paper-"+y)}}return{_scopes:{},_id:0,get:function(c){return this._scopes[c]||null},getAttribute:l("get"),hasAttribute:l("has")}}}),u=a.extend(o,{initialize:function(l){this._scope=xe,this._index=this._scope[this._list].push(this)-1,(l||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var l=this._scope[this._reference];return l&&l!==this&&l.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",l),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(a.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),h={findItemBoundsCollisions:function(l,c,p){function y(C){for(var M=new Array(C.length),T=0;T<C.length;T++){var L=C[T].getBounds();M[T]=[L.left,L.top,L.right,L.bottom]}return M}var x=y(l),w=!c||c===l?x:y(c);return this.findBoundsCollisions(x,w,p||0)},findCurveBoundsCollisions:function(l,c,p,y){function x(E){for(var k=Math.min,$=Math.max,B=new Array(E.length),W=0;W<E.length;W++){var O=E[W];B[W]=[k(O[0],O[2],O[4],O[6]),k(O[1],O[3],O[5],O[7]),$(O[0],O[2],O[4],O[6]),$(O[1],O[3],O[5],O[7])]}return B}var w=x(l),C=!c||c===l?w:x(c);if(y){for(var M=this.findBoundsCollisions(w,C,p||0,!1,!0),T=this.findBoundsCollisions(w,C,p||0,!0,!0),L=[],z=0,N=M.length;z<N;z++)L[z]={hor:M[z],ver:T[z]};return L}return this.findBoundsCollisions(w,C,p||0)},findBoundsCollisions:function(l,c,p,y,x){var w=!c||l===c,C=w?l:l.concat(c),M=l.length,T=C.length;function L(It,kt,Vt){for(var wt=0,Ct=It.length;wt<Ct;){var Et=Ct+wt>>>1;C[It[Et]][kt]<Vt?wt=Et+1:Ct=Et}return wt-1}for(var z=y?1:0,N=z+2,E=y?0:1,k=E+2,$=new Array(T),B=0;B<T;B++)$[B]=B;$.sort(function(It,kt){return C[It][z]-C[kt][z]});for(var W=[],O=new Array(M),B=0;B<T;B++){var F=$[B],P=C[F],G=w?F:F-M,U=F<M,q=w||!U,H=U?[]:null;if(W.length){var K=L(W,N,P[z]-p)+1;if(W.splice(0,K),w&&x){H=H.concat(W);for(var tt=0;tt<W.length;tt++){var rt=W[tt];O[rt].push(G)}}else for(var ft=P[k],Q=P[E],tt=0;tt<W.length;tt++){var rt=W[tt],ut=C[rt],ct=rt<M,pt=w||rt>=M;(x||(U&&pt||q&&ct)&&ft>=ut[E]-p&&Q<=ut[k]+p)&&(U&&pt&&H.push(w?rt:rt-M),q&&ct&&O[rt].push(G))}}if(U&&(l===c&&H.push(F),O[F]=H),W.length){var gt=P[N],yt=L(W,N,gt);W.splice(yt+1,0,F)}else W.push(F)}for(var B=0;B<O.length;B++){var Tt=O[B];Tt&&Tt.sort(function(kt,Vt){return kt-Vt})}return O}},f=a.extend({initialize:function(l){this.precision=a.pick(l,5),this.multiplier=Math.pow(10,this.precision)},number:function(l){return this.precision<16?Math.round(l*this.multiplier)/this.multiplier:l},pair:function(l,c,p){return this.number(l)+(p||",")+this.number(c)},point:function(l,c){return this.number(l.x)+(c||",")+this.number(l.y)},size:function(l,c){return this.number(l.width)+(c||",")+this.number(l.height)},rectangle:function(l,c){return this.point(l,c)+(c||",")+this.size(l,c)}});f.instance=new f;var v=new function(){var l=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],c=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],p=Math.abs,y=Math.sqrt,x=Math.pow,w=Math.log2||function(N){return Math.log(N)*Math.LOG2E},C=1e-12,M=112e-18;function T(N,E,k){return N<E?E:N>k?k:N}function L(N,E,k){function $(K){var tt=K*134217729,rt=K-tt,ft=rt+tt,Q=K-ft;return[ft,Q]}var B=E*E-N*k,W=E*E+N*k;if(p(B)*3<W){var O=$(N),F=$(E),P=$(k),G=E*E,U=F[0]*F[0]-G+2*F[0]*F[1]+F[1]*F[1],q=N*k,H=O[0]*P[0]-q+O[0]*P[1]+O[1]*P[0]+O[1]*P[1];B=G-q+(U-H)}return B}function z(){var N=Math.max.apply(Math,arguments);return N&&(N<1e-8||N>1e8)?x(2,-Math.round(w(N))):0}return{EPSILON:C,MACHINE_EPSILON:M,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(y(2)-1)/3,isZero:function(N){return N>=-C&&N<=C},isMachineZero:function(N){return N>=-M&&N<=M},clamp:T,integrate:function(N,E,k,$){for(var B=l[$-2],W=c[$-2],O=(k-E)*.5,F=O+E,P=0,G=$+1>>1,U=$&1?W[P++]*N(F):0;P<G;){var q=O*B[P];U+=W[P++]*(N(F+q)+N(F-q))}return O*U},findRoot:function(N,E,k,$,B,W,O){for(var F=0;F<W;F++){var P=N(k),G=P/E(k),U=k-G;if(p(G)<O){k=U;break}P>0?(B=k,k=U<=$?($+B)*.5:U):($=k,k=U>=B?($+B)*.5:U)}return T(k,$,B)},solveQuadratic:function(N,E,k,$,B,W){var O,F=1/0;if(p(N)<C){if(p(E)<C)return p(k)<C?-1:0;O=-k/E}else{E*=-.5;var P=L(N,E,k);if(P&&p(P)<M){var G=z(p(N),p(E),p(k));G&&(N*=G,E*=G,k*=G,P=L(N,E,k))}if(P>=-M){var U=P<0?0:y(P),q=E+(E<0?-U:U);q===0?(O=k/N,F=-O):(O=q/N,F=k/q)}}var H=0,K=B==null,tt=B-C,rt=W+C;return isFinite(O)&&(K||O>tt&&O<rt)&&($[H++]=K?O:T(O,B,W)),F!==O&&isFinite(F)&&(K||F>tt&&F<rt)&&($[H++]=K?F:T(F,B,W)),H},solveCubic:function(N,E,k,$,B,W,O){var F=z(p(N),p(E),p(k),p($)),P,G,U,q,H;F&&(N*=F,E*=F,k*=F,$*=F);function K(yt){P=yt;var Tt=N*P;G=Tt+E,U=G*P+k,q=(Tt+G)*P+U,H=U*P+$}if(p(N)<C)N=E,G=k,U=$,P=1/0;else if(p($)<C)G=E,U=k,P=0;else{K(-(E/N)/3);var tt=H/N,rt=x(p(tt),1/3),ft=tt<0?-1:1,Q=-q/N,ut=Q>0?1.324717957244746*Math.max(rt,y(Q)):rt,ct=P-ft*ut;if(ct!==P){do K(ct),ct=q===0?P:P-H/q/(1+M);while(ft*ct>ft*P);p(N)*P*P>p($/P)&&(U=-$/P,G=(U-k)/P)}}var pt=v.solveQuadratic(N,G,U,B,W,O),gt=W==null;return isFinite(P)&&(pt===0||pt>0&&P!==B[0]&&P!==B[1])&&(gt||P>W-C&&P<O+C)&&(B[pt++]=gt?P:T(P,W,O)),pt}}},g={_id:1,_pools:{},get:function(l){if(l){var c=this._pools[l];return c||(c=this._pools[l]={_id:1}),c._id++}else return this._id++}},d=a.extend({_class:"Point",_readIndex:!0,initialize:function(c,p){var y=typeof c,x=this.__read,w=0;if(y==="number"){var C=typeof p=="number";this._set(c,C?p:c),x&&(w=C?2:1)}else if(y==="undefined"||c===null)this._set(0,0),x&&(w=c===null?1:0);else{var M=y==="string"?c.split(/[\s,]+/)||[]:c;w=1,Array.isArray(M)?this._set(+M[0],+(M.length>1?M[1]:M[0])):"x"in M?this._set(M.x||0,M.y||0):"width"in M?this._set(M.width||0,M.height||0):"angle"in M?(this._set(M.length||0,0),this.setAngle(M.angle||0)):(this._set(0,0),w=0)}return x&&(this.__read=w),this},set:"#initialize",_set:function(l,c){return this.x=l,this.y=c,this},equals:function(l){return this===l||l&&(this.x===l.x&&this.y===l.y||Array.isArray(l)&&this.x===l[0]&&this.y===l[1])||!1},clone:function(){return new d(this.x,this.y)},toString:function(){var l=f.instance;return"{ x: "+l.number(this.x)+", y: "+l.number(this.y)+" }"},_serialize:function(l){var c=l.formatter;return[c.number(this.x),c.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(l){if(this.isZero()){var c=this._angle||0;this._set(Math.cos(c)*l,Math.sin(c)*l)}else{var p=l/this.getLength();v.isZero(p)&&this.getAngle(),this._set(this.x*p,this.y*p)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(l){this.setAngleInRadians.call(this,l*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var l=d.read(arguments),c=this.getLength()*l.getLength();if(v.isZero(c))return NaN;var p=this.dot(l)/c;return Math.acos(p<-1?-1:p>1?1:p)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(l){if(this._angle=l,!this.isZero()){var c=this.getLength();this._set(Math.cos(l)*c,Math.sin(l)*c)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var l=d.read(arguments);return Math.atan2(this.cross(l),this.dot(l))*180/Math.PI},getDistance:function(){var l=arguments,c=d.read(l),p=c.x-this.x,y=c.y-this.y,x=p*p+y*y,w=a.read(l);return w?x:Math.sqrt(x)},normalize:function(l){l===e&&(l=1);var c=this.getLength(),p=c!==0?l/c:0,y=new d(this.x*p,this.y*p);return p>=0&&(y._angle=this._angle),y},rotate:function(l,c){if(l===0)return this.clone();l=l*Math.PI/180;var p=c?this.subtract(c):this,y=Math.sin(l),x=Math.cos(l);return p=new d(p.x*x-p.y*y,p.x*y+p.y*x),c?p.add(c):p},transform:function(l){return l?l._transformPoint(this):this},add:function(){var l=d.read(arguments);return new d(this.x+l.x,this.y+l.y)},subtract:function(){var l=d.read(arguments);return new d(this.x-l.x,this.y-l.y)},multiply:function(){var l=d.read(arguments);return new d(this.x*l.x,this.y*l.y)},divide:function(){var l=d.read(arguments);return new d(this.x/l.x,this.y/l.y)},modulo:function(){var l=d.read(arguments);return new d(this.x%l.x,this.y%l.y)},negate:function(){return new d(-this.x,-this.y)},isInside:function(){return S.read(arguments).contains(this)},isClose:function(){var l=arguments,c=d.read(l),p=a.read(l);return this.getDistance(c)<=p},isCollinear:function(){var l=d.read(arguments);return d.isCollinear(this.x,this.y,l.x,l.y)},isColinear:"#isCollinear",isOrthogonal:function(){var l=d.read(arguments);return d.isOrthogonal(this.x,this.y,l.x,l.y)},isZero:function(){var l=v.isZero;return l(this.x)&&l(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(l){return this.x*(l>1&&l<4?-1:1)>=0&&this.y*(l>2?-1:1)>=0},dot:function(){var l=d.read(arguments);return this.x*l.x+this.y*l.y},cross:function(){var l=d.read(arguments);return this.x*l.y-this.y*l.x},project:function(){var l=d.read(arguments),c=l.isZero()?0:this.dot(l)/l.dot(l);return new d(l.x*c,l.y*c)},statics:{min:function(){var l=arguments,c=d.read(l),p=d.read(l);return new d(Math.min(c.x,p.x),Math.min(c.y,p.y))},max:function(){var l=arguments,c=d.read(l),p=d.read(l);return new d(Math.max(c.x,p.x),Math.max(c.y,p.y))},random:function(){return new d(Math.random(),Math.random())},isCollinear:function(l,c,p,y){return Math.abs(l*y-c*p)<=Math.sqrt((l*l+c*c)*(p*p+y*y))*1e-8},isOrthogonal:function(l,c,p,y){return Math.abs(l*p+c*y)<=Math.sqrt((l*l+c*c)*(p*p+y*y))*1e-8}}},a.each(["round","ceil","floor","abs"],function(l){var c=Math[l];this[l]=function(){return new d(c(this.x),c(this.y))}},{})),m=d.extend({initialize:function(c,p,y,x){this._x=c,this._y=p,this._owner=y,this._setter=x},_set:function(l,c,p){return this._x=l,this._y=c,p||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(l){this._x=l,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(l){this._y=l,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(l){this._owner._changeSelection(this._getSelection(),l)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),_=a.extend({_class:"Size",_readIndex:!0,initialize:function(c,p){var y=typeof c,x=this.__read,w=0;if(y==="number"){var C=typeof p=="number";this._set(c,C?p:c),x&&(w=C?2:1)}else if(y==="undefined"||c===null)this._set(0,0),x&&(w=c===null?1:0);else{var M=y==="string"?c.split(/[\s,]+/)||[]:c;w=1,Array.isArray(M)?this._set(+M[0],+(M.length>1?M[1]:M[0])):"width"in M?this._set(M.width||0,M.height||0):"x"in M?this._set(M.x||0,M.y||0):(this._set(0,0),w=0)}return x&&(this.__read=w),this},set:"#initialize",_set:function(l,c){return this.width=l,this.height=c,this},equals:function(l){return l===this||l&&(this.width===l.width&&this.height===l.height||Array.isArray(l)&&this.width===l[0]&&this.height===l[1])||!1},clone:function(){return new _(this.width,this.height)},toString:function(){var l=f.instance;return"{ width: "+l.number(this.width)+", height: "+l.number(this.height)+" }"},_serialize:function(l){var c=l.formatter;return[c.number(this.width),c.number(this.height)]},add:function(){var l=_.read(arguments);return new _(this.width+l.width,this.height+l.height)},subtract:function(){var l=_.read(arguments);return new _(this.width-l.width,this.height-l.height)},multiply:function(){var l=_.read(arguments);return new _(this.width*l.width,this.height*l.height)},divide:function(){var l=_.read(arguments);return new _(this.width/l.width,this.height/l.height)},modulo:function(){var l=_.read(arguments);return new _(this.width%l.width,this.height%l.height)},negate:function(){return new _(-this.width,-this.height)},isZero:function(){var l=v.isZero;return l(this.width)&&l(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(l,c){return new _(Math.min(l.width,c.width),Math.min(l.height,c.height))},max:function(l,c){return new _(Math.max(l.width,c.width),Math.max(l.height,c.height))},random:function(){return new _(Math.random(),Math.random())}}},a.each(["round","ceil","floor","abs"],function(l){var c=Math[l];this[l]=function(){return new _(c(this.width),c(this.height))}},{})),b=_.extend({initialize:function(c,p,y,x){this._width=c,this._height=p,this._owner=y,this._setter=x},_set:function(l,c,p){return this._width=l,this._height=c,p||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(l){this._width=l,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(l){this._height=l,this._owner[this._setter](this)}}),S=a.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(c,p,y,x){var w=arguments,C=typeof c,M;if(C==="number"?(this._set(c,p,y,x),M=4):C==="undefined"||c===null?(this._set(0,0,0,0),M=c===null?1:0):w.length===1&&(Array.isArray(c)?(this._set.apply(this,c),M=1):c.x!==e||c.width!==e?(this._set(c.x||0,c.y||0,c.width||0,c.height||0),M=1):c.from===e&&c.to===e&&(this._set(0,0,0,0),a.readSupported(w,this)&&(M=1))),M===e){var T=d.readNamed(w,"from"),L=a.peek(w),z=T.x,N=T.y,E,k;if(L&&L.x!==e||a.hasNamed(w,"to")){var $=d.readNamed(w,"to");E=$.x-z,k=$.y-N,E<0&&(z=$.x,E=-E),k<0&&(N=$.y,k=-k)}else{var B=_.read(w);E=B.width,k=B.height}this._set(z,N,E,k),M=w.__index}var W=w.__filtered;return W&&(this.__filtered=W),this.__read&&(this.__read=M),this},set:"#initialize",_set:function(l,c,p,y){return this.x=l,this.y=c,this.width=p,this.height=y,this},clone:function(){return new S(this.x,this.y,this.width,this.height)},equals:function(l){var c=a.isPlainValue(l)?S.read(arguments):l;return c===this||c&&this.x===c.x&&this.y===c.y&&this.width===c.width&&this.height===c.height||!1},toString:function(){var l=f.instance;return"{ x: "+l.number(this.x)+", y: "+l.number(this.y)+", width: "+l.number(this.width)+", height: "+l.number(this.height)+" }"},_serialize:function(l){var c=l.formatter;return[c.number(this.x),c.number(this.y),c.number(this.width),c.number(this.height)]},getPoint:function(l){var c=l?d:m;return new c(this.x,this.y,this,"setPoint")},setPoint:function(){var l=d.read(arguments);this.x=l.x,this.y=l.y},getSize:function(l){var c=l?_:b;return new c(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var l=_.read(arguments),c=this._sx,p=this._sy,y=l.width,x=l.height;c&&(this.x+=(this.width-y)*c),p&&(this.y+=(this.height-x)*p),this.width=y,this.height=x,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(l){if(!this._fw){var c=l-this.x;this.width-=this._sx===.5?c*2:c}this.x=l,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(l){if(!this._fh){var c=l-this.y;this.height-=this._sy===.5?c*2:c}this.y=l,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(l){if(!this._fw){var c=l-this.x;this.width=this._sx===.5?c*2:c}this.x=l-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(l){if(!this._fh){var c=l-this.y;this.height=this._sy===.5?c*2:c}this.y=l-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(l){this._fw||this._sx===.5?this.x=l-this.width/2:(this._sx&&(this.x+=(l-this.x)*2*this._sx),this.width=(l-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(l){this._fh||this._sy===.5?this.y=l-this.height/2:(this._sy&&(this.y+=(l-this.y)*2*this._sy),this.height=(l-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(l){var c=l?d:m;return new c(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var l=d.read(arguments);return this.setCenterX(l.x),this.setCenterY(l.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(l){return l&&l.width!==e||(Array.isArray(l)?l:arguments).length===4?this._containsRectangle(S.read(arguments)):this._containsPoint(d.read(arguments))},_containsPoint:function(l){var c=l.x,p=l.y;return c>=this.x&&p>=this.y&&c<=this.x+this.width&&p<=this.y+this.height},_containsRectangle:function(l){var c=l.x,p=l.y;return c>=this.x&&p>=this.y&&c+l.width<=this.x+this.width&&p+l.height<=this.y+this.height},intersects:function(){var l=S.read(arguments),c=a.read(arguments)||0;return l.x+l.width>this.x-c&&l.y+l.height>this.y-c&&l.x<this.x+this.width+c&&l.y<this.y+this.height+c},intersect:function(){var l=S.read(arguments),c=Math.max(this.x,l.x),p=Math.max(this.y,l.y),y=Math.min(this.x+this.width,l.x+l.width),x=Math.min(this.y+this.height,l.y+l.height);return new S(c,p,y-c,x-p)},unite:function(){var l=S.read(arguments),c=Math.min(this.x,l.x),p=Math.min(this.y,l.y),y=Math.max(this.x+this.width,l.x+l.width),x=Math.max(this.y+this.height,l.y+l.height);return new S(c,p,y-c,x-p)},include:function(){var l=d.read(arguments),c=Math.min(this.x,l.x),p=Math.min(this.y,l.y),y=Math.max(this.x+this.width,l.x),x=Math.max(this.y+this.height,l.y);return new S(c,p,y-c,x-p)},expand:function(){var l=_.read(arguments),c=l.width,p=l.height;return new S(this.x-c/2,this.y-p/2,this.width+c,this.height+p)},scale:function(l,c){return this.expand(this.width*l-this.width,this.height*(c===e?l:c)-this.height)}},a.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(l,c){var p=l.join(""),y=/^[RL]/.test(p);c>=4&&(l[1]+=y?"Y":"X");var x=l[y?0:1],w=l[y?1:0],C="get"+x,M="get"+w,T="set"+x,L="set"+w,z="get"+p,N="set"+p;this[z]=function(E){var k=E?d:m;return new k(this[C](),this[M](),this,N)},this[N]=function(){var E=d.read(arguments);this[T](E.x),this[L](E.y)}},{beans:!0})),I=S.extend({initialize:function(c,p,y,x,w,C){this._set(c,p,y,x,!0),this._owner=w,this._setter=C},_set:function(l,c,p,y,x){return this._x=l,this._y=c,this._width=p,this._height=y,x||this._owner[this._setter](this),this}},new function(){var l=S.prototype;return a.each(["x","y","width","height"],function(c){var p=a.capitalize(c),y="_"+c;this["get"+p]=function(){return this[y]},this["set"+p]=function(x){this[y]=x,this._dontNotify||this._owner[this._setter](this)}},a.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(c){var p="set"+c;this[p]=function(){this._dontNotify=!0,l[p].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(c){var p=this._owner;p._changeSelection&&p._changeSelection(2,c)}}))}),A=a.extend({_class:"Matrix",initialize:function l(c,p){var y=arguments,x=y.length,w=!0;if(x>=6?this._set.apply(this,y):x===1||x===2?c instanceof l?this._set(c._a,c._b,c._c,c._d,c._tx,c._ty,p):Array.isArray(c)?this._set.apply(this,p?c.concat([p]):c):w=!1:x?w=!1:this.reset(),!w)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(l,c,p,y,x,w,C){return this._a=l,this._b=c,this._c=p,this._d=y,this._tx=x,this._ty=w,C||this._changed(),this},_serialize:function(l,c){return a.serialize(this.getValues(),l,!0,c)},_changed:function(){var l=this._owner;l&&(l._applyMatrix?l.transform(null,!0):l._changed(25))},clone:function(){return new A(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(l){return l===this||l&&this._a===l._a&&this._b===l._b&&this._c===l._c&&this._d===l._d&&this._tx===l._tx&&this._ty===l._ty},toString:function(){var l=f.instance;return"[["+[l.number(this._a),l.number(this._c),l.number(this._tx)].join(", ")+"], ["+[l.number(this._b),l.number(this._d),l.number(this._ty)].join(", ")+"]]"},reset:function(l){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,l||this._changed(),this},apply:function(l,c){var p=this._owner;return p?(p.transform(null,a.pick(l,!0),c),this.isIdentity()):!1},translate:function(){var l=d.read(arguments),c=l.x,p=l.y;return this._tx+=c*this._a+p*this._c,this._ty+=c*this._b+p*this._d,this._changed(),this},scale:function(){var l=arguments,c=d.read(l),p=d.read(l,0,{readNull:!0});return p&&this.translate(p),this._a*=c.x,this._b*=c.x,this._c*=c.y,this._d*=c.y,p&&this.translate(p.negate()),this._changed(),this},rotate:function(l){l*=Math.PI/180;var c=d.read(arguments,1),p=c.x,y=c.y,x=Math.cos(l),w=Math.sin(l),C=p-p*x+y*w,M=y-p*w-y*x,T=this._a,L=this._b,z=this._c,N=this._d;return this._a=x*T+w*z,this._b=x*L+w*N,this._c=-w*T+x*z,this._d=-w*L+x*N,this._tx+=C*T+M*z,this._ty+=C*L+M*N,this._changed(),this},shear:function(){var l=arguments,c=d.read(l),p=d.read(l,0,{readNull:!0});p&&this.translate(p);var y=this._a,x=this._b;return this._a+=c.y*this._c,this._b+=c.y*this._d,this._c+=c.x*y,this._d+=c.x*x,p&&this.translate(p.negate()),this._changed(),this},skew:function(){var l=arguments,c=d.read(l),p=d.read(l,0,{readNull:!0}),y=Math.PI/180,x=new d(Math.tan(c.x*y),Math.tan(c.y*y));return this.shear(x,p)},append:function(l,c){if(l){var p=this._a,y=this._b,x=this._c,w=this._d,C=l._a,M=l._c,T=l._b,L=l._d,z=l._tx,N=l._ty;this._a=C*p+T*x,this._c=M*p+L*x,this._b=C*y+T*w,this._d=M*y+L*w,this._tx+=z*p+N*x,this._ty+=z*y+N*w,c||this._changed()}return this},prepend:function(l,c){if(l){var p=this._a,y=this._b,x=this._c,w=this._d,C=this._tx,M=this._ty,T=l._a,L=l._c,z=l._b,N=l._d,E=l._tx,k=l._ty;this._a=T*p+L*y,this._c=T*x+L*w,this._b=z*p+N*y,this._d=z*x+N*w,this._tx=T*C+L*M+E,this._ty=z*C+N*M+k,c||this._changed()}return this},appended:function(l){return this.clone().append(l)},prepended:function(l){return this.clone().prepend(l)},invert:function(){var l=this._a,c=this._b,p=this._c,y=this._d,x=this._tx,w=this._ty,C=l*y-c*p,M=null;return C&&!isNaN(C)&&isFinite(x)&&isFinite(w)&&(this._a=y/C,this._b=-c/C,this._c=-p/C,this._d=l/C,this._tx=(p*w-y*x)/C,this._ty=(c*x-l*w)/C,M=this),M},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new A(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var l=this._a*this._d-this._c*this._b;return l&&!isNaN(l)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(l,c,p){return arguments.length<3?this._transformPoint(d.read(arguments)):this._transformCoordinates(l,c,p)},_transformPoint:function(l,c,p){var y=l.x,x=l.y;return c||(c=new d),c._set(y*this._a+x*this._c+this._tx,y*this._b+x*this._d+this._ty,p)},_transformCoordinates:function(l,c,p){for(var y=0,x=2*p;y<x;y+=2){var w=l[y],C=l[y+1];c[y]=w*this._a+C*this._c+this._tx,c[y+1]=w*this._b+C*this._d+this._ty}return c},_transformCorners:function(l){var c=l.x,p=l.y,y=c+l.width,x=p+l.height,w=[c,p,y,p,y,x,c,x];return this._transformCoordinates(w,w,4)},_transformBounds:function(l,c,p){for(var y=this._transformCorners(l),x=y.slice(0,2),w=x.slice(),C=2;C<8;C++){var M=y[C],T=C&1;M<x[T]?x[T]=M:M>w[T]&&(w[T]=M)}return c||(c=new S),c._set(x[0],x[1],w[0]-x[0],w[1]-x[1],p)},inverseTransform:function(){return this._inverseTransform(d.read(arguments))},_inverseTransform:function(l,c,p){var y=this._a,x=this._b,w=this._c,C=this._d,M=this._tx,T=this._ty,L=y*C-x*w,z=null;if(L&&!isNaN(L)&&isFinite(M)&&isFinite(T)){var N=l.x-this._tx,E=l.y-this._ty;c||(c=new d),z=c._set((N*C-E*w)/L,(E*y-N*x)/L,p)}return z},decompose:function(){var l=this._a,c=this._b,p=this._c,y=this._d,x=l*y-c*p,w=Math.sqrt,C=Math.atan2,M=180/Math.PI,T,L,z;if(l!==0||c!==0){var N=w(l*l+c*c);T=Math.acos(l/N)*(c>0?1:-1),L=[N,x/N],z=[C(l*p+c*y,N*N),0]}else if(p!==0||y!==0){var E=w(p*p+y*y);T=Math.asin(p/E)*(y>0?1:-1),L=[x/E,E],z=[0,C(l*p+c*y,E*E)]}else T=0,z=L=[0,0];return{translation:this.getTranslation(),rotation:T*M,scaling:new d(L),skewing:new d(z[0]*M,z[1]*M)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new d(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(l){this.isIdentity()||l.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},a.each(["a","b","c","d","tx","ty"],function(l){var c=a.capitalize(l),p="_"+l;this["get"+c]=function(){return this[p]},this["set"+c]=function(y){this[p]=y,this._changed()}},{})),D=a.extend({_class:"Line",initialize:function(c,p,y,x,w){var C=!1;arguments.length>=4?(this._px=c,this._py=p,this._vx=y,this._vy=x,C=w):(this._px=c.x,this._py=c.y,this._vx=p.x,this._vy=p.y,C=y),C||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new d(this._px,this._py)},getVector:function(){return new d(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(l,c){return D.intersect(this._px,this._py,this._vx,this._vy,l._px,l._py,l._vx,l._vy,!0,c)},getSide:function(l,c){return D.getSide(this._px,this._py,this._vx,this._vy,l.x,l.y,!0,c)},getDistance:function(l){return Math.abs(this.getSignedDistance(l))},getSignedDistance:function(l){return D.getSignedDistance(this._px,this._py,this._vx,this._vy,l.x,l.y,!0)},isCollinear:function(l){return d.isCollinear(this._vx,this._vy,l._vx,l._vy)},isOrthogonal:function(l){return d.isOrthogonal(this._vx,this._vy,l._vx,l._vy)},statics:{intersect:function(l,c,p,y,x,w,C,M,T,L){T||(p-=l,y-=c,C-=x,M-=w);var z=p*M-y*C;if(!v.isMachineZero(z)){var N=l-x,E=c-w,k=(C*E-M*N)/z,$=(p*E-y*N)/z,B=1e-12,W=-B,O=1+B;if(L||W<k&&k<O&&W<$&&$<O)return L||(k=k<=0?0:k>=1?1:k),new d(l+k*p,c+k*y)}},getSide:function(l,c,p,y,x,w,C,M){C||(p-=l,y-=c);var T=x-l,L=w-c,z=T*y-L*p;return!M&&v.isMachineZero(z)&&(z=(T*p+T*p)/(p*p+y*y),z>=0&&z<=1&&(z=0)),z<0?-1:z>0?1:0},getSignedDistance:function(l,c,p,y,x,w,C){return C||(p-=l,y-=c),p===0?y>0?x-l:l-x:y===0?p<0?w-c:c-w:((x-l)*y-(w-c)*p)/(y>p?y*Math.sqrt(1+p*p/(y*y)):p*Math.sqrt(1+y*y/(p*p)))},getDistance:function(l,c,p,y,x,w,C){return Math.abs(D.getSignedDistance(l,c,p,y,x,w,C))}}}),V=u.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(c){u.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Ut(null,null,this),this._view=Xt.create(this,c||Ge.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(l,c){return a.serialize(this._children,l,!0,c)},_changed:function(l,c){if(l&1){var p=this._view;p&&(p._needsUpdate=!0,!p._requested&&p._autoUpdate&&p.requestUpdate())}var y=this._changes;if(y&&c){var x=this._changesById,w=c._id,C=x[w];C?C.flags|=l:y.push(x[w]={item:c,flags:l})}},clear:function(){for(var l=this._children,c=l.length-1;c>=0;c--)l[c].remove()},isEmpty:function(){return!this._children.length},remove:function l(){return l.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(l){this._currentStyle.set(l)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new j({project:this,insert:!0})},getSymbolDefinitions:function(){var l=[],c={};return this.getItems({class:it,match:function(p){var y=p._definition,x=y._id;return c[x]||(c[x]=!0,l.push(y)),!1}}),l},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var l=this._selectionItems,c=[];for(var p in l){var y=l[p],x=y._selection;x&1&&y.isInserted()?c.push(y):x||this._updateSelection(y)}return c},_updateSelection:function(l){var c=l._id,p=this._selectionItems;l._selection?p[c]!==l&&(this._selectionCount++,p[c]=l):p[c]===l&&(this._selectionCount--,delete p[c])},selectAll:function(){for(var l=this._children,c=0,p=l.length;c<p;c++)l[c].setFullySelected(!0)},deselectAll:function(){var l=this._selectionItems;for(var c in l)l[c].setFullySelected(!1)},addLayer:function(l){return this.insertLayer(e,l)},insertLayer:function(l,c){if(c instanceof j){c._remove(!1,!0),a.splice(this._children,[c],l,0),c._setProject(this,!0);var p=c._name;p&&c.setName(p),this._changes&&c._changed(5),this._activeLayer||(this._activeLayer=c)}else c=null;return c},_insertItem:function(l,c,p){return c=this.insertLayer(l,c)||(this._activeLayer||this._insertItem(e,new j(R.NO_INSERT),!0)).insertChild(l,c),p&&c.activate&&c.activate(),c},getItems:function(l){return R._getItems(this,l)},getItem:function(l){return R._getItems(this,l,null,null,!0)[0]||null},importJSON:function(l){this.activate();var c=this._activeLayer;return a.importJSON(l,c&&c.isEmpty()&&c)},removeOn:function(l){var c=this._removeSets;if(c){l==="mouseup"&&(c.mousedrag=null);var p=c[l];if(p){for(var y in p){var x=p[y];for(var w in c){var C=c[w];C&&C!=p&&delete C[x._id]}x.remove()}c[l]=null}}},draw:function(l,c,p){this._updateVersion++,l.save(),c.applyToContext(l);for(var y=this._children,x=new a({offset:new d(0,0),pixelRatio:p,viewMatrix:c.isIdentity()?null:c,matrices:[new A],updateMatrix:!0}),w=0,C=y.length;w<C;w++)y[w].draw(l,x);if(l.restore(),this._selectionCount>0){l.save(),l.strokeWidth=1;var M=this._selectionItems,T=this._scope.settings.handleSize,L=this._updateVersion;for(var z in M)M[z]._drawSelection(l,c,T,M,L);l.restore()}}}),R=a.extend(o,{statics:{extend:function l(c){return c._serializeFields&&(c._serializeFields=a.set({},this.prototype._serializeFields,c._serializeFields)),l.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new A,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var l=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return a.each(l,function(c){this._events[c]={install:function(p){this.getView()._countItemEvent(p,1)},uninstall:function(p){this.getView()._countItemEvent(p,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:l}})},{initialize:function(){},_initialize:function(l,c){var p=l&&a.isPlainObject(l),y=p&&l.internal===!0,x=this._matrix=new A,w=p&&l.project||xe.project,C=xe.settings;return this._id=y?null:g.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&C.applyMatrix,c&&x.translate(c),x._owner=this,this._style=new Ut(w._currentStyle,this,w),y||p&&l.insert==!1||!C.insertItems&&!(p&&l.insert==!0)?this._setProject(w):(p&&l.parent||w)._insertItem(e,this,!0),p&&l!==R.NO_INSERT&&l!==R.INSERT&&this.set(l,{internal:!0,insert:!0,project:!0,parent:!0}),p},_serialize:function(l,c){var p={},y=this;function x(w){for(var C in w){var M=y[C];a.equals(M,C==="leading"?w.fontSize*1.2:w[C])||(p[C]=a.serialize(M,l,C!=="data",c))}}return x(this._serializeFields),this instanceof Z||x(this._style._defaults),[this._class,p]},_changed:function(l){var c=this._symbol,p=this._parent||c,y=this._project;l&8&&(this._bounds=this._position=this._decomposed=e),l&16&&(this._globalMatrix=e),p&&l&72&&R._clearBoundsCache(p),l&2&&R._clearBoundsCache(this),y&&y._changed(l,this),c&&c._changed(l)},getId:function(){return this._id},getName:function(){return this._name},setName:function(l){if(this._name&&this._removeNamed(),l===+l+"")throw new Error("Names consisting only of numbers are not supported.");var c=this._getOwner();if(l&&c){var p=c._children,y=c._namedChildren;(y[l]=y[l]||[]).push(this),l in p||(p[l]=this)}this._name=l||e,this._changed(256)},getStyle:function(){return this._style},setStyle:function(l){this.getStyle().set(l)}},a.each(["locked","visible","blendMode","opacity","guide"],function(l){var c=a.capitalize(l),p="_"+l,y={locked:256,visible:265};this["get"+c]=function(){return this[p]},this["set"+c]=function(x){x!=this[p]&&(this[p]=x,this._changed(y[l]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(l){if(l!==this._selection){this._selection=l;var c=this._project;c&&(c._updateSelection(this),this._changed(257))}},_changeSelection:function(l,c){var p=this._selection;this.setSelection(c?p|l:p&~l)},isSelected:function(){if(this._selectChildren){for(var l=this._children,c=0,p=l.length;c<p;c++)if(l[c].isSelected())return!0}return!!(this._selection&1)},setSelected:function(l){if(this._selectChildren)for(var c=this._children,p=0,y=c.length;p<y;p++)c[p].setSelected(l);this._changeSelection(1,l)},isFullySelected:function(){var l=this._children,c=!!(this._selection&1);if(l&&c){for(var p=0,y=l.length;p<y;p++)if(!l[p].isFullySelected())return!1;return!0}return c},setFullySelected:function(l){var c=this._children;if(c)for(var p=0,y=c.length;p<y;p++)c[p].setFullySelected(l);this._changeSelection(1,l)},isClipMask:function(){return this._clipMask},setClipMask:function(l){this._clipMask!=(l=!!l)&&(this._clipMask=l,l&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(l){this._data=l},getPosition:function(l){var c=l?d:m,p=this._position||(this._position=this._getPositionFromBounds());return new c(p.x,p.y,this,"setPosition")},setPosition:function(){this.translate(d.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(l){return this._pivot?this._matrix._transformPoint(this._pivot):(l||this.getBounds()).getCenter(!0)},getPivot:function(){var l=this._pivot;return l?new m(l.x,l.y,this,"setPivot"):null},setPivot:function(){this._pivot=d.read(arguments,0,{clone:!0,readNull:!0}),this._position=e}},a.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(l,c){this[c]=function(p){return this.getBounds(p,l)}},{beans:!0,getBounds:function(l,c){var p=c||l instanceof A,y=a.set({},p?c:l,this._boundsOptions);(!y.stroke||this.getStrokeScaling())&&(y.cacheItem=this);var x=this._getCachedBounds(p&&l,y).rect;return arguments.length?x:new I(x.x,x.y,x.width,x.height,this,"setBounds")},setBounds:function(){var l=S.read(arguments),c=this.getBounds(),p=this._matrix,y=new A,x=l.getCenter();y.translate(x),(l.width!=c.width||l.height!=c.height)&&(p.isInvertible()||(p.set(p._backup||new A().translate(p.getTranslation())),c=this.getBounds()),y.scale(c.width!==0?l.width/c.width:0,c.height!==0?l.height/c.height:0)),x=c.getCenter(),y.translate(-x.x,-x.y),this.transform(y)},_getBounds:function(l,c){var p=this._children;return!p||!p.length?new S:(R._updateBoundsCache(this,c.cacheItem),R._getBounds(p,l,c))},_getBoundsCacheKey:function(l,c){return[l.stroke?1:0,l.handle?1:0,c?1:0].join("")},_getCachedBounds:function(l,c,p){l=l&&l._orNullIfIdentity();var y=c.internal&&!p,x=c.cacheItem,w=y?null:this._matrix._orNullIfIdentity(),C=x&&(!l||l.equals(w))&&this._getBoundsCacheKey(c,y),M=this._bounds;if(R._updateBoundsCache(this._parent||this._symbol,x),C&&M&&C in M){var T=M[C];return{rect:T.rect.clone(),nonscaling:T.nonscaling}}var L=this._getBounds(l||w,c),z=L.rect||L,N=this._style,E=L.nonscaling||N.hasStroke()&&!N.getStrokeScaling();if(C){M||(this._bounds=M={});var T=M[C]={rect:z.clone(),nonscaling:E,internal:y}}return{rect:z,nonscaling:E}},_getStrokeMatrix:function(l,c){var p=this.getStrokeScaling()?null:c&&c.internal?this:this._parent||this._symbol&&this._symbol._item,y=p?p.getViewMatrix().invert():l;return y&&y._shiftless()},statics:{_updateBoundsCache:function(l,c){if(l&&c){var p=c._id,y=l._boundsCache=l._boundsCache||{ids:{},list:[]};y.ids[p]||(y.list.push(c),y.ids[p]=c)}},_clearBoundsCache:function(l){var c=l._boundsCache;if(c){l._bounds=l._position=l._boundsCache=e;for(var p=0,y=c.list,x=y.length;p<x;p++){var w=y[p];w!==l&&(w._bounds=w._position=e,w._boundsCache&&R._clearBoundsCache(w))}}},_getBounds:function(l,c,p){var y=1/0,x=-y,w=y,C=x,M=!1;p=p||{};for(var T=0,L=l.length;T<L;T++){var z=l[T];if(z._visible&&!z.isEmpty(!0)){var N=z._getCachedBounds(c&&c.appended(z._matrix),p,!0),E=N.rect;y=Math.min(E.x,y),w=Math.min(E.y,w),x=Math.max(E.x+E.width,x),C=Math.max(E.y+E.height,C),N.nonscaling&&(M=!0)}}return{rect:isFinite(y)?new S(y,w,x-y,C-w):new S,nonscaling:M}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var l=this._decompose();return l?l.rotation:0},setRotation:function(l){var c=this.getRotation();if(c!=null&&l!=null){var p=this._decomposed;this.rotate(l-c),p&&(p.rotation=l,this._decomposed=p)}},getScaling:function(){var l=this._decompose(),c=l&&l.scaling;return new m(c?c.x:1,c?c.y:1,this,"setScaling")},setScaling:function(){var l=this.getScaling(),c=d.read(arguments,0,{clone:!0,readNull:!0});if(l&&c&&!l.equals(c)){var p=this.getRotation(),y=this._decomposed,x=new A,w=v.isZero;if(w(l.x)||w(l.y))x.translate(y.translation),p&&x.rotate(p),x.scale(c.x,c.y),this._matrix.set(x);else{var C=this.getPosition(!0);x.translate(C),p&&x.rotate(p),x.scale(c.x/l.x,c.y/l.y),p&&x.rotate(-p),x.translate(C.negate()),this.transform(x)}y&&(y.scaling=c,this._decomposed=y)}},getMatrix:function(){return this._matrix},setMatrix:function(){var l=this._matrix;l.set.apply(l,arguments)},getGlobalMatrix:function(l){var c=this._globalMatrix;if(c)for(var p=this._parent,y=[];p;){if(!p._globalMatrix){c=null;for(var x=0,w=y.length;x<w;x++)y[x]._globalMatrix=null;break}y.push(p),p=p._parent}if(!c){c=this._globalMatrix=this._matrix.clone();var p=this._parent;p&&c.prepend(p.getGlobalMatrix(!0))}return l?c:c.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(l){(this._applyMatrix=this._canApplyMatrix&&!!l)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(l,c){if(this._project!==l){this._project&&this._installEvents(!1),this._project=l;for(var p=this._children,y=0,x=p&&p.length;y<x;y++)p[y]._setProject(l);c=!0}c&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function l(c){l.base.call(this,c);for(var p=this._children,y=0,x=p&&p.length;y<x;y++)p[y]._installEvents(c)},getLayer:function(){for(var l=this;l=l._parent;)if(l instanceof j)return l;return null},getParent:function(){return this._parent},setParent:function(l){return l.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(l){this.removeChildren(),this.addChildren(l)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var l=this._getOwner();return l&&l._children[this._index+1]||null},getPreviousSibling:function(){var l=this._getOwner();return l&&l._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(l){var c=this._parent,p=c&&c._children;p&&c.insertChildren(l in p?l:e,[this])},equals:function(l){return l===this||l&&this._class===l._class&&this._style.equals(l._style)&&this._matrix.equals(l._matrix)&&this._locked===l._locked&&this._visible===l._visible&&this._blendMode===l._blendMode&&this._opacity===l._opacity&&this._clipMask===l._clipMask&&this._guide===l._guide&&this._equals(l)||!1},_equals:function(l){return a.equals(this._children,l._children)},clone:function(l){var c=new this.constructor(R.NO_INSERT),p=this._children,y=a.pick(l?l.insert:e,l===e||l===!0),x=a.pick(l?l.deep:e,!0);p&&c.copyAttributes(this),(!p||x)&&c.copyContent(this),p||c.copyAttributes(this),y&&c.insertAbove(this);var w=this._name,C=this._parent;if(w&&C){for(var p=C._children,M=w,T=1;p[w];)w=M+" "+T++;w!==M&&c.setName(w)}return c},copyContent:function(l){for(var c=l._children,p=0,y=c&&c.length;p<y;p++)this.addChild(c[p].clone(!1),!0)},copyAttributes:function(l,c){this.setStyle(l._style);for(var p=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],y=0,x=p.length;y<x;y++){var w=p[y];l.hasOwnProperty(w)&&(this[w]=l[w])}c||this._matrix.set(l._matrix,!0),this.setApplyMatrix(l._applyMatrix),this.setPivot(l._pivot),this.setSelection(l._selection);var C=l._data,M=l._name;this._data=C?a.clone(C):null,M&&this.setName(M)},rasterize:function(l,c){var p,y,x;a.isPlainObject(l)?(p=l.resolution,y=l.insert,x=l.raster):(p=l,y=c),x||(x=new et(R.NO_INSERT));var w=this.getStrokeBounds(),C=(p||this.getView().getResolution())/72,M=w.getTopLeft().floor(),T=w.getBottomRight().ceil(),L=new _(T.subtract(M)),z=L.multiply(C);if(x.setSize(z,!0),!z.isZero()){var N=x.getContext(!0),E=new A().scale(C).translate(M.negate());N.save(),E.applyToContext(N),this.draw(N,new a({matrices:[E]})),N.restore()}return x._matrix.set(new A().translate(M.add(L.divide(2))).scale(1/C)),(y===e||y)&&x.insertAbove(this),x},contains:function(){var l=this._matrix;return l.isInvertible()&&!!this._contains(l._inverseTransform(d.read(arguments)))},_contains:function(l){var c=this._children;if(c){for(var p=c.length-1;p>=0;p--)if(c[p].contains(l))return!0;return!1}return l.isInside(this.getInternalBounds())},isInside:function(){return S.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new St.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(l,c){return l instanceof R?this._asPathItem().getIntersections(l._asPathItem(),null,c,!0).length>0:!1}},new function(){function l(){var y=arguments;return this._hitTest(d.read(y),vt.getOptions(y))}function c(){var y=arguments,x=d.read(y),w=vt.getOptions(y),C=[];return this._hitTest(x,new a({all:C},w)),C}function p(y,x,w,C){var M=this._children;if(M)for(var T=M.length-1;T>=0;T--){var L=M[T],z=L!==C&&L._hitTest(y,x,w);if(z&&!x.all)return z}return null}return V.inject({hitTest:l,hitTestAll:c,_hitTest:p}),{hitTest:l,hitTestAll:c,_hitTestChildren:p}},{_hitTest:function(l,c,p){if(this._locked||!this._visible||this._guide&&!c.guides||this.isEmpty())return null;var y=this._matrix,x=p?p.appended(y):this.getGlobalMatrix().prepend(this.getView()._matrix),w=Math.max(c.tolerance,1e-12),C=c._tolerancePadding=new _(St._getStrokePadding(w,y._shiftless().invert()));if(l=y._inverseTransform(l),!l||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(C.multiply(2))._containsPoint(l))return null;var M=!(c.guides&&!this._guide||c.selected&&!this.isSelected()||c.type&&c.type!==a.hyphenate(this._class)||c.class&&!(this instanceof c.class)),T=c.match,L=this,z,N;function E(P){return P&&T&&!T(P)&&(P=null),P&&c.all&&c.all.push(P),P}function k(P,G){var U=G?z["get"+G]():L.getPosition();if(l.subtract(U).divide(C).length<=1)return new vt(P,L,{name:G?a.hyphenate(G):P,point:U})}var $=c.position,B=c.center,W=c.bounds;if(M&&this._parent&&($||B||W)){if((B||W)&&(z=this.getInternalBounds()),N=$&&k("position")||B&&k("center","Center"),!N&&W)for(var O=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],F=0;F<8&&!N;F++)N=k("bounds",O[F]);N=E(N)}return N||(N=this._hitTestChildren(l,c,x)||M&&E(this._hitTestSelf(l,c,x,this.getStrokeScaling()?null:x._shiftless().invert()))||null),N&&N.point&&(N.point=y.transform(N.point)),N},_hitTestSelf:function(l,c){if(c.fill&&this.hasFill()&&this._contains(l))return new vt("fill",this)},matches:function(l,c){function p(C,M){for(var T in C)if(C.hasOwnProperty(T)){var L=C[T],z=M[T];if(a.isPlainObject(L)&&a.isPlainObject(z)){if(!p(L,z))return!1}else if(!a.equals(L,z))return!1}return!0}var y=typeof l;if(y==="object"){for(var x in l)if(l.hasOwnProperty(x)&&!this.matches(x,l[x]))return!1;return!0}else{if(y==="function")return l(this);if(l==="match")return c(this);var w=/^(empty|editable)$/.test(l)?this["is"+a.capitalize(l)]():l==="type"?a.hyphenate(this._class):this[l];if(l==="class"){if(typeof c=="function")return this instanceof c;w=this._class}if(typeof c=="function")return!!c(w);if(c){if(c.test)return c.test(w);if(a.isPlainObject(c))return p(c,w)}return a.equals(w,c)}},getItems:function(l){return R._getItems(this,l,this._matrix)},getItem:function(l){return R._getItems(this,l,this._matrix,null,!0)[0]||null},statics:{_getItems:function l(c,p,y,x,w){if(!x){var C=typeof p=="object"&&p,M=C&&C.overlapping,T=C&&C.inside,L=M||T,E=L&&S.read([L]);x={items:[],recursive:C&&C.recursive!==!1,inside:!!T,overlapping:!!M,rect:E,path:M&&new St.Rectangle({rectangle:E,insert:!1})},C&&(p=a.filter({},p,{recursive:!0,inside:!0,overlapping:!0}))}var z=c._children,N=x.items,E=x.rect;y=E&&(y||new A);for(var k=0,$=z&&z.length;k<$;k++){var B=z[k],W=y&&y.appended(B._matrix),O=!0;if(E){var L=B.getBounds(W);if(!E.intersects(L))continue;E.contains(L)||x.overlapping&&(L.contains(E)||x.path.intersects(B,W))||(O=!1)}if(O&&B.matches(p)&&(N.push(B),w)||(x.recursive!==!1&&l(B,p,W,x,w),w&&N.length>0))break}return N}}},{importJSON:function(l){var c=a.importJSON(l,this);return c!==this?this.addChild(c):c},addChild:function(l){return this.insertChild(e,l)},insertChild:function(l,c){var p=c?this.insertChildren(l,[c]):null;return p&&p[0]},addChildren:function(l){return this.insertChildren(this._children.length,l)},insertChildren:function(l,c){var p=this._children;if(p&&c&&c.length>0){c=a.slice(c);for(var y={},x=c.length-1;x>=0;x--){var w=c[x],C=w&&w._id;!w||y[C]?c.splice(x,1):(w._remove(!1,!0),y[C]=!0)}a.splice(p,c,l,0);for(var M=this._project,T=M._changes,x=0,L=c.length;x<L;x++){var w=c[x],z=w._name;w._parent=this,w._setProject(M,!0),z&&w.setName(z),T&&w._changed(5)}this._changed(11)}else c=null;return c},_insertItem:"#insertChild",_insertAt:function(l,c){var p=l&&l._getOwner(),y=l!==this&&p?this:null;return y&&(y._remove(!1,!0),p._insertItem(l._index+c,y)),y},insertAbove:function(l){return this._insertAt(l,1)},insertBelow:function(l){return this._insertAt(l,0)},sendToBack:function(){var l=this._getOwner();return l?l._insertItem(0,this):null},bringToFront:function(){var l=this._getOwner();return l?l._insertItem(e,this):null},appendTop:"#addChild",appendBottom:function(l){return this.insertChild(0,l)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(l){return l._insertItem(e,this)},copyTo:function(l){return this.clone(!1).addTo(l)},reduce:function(l){var c=this._children;if(c&&c.length===1){var p=c[0].reduce(l);return this._parent?(p.insertAbove(this),this.remove()):p.remove(),p}return this},_removeNamed:function(){var l=this._getOwner();if(l){var c=l._children,p=l._namedChildren,y=this._name,x=p[y],w=x?x.indexOf(this):-1;w!==-1&&(c[y]==this&&delete c[y],x.splice(w,1),x.length?c[y]=x[0]:delete p[y])}},_remove:function(l,c){var p=this._getOwner(),y=this._project,x=this._index;return this._style&&this._style._dispose(),p?(this._name&&this._removeNamed(),x!=null&&(y._activeLayer===this&&(y._activeLayer=this.getNextSibling()||this.getPreviousSibling()),a.splice(p._children,null,x,1)),this._installEvents(!1),l&&y._changes&&this._changed(5),c&&p._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(l){var c=l&&l.insertBelow(this);return c&&this.remove(),c},removeChildren:function(l,c){if(!this._children)return null;l=l||0,c=a.pick(c,this._children.length);for(var p=a.splice(this._children,null,l,c-l),y=p.length-1;y>=0;y--)p[y]._remove(!0,!1);return p.length>0&&this._changed(11),p},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var l=0,c=this._children.length;l<c;l++)this._children[l]._index=l;this._changed(11)}},isEmpty:function(l){var c=this._children,p=c?c.length:0;if(l){for(var y=0;y<p;y++)if(!c[y].isEmpty(l))return!1;return!0}return!p},isEditable:function(){for(var l=this;l;){if(!l._visible||l._locked)return!1;l=l._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(l){function c(C){var M=[];do M.unshift(C);while(C=C._parent);return M}for(var p=c(this),y=c(l),x=0,w=Math.min(p.length,y.length);x<w;x++)if(p[x]!=y[x])return p[x]._index<y[x]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(l){return this._getOrder(l)===-1},isBelow:function(l){return this._getOrder(l)===1},isParent:function(l){return this._parent===l},isChild:function(l){return l&&l._parent===this},isDescendant:function(l){for(var c=this;c=c._parent;)if(c===l)return!0;return!1},isAncestor:function(l){return l?l.isDescendant(this):!1},isSibling:function(l){return this._parent===l._parent},isGroupedWith:function(l){for(var c=this._parent;c;){if(c._parent&&/^(Group|Layer|CompoundPath)$/.test(c._class)&&l.isDescendant(c))return!0;c=c._parent}return!1}},a.each(["rotate","scale","shear","skew"],function(l){var c=l==="rotate";this[l]=function(){var p=arguments,y=(c?a:d).read(p),x=d.read(p,0,{readNull:!0});return this.transform(new A()[l](y,x||this.getPosition(!0)))}},{translate:function(){var l=new A;return this.transform(l.translate.apply(l,arguments))},transform:function(l,c,p){var y=this._matrix,x=l&&!l.isIdentity(),w=p&&this._canApplyMatrix||this._applyMatrix&&(x||!y.isIdentity()||c&&this._children);if(!x&&!w)return this;if(x){!l.isInvertible()&&y.isInvertible()&&(y._backup=y.getValues()),y.prepend(l,!0);var C=this._style,M=C.getFillColor(!0),T=C.getStrokeColor(!0);M&&M.transform(l),T&&T.transform(l)}if(w&&(w=this._transformContent(y,c,p))){var L=this._pivot;L&&y._transformPoint(L,L,!0),y.reset(!0),p&&this._canApplyMatrix&&(this._applyMatrix=!0)}var z=this._bounds,N=this._position;(x||w)&&this._changed(25);var E=x&&z&&l.decompose();if(E&&E.skewing.isZero()&&E.rotation%90===0){for(var k in z){var $=z[k];if($.nonscaling)delete z[k];else if(w||!$.internal){var B=$.rect;l._transformBounds(B,B)}}this._bounds=z;var W=z[this._getBoundsCacheKey(this._boundsOptions||{})];W&&(this._position=this._getPositionFromBounds(W.rect))}else x&&N&&this._pivot&&(this._position=l._transformPoint(N,N));return this},_transformContent:function(l,c,p){var y=this._children;if(y){for(var x=0,w=y.length;x<w;x++)y[x].transform(l,c,p);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(d.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(d.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(d.read(arguments))},localToParent:function(){return this._matrix._transformPoint(d.read(arguments))},fitBounds:function(l,c){l=S.read(arguments);var p=this.getBounds(),y=p.height/p.width,x=l.height/l.width,w=(c?y>x:y<x)?l.width/p.width:l.height/p.height,C=new S(new d,new _(p.width*w,p.height*w));C.setCenter(l.getCenter()),this.setBounds(C)}}),{_setStyles:function(l,c,p){var y=this._style,x=this._matrix;if(y.hasFill()&&(l.fillStyle=y.getFillColor().toCanvasStyle(l,x)),y.hasStroke()){l.strokeStyle=y.getStrokeColor().toCanvasStyle(l,x),l.lineWidth=y.getStrokeWidth();var w=y.getStrokeJoin(),C=y.getStrokeCap(),M=y.getMiterLimit();if(w&&(l.lineJoin=w),C&&(l.lineCap=C),M&&(l.miterLimit=M),xe.support.nativeDash){var T=y.getDashArray(),L=y.getDashOffset();T&&T.length&&("setLineDash"in l?(l.setLineDash(T),l.lineDashOffset=L):(l.mozDash=T,l.mozDashOffset=L))}}if(y.hasShadow()){var z=c.pixelRatio||1,N=p._shiftless().prepend(new A().scale(z,z)),E=N.transform(new d(y.getShadowBlur(),0)),k=N.transform(this.getShadowOffset());l.shadowColor=y.getShadowColor().toCanvasStyle(l),l.shadowBlur=E.getLength(),l.shadowOffsetX=k.x,l.shadowOffsetY=k.y}},draw:function(l,c,p){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var y=c.matrices,x=c.viewMatrix,w=this._matrix,C=y[y.length-1].appended(w);if(!!C.isInvertible()){x=x?x.appended(C):C,y.push(C),c.updateMatrix&&(this._globalMatrix=C);var M=this._blendMode,T=v.clamp(this._opacity,0,1),L=M==="normal",z=Ca.nativeModes[M],N=L&&T===1||c.dontStart||c.clip||(z||L&&T<1)&&this._canComposite(),E=c.pixelRatio||1,k,$,B;if(!N){var W=this.getStrokeBounds(x);if(!W.width||!W.height){y.pop();return}B=c.offset,$=c.offset=W.getTopLeft().floor(),k=l,l=Ge.getContext(W.getSize().ceil().add(1).multiply(E)),E!==1&&l.scale(E,E)}l.save();var O=p?p.appended(w):this._canScaleStroke&&!this.getStrokeScaling(!0)&&x,F=!N&&c.clipItem,P=!O||F;if(N?(l.globalAlpha=T,z&&(l.globalCompositeOperation=M)):P&&l.translate(-$.x,-$.y),P&&(N?w:x).applyToContext(l),F&&c.clipItem.draw(l,c.extend({clip:!0})),O){l.setTransform(E,0,0,E,0,0);var G=c.offset;G&&l.translate(-G.x,-G.y)}this._draw(l,c,x,O),l.restore(),y.pop(),c.clip&&!c.dontFinish&&l.clip(this.getFillRule()),N||(Ca.process(M,l,k,T,$.subtract(B).multiply(E)),Ge.release(l),c.offset=B)}}},_isUpdated:function(l){var c=this._parent;if(c instanceof Pt)return c._isUpdated(l);var p=this._updateVersion===l;return!p&&c&&c._visible&&c._isUpdated(l)&&(this._updateVersion=l,p=!0),p},_drawSelection:function(l,c,p,y,x){var w=this._selection,C=w&1,M=w&2||C&&this._selectBounds,T=w&4;if(this._drawSelected||(C=!1),(C||M||T)&&this._isUpdated(x)){var L,z=this.getSelectedColor(!0)||(L=this.getLayer())&&L.getSelectedColor(!0),N=c.appended(this.getGlobalMatrix(!0)),E=p/2;if(l.strokeStyle=l.fillStyle=z?z.toCanvasStyle(l):"#009dec",C&&this._drawSelected(l,N,y),T){var k=this.getPosition(!0),$=this._parent,B=$?$.localToGlobal(k):k,W=B.x,O=B.y;l.beginPath(),l.arc(W,O,E,0,Math.PI*2,!0),l.stroke();for(var F=[[0,-1],[1,0],[0,1],[-1,0]],P=E,G=p+1,U=0;U<4;U++){var q=F[U],H=q[0],K=q[1];l.moveTo(W+H*P,O+K*P),l.lineTo(W+H*G,O+K*G),l.stroke()}}if(M){var tt=N._transformCorners(this.getInternalBounds());l.beginPath();for(var U=0;U<8;U++)l[U?"lineTo":"moveTo"](tt[U],tt[++U]);l.closePath(),l.stroke();for(var U=0;U<8;U++)l.fillRect(tt[U]-E,tt[++U]-E,p,p)}}},_canComposite:function(){return!1}},a.each(["down","drag","up","move"],function(l){this["removeOn"+a.capitalize(l)]=function(){var c={};return c[l]=!0,this.removeOn(c)}},{removeOn:function(l){for(var c in l)if(l[c]){var p="mouse"+c,y=this._project,x=y._removeSets=y._removeSets||{};x[p]=x[p]||{},x[p][this._id]=this}return this}}),{tween:function(l,c,p){p||(p=c,c=l,l=null,p||(p=c,c=null));var y=p&&p.easing,x=p&&p.start,w=p!=null&&(typeof p=="number"?p:p.duration),C=new Vr(this,l,c,w,y,x);function M(T){C._handleFrame(T.time*1e3),C.running||this.off("frame",M)}return w&&this.on("frame",M),C},tweenTo:function(l,c){return this.tween(null,l,c)},tweenFrom:function(l,c){return this.tween(l,null,c)}}),Z=R.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(c){this._children=[],this._namedChildren={},this._initialize(c)||this.addChildren(Array.isArray(c)?c:arguments)},_changed:function l(c){l.base.call(this,c),c&2050&&(this._clipItem=e)},_getClipItem:function(){var l=this._clipItem;if(l===e){l=null;for(var c=this._children,p=0,y=c.length;p<y;p++)if(c[p]._clipMask){l=c[p];break}this._clipItem=l}return l},isClipped:function(){return!!this._getClipItem()},setClipped:function(l){var c=this.getFirstChild();c&&c.setClipMask(l)},_getBounds:function l(c,p){var y=this._getClipItem();return y?y._getCachedBounds(y._matrix.prepended(c),a.set({},p,{stroke:!1})):l.base.call(this,c,p)},_hitTestChildren:function l(c,p,y){var x=this._getClipItem();return(!x||x.contains(c))&&l.base.call(this,c,p,y,x)},_draw:function(l,c){var p=c.clip,y=!p&&this._getClipItem();c=c.extend({clipItem:y,clip:!1}),p?(l.beginPath(),c.dontStart=c.dontFinish=!0):y&&y.draw(l,c.extend({clip:!0}));for(var x=this._children,w=0,C=x.length;w<C;w++){var M=x[w];M!==y&&M.draw(l,c)}}}),j=Z.extend({_class:"Layer",initialize:function(){Z.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function l(){return this._parent?l.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),X=R.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(c,p){this._initialize(c,p)},_equals:function(l){return this._type===l._type&&this._size.equals(l._size)&&a.equals(this._radius,l._radius)},copyContent:function(l){this.setType(l._type),this.setSize(l._size),this.setRadius(l._radius)},getType:function(){return this._type},setType:function(l){this._type=l},getShape:"#getType",setShape:"#setType",getSize:function(){var l=this._size;return new b(l.width,l.height,this,"setSize")},setSize:function(){var l=_.read(arguments);if(!this._size)this._size=l.clone();else if(!this._size.equals(l)){var c=this._type,p=l.width,y=l.height;c==="rectangle"?this._radius.set(_.min(this._radius,l.divide(2).abs())):c==="circle"?(p=y=(p+y)/2,this._radius=p/2):c==="ellipse"&&this._radius._set(p/2,y/2),this._size._set(p,y),this._changed(9)}},getRadius:function(){var l=this._radius;return this._type==="circle"?l:new b(l.width,l.height,this,"setRadius")},setRadius:function(l){var c=this._type;if(c==="circle"){if(l===this._radius)return;var p=l*2;this._radius=l,this._size._set(p,p)}else if(l=_.read(arguments),!this._radius)this._radius=l.clone();else{if(this._radius.equals(l))return;if(this._radius.set(l),c==="rectangle"){var p=_.max(this._size,l.multiply(2));this._size.set(p)}else c==="ellipse"&&this._size._set(l.width*2,l.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(l){var c=new St[a.capitalize(this._type)]({center:new d,size:this._size,radius:this._radius,insert:!1});return c.copyAttributes(this),xe.settings.applyMatrix&&c.setApplyMatrix(!0),(l===e||l)&&c.insertAbove(this),c},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(l,c,p,y){var x=this._style,w=x.hasFill(),C=x.hasStroke(),M=c.dontFinish||c.clip,T=!y;if(w||C||M){var L=this._type,z=this._radius,N=L==="circle";if(c.dontStart||l.beginPath(),T&&N)l.arc(0,0,z,0,Math.PI*2,!0);else{var E=N?z:z.width,k=N?z:z.height,$=this._size,B=$.width,W=$.height;if(T&&L==="rectangle"&&E===0&&k===0)l.rect(-B/2,-W/2,B,W);else{var O=B/2,F=W/2,P=1-.5522847498307936,G=E*P,U=k*P,q=[-O,-F+k,-O,-F+U,-O+G,-F,-O+E,-F,O-E,-F,O-G,-F,O,-F+U,O,-F+k,O,F-k,O,F-U,O-G,F,O-E,F,-O+E,F,-O+G,F,-O,F-U,-O,F-k];y&&y.transform(q,q,32),l.moveTo(q[0],q[1]),l.bezierCurveTo(q[2],q[3],q[4],q[5],q[6],q[7]),O!==E&&l.lineTo(q[8],q[9]),l.bezierCurveTo(q[10],q[11],q[12],q[13],q[14],q[15]),F!==k&&l.lineTo(q[16],q[17]),l.bezierCurveTo(q[18],q[19],q[20],q[21],q[22],q[23]),O!==E&&l.lineTo(q[24],q[25]),l.bezierCurveTo(q[26],q[27],q[28],q[29],q[30],q[31])}}l.closePath()}!M&&(w||C)&&(this._setStyles(l,c,p),w&&(l.fill(x.getFillRule()),l.shadowColor="rgba(0,0,0,0)"),C&&l.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(l,c){var p=new S(this._size).setCenter(0,0),y=this._style,x=c.stroke&&y.hasStroke()&&y.getStrokeWidth();return l&&(p=l._transformBounds(p)),x?p.expand(St._getStrokePadding(x,this._getStrokeMatrix(l,c))):p}},new function(){function l(p,y,x){var w=p._radius;if(!w.isZero())for(var C=p._size.divide(2),M=1;M<=4;M++){var T=new d(M>1&&M<4?-1:1,M>2?-1:1),L=T.multiply(C),z=L.subtract(T.multiply(w)),N=new S(x?L.add(T.multiply(x)):L,z);if(N.contains(y))return{point:z,quadrant:M}}}function c(p,y,x,w){var C=p.divide(y);return(!w||C.isInQuadrant(w))&&C.subtract(C.normalize()).multiply(y).divide(x).length<=1}return{_contains:function p(y){if(this._type==="rectangle"){var x=l(this,y);return x?y.subtract(x.point).divide(this._radius).getLength()<=1:p.base.call(this,y)}else return y.divide(this.size).getLength()<=.5},_hitTestSelf:function p(y,x,w,C){var M=!1,T=this._style,L=x.stroke&&T.hasStroke(),z=x.fill&&T.hasFill();if(L||z){var N=this._type,E=this._radius,k=L?T.getStrokeWidth()/2:0,$=x._tolerancePadding.add(St._getStrokePadding(k,!T.getStrokeScaling()&&C));if(N==="rectangle"){var B=$.multiply(2),W=l(this,y,B);if(W)M=c(y.subtract(W.point),E,$,W.quadrant);else{var O=new S(this._size).setCenter(0,0),F=O.expand(B),P=O.expand(B.negate());M=F._containsPoint(y)&&!P._containsPoint(y)}}else M=c(y,E,$)}return M?new vt(L?"stroke":"fill",this):p.base.apply(this,arguments)}}},{statics:new function(){function l(c,p,y,x,w){var C=a.create(X.prototype);return C._type=c,C._size=y,C._radius=x,C._initialize(a.getNamed(w),p),C}return{Circle:function(){var c=arguments,p=d.readNamed(c,"center"),y=a.readNamed(c,"radius");return l("circle",p,new _(y*2),y,c)},Rectangle:function(){var c=arguments,p=S.readNamed(c,"rectangle"),y=_.min(_.readNamed(c,"radius"),p.getSize(!0).divide(2));return l("rectangle",p.getCenter(!0),p.getSize(!0),y,c)},Ellipse:function(){var c=arguments,p=X._readEllipse(c),y=p.radius;return l("ellipse",p.center,y.multiply(2),y,c)},_readEllipse:function(c){var p,y;if(a.hasNamed(c,"radius"))p=d.readNamed(c,"center"),y=_.readNamed(c,"radius");else{var x=S.readNamed(c,"rectangle");p=x.getCenter(!0),y=x.getSize(!0).divide(2)}return{center:p,radius:y}}}}}),et=R.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(c,p){if(!this._initialize(c,p!==e&&d.read(arguments))){var y,x=typeof c,w=x==="string"?i.getElementById(c):x==="object"?c:null;if(w&&w!==R.NO_INSERT){if(w.getContext||w.naturalHeight!=null)y=w;else if(w){var C=_.read(arguments);C.isZero()||(y=Ge.getCanvas(C))}}y?this.setImage(y):this.setSource(c)}this._size||(this._size=new _,this._loaded=!1)},_equals:function(l){return this.getSource()===l.getSource()},copyContent:function(l){var c=l._image,p=l._canvas;if(c)this._setImage(c);else if(p){var y=Ge.getCanvas(l._size);y.getContext("2d").drawImage(p,0,0),this._setImage(y)}this._crossOrigin=l._crossOrigin},getSize:function(){var l=this._size;return new b(l?l.width:0,l?l.height:0,this,"setSize")},setSize:function(l,c){var p=_.read(arguments);if(p.equals(this._size))c&&this.clear();else if(p.width>0&&p.height>0){var y=!c&&this.getElement();this._setImage(Ge.getCanvas(p)),y&&this.getContext(!0).drawImage(y,0,0,p.width,p.height)}else this._canvas&&Ge.release(this._canvas),this._size=p.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(l){this.setSize(l,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(l){this.setSize(this.getWidth(),l)},getLoaded:function(){return this._loaded},isEmpty:function(){var l=this._size;return!l||l.width===0&&l.height===0},getResolution:function(){var l=this._matrix,c=new d(0,0).transform(l),p=new d(1,0).transform(l).subtract(c),y=new d(0,1).transform(l).subtract(c);return new _(72/p.getLength(),72/y.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(l){var c=this;function p(y){var x=c.getView(),w=y&&y.type||"load";x&&c.responds(w)&&(xe=x._scope,c.emit(w,new tr(y)))}this._setImage(l),this._loaded?setTimeout(p,0):l&&Yt.add(l,{load:function(y){c._setImage(l),p(y)},error:p})},_setImage:function(l){this._canvas&&Ge.release(this._canvas),l&&l.getContext?(this._image=null,this._canvas=l,this._loaded=!0):(this._image=l,this._canvas=null,this._loaded=!!(l&&l.src&&l.complete)),this._size=new _(l?l.naturalWidth||l.width:0,l?l.naturalHeight||l.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var l=Ge.getContext(this._size);try{this._image&&l.drawImage(this._image,0,0),this._canvas=l.canvas}catch{Ge.release(l)}}return this._canvas},setCanvas:"#setImage",getContext:function(l){return this._context||(this._context=this.getCanvas().getContext("2d")),l&&(this._image=null,this._changed(1025)),this._context},setContext:function(l){this._context=l},getSource:function(){var l=this._image;return l&&l.src||this.toDataURL()},setSource:function(l){var c=new t.Image,p=this._crossOrigin;p&&(c.crossOrigin=p),l&&(c.src=l),this.setImage(c)},getCrossOrigin:function(){var l=this._image;return l&&l.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(l){this._crossOrigin=l;var c=this._image;c&&(c.crossOrigin=l)},getSmoothing:function(){return this._smoothing},setSmoothing:function(l){this._smoothing=typeof l=="string"?l:l?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var l=S.read(arguments),c=Ge.getContext(l.getSize());return c.drawImage(this.getCanvas(),l.x,l.y,l.width,l.height,0,0,l.width,l.height),c.canvas},getSubRaster:function(){var l=S.read(arguments),c=new et(R.NO_INSERT);return c._setImage(this.getSubCanvas(l)),c.translate(l.getCenter().subtract(this.getSize().divide(2))),c._matrix.prepend(this._matrix),c.insertAbove(this),c},toDataURL:function(){var l=this._image,c=l&&l.src;if(/^data:/.test(c))return c;var p=this.getCanvas();return p?p.toDataURL.apply(p,arguments):null},drawImage:function(l){var c=d.read(arguments,1);this.getContext(!0).drawImage(l,c.x,c.y)},getAverageColor:function(l){var c,p;if(l?l instanceof xt?(p=l,c=l.getBounds()):typeof l=="object"&&("width"in l?c=new S(l):"x"in l&&(c=new S(l.x-.5,l.y-.5,1,1))):c=this.getBounds(),!c)return null;var y=32,x=Math.min(c.width,y),w=Math.min(c.height,y),C=et._sampleContext;C?C.clearRect(0,0,y+1,y+1):C=et._sampleContext=Ge.getContext(new _(y)),C.save();var M=new A().scale(x/c.width,w/c.height).translate(-c.x,-c.y);M.applyToContext(C),p&&p.draw(C,new a({clip:!0,matrices:[M]})),this._matrix.applyToContext(C);var T=this.getElement(),L=this._size;T&&C.drawImage(T,-L.width/2,-L.height/2),C.restore();for(var z=C.getImageData(.5,.5,Math.ceil(x),Math.ceil(w)).data,N=[0,0,0],E=0,k=0,$=z.length;k<$;k+=4){var B=z[k+3];E+=B,B/=255,N[0]+=z[k]*B,N[1]+=z[k+1]*B,N[2]+=z[k+2]*B}for(var k=0;k<3;k++)N[k]/=E;return E?jt.read(N):null},getPixel:function(){var l=d.read(arguments),c=this.getContext().getImageData(l.x,l.y,1,1).data;return new jt("rgb",[c[0]/255,c[1]/255,c[2]/255],c[3]/255)},setPixel:function(){var l=arguments,c=d.read(l),p=jt.read(l),y=p._convert("rgb"),x=p._alpha,w=this.getContext(!0),C=w.createImageData(1,1),M=C.data;M[0]=y[0]*255,M[1]=y[1]*255,M[2]=y[2]*255,M[3]=x!=null?x*255:255,w.putImageData(C,c.x,c.y)},clear:function(){var l=this._size;this.getContext(!0).clearRect(0,0,l.width+1,l.height+1)},createImageData:function(){var l=_.read(arguments);return this.getContext().createImageData(l.width,l.height)},getImageData:function(){var l=S.read(arguments);return l.isEmpty()&&(l=new S(this._size)),this.getContext().getImageData(l.x,l.y,l.width,l.height)},putImageData:function(l){var c=d.read(arguments,1);this.getContext(!0).putImageData(l,c.x,c.y)},setImageData:function(l){this.setSize(l),this.getContext(!0).putImageData(l,0,0)},_getBounds:function(l,c){var p=new S(this._size).setCenter(0,0);return l?l._transformBounds(p):p},_hitTestSelf:function(l){if(this._contains(l)){var c=this;return new vt("pixel",c,{offset:l.add(c._size.divide(2)).round(),color:{get:function(){return c.getPixel(this.offset)}}})}},_draw:function(l,c,p){var y=this.getElement();if(y&&y.width>0&&y.height>0){l.globalAlpha=v.clamp(this._opacity,0,1),this._setStyles(l,c,p);var x=this._smoothing,w=x==="off";qt.setPrefixed(l,w?"imageSmoothingEnabled":"imageSmoothingQuality",w?!1:x),l.drawImage(y,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),it=R.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(c,p){this._initialize(c,p!==e&&d.read(arguments,1))||this.setDefinition(c instanceof ht?c:new ht(c))},_equals:function(l){return this._definition===l._definition},copyContent:function(l){this.setDefinition(l._definition)},getDefinition:function(){return this._definition},setDefinition:function(l){this._definition=l,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(l,c){var p=this._definition._item;return p._getCachedBounds(p._matrix.prepended(l),c)},_hitTestSelf:function(l,c,p){var y=c.extend({all:!1}),x=this._definition._item._hitTest(l,y,p);return x&&(x.item=this),x},_draw:function(l,c){this._definition._item.draw(l,c)}}),ht=a.extend({_class:"SymbolDefinition",initialize:function(c,p){this._id=g.get(),this.project=xe.project,c&&this.setItem(c,p)},_serialize:function(l,c){return c.add(this,function(){return a.serialize([this._class,this._item],l,!1,c)})},_changed:function(l){l&8&&R._clearBoundsCache(this),l&1&&this.project._changed(l)},getItem:function(){return this._item},setItem:function(l,c){l._symbol&&(l=l.clone()),this._item&&(this._item._symbol=null),this._item=l,l.remove(),l.setSelected(!1),c||l.setPosition(new d),l._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(l){return new it(this,l)},clone:function(){return new ht(this._item.clone(!1))},equals:function(l){return l===this||l&&this._item.equals(l._item)||!1}}),vt=a.extend({_class:"HitResult",initialize:function(c,p,y){this.type=c,this.item=p,y&&this.inject(y)},statics:{getOptions:function(l){var c=l&&a.read(l);return new a({type:null,tolerance:xe.settings.hitTolerance,fill:!c,stroke:!c,segments:!c,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},c)}}}),st=a.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(c,p,y,x,w,C){var M=arguments.length,T,L,z,N;M>0&&(c==null||typeof c=="object"?M===1&&c&&"point"in c?(T=c.point,L=c.handleIn,z=c.handleOut,N=c.selection):(T=c,L=p,z=y,N=x):(T=[c,p],L=y!==e?[y,x]:null,z=w!==e?[w,C]:null)),new mt(T,this,"_point"),new mt(L,this,"_handleIn"),new mt(z,this,"_handleOut"),N&&this.setSelection(N)},_serialize:function(l,c){var p=this._point,y=this._selection,x=y||this.hasHandles()?[p,this._handleIn,this._handleOut]:p;return y&&x.push(y),a.serialize(x,l,!0,c)},_changed:function(l){var c=this._path;if(!!c){var p=c._curves,y=this._index,x;p&&((!l||l===this._point||l===this._handleIn)&&(x=y>0?p[y-1]:c._closed?p[p.length-1]:null)&&x._changed(),(!l||l===this._point||l===this._handleOut)&&(x=p[y])&&x._changed()),c._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(d.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(d.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(d.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var l=this._handleIn,c=this._handleOut;return!l.isZero()&&!c.isZero()&&l.isCollinear(c)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(l){var c=this._selection,p=this._path;this._selection=l=l||0,p&&l!==c&&(p._updateSelection(this,c,l),p._changed(257))},_changeSelection:function(l,c){var p=this._selection;this.setSelection(c?p|l:p&~l)},isSelected:function(){return!!(this._selection&7)},setSelected:function(l){this._changeSelection(7,l)},getIndex:function(){return this._index!==e?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var l=this._path,c=this._index;return l?(c>0&&!l._closed&&c===l._segments.length-1&&c--,l.getCurves()[c]||null):null},getLocation:function(){var l=this.getCurve();return l?new Mt(l,this===l._segment1?0:1):null},getNext:function(){var l=this._path&&this._path._segments;return l&&(l[this._index+1]||this._path._closed&&l[0])||null},smooth:function(l,c,p){var y=l||{},x=y.type,w=y.factor,C=this.getPrevious(),M=this.getNext(),T=(C||this)._point,L=this._point,z=(M||this)._point,N=T.getDistance(L),E=L.getDistance(z);if(!x||x==="catmull-rom"){var k=w===e?.5:w,$=Math.pow(N,k),B=$*$,W=Math.pow(E,k),O=W*W;if(!c&&C){var F=2*O+3*W*$+B,P=3*W*(W+$);this.setHandleIn(P!==0?new d((O*T._x+F*L._x-B*z._x)/P-L._x,(O*T._y+F*L._y-B*z._y)/P-L._y):new d)}if(!p&&M){var F=2*B+3*$*W+O,P=3*$*($+W);this.setHandleOut(P!==0?new d((B*z._x+F*L._x-O*T._x)/P-L._x,(B*z._y+F*L._y-O*T._y)/P-L._y):new d)}}else if(x==="geometric"){if(C&&M){var G=T.subtract(z),U=w===e?.4:w,q=U*N/(N+E);c||this.setHandleIn(G.multiply(q)),p||this.setHandleOut(G.multiply(q-U))}}else throw new Error("Smoothing method '"+x+"' not supported.")},getPrevious:function(){var l=this._path&&this._path._segments;return l&&(l[this._index-1]||this._path._closed&&l[l.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var l=this._path;return l&&this._index===l._segments.length-1||!1},reverse:function(){var l=this._handleIn,c=this._handleOut,p=l.clone();l.set(c),c.set(p)},reversed:function(){return new st(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new st(this._point,this._handleIn,this._handleOut)},equals:function(l){return l===this||l&&this._class===l._class&&this._point.equals(l._point)&&this._handleIn.equals(l._handleIn)&&this._handleOut.equals(l._handleOut)||!1},toString:function(){var l=["point: "+this._point];return this._handleIn.isZero()||l.push("handleIn: "+this._handleIn),this._handleOut.isZero()||l.push("handleOut: "+this._handleOut),"{ "+l.join(", ")+" }"},transform:function(l){this._transformCoordinates(l,new Array(6),!0),this._changed()},interpolate:function(l,c,p){var y=1-p,x=p,w=l._point,C=c._point,M=l._handleIn,T=c._handleIn,L=c._handleOut,z=l._handleOut;this._point._set(y*w._x+x*C._x,y*w._y+x*C._y,!0),this._handleIn._set(y*M._x+x*T._x,y*M._y+x*T._y,!0),this._handleOut._set(y*z._x+x*L._x,y*z._y+x*L._y,!0),this._changed()},_transformCoordinates:function(l,c,p){var y=this._point,x=!p||!this._handleIn.isZero()?this._handleIn:null,w=!p||!this._handleOut.isZero()?this._handleOut:null,C=y._x,M=y._y,T=2;return c[0]=C,c[1]=M,x&&(c[T++]=x._x+C,c[T++]=x._y+M),w&&(c[T++]=w._x+C,c[T++]=w._y+M),l&&(l._transformCoordinates(c,c,T/2),C=c[0],M=c[1],p?(y._x=C,y._y=M,T=2,x&&(x._x=c[T++]-C,x._y=c[T++]-M),w&&(w._x=c[T++]-C,w._y=c[T++]-M)):(x||(c[T++]=C,c[T++]=M),w||(c[T++]=C,c[T++]=M))),c}}),mt=d.extend({initialize:function(c,p,y){var x,w,C;if(!c)x=w=0;else if((x=c[0])!==e)w=c[1];else{var M=c;(x=M.x)===e&&(M=d.read(arguments),x=M.x),w=M.y,C=M.selected}this._x=x,this._y=w,this._owner=p,p[y]=this,C&&this.setSelected(!0)},_set:function(l,c){return this._x=l,this._y=c,this._owner._changed(this),this},getX:function(){return this._x},setX:function(l){this._x=l,this._owner._changed(this)},getY:function(){return this._y},setY:function(l){this._y=l,this._owner._changed(this)},isZero:function(){var l=v.isZero;return l(this._x)&&l(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(l){this._owner._changeSelection(this._getSelection(),l)},_getSelection:function(){var l=this._owner;return this===l._point?1:this===l._handleIn?2:this===l._handleOut?4:0}}),lt=a.extend({_class:"Curve",beans:!0,initialize:function(c,p,y,x,w,C,M,T){var L=arguments.length,z,N,E,k,$,B;L===3?(this._path=c,z=p,N=y):L?L===1?"segment1"in c?(z=new st(c.segment1),N=new st(c.segment2)):"point1"in c?(E=c.point1,$=c.handle1,B=c.handle2,k=c.point2):Array.isArray(c)&&(E=[c[0],c[1]],k=[c[6],c[7]],$=[c[2]-c[0],c[3]-c[1]],B=[c[4]-c[6],c[5]-c[7]]):L===2?(z=new st(c),N=new st(p)):L===4?(E=c,$=p,B=y,k=x):L===8&&(E=[c,p],k=[M,T],$=[y-c,x-p],B=[w-M,C-T]):(z=new st,N=new st),this._segment1=z||new st(E,null,$),this._segment2=N||new st(k,B,null)},_serialize:function(l,c){return a.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],l,!0,c)},_changed:function(){this._length=this._bounds=e},clone:function(){return new lt(this._segment1,this._segment2)},toString:function(){var l=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||l.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||l.push("handle2: "+this._segment2._handleIn),l.push("point2: "+this._segment2._point),"{ "+l.join(", ")+" }"},classify:function(){return lt.classify(this.getValues())},remove:function(){var l=!1;if(this._path){var c=this._segment2,p=c._handleOut;l=c.remove(),l&&this._segment1._handleOut.set(p)}return l},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(d.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(d.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(d.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(d.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var l=this._path&&this._path._curves;return l&&(l[this._segment1._index+1]||this._path._closed&&l[0])||null},getPrevious:function(){var l=this._path&&this._path._curves;return l&&(l[this._segment1._index-1]||this._path._closed&&l[l.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var l=this._path;return l&&this._segment1._index===l._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(l){this.getPoint1().setSelected(l),this.getHandle1().setSelected(l),this.getHandle2().setSelected(l),this.getPoint2().setSelected(l)},getValues:function(l){return lt.getValues(this._segment1,this._segment2,l)},getPoints:function(){for(var l=this.getValues(),c=[],p=0;p<8;p+=2)c.push(new d(l[p],l[p+1]));return c}},{getLength:function(){return this._length==null&&(this._length=lt.getLength(this.getValues(),0,1)),this._length},getArea:function(){return lt.getArea(this.getValues())},getLine:function(){return new D(this._segment1._point,this._segment2._point)},getPart:function(l,c){return new lt(lt.getPart(this.getValues(),l,c))},getPartLength:function(l,c){return lt.getLength(this.getValues(),l,c)},divideAt:function(l){return this.divideAtTime(l&&l.curve===this?l.time:this.getTimeAt(l))},divideAtTime:function(l,c){var p=1e-8,y=1-p,x=null;if(l>=p&&l<=y){var w=lt.subdivide(this.getValues(),l),C=w[0],M=w[1],T=c||this.hasHandles(),L=this._segment1,z=this._segment2,N=this._path;T&&(L._handleOut._set(C[2]-C[0],C[3]-C[1]),z._handleIn._set(M[4]-M[6],M[5]-M[7]));var E=C[6],k=C[7],$=new st(new d(E,k),T&&new d(C[4]-E,C[5]-k),T&&new d(M[2]-E,M[3]-k));N?(N.insert(L._index+1,$),x=this.getNext()):(this._segment2=$,this._changed(),x=new lt($,z))}return x},splitAt:function(l){var c=this._path;return c?c.splitAt(l):null},splitAtTime:function(l){return this.splitAt(this.getLocationAtTime(l))},divide:function(l,c){return this.divideAtTime(l===e?.5:c?l:this.getTimeAt(l))},split:function(l,c){return this.splitAtTime(l===e?.5:c?l:this.getTimeAt(l))},reversed:function(){return new lt(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(l,c,p,y){var x=l._point,w=l._handleOut,C=c._handleIn,M=c._point,T=x.x,L=x.y,z=M.x,N=M.y,E=y?[T,L,T,L,z,N,z,N]:[T,L,T+w._x,L+w._y,z+C._x,N+C._y,z,N];return p&&p._transformCoordinates(E,E,4),E},subdivide:function(l,c){var p=l[0],y=l[1],x=l[2],w=l[3],C=l[4],M=l[5],T=l[6],L=l[7];c===e&&(c=.5);var z=1-c,N=z*p+c*x,E=z*y+c*w,k=z*x+c*C,$=z*w+c*M,B=z*C+c*T,W=z*M+c*L,O=z*N+c*k,F=z*E+c*$,P=z*k+c*B,G=z*$+c*W,U=z*O+c*P,q=z*F+c*G;return[[p,y,N,E,O,F,U,q],[U,q,P,G,B,W,T,L]]},getMonoCurves:function(l,c){var p=[],y=c?0:1,x=l[y+0],w=l[y+2],C=l[y+4],M=l[y+6];if(x>=w==w>=C&&w>=C==C>=M||lt.isStraight(l))p.push(l);else{var T=3*(w-C)-x+M,L=2*(x+C)-4*w,z=w-x,N=1e-8,E=1-N,k=[],$=v.solveQuadratic(T,L,z,k,N,E);if(!$)p.push(l);else{k.sort();var B=k[0],W=lt.subdivide(l,B);p.push(W[0]),$>1&&(B=(k[1]-B)/(1-B),W=lt.subdivide(W[1],B),p.push(W[0])),p.push(W[1])}}return p},solveCubic:function(l,c,p,y,x,w){var C=l[c],M=l[c+2],T=l[c+4],L=l[c+6],z=0;if(!(C<p&&L<p&&M<p&&T<p||C>p&&L>p&&M>p&&T>p)){var N=3*(M-C),E=3*(T-M)-N,k=L-C-N-E;z=v.solveCubic(k,E,N,C-p,y,x,w)}return z},getTimeOf:function(l,c){var p=new d(l[0],l[1]),y=new d(l[6],l[7]),x=1e-12,w=1e-7,C=c.isClose(p,x)?0:c.isClose(y,x)?1:null;if(C===null)for(var M=[c.x,c.y],T=[],L=0;L<2;L++)for(var z=lt.solveCubic(l,L,M[L],T,0,1),N=0;N<z;N++){var E=T[N];if(c.isClose(lt.getPoint(l,E),w))return E}return c.isClose(p,w)?0:c.isClose(y,w)?1:null},getNearestTime:function(l,c){if(lt.isStraight(l)){var p=l[0],y=l[1],x=l[6],w=l[7],C=x-p,M=w-y,T=C*C+M*M;if(T===0)return 0;var L=((c.x-p)*C+(c.y-y)*M)/T;return L<1e-12?0:L>.999999999999?1:lt.getTimeOf(l,new d(p+L*C,y+L*M))}var z=100,N=1/0,E=0;function k(W){if(W>=0&&W<=1){var O=c.getDistance(lt.getPoint(l,W),!0);if(O<N)return N=O,E=W,!0}}for(var $=0;$<=z;$++)k($/z);for(var B=1/(z*2);B>1e-8;)!k(E-B)&&!k(E+B)&&(B/=2);return E},getPart:function(l,c,p){var y=c>p;if(y){var x=c;c=p,p=x}return c>0&&(l=lt.subdivide(l,c)[1]),p<1&&(l=lt.subdivide(l,(p-c)/(1-c))[0]),y?[l[6],l[7],l[4],l[5],l[2],l[3],l[0],l[1]]:l},isFlatEnough:function(l,c){var p=l[0],y=l[1],x=l[2],w=l[3],C=l[4],M=l[5],T=l[6],L=l[7],z=3*x-2*p-T,N=3*w-2*y-L,E=3*C-2*T-p,k=3*M-2*L-y;return Math.max(z*z,E*E)+Math.max(N*N,k*k)<=16*c*c},getArea:function(l){var c=l[0],p=l[1],y=l[2],x=l[3],w=l[4],C=l[5],M=l[6],T=l[7];return 3*((T-p)*(y+w)-(M-c)*(x+C)+x*(c-w)-y*(p-C)+T*(w+c/3)-M*(C+p/3))/20},getBounds:function(l){for(var c=l.slice(0,2),p=c.slice(),y=[0,0],x=0;x<2;x++)lt._addBounds(l[x],l[x+2],l[x+4],l[x+6],x,0,c,p,y);return new S(c[0],c[1],p[0]-c[0],p[1]-c[1])},_addBounds:function(l,c,p,y,x,w,C,M,T){function L(U,q){var H=U-q,K=U+q;H<C[x]&&(C[x]=H),K>M[x]&&(M[x]=K)}w/=2;var z=C[x]+w,N=M[x]-w;if(l<z||c<z||p<z||y<z||l>N||c>N||p>N||y>N)if(c<l!=c<y&&p<l!=p<y)L(l,0),L(y,0);else{var E=3*(c-p)-l+y,k=2*(l+p)-4*c,$=c-l,B=v.solveQuadratic(E,k,$,T),W=1e-8,O=1-W;L(y,0);for(var F=0;F<B;F++){var P=T[F],G=1-P;W<=P&&P<=O&&L(G*G*G*l+3*G*G*P*c+3*G*P*P*p+P*P*P*y,w)}}}}},a.each(["getBounds","getStrokeBounds","getHandleBounds"],function(l){this[l]=function(){this._bounds||(this._bounds={});var c=this._bounds[l];return c||(c=this._bounds[l]=St[l]([this._segment1,this._segment2],!1,this._path)),c.clone()}},{}),a.each({isStraight:function(l,c,p,y){if(c.isZero()&&p.isZero())return!0;var x=y.subtract(l);if(x.isZero())return!1;if(x.isCollinear(c)&&x.isCollinear(p)){var w=new D(l,y),C=1e-7;if(w.getDistance(l.add(c))<C&&w.getDistance(y.add(p))<C){var M=x.dot(x),T=x.dot(c)/M,L=x.dot(p)/M;return T>=0&&T<=1&&L<=0&&L>=-1}}return!1},isLinear:function(l,c,p,y){var x=y.subtract(l).divide(3);return c.equals(x)&&p.negate().equals(x)}},function(l,c){this[c]=function(p){var y=this._segment1,x=this._segment2;return l(y._point,y._handleOut,x._handleIn,x._point,p)},this.statics[c]=function(p,y){var x=p[0],w=p[1],C=p[6],M=p[7];return l(new d(x,w),new d(p[2]-x,p[3]-w),new d(p[4]-C,p[5]-M),new d(C,M),y)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(l){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(l||0)},isCollinear:function(l){return l&&this.isStraight()&&l.isStraight()&&this.getLine().isCollinear(l.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(l,c){return this.getLocationAtTime(c?l:this.getTimeAt(l))},getLocationAtTime:function(l){return l!=null&&l>=0&&l<=1?new Mt(this,l):null},getTimeAt:function(l,c){return lt.getTimeAt(this.getValues(),l,c)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var l=d.read(arguments);return l.isZero()?[]:lt.getTimesWithTangent(this.getValues(),l)},getOffsetAtTime:function(l){return this.getPartLength(0,l)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(d.read(arguments)))},getOffsetOf:function(){var l=this.getLocationOf.apply(this,arguments);return l?l.getOffset():null},getTimeOf:function(){return lt.getTimeOf(this.getValues(),d.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var l=d.read(arguments),c=this.getValues(),p=lt.getNearestTime(c,l),y=lt.getPoint(c,p);return new Mt(this,p,y,null,l.getDistance(y))},getNearestPoint:function(){var l=this.getNearestLocation.apply(this,arguments);return l&&l.getPoint()}},new function(){var l=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return a.each(l,function(c){this[c+"At"]=function(p,y){var x=this.getValues();return lt[c](x,y?p:lt.getTimeAt(x,p))},this[c+"AtTime"]=function(p){return lt[c](this.getValues(),p)}},{statics:{_evaluateMethods:l}})},new function(){function l(y){var x=y[0],w=y[1],C=y[2],M=y[3],T=y[4],L=y[5],z=y[6],N=y[7],E=9*(C-T)+3*(z-x),k=6*(x+T)-12*C,$=3*(C-x),B=9*(M-L)+3*(N-w),W=6*(w+L)-12*M,O=3*(M-w);return function(F){var P=(E*F+k)*F+$,G=(B*F+W)*F+O;return Math.sqrt(P*P+G*G)}}function c(y,x){return Math.max(2,Math.min(16,Math.ceil(Math.abs(x-y)*32)))}function p(y,x,w,C){if(x==null||x<0||x>1)return null;var M=y[0],T=y[1],L=y[2],z=y[3],N=y[4],E=y[5],k=y[6],$=y[7],B=v.isZero;B(L-M)&&B(z-T)&&(L=M,z=T),B(N-k)&&B(E-$)&&(N=k,E=$);var W=3*(L-M),O=3*(N-L)-W,F=k-M-W-O,P=3*(z-T),G=3*(E-z)-P,U=$-T-P-G,q,H;if(w===0)q=x===0?M:x===1?k:((F*x+O)*x+W)*x+M,H=x===0?T:x===1?$:((U*x+G)*x+P)*x+T;else{var K=1e-8,tt=1-K;if(x<K?(q=W,H=P):x>tt?(q=3*(k-N),H=3*($-E)):(q=(3*F*x+2*O)*x+W,H=(3*U*x+2*G)*x+P),C){q===0&&H===0&&(x<K||x>tt)&&(q=N-L,H=E-z);var rt=Math.sqrt(q*q+H*H);rt&&(q/=rt,H/=rt)}if(w===3){var N=6*F*x+2*O,E=6*U*x+2*G,ft=Math.pow(q*q+H*H,3/2);q=ft!==0?(q*E-H*N)/ft:0,H=0}}return w===2?new d(H,-q):new d(q,H)}return{statics:{classify:function(y){var x=y[0],w=y[1],C=y[2],M=y[3],T=y[4],L=y[5],z=y[6],N=y[7],E=x*(N-L)+w*(T-z)+z*L-N*T,k=C*(w-N)+M*(z-x)+x*N-w*z,$=T*(M-w)+L*(x-C)+C*w-M*x,B=3*$,W=B-k,O=W-k+E,F=Math.sqrt(O*O+W*W+B*B),P=F!==0?1/F:0,G=v.isZero,U="serpentine";O*=P,W*=P,B*=P;function q(rt,ft,Q){var ut=ft!==e,ct=ut&&ft>0&&ft<1,pt=ut&&Q>0&&Q<1;return ut&&(!(ct||pt)||rt==="loop"&&!(ct&&pt))&&(rt="arch",ct=pt=!1),{type:rt,roots:ct||pt?ct&&pt?ft<Q?[ft,Q]:[Q,ft]:[ct?ft:Q]:null}}if(G(O))return G(W)?q(G(B)?"line":"quadratic"):q(U,B/(3*W));var H=3*W*W-4*O*B;if(G(H))return q("cusp",W/(2*O));var K=H>0?Math.sqrt(H/3):Math.sqrt(-H),tt=2*O;return q(H>0?U:"loop",(W+K)/tt,(W-K)/tt)},getLength:function(y,x,w,C){if(x===e&&(x=0),w===e&&(w=1),lt.isStraight(y)){var M=y;w<1&&(M=lt.subdivide(M,w)[0],x/=w),x>0&&(M=lt.subdivide(M,x)[1]);var T=M[6]-M[0],L=M[7]-M[1];return Math.sqrt(T*T+L*L)}return v.integrate(C||l(y),x,w,c(x,w))},getTimeAt:function(y,x,w){if(w===e&&(w=x<0?1:0),x===0)return w;var C=Math.abs,M=1e-12,T=x>0,L=T?w:0,z=T?1:w,N=l(y),E=lt.getLength(y,L,z,N),k=C(x)-E;if(C(k)<M)return T?z:L;if(k>M)return null;var $=x/E,B=0;function W(O){return B+=v.integrate(N,w,O,c(w,O)),w=O,B-x}return v.findRoot(W,N,w+$,L,z,32,1e-12)},getPoint:function(y,x){return p(y,x,0,!1)},getTangent:function(y,x){return p(y,x,1,!0)},getWeightedTangent:function(y,x){return p(y,x,1,!1)},getNormal:function(y,x){return p(y,x,2,!0)},getWeightedNormal:function(y,x){return p(y,x,2,!1)},getCurvature:function(y,x){return p(y,x,3,!1).x},getPeaks:function(y){var x=y[0],w=y[1],C=y[2],M=y[3],T=y[4],L=y[5],z=y[6],N=y[7],E=-x+3*C-3*T+z,k=3*x-6*C+3*T,$=-3*x+3*C,B=-w+3*M-3*L+N,W=3*w-6*M+3*L,O=-3*w+3*M,F=1e-8,P=1-F,G=[];return v.solveCubic(9*(E*E+B*B),9*(E*k+W*B),2*(k*k+W*W)+3*($*E+O*B),$*k+W*O,G,F,P),G.sort()}}}},new function(){function l(k,$,B,W,O,F,P){var G=!P&&B.getPrevious()===O,U=!P&&B!==O&&B.getNext()===O,q=1e-8,H=1-q;if(W!==null&&W>=(G?q:0)&&W<=(U?H:1)&&F!==null&&F>=(U?q:0)&&F<=(G?H:1)){var K=new Mt(B,W,null,P),tt=new Mt(O,F,null,P);K._intersection=tt,tt._intersection=K,(!$||$(K))&&Mt.insert(k,K,!0)}}function c(k,$,B,W,O,F,P,G,U,q,H,K,tt){if(++U>=4096||++G>=40)return U;var rt=1e-9,ft=$[0],Q=$[1],ut=$[6],ct=$[7],pt=D.getSignedDistance,gt=pt(ft,Q,ut,ct,$[2],$[3]),yt=pt(ft,Q,ut,ct,$[4],$[5]),Tt=gt*yt>0?3/4:4/9,It=Tt*Math.min(0,gt,yt),kt=Tt*Math.max(0,gt,yt),Vt=pt(ft,Q,ut,ct,k[0],k[1]),wt=pt(ft,Q,ut,ct,k[2],k[3]),Ct=pt(ft,Q,ut,ct,k[4],k[5]),Et=pt(ft,Q,ut,ct,k[6],k[7]),Gt=p(Vt,wt,Ct,Et),Bt=Gt[0],te=Gt[1],Kt,le;if(gt===0&&yt===0&&Vt===0&&wt===0&&Ct===0&&Et===0||(Kt=y(Bt,te,It,kt))==null||(le=y(Bt.reverse(),te.reverse(),It,kt))==null)return U;var ge=q+(H-q)*Kt,oe=q+(H-q)*le;if(Math.max(tt-K,oe-ge)<rt){var xr=(ge+oe)/2,br=(K+tt)/2;l(O,F,P?W:B,P?br:xr,P?B:W,P?xr:br)}else{k=lt.getPart(k,Kt,le);var kr=tt-K;if(le-Kt>.8)if(oe-ge>kr){var cr=lt.subdivide(k,.5),xr=(ge+oe)/2;U=c($,cr[0],W,B,O,F,!P,G,U,K,tt,ge,xr),U=c($,cr[1],W,B,O,F,!P,G,U,K,tt,xr,oe)}else{var cr=lt.subdivide($,.5),br=(K+tt)/2;U=c(cr[0],k,W,B,O,F,!P,G,U,K,br,ge,oe),U=c(cr[1],k,W,B,O,F,!P,G,U,br,tt,ge,oe)}else kr===0||kr>=rt?U=c($,k,W,B,O,F,!P,G,U,K,tt,ge,oe):U=c(k,$,B,W,O,F,P,G,U,ge,oe,K,tt)}return U}function p(k,$,B,W){var O=[0,k],F=[1/3,$],P=[2/3,B],G=[1,W],U=$-(2*k+W)/3,q=B-(k+2*W)/3,H;if(U*q<0)H=[[O,F,G],[O,P,G]];else{var K=U/q;H=[K>=2?[O,F,G]:K<=.5?[O,P,G]:[O,F,P,G],[O,G]]}return(U||q)<0?H.reverse():H}function y(k,$,B,W){return k[0][1]<B?x(k,!0,B):$[0][1]>W?x($,!1,W):k[0][0]}function x(k,$,B){for(var W=k[0][0],O=k[0][1],F=1,P=k.length;F<P;F++){var G=k[F][0],U=k[F][1];if($?U>=B:U<=B)return U===B?G:W+(B-O)*(G-W)/(U-O);W=G,O=U}return null}function w(k,$,B,W,O){var F=v.isZero;if(F(W)&&F(O)){var P=lt.getTimeOf(k,new d($,B));return P===null?[]:[P]}for(var G=Math.atan2(-O,W),U=Math.sin(G),q=Math.cos(G),H=[],K=[],tt=0;tt<8;tt+=2){var rt=k[tt]-$,ft=k[tt+1]-B;H.push(rt*q-ft*U,rt*U+ft*q)}return lt.solveCubic(H,1,0,K,0,1),K}function C(k,$,B,W,O,F,P){for(var G=$[0],U=$[1],q=$[6],H=$[7],K=w(k,G,U,q-G,H-U),tt=0,rt=K.length;tt<rt;tt++){var ft=K[tt],Q=lt.getPoint(k,ft),ut=lt.getTimeOf($,Q);ut!==null&&l(O,F,P?W:B,P?ut:ft,P?B:W,P?ft:ut)}}function M(k,$,B,W,O,F){var P=D.intersect(k[0],k[1],k[6],k[7],$[0],$[1],$[6],$[7]);P&&l(O,F,B,lt.getTimeOf(k,P),W,lt.getTimeOf($,P))}function T(k,$,B,W,O,F){var P=1e-12,G=Math.min,U=Math.max;if(U(k[0],k[2],k[4],k[6])+P>G($[0],$[2],$[4],$[6])&&G(k[0],k[2],k[4],k[6])-P<U($[0],$[2],$[4],$[6])&&U(k[1],k[3],k[5],k[7])+P>G($[1],$[3],$[5],$[7])&&G(k[1],k[3],k[5],k[7])-P<U($[1],$[3],$[5],$[7])){var q=N(k,$);if(q)for(var H=0;H<2;H++){var K=q[H];l(O,F,B,K[0],W,K[1],!0)}else{var tt=lt.isStraight(k),rt=lt.isStraight($),ft=tt&&rt,Q=tt&&!rt,ut=O.length;if((ft?M:tt||rt?C:c)(Q?$:k,Q?k:$,Q?W:B,Q?B:W,O,F,Q,0,0,0,1,0,1),!ft||O.length===ut)for(var H=0;H<4;H++){var ct=H>>1,pt=H&1,gt=ct*6,yt=pt*6,Tt=new d(k[gt],k[gt+1]),It=new d($[yt],$[yt+1]);Tt.isClose(It,P)&&l(O,F,B,ct,W,pt)}}}return O}function L(k,$,B,W){var O=lt.classify(k);if(O.type==="loop"){var F=O.roots;l(B,W,$,F[0],$,F[1])}return B}function z(k,$,B,W,O,F){var P=1e-7,G=!$;G&&($=k);for(var U=k.length,q=$.length,H=new Array(U),K=G?H:new Array(q),tt=[],rt=0;rt<U;rt++)H[rt]=k[rt].getValues(W);if(!G)for(var rt=0;rt<q;rt++)K[rt]=$[rt].getValues(O);for(var ft=h.findCurveBoundsCollisions(H,K,P),Q=0;Q<U;Q++){var ut=k[Q],ct=H[Q];G&&L(ct,ut,tt,B);var pt=ft[Q];if(pt)for(var gt=0;gt<pt.length;gt++){if(F&&tt.length)return tt;var yt=pt[gt];if(!G||yt>Q){var Tt=$[yt],It=K[yt];T(ct,It,ut,Tt,tt,B)}}}return tt}function N(k,$){function B(Et){var Gt=Et[6]-Et[0],Bt=Et[7]-Et[1];return Gt*Gt+Bt*Bt}var W=Math.abs,O=D.getDistance,F=1e-8,P=1e-7,G=lt.isStraight(k),U=lt.isStraight($),q=G&&U,H=B(k)<B($),K=H?$:k,tt=H?k:$,rt=K[0],ft=K[1],Q=K[6]-rt,ut=K[7]-ft;if(O(rt,ft,Q,ut,tt[0],tt[1],!0)<P&&O(rt,ft,Q,ut,tt[6],tt[7],!0)<P)!q&&O(rt,ft,Q,ut,K[2],K[3],!0)<P&&O(rt,ft,Q,ut,K[4],K[5],!0)<P&&O(rt,ft,Q,ut,tt[2],tt[3],!0)<P&&O(rt,ft,Q,ut,tt[4],tt[5],!0)<P&&(G=U=q=!0);else if(q)return null;if(G^U)return null;for(var ct=[k,$],pt=[],gt=0;gt<4&&pt.length<2;gt++){var yt=gt&1,Tt=yt^1,It=gt>>1,kt=lt.getTimeOf(ct[yt],new d(ct[Tt][It?6:0],ct[Tt][It?7:1]));if(kt!=null){var Vt=yt?[It,kt]:[kt,It];(!pt.length||W(Vt[0]-pt[0][0])>F&&W(Vt[1]-pt[0][1])>F)&&pt.push(Vt)}if(gt>2&&!pt.length)break}if(pt.length!==2)pt=null;else if(!q){var wt=lt.getPart(k,pt[0][0],pt[1][0]),Ct=lt.getPart($,pt[0][1],pt[1][1]);(W(Ct[2]-wt[2])>P||W(Ct[3]-wt[3])>P||W(Ct[4]-wt[4])>P||W(Ct[5]-wt[5])>P)&&(pt=null)}return pt}function E(k,$){var B=k[0],W=k[1],O=k[2],F=k[3],P=k[4],G=k[5],U=k[6],q=k[7],H=$.normalize(),K=H.x,tt=H.y,rt=3*U-9*P+9*O-3*B,ft=3*q-9*G+9*F-3*W,Q=6*P-12*O+6*B,ut=6*G-12*F+6*W,ct=3*O-3*B,pt=3*F-3*W,gt=2*rt*tt-2*ft*K,yt=[];if(Math.abs(gt)<v.CURVETIME_EPSILON){var Tt=rt*pt-ft*ct,gt=rt*ut-ft*Q;if(gt!=0){var It=-Tt/gt;It>=0&&It<=1&&yt.push(It)}}else{var kt=(Q*Q-4*rt*ct)*tt*tt+(-2*Q*ut+4*ft*ct+4*rt*pt)*K*tt+(ut*ut-4*ft*pt)*K*K,Vt=Q*tt-ut*K;if(kt>=0&&gt!=0){var wt=Math.sqrt(kt),Ct=-(Vt+wt)/gt,Et=(-Vt+wt)/gt;Ct>=0&&Ct<=1&&yt.push(Ct),Et>=0&&Et<=1&&yt.push(Et)}}return yt}return{getIntersections:function(k){var $=this.getValues(),B=k&&k!==this&&k.getValues();return B?T($,B,this,k,[]):L($,this,[])},statics:{getOverlaps:N,getIntersections:z,getCurveLineIntersections:w,getTimesWithTangent:E}}}),Mt=a.extend({_class:"CurveLocation",initialize:function(c,p,y,x,w){if(p>=.99999999){var C=c.getNext();C&&(p=0,c=C)}this._setCurve(c),this._time=p,this._point=y||c.getPointAtTime(p),this._overlap=x,this._distance=w,this._intersection=this._next=this._previous=null},_setPath:function(l){this._path=l,this._version=l?l._version:0},_setCurve:function(l){this._setPath(l._path),this._curve=l,this._segment=null,this._segment1=l._segment1,this._segment2=l._segment2},_setSegment:function(l){var c=l.getCurve();c?this._setCurve(c):(this._setPath(l._path),this._segment1=l,this._segment2=null),this._segment=l,this._time=l===this._segment1?0:1,this._point=l._point.clone()},getSegment:function(){var l=this._segment;if(!l){var c=this.getCurve(),p=this.getTime();p===0?l=c._segment1:p===1?l=c._segment2:p!=null&&(l=c.getPartLength(0,p)<c.getPartLength(p,1)?c._segment1:c._segment2),this._segment=l}return l},getCurve:function(){var l=this._path,c=this;l&&l._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function p(y){var x=y&&y.getCurve();if(x&&(c._time=x.getTimeOf(c._point))!=null)return c._setCurve(x),x}return this._curve||p(this._segment)||p(this._segment1)||p(this._segment2.getPrevious())},getPath:function(){var l=this.getCurve();return l&&l._path},getIndex:function(){var l=this.getCurve();return l&&l.getIndex()},getTime:function(){var l=this.getCurve(),c=this._time;return l&&c==null?this._time=l.getTimeOf(this._point):c},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var l=this._offset;if(l==null){l=0;var c=this.getPath(),p=this.getIndex();if(c&&p!=null)for(var y=c.getCurves(),x=0;x<p;x++)l+=y[x].getLength();this._offset=l+=this.getCurveOffset()}return l},getCurveOffset:function(){var l=this._curveOffset;if(l==null){var c=this.getCurve(),p=this.getTime();this._curveOffset=l=p!=null&&c&&c.getPartLength(0,p)}return l},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var l=this.getCurve(),c=l&&l.divideAtTime(this.getTime());return c&&this._setSegment(c._segment1),c},split:function(){var l=this.getCurve(),c=l._path,p=l&&l.splitAtTime(this.getTime());return p&&this._setSegment(c.getLastSegment()),p},equals:function(l,c){var p=this===l;if(!p&&l instanceof Mt){var y=this.getCurve(),x=l.getCurve(),w=y._path,C=x._path;if(w===C){var M=Math.abs,T=1e-7,L=M(this.getOffset()-l.getOffset()),z=!c&&this._intersection,N=!c&&l._intersection;p=(L<T||w&&M(w.getLength()-L)<T)&&(!z&&!N||z&&N&&z.equals(N,!0))}}return p},toString:function(){var l=[],c=this.getPoint(),p=f.instance;c&&l.push("point: "+c);var y=this.getIndex();y!=null&&l.push("index: "+y);var x=this.getTime();return x!=null&&l.push("time: "+p.number(x)),this._distance!=null&&l.push("distance: "+p.number(this._distance)),"{ "+l.join(", ")+" }"},isTouching:function(){var l=this._intersection;if(l&&this.getTangent().isCollinear(l.getTangent())){var c=this.getCurve(),p=l.getCurve();return!(c.isStraight()&&p.isStraight()&&c.getLine().intersect(p.getLine()))}return!1},isCrossing:function(){var l=this._intersection;if(!l)return!1;var c=this.getTime(),p=l.getTime(),y=1e-8,x=1-y,w=c>=y&&c<=x,C=p>=y&&p<=x;if(w&&C)return!this.isTouching();var M=this.getCurve(),T=M&&c<y?M.getPrevious():M,L=l.getCurve(),z=L&&p<y?L.getPrevious():L;if(c>x&&(M=M.getNext()),p>x&&(L=L.getNext()),!T||!M||!z||!L)return!1;var N=[];function E(K,tt){var rt=K.getValues(),ft=lt.classify(rt).roots||lt.getPeaks(rt),Q=ft.length,ut=lt.getLength(rt,tt&&Q?ft[Q-1]:0,!tt&&Q?ft[0]:1);N.push(Q?ut:ut/32)}function k(K,tt,rt){return tt<rt?K>tt&&K<rt:K>tt||K<rt}w||(E(T,!0),E(M,!1)),C||(E(z,!0),E(L,!1));var $=this.getPoint(),B=Math.min.apply(Math,N),W=w?M.getTangentAtTime(c):M.getPointAt(B).subtract($),O=w?W.negate():T.getPointAt(-B).subtract($),F=C?L.getTangentAtTime(p):L.getPointAt(B).subtract($),P=C?F.negate():z.getPointAt(-B).subtract($),G=O.getAngle(),U=W.getAngle(),q=P.getAngle(),H=F.getAngle();return!!(w?k(G,q,H)^k(U,q,H)&&k(G,H,q)^k(U,H,q):k(q,G,U)^k(H,G,U)&&k(q,U,G)^k(H,U,G))},hasOverlap:function(){return!!this._overlap}},a.each(lt._evaluateMethods,function(l){var c=l+"At";this[l]=function(){var p=this.getCurve(),y=this.getTime();return y!=null&&p&&p[c](y,!0)}},{preserve:!0}),new function(){function l(c,p,y){var x=c.length,w=0,C=x-1;function M($,B){for(var W=$+B;W>=-1&&W<=x;W+=B){var O=c[(W%x+x)%x];if(!p.getPoint().isClose(O.getPoint(),1e-7))break;if(p.equals(O))return O}return null}for(;w<=C;){var T=w+C>>>1,L=c[T],z;if(y&&(z=p.equals(L)?L:M(T,-1)||M(T,1)))return p._overlap&&(z._overlap=z._intersection._overlap=!0),z;var N=p.getPath(),E=L.getPath(),k=N!==E?N._id-E._id:p.getIndex()+p.getTime()-(L.getIndex()+L.getTime());k<0?C=T-1:w=T+1}return c.splice(w,0,p),p}return{statics:{insert:l,expand:function(c){for(var p=c.slice(),y=c.length-1;y>=0;y--)l(p,c[y]._intersection,!1);return p}}}}),xt=R.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(l){var c,p,y;if(a.isPlainObject(l)?(p=l.segments,c=l.pathData):Array.isArray(l)?p=l:typeof l=="string"&&(c=l),p){var x=p[0];y=x&&Array.isArray(x[0])}else c&&(y=(c.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(c));var w=y?Pt:St;return new w(l)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(l){this.isClockwise()!=(l=!!l)&&this.reverse()},setPathData:function(l){var c=l&&l.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),p,y=!1,x,w,C=new d,M=new d;function T(P,G){var U=+p[P];return y&&(U+=C[G]),U}function L(P){return new d(T(P,"x"),T(P+1,"y"))}this.clear();for(var z=0,N=c&&c.length;z<N;z++){var E=c[z],k=E[0],$=k.toLowerCase();p=E.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var B=p&&p.length;switch(y=k===$,x==="z"&&!/[mz]/.test($)&&this.moveTo(C),$){case"m":case"l":for(var W=$==="m",O=0;O<B;O+=2)this[W?"moveTo":"lineTo"](C=L(O)),W&&(M=C,W=!1);w=C;break;case"h":case"v":var F=$==="h"?"x":"y";C=C.clone();for(var O=0;O<B;O++)C[F]=T(O,F),this.lineTo(C);w=C;break;case"c":for(var O=0;O<B;O+=6)this.cubicCurveTo(L(O),w=L(O+2),C=L(O+4));break;case"s":for(var O=0;O<B;O+=4)this.cubicCurveTo(/[cs]/.test(x)?C.multiply(2).subtract(w):C,w=L(O),C=L(O+2)),x=$;break;case"q":for(var O=0;O<B;O+=4)this.quadraticCurveTo(w=L(O),C=L(O+2));break;case"t":for(var O=0;O<B;O+=2)this.quadraticCurveTo(w=/[qt]/.test(x)?C.multiply(2).subtract(w):C,C=L(O)),x=$;break;case"a":for(var O=0;O<B;O+=7)this.arcTo(C=L(O+5),new _(+p[O],+p[O+1]),+p[O+2],+p[O+4],+p[O+3]);break;case"z":this.closePath(1e-12),C=M;break}x=$}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(l){var c=l.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(l):{};return c.onPath||!!(this.getFillRule()==="evenodd"?c.windingL&1||c.windingR&1:c.winding)},getIntersections:function(l,c,p,y){var x=this===l||!l,w=this._matrix._orNullIfIdentity(),C=x?w:(p||l._matrix)._orNullIfIdentity();return x||this.getBounds(w).intersects(l.getBounds(C),1e-12)?lt.getIntersections(this.getCurves(),!x&&l.getCurves(),c,w,C,y):[]},getCrossings:function(l){return this.getIntersections(l,function(c){return c.isCrossing()})},getNearestLocation:function(){for(var l=d.read(arguments),c=this.getCurves(),p=1/0,y=null,x=0,w=c.length;x<w;x++){var C=c[x].getNearestLocation(l);C._distance<p&&(p=C._distance,y=C)}return y},getNearestPoint:function(){var l=this.getNearestLocation.apply(this,arguments);return l&&l.getPoint()},interpolate:function(l,c,p){var y=!this._children,x=y?"_segments":"_children",w=l[x],C=c[x],M=this[x];if(!w||!C||w.length!==C.length)throw new Error("Invalid operands in interpolate() call: "+l+", "+c);var T=M.length,L=C.length;if(T<L)for(var z=y?st:St,N=T;N<L;N++)this.add(new z);else T>L&&this[y?"removeSegments":"removeChildren"](L,T);for(var N=0;N<L;N++)M[N].interpolate(w[N],C[N],p);y&&(this.setClosed(l._closed),this._changed(9))},compare:function(l){var c=!1;if(l){var p=this._children||[this],y=l._children?l._children.slice():[l],x=p.length,w=y.length,C=[],M=0;c=!0;for(var T=h.findItemBoundsCollisions(p,y,v.GEOMETRIC_EPSILON),L=x-1;L>=0&&c;L--){var z=p[L];c=!1;var N=T[L];if(N)for(var E=N.length-1;E>=0&&!c;E--)z.compare(y[N[E]])&&(C[N[E]]||(C[N[E]]=!0,M++),c=!0)}c=c&&M===w}return c}}),St=xt.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(c){this._closed=!1,this._segments=[],this._version=0;var p=arguments,y=Array.isArray(c)?typeof c[0]=="object"?c:p:c&&c.size===e&&(c.x!==e||c.point!==e)?p:null;y&&y.length>0?this.setSegments(y):(this._curves=e,this._segmentSelection=0,!y&&typeof c=="string"&&(this.setPathData(c),c=null)),this._initialize(!y&&c)},_equals:function(l){return this._closed===l._closed&&a.equals(this._segments,l._segments)},copyContent:function(l){this.setSegments(l._segments),this._closed=l._closed},_changed:function l(c){if(l.base.call(this,c),c&8){if(this._length=this._area=e,c&32)this._version++;else if(this._curves)for(var p=0,y=this._curves.length;p<y;p++)this._curves[p]._changed()}else c&64&&(this._bounds=e)},getStyle:function(){var l=this._parent;return(l instanceof Pt?l:this)._style},getSegments:function(){return this._segments},setSegments:function(l){var c=this.isFullySelected(),p=l&&l.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=e,p){var y=l[p-1];typeof y=="boolean"&&(this.setClosed(y),p--),this._add(st.readList(l,0,{},p))}c&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var l=this._curves,c=this._segments;if(!l){var p=this._countCurves();l=this._curves=new Array(p);for(var y=0;y<p;y++)l[y]=new lt(this,c[y],c[y+1]||c[0])}return l},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var l=this.getCurves();return l[l.length-1]},isClosed:function(){return this._closed},setClosed:function(l){if(this._closed!=(l=!!l)){if(this._closed=l,this._curves){var c=this._curves.length=this._countCurves();l&&(this._curves[c-1]=new lt(this,this._segments[c-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(l,c){var p=this._segments,y=p.length,x=new f(c),w=new Array(6),C=!0,M,T,L,z,N,E,k,$,B=[];function W(F,P){if(F._transformCoordinates(l,w),M=w[0],T=w[1],C)B.push("M"+x.pair(M,T)),C=!1;else if(N=w[2],E=w[3],N===M&&E===T&&k===L&&$===z){if(!P){var G=M-L,U=T-z;B.push(G===0?"v"+x.number(U):U===0?"h"+x.number(G):"l"+x.pair(G,U))}}else B.push("c"+x.pair(k-L,$-z)+" "+x.pair(N-L,E-z)+" "+x.pair(M-L,T-z));L=M,z=T,k=w[4],$=w[5]}if(!y)return"";for(var O=0;O<y;O++)W(p[O]);return this._closed&&y>0&&(W(p[0],!0),B.push("z")),B.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(l){for(var c=this._segments,p=new Array(6),y=0,x=c.length;y<x;y++)c[y]._transformCoordinates(l,p,!0);return!0},_add:function(l,C){for(var p=this._segments,y=this._curves,x=l.length,w=C==null,C=w?p.length:C,M=0;M<x;M++){var T=l[M];T._path&&(T=l[M]=T.clone()),T._path=this,T._index=C+M,T._selection&&this._updateSelection(T,0,T._selection)}if(w)a.push(p,l);else{p.splice.apply(p,[C,0].concat(l));for(var M=C+x,L=p.length;M<L;M++)p[M]._index=M}if(y){var z=this._countCurves(),N=C>0&&C+x-1===z?C-1:C,E=N,k=Math.min(N+x,z);l._curves&&(y.splice.apply(y,[N,0].concat(l._curves)),E+=l._curves.length);for(var M=E;M<k;M++)y.splice(M,0,new lt(this,null,null));this._adjustCurves(N,k)}return this._changed(41),l},_adjustCurves:function(l,c){for(var p=this._segments,y=this._curves,x,w=l;w<c;w++)x=y[w],x._path=this,x._segment1=p[w],x._segment2=p[w+1]||p[0],x._changed();(x=y[this._closed&&!l?p.length-1:l-1])&&(x._segment2=p[l]||p[0],x._changed()),(x=y[c])&&(x._segment1=p[c],x._changed())},_countCurves:function(){var l=this._segments.length;return!this._closed&&l>0?l-1:l},add:function(l){var c=arguments;return c.length>1&&typeof l!="number"?this._add(st.readList(c)):this._add([st.read(c)])[0]},insert:function(l,c){var p=arguments;return p.length>2&&typeof c!="number"?this._add(st.readList(p,1),l):this._add([st.read(p,1)],l)[0]},addSegment:function(){return this._add([st.read(arguments)])[0]},insertSegment:function(l){return this._add([st.read(arguments,1)],l)[0]},addSegments:function(l){return this._add(st.readList(l))},insertSegments:function(l,c){return this._add(st.readList(c),l)},removeSegment:function(l){return this.removeSegments(l,l+1)[0]||null},removeSegments:function(l,c,p){l=l||0,c=a.pick(c,this._segments.length);var y=this._segments,x=this._curves,w=y.length,C=y.splice(l,c-l),M=C.length;if(!M)return C;for(var T=0;T<M;T++){var L=C[T];L._selection&&this._updateSelection(L,L._selection,0),L._index=L._path=null}for(var T=l,z=y.length;T<z;T++)y[T]._index=T;if(x){for(var N=l>0&&c===w+(this._closed?1:0)?l-1:l,x=x.splice(N,M),T=x.length-1;T>=0;T--)x[T]._path=null;p&&(C._curves=x.slice(1)),this._adjustCurves(N,N)}return this._changed(41),C},clear:"#removeSegments",hasHandles:function(){for(var l=this._segments,c=0,p=l.length;c<p;c++)if(l[c].hasHandles())return!0;return!1},clearHandles:function(){for(var l=this._segments,c=0,p=l.length;c<p;c++)l[c].clearHandles()},getLength:function(){if(this._length==null){for(var l=this.getCurves(),c=0,p=0,y=l.length;p<y;p++)c+=l[p].getLength();this._length=c}return this._length},getArea:function(){var l=this._area;if(l==null){var c=this._segments,p=this._closed;l=0;for(var y=0,x=c.length;y<x;y++){var w=y+1===x;l+=lt.getArea(lt.getValues(c[y],c[w?0:y+1],null,w&&!p))}this._area=l}return l},isFullySelected:function(){var l=this._segments.length;return this.isSelected()&&l>0&&this._segmentSelection===l*7},setFullySelected:function(l){l&&this._selectSegments(!0),this.setSelected(l)},setSelection:function l(c){c&1||this._selectSegments(!1),l.base.call(this,c)},_selectSegments:function(l){var c=this._segments,p=c.length,y=l?7:0;this._segmentSelection=y*p;for(var x=0;x<p;x++)c[x]._selection=y},_updateSelection:function(l,c,p){l._selection=p;var y=this._segmentSelection+=p-c;y>0&&this.setSelected(!0)},divideAt:function(l){var c=this.getLocationAt(l),p;return c&&(p=c.getCurve().divideAt(c.getCurveOffset()))?p._segment1:null},splitAt:function(l){var c=this.getLocationAt(l),p=c&&c.index,y=c&&c.time,x=1e-8,w=1-x;y>w&&(p++,y=0);var C=this.getCurves();if(p>=0&&p<C.length){y>=x&&C[p++].divideAtTime(y);var M=this.removeSegments(p,this._segments.length,!0),T;return this._closed?(this.setClosed(!1),T=this):(T=new St(R.NO_INSERT),T.insertAbove(this),T.copyAttributes(this)),T._add(M,0),this.addSegment(M[0]),T}return null},split:function(l,c){var p,y=c===e?l:(p=this.getCurves()[l])&&p.getLocationAtTime(c);return y!=null?this.splitAt(y):null},join:function(l,c){var p=c||0;if(l&&l!==this){var y=l._segments,x=this.getLastSegment(),w=l.getLastSegment();if(!w)return this;x&&x._point.isClose(w._point,p)&&l.reverse();var C=l.getFirstSegment();if(x&&x._point.isClose(C._point,p))x.setHandleOut(C._handleOut),this._add(y.slice(1));else{var M=this.getFirstSegment();M&&M._point.isClose(C._point,p)&&l.reverse(),w=l.getLastSegment(),M&&M._point.isClose(w._point,p)?(M.setHandleIn(w._handleIn),this._add(y.slice(0,y.length-1),0)):this._add(y.slice())}l._closed&&this._add([y[0]]),l.remove()}var T=this.getFirstSegment(),L=this.getLastSegment();return T!==L&&T._point.isClose(L._point,p)&&(T.setHandleIn(L._handleIn),L.remove(),this.setClosed(!0)),this},reduce:function(l){for(var c=this.getCurves(),p=l&&l.simplify,y=p?1e-7:0,x=c.length-1;x>=0;x--){var w=c[x];!w.hasHandles()&&(!w.hasLength(y)||p&&w.isCollinear(w.getNext()))&&w.remove()}return this},reverse:function(){this._segments.reverse();for(var l=0,c=this._segments.length;l<c;l++){var p=this._segments[l],y=p._handleIn;p._handleIn=p._handleOut,p._handleOut=y,p._index=l}this._curves=null,this._changed(9)},flatten:function(l){for(var c=new Nt(this,l||.25,256,!0),p=c.parts,y=p.length,x=[],w=0;w<y;w++)x.push(new st(p[w].curve.slice(0,2)));!this._closed&&y>0&&x.push(new st(p[y-1].curve.slice(6))),this.setSegments(x)},simplify:function(l){var c=new ne(this).fit(l||2.5);return c&&this.setSegments(c),!!c},smooth:function(l){var c=this,p=l||{},y=p.type||"asymmetric",x=this._segments,w=x.length,C=this._closed;function M(Bt,te){var Kt=Bt&&Bt.index;if(Kt!=null){var le=Bt.path;if(le&&le!==c)throw new Error(Bt._class+" "+Kt+" of "+le+" is not part of "+c);te&&Bt instanceof lt&&Kt++}else Kt=typeof Bt=="number"?Bt:te;return Math.min(Kt<0&&C?Kt%w:Kt<0?Kt+w:Kt,w-1)}var T=C&&p.from===e&&p.to===e,L=M(p.from,0),z=M(p.to,w-1);if(L>z)if(C)L-=w;else{var N=L;L=z,z=N}if(/^(?:asymmetric|continuous)$/.test(y)){var E=y==="asymmetric",k=Math.min,$=z-L+1,B=$-1,W=T?k($,4):1,O=W,F=W,P=[];if(C||(O=k(1,L),F=k(1,w-z-1)),B+=O+F,B<=1)return;for(var G=0,U=L-O;G<=B;G++,U++)P[G]=x[(U<0?U+w:U)%w]._point;for(var q=P[0]._x+2*P[1]._x,H=P[0]._y+2*P[1]._y,K=2,tt=B-1,rt=[q],ft=[H],Q=[K],ut=[],ct=[],G=1;G<B;G++){var pt=G<tt,gt=pt||E?1:2,yt=pt?4:E?2:7,Tt=pt?4:E?3:8,It=pt?2:E?0:1,kt=gt/K;K=Q[G]=yt-kt,q=rt[G]=Tt*P[G]._x+It*P[G+1]._x-kt*q,H=ft[G]=Tt*P[G]._y+It*P[G+1]._y-kt*H}ut[tt]=rt[tt]/Q[tt],ct[tt]=ft[tt]/Q[tt];for(var G=B-2;G>=0;G--)ut[G]=(rt[G]-ut[G+1])/Q[G],ct[G]=(ft[G]-ct[G+1])/Q[G];ut[B]=(3*P[B]._x-ut[tt])/2,ct[B]=(3*P[B]._y-ct[tt])/2;for(var G=O,Vt=B-F,U=L;G<=Vt;G++,U++){var wt=x[U<0?U+w:U],Ct=wt._point,Et=ut[G]-Ct._x,Gt=ct[G]-Ct._y;(T||G<Vt)&&wt.setHandleOut(Et,Gt),(T||G>O)&&wt.setHandleIn(-Et,-Gt)}}else for(var G=L;G<=z;G++)x[G<0?G+w:G].smooth(p,!T&&G===L,!T&&G===z)},toShape:function(l){if(!this._closed)return null;var c=this._segments,p,y,x,w;function C(E,k){var $=c[E],B=$.getNext(),W=c[k],O=W.getNext();return $._handleOut.isZero()&&B._handleIn.isZero()&&W._handleOut.isZero()&&O._handleIn.isZero()&&B._point.subtract($._point).isCollinear(O._point.subtract(W._point))}function M(E){var k=c[E],$=k.getPrevious(),B=k.getNext();return $._handleOut.isZero()&&k._handleIn.isZero()&&k._handleOut.isZero()&&B._handleIn.isZero()&&k._point.subtract($._point).isOrthogonal(B._point.subtract(k._point))}function T(E){var k=c[E],$=k.getNext(),B=k._handleOut,W=$._handleIn,O=.5522847498307936;if(B.isOrthogonal(W)){var F=k._point,P=$._point,G=new D(F,B,!0).intersect(new D(P,W,!0),!0);return G&&v.isZero(B.getLength()/G.subtract(F).getLength()-O)&&v.isZero(W.getLength()/G.subtract(P).getLength()-O)}return!1}function L(E,k){return c[E]._point.getDistance(c[k]._point)}if(!this.hasHandles()&&c.length===4&&C(0,2)&&C(1,3)&&M(1)?(p=X.Rectangle,y=new _(L(0,3),L(0,1)),w=c[1]._point.add(c[2]._point).divide(2)):c.length===8&&T(0)&&T(2)&&T(4)&&T(6)&&C(1,5)&&C(3,7)?(p=X.Rectangle,y=new _(L(1,6),L(0,3)),x=y.subtract(new _(L(0,7),L(1,2))).divide(2),w=c[3]._point.add(c[4]._point).divide(2)):c.length===4&&T(0)&&T(1)&&T(2)&&T(3)&&(v.isZero(L(0,2)-L(1,3))?(p=X.Circle,x=L(0,2)/2):(p=X.Ellipse,x=new _(L(2,0)/2,L(3,1)/2)),w=c[1]._point),p){var z=this.getPosition(!0),N=new p({center:z,size:y,radius:x,insert:!1});return N.copyAttributes(this,!0),N._matrix.prepend(this._matrix),N.rotate(w.subtract(z).getAngle()+90),(l===e||l)&&N.insertAbove(this),N}return null},toPath:"#clone",compare:function l(c){if(!c||c instanceof Pt)return l.base.call(this,c);var p=this.getCurves(),y=c.getCurves(),x=p.length,w=y.length;if(!x||!w)return x==w;for(var C=p[0].getValues(),M=[],T=0,L,z=0,N,E=0;E<w;E++){var W=y[E].getValues();M.push(W);var k=lt.getOverlaps(C,W);if(k){L=!E&&k[0][0]>0?w-1:E,N=k[0][1];break}}for(var $=Math.abs,B=1e-8,W=M[L],O;C&&W;){var k=lt.getOverlaps(C,W);if(k){var F=k[0][0];if($(F-z)<B){z=k[1][0],z===1&&(C=++T<x?p[T].getValues():null,z=0);var P=k[0][1];if($(P-N)<B){if(O||(O=[L,P]),N=k[1][1],N===1&&(++L>=w&&(L=0),W=M[L]||y[L].getValues(),N=0),!C)return O[0]===L&&O[1]===N;continue}}}break}return!1},_hitTestSelf:function(l,c,p,y){var x=this,w=this.getStyle(),C=this._segments,M=C.length,T=this._closed,L=c._tolerancePadding,z=L,N,E,k,$,B,W,O=c.stroke&&w.hasStroke(),F=c.fill&&w.hasFill(),P=c.curves,G=O?w.getStrokeWidth()/2:F&&c.tolerance>0||P?0:null;G!==null&&(G>0?(N=w.getStrokeJoin(),E=w.getStrokeCap(),k=w.getMiterLimit(),z=z.add(St._getStrokePadding(G,y))):N=E="round");function U(ut,ct){return l.subtract(ut).divide(ct).length<=1}function q(ut,ct,pt){if(!c.selected||ct.isSelected()){var gt=ut._point;if(ct!==gt&&(ct=ct.add(gt)),U(ct,z))return new vt(pt,x,{segment:ut,point:ct})}}function H(ut,ct){return(ct||c.segments)&&q(ut,ut._point,"segment")||!ct&&c.handles&&(q(ut,ut._handleIn,"handle-in")||q(ut,ut._handleOut,"handle-out"))}function K(ut){$.add(ut)}function tt(ut){var ct=T||ut._index>0&&ut._index<M-1;if((ct?N:E)==="round")return U(ut._point,z);if($=new St({internal:!0,closed:!0}),ct?ut.isSmooth()||St._addBevelJoin(ut,N,G,k,null,y,K,!0):E==="square"&&St._addSquareCap(ut,E,G,null,y,K,!0),!$.isEmpty()){var pt;return $.contains(l)||(pt=$.getNearestLocation(l))&&U(pt.getPoint(),L)}}if(c.ends&&!c.segments&&!T){if(W=H(C[0],!0)||H(C[M-1],!0))return W}else if(c.segments||c.handles){for(var rt=0;rt<M;rt++)if(W=H(C[rt]))return W}if(G!==null){if(B=this.getNearestLocation(l),B){var ft=B.getTime();ft===0||ft===1&&M>1?tt(B.getSegment())||(B=null):U(B.getPoint(),z)||(B=null)}if(!B&&N==="miter"&&M>1)for(var rt=0;rt<M;rt++){var Q=C[rt];if(l.getDistance(Q._point)<=k*G&&tt(Q)){B=Q.getLocation();break}}}return!B&&F&&this._contains(l)||B&&!O&&!P?new vt("fill",this):B?new vt(O?"stroke":"curve",this,{location:B,point:B.getPoint()}):null}},a.each(lt._evaluateMethods,function(l){this[l+"At"]=function(c){var p=this.getLocationAt(c);return p&&p[l]()}},{beans:!1,getLocationOf:function(){for(var l=d.read(arguments),c=this.getCurves(),p=0,y=c.length;p<y;p++){var x=c[p].getLocationOf(l);if(x)return x}return null},getOffsetOf:function(){var l=this.getLocationOf.apply(this,arguments);return l?l.getOffset():null},getLocationAt:function(l){if(typeof l=="number"){for(var c=this.getCurves(),p=0,y=0,x=c.length;y<x;y++){var w=p,C=c[y];if(p+=C.getLength(),p>l)return C.getLocationAt(l-w)}if(c.length>0&&l<=this.getLength())return new Mt(c[c.length-1],1)}else if(l&&l.getPath&&l.getPath()===this)return l;return null},getOffsetsWithTangent:function(){var l=d.read(arguments);if(l.isZero())return[];for(var c=[],p=0,y=this.getCurves(),x=0,w=y.length;x<w;x++){for(var C=y[x],M=C.getTimesWithTangent(l),T=0,L=M.length;T<L;T++){var z=p+C.getOffsetAtTime(M[T]);c.indexOf(z)<0&&c.push(z)}p+=C.length}return c}}),new function(){function l(p,y,x,w){if(w<=0)return;var C=w/2,M=w-2,T=C-1,L=new Array(6),z,N;function E(F){var P=L[F],G=L[F+1];(z!=P||N!=G)&&(p.beginPath(),p.moveTo(z,N),p.lineTo(P,G),p.stroke(),p.beginPath(),p.arc(P,G,C,0,Math.PI*2,!0),p.fill())}for(var k=0,$=y.length;k<$;k++){var B=y[k],W=B._selection;if(B._transformCoordinates(x,L),z=L[0],N=L[1],W&2&&E(2),W&4&&E(4),p.fillRect(z-C,N-C,w,w),M>0&&!(W&1)){var O=p.fillStyle;p.fillStyle="#ffffff",p.fillRect(z-T,N-T,M,M),p.fillStyle=O}}}function c(p,y,x){var w=y._segments,C=w.length,M=new Array(6),T=!0,L,z,N,E,k,$,B,W;function O(P){if(x)P._transformCoordinates(x,M),L=M[0],z=M[1];else{var G=P._point;L=G._x,z=G._y}if(T)p.moveTo(L,z),T=!1;else{if(x)k=M[2],$=M[3];else{var U=P._handleIn;k=L+U._x,$=z+U._y}k===L&&$===z&&B===N&&W===E?p.lineTo(L,z):p.bezierCurveTo(B,W,k,$,L,z)}if(N=L,E=z,x)B=M[4],W=M[5];else{var U=P._handleOut;B=N+U._x,W=E+U._y}}for(var F=0;F<C;F++)O(w[F]);y._closed&&C>0&&O(w[0])}return{_draw:function(p,y,x,w){var C=y.dontStart,M=y.dontFinish||y.clip,T=this.getStyle(),L=T.hasFill(),z=T.hasStroke(),N=T.getDashArray(),E=!xe.support.nativeDash&&z&&N&&N.length;C||p.beginPath(),(L||z&&!E||M)&&(c(p,this,w),this._closed&&p.closePath());function k(P){return N[(P%E+E)%E]}if(!M&&(L||z)&&(this._setStyles(p,y,x),L&&(p.fill(T.getFillRule()),p.shadowColor="rgba(0,0,0,0)"),z)){if(E){C||p.beginPath();for(var $=new Nt(this,.25,32,!1,w),B=$.length,W=-T.getDashOffset(),O,F=0;W>0;)W-=k(F--)+k(F--);for(;W<B;)O=W+k(F++),(W>0||O>0)&&$.drawPart(p,Math.max(W,0),Math.max(O,0)),W=O+k(F++)}p.stroke()}},_drawSelected:function(p,y){p.beginPath(),c(p,this,y),p.stroke(),l(p,this._segments,y,xe.settings.handleSize)}}},new function(){function l(c){var p=c._segments;if(!p.length)throw new Error("Use a moveTo() command first");return p[p.length-1]}return{moveTo:function(){var c=this._segments;c.length===1&&this.removeSegment(0),c.length||this._add([new st(d.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new st(d.read(arguments))])},cubicCurveTo:function(){var c=arguments,p=d.read(c),y=d.read(c),x=d.read(c),w=l(this);w.setHandleOut(p.subtract(w._point)),this._add([new st(x,y.subtract(x))])},quadraticCurveTo:function(){var c=arguments,p=d.read(c),y=d.read(c),x=l(this)._point;this.cubicCurveTo(p.add(x.subtract(p).multiply(1/3)),p.add(y.subtract(p).multiply(1/3)),y)},curveTo:function(){var c=arguments,p=d.read(c),y=d.read(c),x=a.pick(a.read(c),.5),w=1-x,C=l(this)._point,M=p.subtract(C.multiply(w*w)).subtract(y.multiply(x*x)).divide(2*x*w);if(M.isNaN())throw new Error("Cannot put a curve through points with parameter = "+x);this.quadraticCurveTo(M,y)},arcTo:function(){var c=arguments,p=Math.abs,y=Math.sqrt,x=l(this),w=x._point,C=d.read(c),M,T=a.peek(c),L=a.pick(T,!0),z,N,E,k;if(typeof L=="boolean")var $=w.add(C).divide(2),M=$.add($.subtract(w).rotate(L?-90:90));else if(a.remain(c)<=2)M=C,C=d.read(c);else if(!w.equals(C)){var B=_.read(c),W=v.isZero;if(W(B.width)||W(B.height))return this.lineTo(C);var O=a.read(c),L=!!a.read(c),F=!!a.read(c),$=w.add(C).divide(2),P=w.subtract($).rotate(-O),G=P.x,U=P.y,q=p(B.width),H=p(B.height),K=q*q,tt=H*H,rt=G*G,ft=U*U,Q=y(rt/K+ft/tt);if(Q>1&&(q*=Q,H*=Q,K=q*q,tt=H*H),Q=(K*tt-K*ft-tt*rt)/(K*ft+tt*rt),p(Q)<1e-12&&(Q=0),Q<0)throw new Error("Cannot create an arc with the given arguments");z=new d(q*U/H,-H*G/q).multiply((F===L?-1:1)*y(Q)).rotate(O).add($),k=new A().translate(z).rotate(O).scale(q,H),E=k._inverseTransform(w),N=E.getDirectedAngle(k._inverseTransform(C)),!L&&N>0?N-=360:L&&N<0&&(N+=360)}if(M){var ut=new D(w.add(M).divide(2),M.subtract(w).rotate(90),!0),ct=new D(M.add(C).divide(2),C.subtract(M).rotate(90),!0),pt=new D(w,C),gt=pt.getSide(M);if(z=ut.intersect(ct,!0),!z){if(!gt)return this.lineTo(C);throw new Error("Cannot create an arc with the given arguments")}E=w.subtract(z),N=E.getDirectedAngle(C.subtract(z));var yt=pt.getSide(z,!0);yt===0?N=gt*p(N):gt===yt&&(N+=N<0?360:-360)}if(N){for(var Tt=1e-5,It=p(N),kt=It>=360?4:Math.ceil((It-Tt)/90),Vt=N/kt,wt=Vt*Math.PI/360,Ct=4/3*Math.sin(wt)/(1+Math.cos(wt)),Et=[],Gt=0;Gt<=kt;Gt++){var P=C,Bt=null;if(Gt<kt&&(Bt=E.rotate(90).multiply(Ct),k?(P=k._transformPoint(E),Bt=k._transformPoint(E.add(Bt)).subtract(P)):P=z.add(E)),!Gt)x.setHandleOut(Bt);else{var te=E.rotate(-90).multiply(Ct);k&&(te=k._transformPoint(E.add(te)).subtract(P)),Et.push(new st(P,te,Bt))}E=E.rotate(Vt)}this._add(Et)}},lineBy:function(){var c=d.read(arguments),p=l(this)._point;this.lineTo(p.add(c))},curveBy:function(){var c=arguments,p=d.read(c),y=d.read(c),x=a.read(c),w=l(this)._point;this.curveTo(w.add(p),w.add(y),x)},cubicCurveBy:function(){var c=arguments,p=d.read(c),y=d.read(c),x=d.read(c),w=l(this)._point;this.cubicCurveTo(w.add(p),w.add(y),w.add(x))},quadraticCurveBy:function(){var c=arguments,p=d.read(c),y=d.read(c),x=l(this)._point;this.quadraticCurveTo(x.add(p),x.add(y))},arcBy:function(){var c=arguments,p=l(this)._point,y=p.add(d.read(c)),x=a.pick(a.peek(c),!0);typeof x=="boolean"?this.arcTo(y,x):this.arcTo(y,p.add(d.read(c)))},closePath:function(c){this.setClosed(!0),this.join(this,c)}}},{_getBounds:function(l,c){var p=c.handle?"getHandleBounds":c.stroke?"getStrokeBounds":"getBounds";return St[p](this._segments,this._closed,this,l,c)},statics:{getBounds:function(l,c,p,y,x,w){var C=l[0];if(!C)return new S;var M=new Array(6),T=C._transformCoordinates(y,new Array(6)),L=T.slice(0,2),z=L.slice(),N=new Array(2);function E(B){B._transformCoordinates(y,M);for(var W=0;W<2;W++)lt._addBounds(T[W],T[W+4],M[W+2],M[W],W,w?w[W]:0,L,z,N);var O=T;T=M,M=O}for(var k=1,$=l.length;k<$;k++)E(l[k]);return c&&E(C),new S(L[0],L[1],z[0]-L[0],z[1]-L[1])},getStrokeBounds:function(l,c,p,y,x){var w=p.getStyle(),C=w.hasStroke(),M=w.getStrokeWidth(),T=C&&p._getStrokeMatrix(y,x),L=C&&St._getStrokePadding(M,T),z=St.getBounds(l,c,p,y,x,L);if(!C)return z;var N=M/2,E=w.getStrokeJoin(),k=w.getStrokeCap(),$=w.getMiterLimit(),B=new S(new _(L));function W(q){z=z.include(q)}function O(q){z=z.unite(B.setCenter(q._point.transform(y)))}function F(q,H){H==="round"||q.isSmooth()?O(q):St._addBevelJoin(q,H,N,$,y,T,W)}function P(q,H){H==="round"?O(q):St._addSquareCap(q,H,N,y,T,W)}var G=l.length-(c?0:1);if(G>0){for(var U=1;U<G;U++)F(l[U],E);c?F(l[0],E):(P(l[0],k),P(l[l.length-1],k))}return z},_getStrokePadding:function(l,c){if(!c)return[l,l];var p=new d(l,0).transform(c),y=new d(0,l).transform(c),x=p.getAngleInRadians(),w=p.getLength(),C=y.getLength(),M=Math.sin(x),T=Math.cos(x),L=Math.tan(x),z=Math.atan2(C*L,w),N=Math.atan2(C,L*w);return[Math.abs(w*Math.cos(z)*T+C*Math.sin(z)*M),Math.abs(C*Math.sin(N)*T+w*Math.cos(N)*M)]},_addBevelJoin:function(l,c,p,y,x,w,C,M){var T=l.getCurve(),L=T.getPrevious(),z=T.getPoint1().transform(x),N=L.getNormalAtTime(1).multiply(p).transform(w),E=T.getNormalAtTime(0).multiply(p).transform(w),k=N.getDirectedAngle(E);if((k<0||k>=180)&&(N=N.negate(),E=E.negate()),M&&C(z),C(z.add(N)),c==="miter"){var $=new D(z.add(N),new d(-N.y,N.x),!0).intersect(new D(z.add(E),new d(-E.y,E.x),!0),!0);$&&z.getDistance($)<=y*p&&C($)}C(z.add(E))},_addSquareCap:function(l,c,p,y,x,w,C){var M=l._point.transform(y),T=l.getLocation(),L=T.getNormal().multiply(T.getTime()===0?p:-p).transform(x);c==="square"&&(C&&(w(M.subtract(L)),w(M.add(L))),M=M.add(L.rotate(-90))),w(M.add(L)),w(M.subtract(L))},getHandleBounds:function(l,c,p,y,x){var w=p.getStyle(),C=x.stroke&&w.hasStroke(),M,T;if(C){var L=p._getStrokeMatrix(y,x),z=w.getStrokeWidth()/2,N=z;w.getStrokeJoin()==="miter"&&(N=z*w.getMiterLimit()),w.getStrokeCap()==="square"&&(N=Math.max(N,z*Math.SQRT2)),M=St._getStrokePadding(z,L),T=St._getStrokePadding(N,L)}for(var E=new Array(6),k=1/0,$=-k,B=k,W=$,O=0,F=l.length;O<F;O++){var P=l[O];P._transformCoordinates(y,E);for(var G=0;G<6;G+=2){var U=G?M:T,q=U?U[0]:0,H=U?U[1]:0,K=E[G],tt=E[G+1],rt=K-q,ft=K+q,Q=tt-H,ut=tt+H;rt<k&&(k=rt),ft>$&&($=ft),Q<B&&(B=Q),ut>W&&(W=ut)}}return new S(k,B,$-k,W-B)}}});St.inject({statics:new function(){var l=.5522847498307936,c=[new st([-1,0],[0,l],[0,-l]),new st([0,-1],[-l,0],[l,0]),new st([1,0],[0,-l],[0,l]),new st([0,1],[l,0],[-l,0])];function p(x,w,C){var M=a.getNamed(C),T=new St(M&&(M.insert==!0?R.INSERT:M.insert==!1?R.NO_INSERT:null));return T._add(x),T._closed=w,T.set(M,R.INSERT)}function y(x,w,C){for(var M=new Array(4),T=0;T<4;T++){var L=c[T];M[T]=new st(L._point.multiply(w).add(x),L._handleIn.multiply(w),L._handleOut.multiply(w))}return p(M,!0,C)}return{Line:function(){var x=arguments;return p([new st(d.readNamed(x,"from")),new st(d.readNamed(x,"to"))],!1,x)},Circle:function(){var x=arguments,w=d.readNamed(x,"center"),C=a.readNamed(x,"radius");return y(w,new _(C),x)},Rectangle:function(){var x=arguments,w=S.readNamed(x,"rectangle"),C=_.readNamed(x,"radius",0,{readNull:!0}),M=w.getBottomLeft(!0),T=w.getTopLeft(!0),L=w.getTopRight(!0),z=w.getBottomRight(!0),N;if(!C||C.isZero())N=[new st(M),new st(T),new st(L),new st(z)];else{C=_.min(C,w.getSize(!0).divide(2));var E=C.width,k=C.height,$=E*l,B=k*l;N=[new st(M.add(E,0),null,[-$,0]),new st(M.subtract(0,k),[0,B]),new st(T.add(0,k),null,[0,-B]),new st(T.add(E,0),[-$,0],null),new st(L.subtract(E,0),null,[$,0]),new st(L.add(0,k),[0,-B],null),new st(z.subtract(0,k),null,[0,B]),new st(z.subtract(E,0),[$,0])]}return p(N,!0,x)},RoundRectangle:"#Rectangle",Ellipse:function(){var x=arguments,w=X._readEllipse(x);return y(w.center,w.radius,x)},Oval:"#Ellipse",Arc:function(){var x=arguments,w=d.readNamed(x,"from"),C=d.readNamed(x,"through"),M=d.readNamed(x,"to"),T=a.getNamed(x),L=new St(T&&T.insert==!1&&R.NO_INSERT);return L.moveTo(w),L.arcTo(C,M),L.set(T)},RegularPolygon:function(){for(var x=arguments,w=d.readNamed(x,"center"),C=a.readNamed(x,"sides"),M=a.readNamed(x,"radius"),T=360/C,L=C%3===0,z=new d(0,L?-M:M),N=L?-1:.5,E=new Array(C),k=0;k<C;k++)E[k]=new st(w.add(z.rotate((k+N)*T)));return p(E,!0,x)},Star:function(){for(var x=arguments,w=d.readNamed(x,"center"),C=a.readNamed(x,"points")*2,M=a.readNamed(x,"radius1"),T=a.readNamed(x,"radius2"),L=360/C,z=new d(0,-1),N=new Array(C),E=0;E<C;E++)N[E]=new st(w.add(z.rotate(L*E).multiply(E%2?T:M)));return p(N,!0,x)}}}});var Pt=xt.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(c){this._children=[],this._namedChildren={},this._initialize(c)||(typeof c=="string"?this.setPathData(c):this.addChildren(Array.isArray(c)?c:arguments))},insertChildren:function l(c,p){var y=p,x=y[0];x&&typeof x[0]=="number"&&(y=[y]);for(var w=p.length-1;w>=0;w--){var C=y[w];y===p&&!(C instanceof St)&&(y=a.slice(y)),Array.isArray(C)?y[w]=new St({segments:C,insert:!1}):C instanceof Pt&&(y.splice.apply(y,[w,1].concat(C.removeChildren())),C.remove())}return l.base.call(this,c,y)},reduce:function l(c){for(var p=this._children,y=p.length-1;y>=0;y--){var x=p[y].reduce(c);x.isEmpty()&&x.remove()}if(!p.length){var x=new St(R.NO_INSERT);return x.copyAttributes(this),x.insertAbove(this),this.remove(),x}return l.base.call(this)},isClosed:function(){for(var l=this._children,c=0,p=l.length;c<p;c++)if(!l[c]._closed)return!1;return!0},setClosed:function(l){for(var c=this._children,p=0,y=c.length;p<y;p++)c[p].setClosed(l)},getFirstSegment:function(){var l=this.getFirstChild();return l&&l.getFirstSegment()},getLastSegment:function(){var l=this.getLastChild();return l&&l.getLastSegment()},getCurves:function(){for(var l=this._children,c=[],p=0,y=l.length;p<y;p++)a.push(c,l[p].getCurves());return c},getFirstCurve:function(){var l=this.getFirstChild();return l&&l.getFirstCurve()},getLastCurve:function(){var l=this.getLastChild();return l&&l.getLastCurve()},getArea:function(){for(var l=this._children,c=0,p=0,y=l.length;p<y;p++)c+=l[p].getArea();return c},getLength:function(){for(var l=this._children,c=0,p=0,y=l.length;p<y;p++)c+=l[p].getLength();return c},getPathData:function(l,c){for(var p=this._children,y=[],x=0,w=p.length;x<w;x++){var C=p[x],M=C._matrix;y.push(C.getPathData(l&&!M.isIdentity()?l.appended(M):l,c))}return y.join("")},_hitTestChildren:function l(c,p,y){return l.base.call(this,c,p.class===St||p.type==="path"?p:a.set({},p,{fill:!1}),y)},_draw:function(l,c,p,y){var x=this._children;if(!!x.length){c=c.extend({dontStart:!0,dontFinish:!0}),l.beginPath();for(var w=0,C=x.length;w<C;w++)x[w].draw(l,c,y);if(!c.clip){this._setStyles(l,c,p);var M=this._style;M.hasFill()&&(l.fill(M.getFillRule()),l.shadowColor="rgba(0,0,0,0)"),M.hasStroke()&&l.stroke()}}},_drawSelected:function(l,c,p){for(var y=this._children,x=0,w=y.length;x<w;x++){var C=y[x],M=C._matrix;p[C._id]||C._drawSelected(l,M.isIdentity()?c:c.appended(M))}}},new function(){function l(c,p){var y=c._children;if(p&&!y.length)throw new Error("Use a moveTo() command first");return y[y.length-1]}return a.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(c){this[c]=function(){var p=l(this,!0);p[c].apply(p,arguments)}},{moveTo:function(){var c=l(this),p=c&&c.isEmpty()?c:new St(R.NO_INSERT);p!==c&&this.addChild(p),p.moveTo.apply(p,arguments)},moveBy:function(){var c=l(this,!0),p=c&&c.getLastSegment(),y=d.read(arguments);this.moveTo(p?y.add(p._point):y)},closePath:function(c){l(this,!0).closePath(c)}})},a.each(["reverse","flatten","simplify","smooth"],function(l){this[l]=function(c){for(var p=this._children,y,x=0,w=p.length;x<w;x++)y=p[x][l](c)||y;return y}},{}));xt.inject(new function(){var l=Math.min,c=Math.max,p=Math.abs,y={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function x(O){return O._children||[O]}function w(O,F){var P=O.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(F){for(var G=x(P),U=0,q=G.length;U<q;U++){var O=G[U];!O._closed&&!O.isEmpty()&&(O.closePath(1e-12),O.getFirstSegment().setHandleIn(0,0),O.getLastSegment().setHandleOut(0,0))}P=P.resolveCrossings().reorient(P.getFillRule()==="nonzero",!0)}return P}function C(O,F,P,G,U){var q=new Pt(R.NO_INSERT);return q.addChildren(O,!0),q=q.reduce({simplify:F}),U&&U.insert==!1||q.insertAbove(G&&P.isSibling(G)&&P.getIndex()<G.getIndex()?G:P),q.copyAttributes(P,!0),q}function M(O){return O.hasOverlap()||O.isCrossing()}function T(O,F,P,G){if(G&&(G.trace==!1||G.stroke)&&/^(subtract|intersect)$/.test(P))return L(O,F,P);var U=w(O,!0),q=F&&O!==F&&w(F,!0),H=y[P];H[P]=!0,q&&(H.subtract||H.exclude)^(q.isClockwise()^U.isClockwise())&&q.reverse();var K=k(Mt.expand(U.getIntersections(q,M))),tt=x(U),rt=q&&x(q),ft=[],Q=[],ut;function ct(Bt){for(var te=0,Kt=Bt.length;te<Kt;te++){var le=Bt[te];a.push(ft,le._segments),a.push(Q,le.getCurves()),le._overlapsOnly=!0}}function pt(Bt){for(var te=[],Kt=0,le=Bt&&Bt.length;Kt<le;Kt++)te.push(Q[Bt[Kt]]);return te}if(K.length){ct(tt),rt&&ct(rt);for(var gt=new Array(Q.length),yt=0,Tt=Q.length;yt<Tt;yt++)gt[yt]=Q[yt].getValues();for(var It=h.findCurveBoundsCollisions(gt,gt,0,!0),kt={},yt=0;yt<Q.length;yt++){var Vt=Q[yt],wt=Vt._path._id,Ct=kt[wt]=kt[wt]||{};Ct[Vt.getIndex()]={hor:pt(It[yt].hor),ver:pt(It[yt].ver)}}for(var yt=0,Tt=K.length;yt<Tt;yt++)B(K[yt]._segment,U,q,kt,H);for(var yt=0,Tt=ft.length;yt<Tt;yt++){var Et=ft[yt],Gt=Et._intersection;Et._winding||B(Et,U,q,kt,H),Gt&&Gt._overlap||(Et._path._overlapsOnly=!1)}ut=W(ft,H)}else ut=E(rt?tt.concat(rt):tt.slice(),function(Bt){return!!H[Bt]});return C(ut,!0,O,F,G)}function L(O,F,P){var G=w(O),U=w(F),q=G.getIntersections(U,M),H=P==="subtract",K=P==="divide",tt={},rt=[];function ft(ct){if(!tt[ct._id]&&(K||U.contains(ct.getPointAt(ct.getLength()/2))^H))return rt.unshift(ct),tt[ct._id]=!0}for(var Q=q.length-1;Q>=0;Q--){var ut=q[Q].split();ut&&(ft(ut)&&ut.getFirstSegment().setHandleIn(0,0),G.getLastSegment().setHandleOut(0,0))}return ft(G),C(rt,!1,O,F)}function z(O,F){for(var P=O;P;){if(P===F)return;P=P._previous}for(;O._next&&O._next!==F;)O=O._next;if(!O._next){for(;F._previous;)F=F._previous;O._next=F,F._previous=O}}function N(O){for(var F=O.length-1;F>=0;F--)O[F].clearHandles()}function E(O,F,P){var G=O&&O.length;if(G){var U=a.each(O,function(It,kt){this[It._id]={container:null,winding:It.isClockwise()?1:-1,index:kt}},{}),q=O.slice().sort(function(It,kt){return p(kt.getArea())-p(It.getArea())}),H=q[0],K=h.findItemBoundsCollisions(q,null,v.GEOMETRIC_EPSILON);P==null&&(P=H.isClockwise());for(var tt=0;tt<G;tt++){var rt=q[tt],ft=U[rt._id],Q=0,ut=K[tt];if(ut){for(var ct=null,pt=ut.length-1;pt>=0;pt--)if(ut[pt]<tt){ct=ct||rt.getInteriorPoint();var gt=q[ut[pt]];if(gt.contains(ct)){var yt=U[gt._id];Q=yt.winding,ft.winding+=Q,ft.container=yt.exclude?yt.container:gt;break}}}if(F(ft.winding)===F(Q))ft.exclude=!0,O[ft.index]=null;else{var Tt=ft.container;rt.setClockwise(Tt?!Tt.isClockwise():P)}}}return O}function k(O,F,P){var G=F&&[],U=1e-8,q=1-U,H=!1,K=P||[],tt=P&&{},rt,ft,Q;function ut(te){return te._path._id+"."+te._segment1._index}for(var ct=(P&&P.length)-1;ct>=0;ct--){var pt=P[ct];pt._path&&(tt[ut(pt)]=!0)}for(var ct=O.length-1;ct>=0;ct--){var gt=O[ct],yt=gt._time,Tt=yt,It=F&&!F(gt),pt=gt._curve,kt;if(pt&&(pt!==ft?(H=!pt.hasHandles()||tt&&tt[ut(pt)],rt=[],Q=null,ft=pt):Q>=U&&(yt/=Q)),It){rt&&rt.push(gt);continue}else F&&G.unshift(gt);if(Q=Tt,yt<U)kt=pt._segment1;else if(yt>q)kt=pt._segment2;else{var Vt=pt.divideAtTime(yt,!0);H&&K.push(pt,Vt),kt=Vt._segment1;for(var wt=rt.length-1;wt>=0;wt--){var Ct=rt[wt];Ct._time=(Ct._time-yt)/(1-yt)}}gt._setSegment(kt);var Et=kt._intersection,Gt=gt._intersection;if(Et){z(Et,Gt);for(var Bt=Et;Bt;)z(Bt._intersection,Et),Bt=Bt._next}else kt._intersection=Gt}return P||N(K),G||O}function $(O,F,P,G,U){var q=Array.isArray(F)?F:F[P?"hor":"ver"],H=P?1:0,K=H^1,tt=[O.x,O.y],rt=tt[H],ft=tt[K],Q=1e-9,ut=1e-6,ct=rt-Q,pt=rt+Q,gt=0,yt=0,Tt=0,It=0,kt=!1,Vt=!1,wt=1,Ct=[],Et,Gt;function Bt(Oe){var vr=Oe[K+0],Kr=Oe[K+6];if(!(ft<l(vr,Kr)||ft>c(vr,Kr))){var wr=Oe[H+0],vn=Oe[H+2],di=Oe[H+4],In=Oe[H+6];if(vr===Kr){(wr<pt&&In>ct||In<pt&&wr>ct)&&(kt=!0);return}var Ln=ft===vr?0:ft===Kr||ct>c(wr,vn,di,In)||pt<l(wr,vn,di,In)?1:lt.solveCubic(Oe,K,ft,Ct,0,1)>0?Ct[0]:1,Jr=Ln===0?wr:Ln===1?In:lt.getPoint(Oe,Ln)[P?"y":"x"],sn=vr>Kr?1:-1,pi=Et[K]>Et[K+6]?1:-1,Dn=Et[H+6];return ft!==vr?(Jr<ct?Tt+=sn:Jr>pt?It+=sn:kt=!0,Jr>rt-ut&&Jr<rt+ut&&(wt/=2)):(sn!==pi?wr<ct?Tt+=sn:wr>pt&&(It+=sn):wr!=Dn&&(Dn<pt&&Jr>pt?(It+=sn,kt=!0):Dn>ct&&Jr<ct&&(Tt+=sn,kt=!0)),wt/=4),Et=Oe,!U&&Jr>ct&&Jr<pt&&lt.getTangent(Oe,Ln)[P?"x":"y"]===0&&$(O,F,!P,G,!0)}}function te(Oe){var vr=Oe[K+0],Kr=Oe[K+2],wr=Oe[K+4],vn=Oe[K+6];if(ft<=c(vr,Kr,wr,vn)&&ft>=l(vr,Kr,wr,vn)){for(var di=Oe[H+0],In=Oe[H+2],Ln=Oe[H+4],Jr=Oe[H+6],sn=ct>c(di,In,Ln,Jr)||pt<l(di,In,Ln,Jr)?[Oe]:lt.getMonoCurves(Oe,P),pi,Dn=0,Os=sn.length;Dn<Os;Dn++)if(pi=Bt(sn[Dn]))return pi}}for(var Kt=0,le=q.length;Kt<le;Kt++){var ge=q[Kt],oe=ge._path,xr=ge.getValues(),br;if((!Kt||q[Kt-1]._path!==oe)&&(Et=null,oe._closed||(Gt=lt.getValues(oe.getLastCurve().getSegment2(),ge.getSegment1(),null,!G),Gt[K]!==Gt[K+6]&&(Et=Gt)),!Et)){Et=xr;for(var kr=oe.getLastCurve();kr&&kr!==ge;){var cr=kr.getValues();if(cr[K]!==cr[K+6]){Et=cr;break}kr=kr.getPrevious()}}if(br=te(xr))return br;if(Kt+1===le||q[Kt+1]._path!==oe){if(Gt&&(br=te(Gt)))return br;kt&&!Tt&&!It&&(Tt=It=oe.isClockwise(G)^P?1:-1),gt+=Tt,yt+=It,Tt=It=0,kt&&(Vt=!0,kt=!1),Gt=null}}return gt=p(gt),yt=p(yt),{winding:c(gt,yt),windingL:gt,windingR:yt,quality:wt,onPath:Vt}}function B(O,F,P,G,U){var q=[],H=O,K=0,Q;do{var tt=O.getCurve();if(tt){var rt=tt.getLength();q.push({segment:O,curve:tt,length:rt}),K+=rt}O=O.getNext()}while(O&&!O._intersection&&O!==H);for(var ft=[.5,.25,.75],Q={winding:0,quality:-1},ut=.001,ct=1-ut,pt=0;pt<ft.length&&Q.quality<.5;pt++)for(var rt=K*ft[pt],gt=0,yt=q.length;gt<yt;gt++){var Tt=q[gt],It=Tt.length;if(rt<=It){var tt=Tt.curve,kt=tt._path,Vt=kt._parent,wt=Vt instanceof Pt?Vt:kt,Ct=v.clamp(tt.getTimeAt(rt),ut,ct),Et=tt.getPointAtTime(Ct),Gt=p(tt.getTangentAtTime(Ct).y)<Math.SQRT1_2,Bt=null;if(U.subtract&&P){var te=wt===F?P:F,Kt=te._getWinding(Et,Gt,!0);if(wt===F&&Kt.winding||wt===P&&!Kt.winding){if(Kt.quality<1)continue;Bt={winding:0,quality:1}}}Bt=Bt||$(Et,G[kt._id][tt.getIndex()],Gt,!0),Bt.quality>Q.quality&&(Q=Bt);break}rt-=It}for(var gt=q.length-1;gt>=0;gt--)q[gt].segment._winding=Q}function W(O,F){var P=[],G;function U(le){var ge;return!!(le&&!le._visited&&(!F||F[(ge=le._winding||{}).winding]&&!(F.unite&&ge.winding===2&&ge.windingL&&ge.windingR)))}function q(le){if(le){for(var ge=0,oe=G.length;ge<oe;ge++)if(le===G[ge])return!0}return!1}function H(le){for(var ge=le._segments,oe=0,xr=ge.length;oe<xr;oe++)ge[oe]._visited=!0}function K(le,ge){var oe=le._intersection,xr=oe,br=[];ge&&(G=[le]);function kr(cr,Oe){for(;cr&&cr!==Oe;){var vr=cr._segment,Kr=vr&&vr._path;if(Kr){var wr=vr.getNext()||Kr.getFirstSegment(),vn=wr._intersection;vr!==le&&(q(vr)||q(wr)||wr&&U(vr)&&(U(wr)||vn&&U(vn._segment)))&&br.push(vr),ge&&G.push(vr)}cr=cr._next}}if(oe){for(kr(oe);oe&&oe._previous;)oe=oe._previous;kr(oe,xr)}return br}O.sort(function(le,ge){var oe=le._intersection,xr=ge._intersection,br=!!(oe&&oe._overlap),kr=!!(xr&&xr._overlap),cr=le._path,Oe=ge._path;return br^kr?br?1:-1:!oe^!xr?oe?1:-1:cr!==Oe?cr._id-Oe._id:le._index-ge._index});for(var tt=0,rt=O.length;tt<rt;tt++){var ft=O[tt],Q=U(ft),ut=null,ct=!1,pt=!0,gt=[],yt,Tt,It;if(Q&&ft._path._overlapsOnly){var kt=ft._path,Vt=ft._intersection._segment._path;kt.compare(Vt)&&(kt.getArea()&&P.push(kt.clone(!1)),H(kt),H(Vt),Q=!1)}for(;Q;){var wt=!ut,Ct=K(ft,wt),Et=Ct.shift(),ct=!wt&&(q(ft)||q(Et)),Gt=!ct&&Et;if(wt&&(ut=new St(R.NO_INSERT),yt=null),ct){(ft.isFirst()||ft.isLast())&&(pt=ft._path._closed),ft._visited=!0;break}if(Gt&&yt&&(gt.push(yt),yt=null),yt||(Gt&&Ct.push(ft),yt={start:ut._segments.length,crossings:Ct,visited:Tt=[],handleIn:It}),Gt&&(ft=Et),!U(ft)){ut.removeSegments(yt.start);for(var Bt=0,te=Tt.length;Bt<te;Bt++)Tt[Bt]._visited=!1;Tt.length=0;do ft=yt&&yt.crossings.shift(),(!ft||!ft._path)&&(ft=null,yt=gt.pop(),yt&&(Tt=yt.visited,It=yt.handleIn));while(yt&&!U(ft));if(!ft)break}var Kt=ft.getNext();ut.add(new st(ft._point,It,Kt&&ft._handleOut)),ft._visited=!0,Tt.push(ft),ft=Kt||ft._path.getFirstSegment(),It=Kt&&Kt._handleIn}ct&&(pt&&(ut.getFirstSegment().setHandleIn(It),ut.setClosed(pt)),ut.getArea()!==0&&P.push(ut))}return P}return{_getWinding:function(O,F,P){return $(O,this.getCurves(),F,P)},unite:function(O,F){return T(this,O,"unite",F)},intersect:function(O,F){return T(this,O,"intersect",F)},subtract:function(O,F){return T(this,O,"subtract",F)},exclude:function(O,F){return T(this,O,"exclude",F)},divide:function(O,F){return F&&(F.trace==!1||F.stroke)?L(this,O,"divide"):C([this.subtract(O,F),this.intersect(O,F)],!0,this,O,F)},resolveCrossings:function(){var O=this._children,F=O||[this];function P(yt,Tt){var It=yt&&yt._intersection;return It&&It._overlap&&It._path===Tt}var G=!1,U=!1,q=this.getIntersections(null,function(yt){return yt.hasOverlap()&&(G=!0)||yt.isCrossing()&&(U=!0)}),H=G&&U&&[];if(q=Mt.expand(q),G)for(var K=k(q,function(yt){return yt.hasOverlap()},H),tt=K.length-1;tt>=0;tt--){var rt=K[tt],ft=rt._path,Q=rt._segment,ut=Q.getPrevious(),ct=Q.getNext();P(ut,ft)&&P(ct,ft)&&(Q.remove(),ut._handleOut._set(0,0),ct._handleIn._set(0,0),ut!==Q&&!ut.getCurve().hasLength()&&(ct._handleIn.set(ut._handleIn),ut.remove()))}U&&(k(q,G&&function(yt){var Tt=yt.getCurve(),It=yt.getSegment(),kt=yt._intersection,Vt=kt._curve,wt=kt._segment;if(Tt&&Vt&&Tt._path&&Vt._path)return!0;It&&(It._intersection=null),wt&&(wt._intersection=null)},H),H&&N(H),F=W(a.each(F,function(yt){a.push(this,yt._segments)},[])));var pt=F.length,gt;return pt>1&&O?(F!==O&&this.setChildren(F),gt=this):pt===1&&!O&&(F[0]!==this&&this.setSegments(F[0].removeSegments()),gt=this),gt||(gt=new Pt(R.NO_INSERT),gt.addChildren(F),gt=gt.reduce(),gt.copyAttributes(this),this.replaceWith(gt)),gt},reorient:function(O,F){var P=this._children;return P&&P.length?this.setChildren(E(this.removeChildren(),function(G){return!!(O?G:G&1)},F)):F!==e&&this.setClockwise(F),this},getInteriorPoint:function(){var O=this.getBounds(),F=O.getCenter(!0);if(!this.contains(F)){for(var P=this.getCurves(),G=F.y,U=[],q=[],H=0,K=P.length;H<K;H++){var tt=P[H].getValues(),rt=tt[1],ft=tt[3],Q=tt[5],ut=tt[7];if(G>=l(rt,ft,Q,ut)&&G<=c(rt,ft,Q,ut))for(var ct=lt.getMonoCurves(tt),pt=0,gt=ct.length;pt<gt;pt++){var yt=ct[pt],Tt=yt[1],It=yt[7];if(Tt!==It&&(G>=Tt&&G<=It||G>=It&&G<=Tt)){var kt=G===Tt?yt[0]:G===It?yt[6]:lt.solveCubic(yt,1,G,q,0,1)===1?lt.getPoint(yt,q[0]).x:(yt[0]+yt[6])/2;U.push(kt)}}}U.length>1&&(U.sort(function(Vt,wt){return Vt-wt}),F.x=(U[0]+U[1])/2)}return F}}});var Nt=a.extend({_class:"PathFlattener",initialize:function(l,c,p,y,x){var w=[],C=[],M=0,T=1/(p||32),L=l._segments,z=L[0],N;function E(W,O){var F=lt.getValues(W,O,x);w.push(F),k(F,W._index,0,1)}function k(W,O,F,P){if(P-F>T&&!(y&&lt.isStraight(W))&&!lt.isFlatEnough(W,c||.25)){var G=lt.subdivide(W,.5),U=(F+P)/2;k(G[0],O,F,U),k(G[1],O,U,P)}else{var q=W[6]-W[0],H=W[7]-W[1],K=Math.sqrt(q*q+H*H);K>0&&(M+=K,C.push({offset:M,curve:W,index:O,time:P}))}}for(var $=1,B=L.length;$<B;$++)N=L[$],E(z,N),z=N;l._closed&&E(N||z,L[0]),this.curves=w,this.parts=C,this.length=M,this.index=0},_get:function(l){for(var c=this.parts,p=c.length,y,x=this.index;y=x,!(!x||c[--x].offset<l););for(;y<p;y++){var w=c[y];if(w.offset>=l){this.index=y;var C=c[y-1],M=C&&C.index===w.index?C.time:0,T=C?C.offset:0;return{index:w.index,time:M+(w.time-M)*(l-T)/(w.offset-T)}}}return{index:c[p-1].index,time:1}},drawPart:function(l,c,p){for(var y=this._get(c),x=this._get(p),w=y.index,C=x.index;w<=C;w++){var M=lt.getPart(this.curves[w],w===y.index?y.time:0,w===x.index?x.time:1);w===y.index&&l.moveTo(M[0],M[1]),l.bezierCurveTo.apply(l,M.slice(2))}}},a.each(lt._evaluateMethods,function(l){this[l+"At"]=function(c){var p=this._get(c);return lt[l](this.curves[p.index],p.time)}},{})),ne=a.extend({initialize:function(l){for(var c=this.points=[],p=l._segments,y=l._closed,x=0,w,C=p.length;x<C;x++){var M=p[x].point;(!w||!w.equals(M))&&c.push(w=M.clone())}y&&(c.unshift(c[c.length-1]),c.push(c[1])),this.closed=y},fit:function(l){var c=this.points,p=c.length,y=null;return p>0&&(y=[new st(c[0])],p>1&&(this.fitCubic(y,l,0,p-1,c[1].subtract(c[0]),c[p-2].subtract(c[p-1])),this.closed&&(y.shift(),y.pop()))),y},fitCubic:function(l,c,p,y,x,w){var C=this.points;if(y-p===1){var M=C[p],T=C[y],L=M.getDistance(T)/3;this.addCurve(l,[M,M.add(x.normalize(L)),T.add(w.normalize(L)),T]);return}for(var z=this.chordLengthParameterize(p,y),N=Math.max(c,c*c),E,k=!0,$=0;$<=4;$++){var B=this.generateBezier(p,y,z,x,w),W=this.findMaxError(p,y,B,z);if(W.error<c&&k){this.addCurve(l,B);return}if(E=W.index,W.error>=N)break;k=this.reparameterize(p,y,z,B),N=W.error}var O=C[E-1].subtract(C[E+1]);this.fitCubic(l,c,p,E,x,O),this.fitCubic(l,c,E,y,O.negate(),w)},addCurve:function(l,c){var p=l[l.length-1];p.setHandleOut(c[1].subtract(c[0])),l.push(new st(c[3],c[2].subtract(c[3])))},generateBezier:function(l,c,p,y,x){for(var w=1e-12,C=Math.abs,M=this.points,T=M[l],L=M[c],z=[[0,0],[0,0]],N=[0,0],E=0,k=c-l+1;E<k;E++){var $=p[E],B=1-$,W=3*$*B,O=B*B*B,F=W*B,P=W*$,G=$*$*$,U=y.normalize(F),q=x.normalize(P),H=M[l+E].subtract(T.multiply(O+F)).subtract(L.multiply(P+G));z[0][0]+=U.dot(U),z[0][1]+=U.dot(q),z[1][0]=z[0][1],z[1][1]+=q.dot(q),N[0]+=U.dot(H),N[1]+=q.dot(H)}var K=z[0][0]*z[1][1]-z[1][0]*z[0][1],tt,rt;if(C(K)>w){var ft=z[0][0]*N[1]-z[1][0]*N[0],Q=N[0]*z[1][1]-N[1]*z[0][1];tt=Q/K,rt=ft/K}else{var ut=z[0][0]+z[0][1],ct=z[1][0]+z[1][1];tt=rt=C(ut)>w?N[0]/ut:C(ct)>w?N[1]/ct:0}var pt=L.getDistance(T),gt=w*pt,yt,Tt;if(tt<gt||rt<gt)tt=rt=pt/3;else{var It=L.subtract(T);yt=y.normalize(tt),Tt=x.normalize(rt),yt.dot(It)-Tt.dot(It)>pt*pt&&(tt=rt=pt/3,yt=Tt=null)}return[T,T.add(yt||y.normalize(tt)),L.add(Tt||x.normalize(rt)),L]},reparameterize:function(l,c,p,y){for(var x=l;x<=c;x++)p[x-l]=this.findRoot(y,this.points[x],p[x-l]);for(var x=1,w=p.length;x<w;x++)if(p[x]<=p[x-1])return!1;return!0},findRoot:function(l,c,p){for(var y=[],x=[],w=0;w<=2;w++)y[w]=l[w+1].subtract(l[w]).multiply(3);for(var w=0;w<=1;w++)x[w]=y[w+1].subtract(y[w]).multiply(2);var C=this.evaluate(3,l,p),M=this.evaluate(2,y,p),T=this.evaluate(1,x,p),L=C.subtract(c),z=M.dot(M)+L.dot(T);return v.isMachineZero(z)?p:p-L.dot(M)/z},evaluate:function(l,c,p){for(var y=c.slice(),x=1;x<=l;x++)for(var w=0;w<=l-x;w++)y[w]=y[w].multiply(1-p).add(y[w+1].multiply(p));return y[0]},chordLengthParameterize:function(l,c){for(var p=[0],y=l+1;y<=c;y++)p[y-l]=p[y-l-1]+this.points[y].getDistance(this.points[y-1]);for(var y=1,x=c-l;y<=x;y++)p[y]/=p[x];return p},findMaxError:function(l,c,p,y){for(var x=Math.floor((c-l+1)/2),w=0,C=l+1;C<c;C++){var M=this.evaluate(3,p,y[C-l]),T=M.subtract(this.points[C]),L=T.x*T.x+T.y*T.y;L>=w&&(w=L,x=C)}return{error:w,index:x}}}),Qt=R.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(c){this._content="",this._lines=[];var p=c&&a.isPlainObject(c)&&c.x===e&&c.y===e;this._initialize(p&&c,!p&&d.read(arguments))},_equals:function(l){return this._content===l._content},copyContent:function(l){this.setContent(l._content)},getContent:function(){return this._content},setContent:function(l){this._content=""+l,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),ie=Qt.extend({_class:"PointText",initialize:function(){Qt.apply(this,arguments)},getPoint:function(){var l=this._matrix.getTranslation();return new m(l.x,l.y,this,"setPoint")},setPoint:function(){var l=d.read(arguments);this.translate(l.subtract(this._matrix.getTranslation()))},_draw:function(l,c,p){if(!!this._content){this._setStyles(l,c,p);var y=this._lines,x=this._style,w=x.hasFill(),C=x.hasStroke(),M=x.getLeading(),T=l.shadowColor;l.font=x.getFontStyle(),l.textAlign=x.getJustification();for(var L=0,z=y.length;L<z;L++){l.shadowColor=T;var N=y[L];w&&(l.fillText(N,0,0),l.shadowColor="rgba(0,0,0,0)"),C&&l.strokeText(N,0,0),l.translate(0,M)}}},_getBounds:function(l,c){var p=this._style,y=this._lines,x=y.length,w=p.getJustification(),C=p.getLeading(),M=this.getView().getTextWidth(p.getFontStyle(),y),T=0;w!=="left"&&(T-=M/(w==="center"?2:1));var L=new S(T,x?-.75*C:0,M,x*C);return l?l._transformBounds(L,L):L}}),jt=a.extend(new function(){var l={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},c={},p={transparent:[0,0,0,0]},y;function x(M){var T=M.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||M.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),L="rgb",z;if(T){var N=T[4]?4:3;z=new Array(N);for(var E=0;E<N;E++){var k=T[E+1];z[E]=parseInt(k.length==1?k+k:k,16)/255}}else if(T=M.match(/^(rgb|hsl)a?\((.*)\)$/)){L=T[1],z=T[2].trim().split(/[,\s]+/g);for(var $=L==="hsl",E=0,B=Math.min(z.length,4);E<B;E++){var W=z[E],k=parseFloat(W);if($)if(E===0){var O=W.match(/([a-z]*)$/)[1];k*={turn:360,rad:180/Math.PI,grad:.9}[O]||1}else E<3&&(k/=100);else E<3&&(k/=/%$/.test(W)?100:255);z[E]=k}}else{var F=p[M];if(!F)if(n){y||(y=Ge.getContext(1,1,{willReadFrequently:!0}),y.globalCompositeOperation="copy"),y.fillStyle="rgba(0,0,0,0)",y.fillStyle=M,y.fillRect(0,0,1,1);var P=y.getImageData(0,0,1,1).data;F=p[M]=[P[0]/255,P[1]/255,P[2]/255]}else F=[0,0,0];z=F.slice()}return[L,z]}var w=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],C={"rgb-hsb":function(M,T,L){var z=Math.max(M,T,L),N=Math.min(M,T,L),E=z-N,k=E===0?0:(z==M?(T-L)/E+(T<L?6:0):z==T?(L-M)/E+2:(M-T)/E+4)*60;return[k,z===0?0:E/z,z]},"hsb-rgb":function(M,T,L){M=(M/60%6+6)%6;var N=Math.floor(M),z=M-N,N=w[N],E=[L,L*(1-T),L*(1-T*z),L*(1-T*(1-z))];return[E[N[0]],E[N[1]],E[N[2]]]},"rgb-hsl":function(M,T,L){var z=Math.max(M,T,L),N=Math.min(M,T,L),E=z-N,k=E===0,$=k?0:(z==M?(T-L)/E+(T<L?6:0):z==T?(L-M)/E+2:(M-T)/E+4)*60,B=(z+N)/2,W=k?0:B<.5?E/(z+N):E/(2-z-N);return[$,W,B]},"hsl-rgb":function(M,T,L){if(M=(M/360%1+1)%1,T===0)return[L,L,L];for(var z=[M+1/3,M,M-1/3],N=L<.5?L*(1+T):L+T-L*T,E=2*L-N,k=[],$=0;$<3;$++){var B=z[$];B<0&&(B+=1),B>1&&(B-=1),k[$]=6*B<1?E+(N-E)*6*B:2*B<1?N:3*B<2?E+(N-E)*(2/3-B)*6:E}return k},"rgb-gray":function(M,T,L){return[M*.2989+T*.587+L*.114]},"gray-rgb":function(M){return[M,M,M]},"gray-hsb":function(M){return[0,0,M]},"gray-hsl":function(M){return[0,0,M]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return a.each(l,function(M,T){c[T]=[],a.each(M,function(L,z){var N=a.capitalize(L),E=/^(hue|saturation)$/.test(L),k=c[T][z]=T==="gradient"?L==="gradient"?function($){var B=this._components[0];return $=be.read(Array.isArray($)?$:arguments,0,{readNull:!0}),B!==$&&(B&&B._removeOwner(this),$&&$._addOwner(this)),$}:function(){return d.read(arguments,0,{readNull:L==="highlight",clone:!0})}:function($){return $==null||isNaN($)?0:+$};this["get"+N]=function(){return this._type===T||E&&/^hs[bl]$/.test(this._type)?this._components[z]:this._convert(T)[z]},this["set"+N]=function($){this._type!==T&&!(E&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(T),this._properties=l[T],this._type=T),this._components[z]=k.call(this,$),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function M(T){var L=arguments,z=this.__read,N=0,E,k,$,B;Array.isArray(T)&&(L=T,T=L[0]);var W=T!=null&&typeof T;if(W==="string"&&T in l&&(E=T,T=L[1],Array.isArray(T)?(k=T,$=L[2]):(z&&(N=1),L=a.slice(L,1),W=typeof T)),!k){if(B=W==="number"?L:W==="object"&&T.length!=null?T:null,B){E||(E=B.length>=3?"rgb":"gray");var O=l[E].length;$=B[O],z&&(N+=B===arguments?O+($!=null?1:0):1),B.length>O&&(B=a.slice(B,0,O))}else if(W==="string"){var F=x(T);E=F[0],k=F[1],k.length===4&&($=k[3],k.length--)}else if(W==="object")if(T.constructor===M){if(E=T._type,k=T._components.slice(),$=T._alpha,E==="gradient")for(var P=1,G=k.length;P<G;P++){var U=k[P];U&&(k[P]=U.clone())}}else if(T.constructor===be)E="gradient",B=L;else{E="hue"in T?"lightness"in T?"hsl":"hsb":"gradient"in T||"stops"in T||"radial"in T?"gradient":"gray"in T?"gray":"rgb";var q=l[E],H=c[E];this._components=k=[];for(var P=0,G=q.length;P<G;P++){var K=T[q[P]];K==null&&!P&&E==="gradient"&&"stops"in T&&(K={stops:T.stops,radial:T.radial}),K=H[P].call(this,K),K!=null&&(k[P]=K)}$=T.alpha}z&&E&&(N=1)}if(this._type=E||"rgb",!k){this._components=k=[];for(var H=c[this._type],P=0,G=H.length;P<G;P++){var K=H[P].call(this,B&&B[P]);K!=null&&(k[P]=K)}}return this._components=k,this._properties=l[this._type],this._alpha=$,z&&(this.__read=N),this},set:"#initialize",_serialize:function(M,T){var L=this.getComponents();return a.serialize(/^(gray|rgb)$/.test(this._type)?L:[this._type].concat(L),M,!0,T)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(M){var T;return this._type===M?this._components.slice():(T=C[this._type+"-"+M])?T.apply(this,this._components):C["rgb-"+M].apply(this,C[this._type+"-rgb"].apply(this,this._components))},convert:function(M){return new jt(M,this._convert(M),this._alpha)},getType:function(){return this._type},setType:function(M){this._components=this._convert(M),this._properties=l[M],this._type=M},getComponents:function(){var M=this._components.slice();return this._alpha!=null&&M.push(this._alpha),M},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(M){this._alpha=M==null?null:Math.min(Math.max(M,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(M){var T=a.isPlainValue(M,!0)?jt.read(arguments):M;return T===this||T&&this._class===T._class&&this._type===T._type&&this.getAlpha()===T.getAlpha()&&a.equals(this._components,T._components)||!1},toString:function(){for(var M=this._properties,T=[],L=this._type==="gradient",z=f.instance,N=0,E=M.length;N<E;N++){var k=this._components[N];k!=null&&T.push(M[N]+": "+(L?k:z.number(k)))}return this._alpha!=null&&T.push("alpha: "+z.number(this._alpha)),"{ "+T.join(", ")+" }"},toCSS:function(M){var T=this._convert("rgb"),L=M||this._alpha==null?1:this._alpha;function z(N){return Math.round((N<0?0:N>1?1:N)*255)}return T=[z(T[0]),z(T[1]),z(T[2])],L<1&&T.push(L<0?0:L),M?"#"+((1<<24)+(T[0]<<16)+(T[1]<<8)+T[2]).toString(16).slice(1):(T.length==4?"rgba(":"rgb(")+T.join(",")+")"},toCanvasStyle:function(M,T){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var L=this._components,z=L[0],N=z._stops,E=L[1],k=L[2],$=L[3],B=T&&T.inverted(),W;if(B&&(E=B._transformPoint(E),k=B._transformPoint(k),$&&($=B._transformPoint($))),z._radial){var O=k.getDistance(E);if($){var F=$.subtract(E);F.getLength()>O&&($=E.add(F.normalize(O-.1)))}var P=$||E;W=M.createRadialGradient(P.x,P.y,0,E.x,E.y,O)}else W=M.createLinearGradient(E.x,E.y,k.x,k.y);for(var G=0,U=N.length;G<U;G++){var q=N[G],H=q._offset;W.addColorStop(H==null?G/(U-1):H,q._color.toCanvasStyle())}return this._canvasStyle=W},transform:function(M){if(this._type==="gradient"){for(var T=this._components,L=1,z=T.length;L<z;L++){var N=T[L];M._transformPoint(N,N,!0)}this._changed()}},statics:{_types:l,random:function(){var M=Math.random;return new jt(M(),M(),M())},_setOwner:function(M,T,L){return M&&(M._owner&&T&&M._owner!==T&&(M=M.clone()),!M._owner^!T&&(M._owner=T||null,M._setter=L||null)),M}}})},new function(){var l={add:function(c,p){return c+p},subtract:function(c,p){return c-p},multiply:function(c,p){return c*p},divide:function(c,p){return c/p}};return a.each(l,function(c,p){this[p]=function(y){y=jt.read(arguments);for(var x=this._type,w=this._components,C=y._convert(x),M=0,T=w.length;M<T;M++)C[M]=c(w[M],C[M]);return new jt(x,C,this._alpha!=null?c(this._alpha,y.getAlpha()):null)}},{})}),be=a.extend({_class:"Gradient",initialize:function(c,p){this._id=g.get(),c&&a.isPlainObject(c)&&(this.set(c),c=p=null),this._stops==null&&this.setStops(c||["white","black"]),this._radial==null&&this.setRadial(typeof p=="string"&&p==="radial"||p||!1)},_serialize:function(l,c){return c.add(this,function(){return a.serialize([this._stops,this._radial],l,!0,c)})},_changed:function(){for(var l=0,c=this._owners&&this._owners.length;l<c;l++)this._owners[l]._changed()},_addOwner:function(l){this._owners||(this._owners=[]),this._owners.push(l)},_removeOwner:function(l){var c=this._owners?this._owners.indexOf(l):-1;c!=-1&&(this._owners.splice(c,1),this._owners.length||(this._owners=e))},clone:function(){for(var l=[],c=0,p=this._stops.length;c<p;c++)l[c]=this._stops[c].clone();return new be(l,this._radial)},getStops:function(){return this._stops},setStops:function(l){if(l.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var c=this._stops;if(c)for(var p=0,y=c.length;p<y;p++)c[p]._owner=e;c=this._stops=he.readList(l,0,{clone:!0});for(var p=0,y=c.length;p<y;p++)c[p]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(l){this._radial=l,this._changed()},equals:function(l){if(l===this)return!0;if(l&&this._class===l._class){var c=this._stops,p=l._stops,y=c.length;if(y===p.length){for(var x=0;x<y;x++)if(!c[x].equals(p[x]))return!1;return!0}}return!1}}),he=a.extend({_class:"GradientStop",initialize:function(c,p){var y=c,x=p;typeof c=="object"&&p===e&&(Array.isArray(c)&&typeof c[0]!="number"?(y=c[0],x=c[1]):("color"in c||"offset"in c||"rampPoint"in c)&&(y=c.color,x=c.offset||c.rampPoint||0)),this.setColor(y),this.setOffset(x)},clone:function(){return new he(this._color.clone(),this._offset)},_serialize:function(l,c){var p=this._color,y=this._offset;return a.serialize(y==null?[p]:[p,y],l,!0,c)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(l){this._offset=l,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){jt._setOwner(this._color,null),this._color=jt._setOwner(jt.read(arguments,0),this,"setColor"),this._changed()},equals:function(l){return l===this||l&&this._class===l._class&&this._color.equals(l._color)&&this._offset==l._offset||!1}}),Ut=a.extend(new function(){var l={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new d,selectedColor:null},c=a.set({},l,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),p=a.set({},c,{fillColor:new jt}),y={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},x={beans:!0},w={_class:"Style",beans:!0,initialize:function(M,T,L){this._values={},this._owner=T,this._project=T&&T._project||L||xe.project,this._defaults=!T||T instanceof Z?c:T instanceof Qt?p:l,M&&this.set(M)}};return a.each(c,function(C,M){var T=/Color$/.test(M),L=M==="shadowOffset",z=a.capitalize(M),N=y[M],E="set"+z,k="get"+z;w[E]=function($){var B=this._owner,W=B&&B._children,O=W&&W.length>0&&!(B instanceof Pt);if(O)for(var F=0,P=W.length;F<P;F++)W[F]._style[E]($);if((M==="selectedColor"||!O)&&M in this._defaults){var G=this._values[M];G!==$&&(T&&(G&&(jt._setOwner(G,null),G._canvasStyle=null),$&&$.constructor===jt&&($=jt._setOwner($,B,O&&E))),this._values[M]=$,B&&B._changed(N||129))}},w[k]=function($){var B=this._owner,W=B&&B._children,O=W&&W.length>0&&!(B instanceof Pt),F;if(O&&!$)for(var P=0,G=W.length;P<G;P++){var U=W[P]._style[k]();if(!P)F=U;else if(!a.equals(F,U))return e}else if(M in this._defaults){var F=this._values[M];if(F===e)F=this._defaults[M],F&&F.clone&&(F=F.clone());else{var q=T?jt:L?d:null;q&&!(F&&F.constructor===q)&&(this._values[M]=F=q.read([F],0,{readNull:!0,clone:!0}))}}return F&&T&&(F=jt._setOwner(F,B,O&&E)),F},x[k]=function($){return this._style[k]($)},x[E]=function($){this._style[E]($)}}),a.each({Font:"FontFamily",WindingRule:"FillRule"},function(C,M){var T="get"+M,L="set"+M;w[T]=x[T]="#get"+C,w[L]=x[L]="#set"+C}),R.inject(x),w},{set:function(l){var c=l instanceof Ut,p=c?l._values:l;if(p){for(var y in p)if(y in this._defaults){var x=p[y];this[y]=x&&c&&x.clone?x.clone():x}}},equals:function(l){function c(p,y,x){var w=p._values,C=y._values,M=y._defaults;for(var T in w){var L=w[T],z=C[T];if(!(x&&T in C)&&!a.equals(L,z===e?M[T]:z))return!1}return!0}return l===this||l&&this._class===l._class&&c(this,l)&&c(l,this,!0)||!1},_dispose:function(){var l;l=this.getFillColor(),l&&(l._canvasStyle=null),l=this.getStrokeColor(),l&&(l._canvasStyle=null),l=this.getShadowColor(),l&&(l._canvasStyle=null)},hasFill:function(){var l=this.getFillColor();return!!l&&l.alpha>0},hasStroke:function(){var l=this.getStrokeColor();return!!l&&l.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var l=this.getShadowColor();return!!l&&l.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var l=this.getFontSize();return this.getFontWeight()+" "+l+(/[a-z]/i.test(l+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function l(){var c=l.base.call(this),p=this.getFontSize();return/pt|em|%|px/.test(p)&&(p=this.getView().getPixelSize(p)),c!=null?c:p*1.2}}),qt=new function(){function l(c,p,y,x){for(var w=["","webkit","moz","Moz","ms","o"],C=p[0].toUpperCase()+p.substring(1),M=0;M<6;M++){var T=w[M],L=T?T+C:p;if(L in c){if(y)c[L]=x;else return c[L];break}}}return{getStyles:function(c){var p=c&&c.nodeType!==9?c.ownerDocument:c,y=p&&p.defaultView;return y&&y.getComputedStyle(c,"")},getBounds:function(c,p){var y=c.ownerDocument,x=y.body,w=y.documentElement,C;try{C=c.getBoundingClientRect()}catch{C={left:0,top:0,width:0,height:0}}var M=C.left-(w.clientLeft||x.clientLeft||0),T=C.top-(w.clientTop||x.clientTop||0);if(!p){var L=y.defaultView;M+=L.pageXOffset||w.scrollLeft||x.scrollLeft,T+=L.pageYOffset||w.scrollTop||x.scrollTop}return new S(M,T,C.width,C.height)},getViewportBounds:function(c){var p=c.ownerDocument,y=p.defaultView,x=p.documentElement;return new S(0,0,y.innerWidth||x.clientWidth,y.innerHeight||x.clientHeight)},getOffset:function(c,p){return qt.getBounds(c,p).getPoint()},getSize:function(c){return qt.getBounds(c,!0).getSize()},isInvisible:function(c){return qt.getSize(c).equals(new _(0,0))},isInView:function(c){return!qt.isInvisible(c)&&qt.getViewportBounds(c).intersects(qt.getBounds(c,!0))},isInserted:function(c){return i.body.contains(c)},getPrefixed:function(c,p){return c&&l(c,p)},setPrefixed:function(c,p,y){if(typeof p=="object")for(var x in p)l(c,x,!0,p[x]);else l(c,p,!0,y)}}},Yt={add:function(l,c){if(l)for(var p in c)for(var y=c[p],x=p.split(/[\s,]+/g),w=0,C=x.length;w<C;w++){var M=x[w],T=l===i&&(M==="touchstart"||M==="touchmove")?{passive:!1}:!1;l.addEventListener(M,y,T)}},remove:function(l,c){if(l)for(var p in c)for(var y=c[p],x=p.split(/[\s,]+/g),w=0,C=x.length;w<C;w++)l.removeEventListener(x[w],y,!1)},getPoint:function(l){var c=l.targetTouches?l.targetTouches.length?l.targetTouches[0]:l.changedTouches[0]:l;return new d(c.pageX||c.clientX+i.documentElement.scrollLeft,c.pageY||c.clientY+i.documentElement.scrollTop)},getTarget:function(l){return l.target||l.srcElement},getRelatedTarget:function(l){return l.relatedTarget||l.toElement},getOffset:function(l,c){return Yt.getPoint(l).subtract(qt.getOffset(c||Yt.getTarget(l)))}};Yt.requestAnimationFrame=new function(){var l=qt.getPrefixed(n,"requestAnimationFrame"),c=!1,p=[],y;function x(){var w=p;p=[];for(var C=0,M=w.length;C<M;C++)w[C]();c=l&&p.length,c&&l(x)}return function(w){p.push(w),l?c||(l(x),c=!0):y||(y=setInterval(x,1e3/60))}};var Xt=a.extend(o,{_class:"View",initialize:function l(c,p){function y(N){return p[N]||parseInt(p.getAttribute(N),10)}function x(){var N=qt.getSize(p);return N.isNaN()||N.isZero()?new _(y("width"),y("height")):N}var w;if(n&&p){this._id=p.getAttribute("id"),this._id==null&&p.setAttribute("id",this._id="paper-view-"+l._id++),Yt.add(p,this._viewEvents);var C="none";if(qt.setPrefixed(p.style,{userDrag:C,userSelect:C,touchCallout:C,contentZooming:C,tapHighlightColor:"rgba(0,0,0,0)"}),s.hasAttribute(p,"resize")){var M=this;Yt.add(n,this._windowEvents={resize:function(){M.setViewSize(x())}})}if(w=x(),s.hasAttribute(p,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var T=this._stats.domElement,L=T.style,z=qt.getOffset(p);L.position="absolute",L.left=z.x+"px",L.top=z.y+"px",i.body.appendChild(T)}}else w=new _(p),p=null;this._project=c,this._scope=c._scope,this._element=p,this._pixelRatio||(this._pixelRatio=n&&n.devicePixelRatio||1),this._setElementSize(w.width,w.height),this._viewSize=w,l._views.push(this),l._viewsById[this._id]=this,(this._matrix=new A)._owner=this,l._focused||(l._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!xe.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Xt._focused===this&&(Xt._focused=null),Xt._views.splice(Xt._views.indexOf(this),1),delete Xt._viewsById[this._id];var l=this._project;return l._view===this&&(l._view=null),Yt.remove(this._element,this._viewEvents),Yt.remove(n,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:a.each(R._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(l){this[l]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(l){this._autoUpdate=l,l&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var l=this;Yt.requestAnimationFrame(function(){if(l._requested=!1,l._animate){l.requestUpdate();var c=l._element;(!qt.getPrefixed(i,"hidden")||s.getAttribute(c,"keepalive")==="true")&&qt.isInView(c)&&l._handleFrame()}l._autoUpdate&&l.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){xe=this._scope;var l=Date.now()/1e3,c=this._last?l-this._last:0;this._last=l,this.emit("frame",new a({delta:c,time:this._time+=c,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(l,c){var p=this._frameItems;c?(p[l._id]={item:l,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete p[l._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(l){for(var c in this._frameItems){var p=this._frameItems[c];p.item.emit("frame",new a(l,{time:p.time+=l.delta,count:p.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=e},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var l=this._viewSize;return new b(l.width,l.height,this,"setViewSize")},setViewSize:function(){var l=_.read(arguments),c=l.subtract(this._viewSize);c.isZero()||(this._setElementSize(l.width,l.height),this._viewSize.set(l),this._changed(),this.emit("resize",{size:l,delta:c}),this._autoUpdate&&this.update())},_setElementSize:function(l,c){var p=this._element;p&&(p.width!==l&&(p.width=l),p.height!==c&&(p.height=c))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new S(new d,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return qt.isInView(this._element)},isInserted:function(){return qt.isInserted(this._element)},getPixelSize:function(l){var c=this._element,p;if(c){var y=c.parentNode,x=i.createElement("div");x.style.fontSize=l,y.appendChild(x),p=parseFloat(qt.getStyles(x).fontSize),y.removeChild(x)}else p=parseFloat(p);return p},getTextWidth:function(l,c){return 0}},a.each(["rotate","scale","shear","skew"],function(l){var c=l==="rotate";this[l]=function(){var p=arguments,y=(c?a:d).read(p),x=d.read(p,0,{readNull:!0});return this.transform(new A()[l](y,x||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var l=new A;return this.transform(l.translate.apply(l,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var l=d.read(arguments);this.translate(this.getCenter().subtract(l))},getZoom:function(){var l=this._decompose().scaling;return(l.x+l.y)/2},setZoom:function(l){this.transform(new A().scale(l/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(l){var c=this.getRotation();c!=null&&l!=null&&this.rotate(l-c)},getScaling:function(){var l=this._decompose().scaling;return new m(l.x,l.y,this,"setScaling")},setScaling:function(){var l=this.getScaling(),c=d.read(arguments,0,{clone:!0,readNull:!0});l&&c&&this.scale(c.x/l.x,c.y/l.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var l=this._matrix;l.set.apply(l,arguments)},transform:function(l){this._matrix.append(l)},scrollBy:function(){this.translate(d.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(d.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(d.read(arguments))},getEventPoint:function(l){return this.viewToProject(Yt.getOffset(l,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(l,c){i&&typeof c=="string"&&(c=i.getElementById(c));var p=n?fr:Xt;return new p(l,c)}}},new function(){if(!n)return;var l,c,p=!1,y=!1;function x(Q){var ut=Yt.getTarget(Q);return ut.getAttribute&&Xt._viewsById[ut.getAttribute("id")]}function w(){var Q=Xt._focused;if(!Q||!Q.isVisible()){for(var ut=0,ct=Xt._views.length;ut<ct;ut++)if((Q=Xt._views[ut]).isVisible()){Xt._focused=c=Q;break}}}function C(Q,ut,ct){Q._handleMouseEvent("mousemove",ut,ct)}var M=n.navigator,T,L,z;M.pointerEnabled||M.msPointerEnabled?(T="pointerdown MSPointerDown",L="pointermove MSPointerMove",z="pointerup pointercancel MSPointerUp MSPointerCancel"):(T="touchstart",L="touchmove",z="touchend touchcancel","ontouchstart"in n&&M.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(T+=" mousedown",L+=" mousemove",z+=" mouseup"));var N={},E={mouseout:function(Q){var ut=Xt._focused,ct=Yt.getRelatedTarget(Q);if(ut&&(!ct||ct.nodeName==="HTML")){var pt=Yt.getOffset(Q,ut._element),gt=pt.x,yt=Math.abs,Tt=yt(gt),It=1<<25,kt=Tt-It;pt.x=yt(kt)<Tt?kt*(gt<0?-1:1):gt,C(ut,Q,ut.viewToProject(pt))}},scroll:w};N[T]=function(Q){var ut=Xt._focused=x(Q);p||(p=!0,ut._handleMouseEvent("mousedown",Q))},E[L]=function(Q){var ut=Xt._focused;if(!y){var ct=x(Q);ct?ut!==ct&&(ut&&C(ut,Q),l||(l=ut),ut=Xt._focused=c=ct):c&&c===ut&&(l&&!l.isInserted()&&(l=null),ut=Xt._focused=l,l=null,w())}ut&&C(ut,Q)},E[T]=function(){y=!0},E[z]=function(Q){var ut=Xt._focused;ut&&p&&ut._handleMouseEvent("mouseup",Q),y=p=!1},Yt.add(i,E),Yt.add(n,{load:w});var k=!1,$=!1,B={doubleclick:"click",mousedrag:"mousemove"},W=!1,O,F,P,G,U,q,H,K;function tt(Q,ut,ct,pt,gt,yt,Tt){var It=!1,kt;function Vt(wt,Ct){if(wt.responds(Ct)){if(kt||(kt=new rr(Ct,pt,gt,ut||wt,yt?gt.subtract(yt):null)),wt.emit(Ct,kt)&&(k=!0,kt.prevented&&($=!0),kt.stopped))return It=!0}else{var Et=B[Ct];if(Et)return Vt(wt,Et)}}for(;Q&&Q!==Tt&&!Vt(Q,ct);)Q=Q._parent;return It}function rt(Q,ut,ct,pt,gt,yt){return Q._project.removeOn(ct),$=k=!1,U&&tt(U,null,ct,pt,gt,yt)||ut&&ut!==U&&!ut.isDescendant(U)&&tt(ut,null,ct==="mousedrag"?"mousemove":ct,pt,gt,yt,U)||tt(Q,U||ut||Q,ct,pt,gt,yt)}var ft={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:N,_handleMouseEvent:function(Q,ut,ct){var pt=this._itemEvents,gt=pt.native[Q],yt=Q==="mousemove",Tt=this._scope.tool,It=this;function kt(te){return pt.virtual[te]||It.responds(te)||Tt&&Tt.responds(te)}yt&&p&&kt("mousedrag")&&(Q="mousedrag"),ct||(ct=this.getEventPoint(ut));var Vt=this.getBounds().contains(ct),wt=gt&&Vt&&It._project.hitTest(ct,{tolerance:0,fill:!0,stroke:!0}),Ct=wt&&wt.item||null,Et=!1,Gt={};if(Gt[Q.substr(5)]=!0,gt&&Ct!==G&&(G&&tt(G,null,"mouseleave",ut,ct),Ct&&tt(Ct,null,"mouseenter",ut,ct),G=Ct),W^Vt&&(tt(this,null,Vt?"mouseenter":"mouseleave",ut,ct),Et=!0),(Vt||Gt.drag)&&!ct.equals(F)&&(rt(this,Ct,yt?Q:"mousemove",ut,ct,F),Et=!0),W=Vt,Gt.down&&Vt||Gt.up&&O){if(rt(this,Ct,Q,ut,ct,O),Gt.down){if(K=Ct===q&&Date.now()-H<300,P=q=Ct,!$&&Ct){for(var Bt=Ct;Bt&&!Bt.responds("mousedrag");)Bt=Bt._parent;Bt&&(U=Ct)}O=ct}else Gt.up&&(!$&&Ct===P&&(H=Date.now(),rt(this,Ct,K?"doubleclick":"click",ut,ct,O),K=!1),P=U=null);W=!1,Et=!0}F=ct,Et&&Tt&&(k=Tt._handleMouseEvent(Q,ut,ct,Gt)||k),ut.cancelable!==!1&&(k&&!Gt.move||Gt.down&&kt("mouseup"))&&ut.preventDefault()},_handleKeyEvent:function(Q,ut,ct,pt){var gt=this._scope,yt=gt.tool,Tt;function It(kt){kt.responds(Q)&&(xe=gt,kt.emit(Q,Tt=Tt||new $e(Q,ut,ct,pt)))}this.isVisible()&&(It(this),yt&&yt.responds(Q)&&It(yt))},_countItemEvent:function(Q,ut){var ct=this._itemEvents,pt=ct.native,gt=ct.virtual;for(var yt in ft)pt[yt]=(pt[yt]||0)+(ft[yt][Q]||0)*ut;gt[Q]=(gt[Q]||0)+ut},statics:{updateFocus:w,_resetState:function(){p=y=k=W=!1,l=c=O=F=P=G=U=q=H=K=null}}}}),fr=Xt.extend({_class:"CanvasView",initialize:function(c,p){if(!(p instanceof n.HTMLCanvasElement)){var y=_.read(arguments,1);if(y.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+a.slice(arguments,1));p=Ge.getCanvas(y)}var x=this._context=p.getContext("2d");if(x.save(),this._pixelRatio=1,!/^off|false$/.test(s.getAttribute(p,"hidpi"))){var w=n.devicePixelRatio||1,C=qt.getPrefixed(x,"backingStorePixelRatio")||1;this._pixelRatio=w/C}Xt.call(this,c,p),this._needsUpdate=!0},remove:function l(){return this._context.restore(),l.base.call(this)},_setElementSize:function l(c,p){var y=this._pixelRatio;if(l.base.call(this,c*y,p*y),y!==1){var x=this._element,w=this._context;if(!s.hasAttribute(x,"resize")){var C=x.style;C.width=c+"px",C.height=p+"px"}w.restore(),w.save(),w.scale(y,y)}},getContext:function(){return this._context},getPixelSize:function l(c){var p=xe.agent,y;if(p&&p.firefox)y=l.base.call(this,c);else{var x=this._context,w=x.font;x.font=c+" serif",y=parseFloat(x.font),x.font=w}return y},getTextWidth:function(l,c){var p=this._context,y=p.font,x=0;p.font=l;for(var w=0,C=c.length;w<C;w++)x=Math.max(x,p.measureText(c[w]).width);return p.font=y,x},update:function(){if(!this._needsUpdate)return!1;var l=this._project,c=this._context,p=this._viewSize;return c.clearRect(0,0,p.width+1,p.height+1),l&&l.draw(c,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),tr=a.extend({_class:"Event",initialize:function(c){this.event=c,this.type=c&&c.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return er.modifiers}}),$e=tr.extend({_class:"KeyEvent",initialize:function(c,p,y,x){this.type=c,this.event=p,this.key=y,this.character=x},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),er=new function(){var l={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},c={tab:"	",space:" ",enter:"\r"},p={},y={},x,w,C=new a({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var L=xe&&xe.agent;return L&&L.mac?this.meta:this.control}}});function M(L){var z=L.key||L.keyIdentifier;return z=/^U\+/.test(z)?String.fromCharCode(parseInt(z.substr(2),16)):/^Arrow[A-Z]/.test(z)?z.substr(5):z==="Unidentified"||z===e?String.fromCharCode(L.keyCode):z,l[z]||(z.length>1?a.hyphenate(z):z.toLowerCase())}function T(L,z,N,E){var k=Xt._focused,$;if(p[z]=L,L?y[z]=N:delete y[z],z.length>1&&($=a.camelize(z))in C){C[$]=L;var B=xe&&xe.agent;if($==="meta"&&B&&B.mac)if(L)x={};else{for(var W in x)W in y&&T(!1,W,x[W],E);x=null}}else L&&x&&(x[z]=N);k&&k._handleKeyEvent(L?"keydown":"keyup",E,z,N)}return Yt.add(i,{keydown:function(L){var z=M(L),N=xe&&xe.agent;z.length>1||N&&N.chrome&&(L.altKey||N.mac&&L.metaKey||!N.mac&&L.ctrlKey)?T(!0,z,c[z]||(z.length>1?"":z),L):w=z},keypress:function(L){if(w){var z=M(L),N=L.charCode,E=N>=32?String.fromCharCode(N):z.length>1?"":z;z!==w&&(z=E.toLowerCase()),T(!0,z,E,L),w=null}},keyup:function(L){var z=M(L);z in y&&T(!1,z,y[z],L)}}),Yt.add(n,{blur:function(L){for(var z in y)T(!1,z,y[z],L)}}),{modifiers:C,isDown:function(L){return!!p[L]}}},rr=tr.extend({_class:"MouseEvent",initialize:function(c,p,y,x,w){this.type=c,this.event=p,this.point=y,this.target=x,this.delta=w},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Tr=tr.extend({_class:"ToolEvent",_item:null,initialize:function(c,p,y){this.tool=c,this.type=p,this.event=y},_choosePoint:function(l,c){return l||(c?c.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(l){this._point=l},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(l){this._lastPoint=l},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(l){this._downPoint=l},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(l){this._middlePoint=l},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(l){this._delta=l},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(l){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=l},getItem:function(){if(!this._item){var l=this.tool._scope.project.hitTest(this.getPoint());if(l){for(var c=l.item,p=c._parent;/^(Group|CompoundPath)$/.test(p._class);)c=p,p=p._parent;this._item=c}}return this._item},setItem:function(l){this._item=l},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Tn=u.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(c){u.call(this),this._moveCount=-1,this._downCount=-1,this.set(c)},getMinDistance:function(){return this._minDistance},setMinDistance:function(l){this._minDistance=l,l!=null&&this._maxDistance!=null&&l>this._maxDistance&&(this._maxDistance=l)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(l){this._maxDistance=l,this._minDistance!=null&&l!=null&&l<this._minDistance&&(this._minDistance=l)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(l){this._minDistance=this._maxDistance=l},_handleMouseEvent:function(l,c,p,y){xe=this._scope,y.drag&&!this.responds(l)&&(l="mousemove");var x=y.move||y.drag,w=this.responds(l),C=!1,M=this;function T(z,N){var E=p,k=x?M._point:M._downPoint||E;if(x){if(M._moveCount>=0&&E.equals(k))return!1;if(k&&(z!=null||N!=null)){var $=E.subtract(k),B=$.getLength();if(B<(z||0))return!1;N&&(E=k.add($.normalize(Math.min(B,N))))}M._moveCount++}return M._point=E,M._lastPoint=k||E,y.down&&(M._moveCount=-1,M._downPoint=E,M._downCount++),!0}function L(){w&&(C=M.emit(l,new Tr(M,l,c))||C)}if(y.down)T(),L();else if(y.up)T(null,this._maxDistance),L();else if(w)for(;T(this._minDistance,this._maxDistance);)L();return C}}),Vr=a.extend(o,{_class:"Tween",statics:{easings:new a({linear:function(l){return l},easeInQuad:function(l){return l*l},easeOutQuad:function(l){return l*(2-l)},easeInOutQuad:function(l){return l<.5?2*l*l:-1+2*(2-l)*l},easeInCubic:function(l){return l*l*l},easeOutCubic:function(l){return--l*l*l+1},easeInOutCubic:function(l){return l<.5?4*l*l*l:(l-1)*(2*l-2)*(2*l-2)+1},easeInQuart:function(l){return l*l*l*l},easeOutQuart:function(l){return 1- --l*l*l*l},easeInOutQuart:function(l){return l<.5?8*l*l*l*l:1-8*--l*l*l*l},easeInQuint:function(l){return l*l*l*l*l},easeOutQuint:function(l){return 1+--l*l*l*l*l},easeInOutQuint:function(l){return l<.5?16*l*l*l*l*l:1+16*--l*l*l*l*l}})},initialize:function l(c,p,y,x,w,C){this.object=c;var M=typeof w,T=M==="function";this.type=T?M:M==="string"?w:"linear",this.easing=T?w:l.easings[this.type],this.duration=x,this.running=!1,this._then=null,this._startTime=null;var L=p||y;this._keys=L?Object.keys(L):[],this._parsedKeys=this._parseKeys(this._keys),this._from=L&&this._getState(p),this._to=L&&this._getState(y),C!==!1&&this.start()},then:function(l){return this._then=l,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(l){if(this.running){l>=1&&(l=1,this.running=!1);for(var c=this.easing(l),p=this._keys,y=function(z){return typeof z=="function"?z(c,l):z},x=0,w=p&&p.length;x<w;x++){var C=p[x],M=y(this._from[C]),T=y(this._to[C]),L=M&&T&&M.__add&&T.__add?T.__subtract(M).__multiply(c).__add(M):(T-M)*c+M;this._setProperty(this._parsedKeys[C],L)}this.responds("update")&&this.emit("update",new a({progress:l,factor:c})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(l){var c=this._startTime,p=c?(l-c)/this.duration:0;c||(this._startTime=l),this.update(p)},_getState:function(l){for(var c=this._keys,p={},y=0,x=c.length;y<x;y++){var w=c[y],C=this._parsedKeys[w],M=this._getProperty(C),T;if(l){var L=this._resolveValue(M,l[w]);this._setProperty(C,L),T=this._getProperty(C),T=T&&T.clone?T.clone():T,this._setProperty(C,M)}else T=M&&M.clone?M.clone():M;p[w]=T}return p},_resolveValue:function(l,c){if(c){if(Array.isArray(c)&&c.length===2){var p=c[0];return p&&p.match&&p.match(/^[+\-\*\/]=/)?this._calculate(l,p[0],c[1]):c}else if(typeof c=="string"){var y=c.match(/^[+\-*/]=(.*)/);if(y){var x=JSON.parse(y[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(l,c[0],x)}}}return c},_calculate:function(l,c,p){return xe.PaperScript.calculateBinary(l,c,p)},_parseKeys:function(l){for(var c={},p=0,y=l.length;p<y;p++){var x=l[p],w=x.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");c[x]=w.split("/")}return c},_getProperty:function(l,c){for(var p=this.object,y=0,x=l.length-(c||0);y<x&&p;y++)p=p[l[y]];return p},_setProperty:function(l,c){var p=this._getProperty(l,1);p&&(p[l[l.length-1]]=c)}}),Vi={request:function(l){var c=new t.XMLHttpRequest;return c.open((l.method||"get").toUpperCase(),l.url,a.pick(l.async,!0)),l.mimeType&&c.overrideMimeType(l.mimeType),c.onload=function(){var p=c.status;p===0||p===200?l.onLoad&&l.onLoad.call(c,c.responseText):c.onerror()},c.onerror=function(){var p=c.status,y='Could not load "'+l.url+'" (Status: '+p+")";if(l.onError)l.onError(y,p);else throw new Error(y)},c.send(null)}},Ge=a.exports.CanvasProvider={canvases:[],getCanvas:function(l,c,p){if(!n)return null;var y,x=!0;typeof l=="object"&&(c=l.height,l=l.width),this.canvases.length?y=this.canvases.pop():(y=i.createElement("canvas"),x=!1);var w=y.getContext("2d",p||{});if(!w)throw new Error("Canvas "+y+" is unable to provide a 2D context.");return y.width===l&&y.height===c?x&&w.clearRect(0,0,l+1,c+1):(y.width=l,y.height=c),w.save(),y},getContext:function(l,c,p){var y=this.getCanvas(l,c,p);return y?y.getContext("2d",p||{}):null},release:function(l){var c=l&&l.canvas?l.canvas:l;c&&c.getContext&&(c.getContext("2d").restore(),this.canvases.push(c))}},Ca=new function(){var l=Math.min,c=Math.max,p=Math.abs,y,x,w,C,M,T,L,z,N,E,k;function $(U,q,H){return .2989*U+.587*q+.114*H}function B(U,q,H,rt){var tt=rt-$(U,q,H);N=U+tt,E=q+tt,k=H+tt;var rt=$(N,E,k),ft=l(N,E,k),Q=c(N,E,k);if(ft<0){var ut=rt-ft;N=rt+(N-rt)*rt/ut,E=rt+(E-rt)*rt/ut,k=rt+(k-rt)*rt/ut}if(Q>255){var ct=255-rt,pt=Q-rt;N=rt+(N-rt)*ct/pt,E=rt+(E-rt)*ct/pt,k=rt+(k-rt)*ct/pt}}function W(U,q,H){return c(U,q,H)-l(U,q,H)}function O(U,q,H,K){var tt=[U,q,H],rt=c(U,q,H),ft=l(U,q,H),Q;ft=ft===U?0:ft===q?1:2,rt=rt===U?0:rt===q?1:2,Q=l(ft,rt)===0?c(ft,rt)===1?2:1:0,tt[rt]>tt[ft]?(tt[Q]=(tt[Q]-tt[ft])*K/(tt[rt]-tt[ft]),tt[rt]=K):tt[Q]=tt[rt]=0,tt[ft]=0,N=tt[0],E=tt[1],k=tt[2]}var F={multiply:function(){N=M*y/255,E=T*x/255,k=L*w/255},screen:function(){N=M+y-M*y/255,E=T+x-T*x/255,k=L+w-L*w/255},overlay:function(){N=M<128?2*M*y/255:255-2*(255-M)*(255-y)/255,E=T<128?2*T*x/255:255-2*(255-T)*(255-x)/255,k=L<128?2*L*w/255:255-2*(255-L)*(255-w)/255},"soft-light":function(){var U=y*M/255;N=U+M*(255-(255-M)*(255-y)/255-U)/255,U=x*T/255,E=U+T*(255-(255-T)*(255-x)/255-U)/255,U=w*L/255,k=U+L*(255-(255-L)*(255-w)/255-U)/255},"hard-light":function(){N=y<128?2*y*M/255:255-2*(255-y)*(255-M)/255,E=x<128?2*x*T/255:255-2*(255-x)*(255-T)/255,k=w<128?2*w*L/255:255-2*(255-w)*(255-L)/255},"color-dodge":function(){N=M===0?0:y===255?255:l(255,255*M/(255-y)),E=T===0?0:x===255?255:l(255,255*T/(255-x)),k=L===0?0:w===255?255:l(255,255*L/(255-w))},"color-burn":function(){N=M===255?255:y===0?0:c(0,255-(255-M)*255/y),E=T===255?255:x===0?0:c(0,255-(255-T)*255/x),k=L===255?255:w===0?0:c(0,255-(255-L)*255/w)},darken:function(){N=M<y?M:y,E=T<x?T:x,k=L<w?L:w},lighten:function(){N=M>y?M:y,E=T>x?T:x,k=L>w?L:w},difference:function(){N=M-y,N<0&&(N=-N),E=T-x,E<0&&(E=-E),k=L-w,k<0&&(k=-k)},exclusion:function(){N=M+y*(255-M-M)/255,E=T+x*(255-T-T)/255,k=L+w*(255-L-L)/255},hue:function(){O(y,x,w,W(M,T,L)),B(N,E,k,$(M,T,L))},saturation:function(){O(M,T,L,W(y,x,w)),B(N,E,k,$(M,T,L))},luminosity:function(){B(M,T,L,$(y,x,w))},color:function(){B(y,x,w,$(M,T,L))},add:function(){N=l(M+y,255),E=l(T+x,255),k=l(L+w,255)},subtract:function(){N=c(M-y,0),E=c(T-x,0),k=c(L-w,0)},average:function(){N=(M+y)/2,E=(T+x)/2,k=(L+w)/2},negation:function(){N=255-p(255-y-M),E=255-p(255-x-T),k=255-p(255-w-L)}},P=this.nativeModes=a.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(U){this[U]=!0},{}),G=Ge.getContext(1,1,{willReadFrequently:!0});G&&(a.each(F,function(U,q){var H=q==="darken",K=!1;G.save();try{G.fillStyle=H?"#300":"#a00",G.fillRect(0,0,1,1),G.globalCompositeOperation=q,G.globalCompositeOperation===q&&(G.fillStyle=H?"#a00":"#300",G.fillRect(0,0,1,1),K=G.getImageData(0,0,1,1).data[0]!==H?170:51)}catch{}G.restore(),P[q]=K}),Ge.release(G)),this.process=function(U,q,H,K,tt){var rt=q.canvas,ft=U==="normal";if(ft||P[U])H.save(),H.setTransform(1,0,0,1,0,0),H.globalAlpha=K,ft||(H.globalCompositeOperation=U),H.drawImage(rt,tt.x,tt.y),H.restore();else{var Q=F[U];if(!Q)return;for(var ut=H.getImageData(tt.x,tt.y,rt.width,rt.height),ct=ut.data,pt=q.getImageData(0,0,rt.width,rt.height).data,gt=0,yt=ct.length;gt<yt;gt+=4){y=pt[gt],M=ct[gt],x=pt[gt+1],T=ct[gt+1],w=pt[gt+2],L=ct[gt+2],C=pt[gt+3],z=ct[gt+3],Q();var Tt=C*K/255,It=1-Tt;ct[gt]=Tt*N+It*M,ct[gt+1]=Tt*E+It*T,ct[gt+2]=Tt*k+It*L,ct[gt+3]=C*K+It*z}H.putImageData(ut,tt.x,tt.y)}}},qe=new function(){var l="http://www.w3.org/2000/svg",c="http://www.w3.org/2000/xmlns",p="http://www.w3.org/1999/xlink",y={href:p,xlink:c,xmlns:c+"/","xmlns:xlink":c+"/"};function x(M,T,L){return C(i.createElementNS(l,M),T,L)}function w(M,T){var L=y[T],z=L?M.getAttributeNS(L,T):M.getAttribute(T);return z==="null"?null:z}function C(M,T,L){for(var z in T){var N=T[z],E=y[z];typeof N=="number"&&L&&(N=L.number(N)),E?M.setAttributeNS(E,z,N):M.setAttribute(z,N)}return M}return{svg:l,xmlns:c,xlink:p,create:x,get:w,set:C}},Qv=a.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(l,c){return!c&&(l instanceof xt||l instanceof X||l instanceof Qt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(l,c){var p=a.capitalize(c),y=l[2];this[c]={type:l[1],property:c,attribute:l[0],toSVG:y,fromSVG:y&&a.each(y,function(x,w){this[x]=w},{}),exportFilter:l[3],get:"get"+p,set:"set"+p}},{});new function(){var l;function c(F,P,G){var U=new a,q=F.getTranslation();if(P){var H;F.isInvertible()?(F=F._shiftless(),H=F._inverseTransform(q),q=null):H=new d,U[G?"cx":"x"]=H.x,U[G?"cy":"y"]=H.y}if(!F.isIdentity()){var K=F.decompose();if(K){var tt=[],rt=K.rotation,ft=K.scaling,Q=K.skewing;q&&!q.isZero()&&tt.push("translate("+l.point(q)+")"),rt&&tt.push("rotate("+l.number(rt)+")"),(!v.isZero(ft.x-1)||!v.isZero(ft.y-1))&&tt.push("scale("+l.point(ft)+")"),Q.x&&tt.push("skewX("+l.number(Q.x)+")"),Q.y&&tt.push("skewY("+l.number(Q.y)+")"),U.transform=tt.join(" ")}else U.transform="matrix("+F.getValues().join(",")+")"}return U}function p(F,P){for(var G=c(F._matrix),U=F._children,q=qe.create("g",G,l),H=0,K=U.length;H<K;H++){var tt=U[H],rt=W(tt,P);if(rt)if(tt.isClipMask()){var ft=qe.create("clipPath");ft.appendChild(rt),$(tt,ft,"clip"),qe.set(q,{"clip-path":"url(#"+ft.id+")"})}else q.appendChild(rt)}return q}function y(F,P){var G=c(F._matrix,!0),U=F.getSize(),q=F.getImage();return G.x-=U.width/2,G.y-=U.height/2,G.width=U.width,G.height=U.height,G.href=P.embedImages==!1&&q&&q.src||F.toDataURL(),qe.create("image",G,l)}function x(F,P){var G=P.matchShapes;if(G){var U=F.toShape(!1);if(U)return w(U)}var q=F._segments,H=q.length,K,tt=c(F._matrix);if(G&&H>=2&&!F.hasHandles())if(H>2){K=F._closed?"polygon":"polyline";for(var rt=[],ft=0;ft<H;ft++)rt.push(l.point(q[ft]._point));tt.points=rt.join(" ")}else{K="line";var Q=q[0]._point,ut=q[1]._point;tt.set({x1:Q.x,y1:Q.y,x2:ut.x,y2:ut.y})}else K="path",tt.d=F.getPathData(null,P.precision);return qe.create(K,tt,l)}function w(F){var P=F._type,G=F._radius,U=c(F._matrix,!0,P!=="rectangle");if(P==="rectangle"){P="rect";var q=F._size,H=q.width,K=q.height;U.x-=H/2,U.y-=K/2,U.width=H,U.height=K,G.isZero()&&(G=null)}return G&&(P==="circle"?U.r=G:(U.rx=G.width,U.ry=G.height)),qe.create(P,U,l)}function C(F,P){var G=c(F._matrix),U=F.getPathData(null,P.precision);return U&&(G.d=U),qe.create("path",G,l)}function M(F,P){var G=c(F._matrix,!0),U=F._definition,q=k(U,"symbol"),H=U._item,K=H.getStrokeBounds();return q||(q=qe.create("symbol",{viewBox:l.rectangle(K)}),q.appendChild(W(H,P)),$(U,q,"symbol")),G.href="#"+q.id,G.x+=K.x,G.y+=K.y,G.width=K.width,G.height=K.height,G.overflow="visible",qe.create("use",G,l)}function T(F){var P=k(F,"color");if(!P){var G=F.getGradient(),U=G._radial,q=F.getOrigin(),H=F.getDestination(),K;if(U){K={cx:q.x,cy:q.y,r:q.getDistance(H)};var tt=F.getHighlight();tt&&(K.fx=tt.x,K.fy=tt.y)}else K={x1:q.x,y1:q.y,x2:H.x,y2:H.y};K.gradientUnits="userSpaceOnUse",P=qe.create((U?"radial":"linear")+"Gradient",K,l);for(var rt=G._stops,ft=0,Q=rt.length;ft<Q;ft++){var ut=rt[ft],ct=ut._color,pt=ct.getAlpha(),gt=ut._offset;K={offset:gt==null?ft/(Q-1):gt},ct&&(K["stop-color"]=ct.toCSS(!0)),pt<1&&(K["stop-opacity"]=pt),P.appendChild(qe.create("stop",K,l))}$(F,P,"color")}return"url(#"+P.id+")"}function L(F){var P=qe.create("text",c(F._matrix,!0),l);return P.textContent=F._content,P}var z={Group:p,Layer:p,Raster:y,Path:x,Shape:w,CompoundPath:C,SymbolItem:M,PointText:L};function N(F,P,G,U){var q={},H=!U&&F.getParent(),K=[];return F._name!=null&&(q.id=F._name),a.each(Qv,function(tt){var rt=tt.get,ft=tt.type,Q=F[rt]();if(tt.exportFilter?tt.exportFilter(F,Q):G.reduceAttributes==!1||!H||!a.equals(H[rt](),Q)){if(ft==="color"&&Q!=null){var ut=Q.getAlpha();ut<1&&(q[tt.attribute+"-opacity"]=ut)}ft==="style"?K.push(tt.attribute+": "+Q):q[tt.attribute]=Q==null?"none":ft==="color"?Q.gradient?T(Q):Q.toCSS(!0):ft==="array"?Q.join(","):ft==="lookup"?tt.toSVG[Q]:Q}}),K.length&&(q.style=K.join(";")),q.opacity===1&&delete q.opacity,F._visible||(q.visibility="hidden"),qe.set(P,q,l)}var E;function k(F,P){return E||(E={ids:{},svgs:{}}),F&&E.svgs[P+"-"+(F._id||F.__id||(F.__id=g.get("svg")))]}function $(F,P,G){E||k();var U=E.ids[G]=(E.ids[G]||0)+1;P.id=G+"-"+U,E.svgs[G+"-"+(F._id||F.__id)]=P}function B(F,P){var G=F,U=null;if(E){G=F.nodeName.toLowerCase()==="svg"&&F;for(var q in E.svgs)U||(G||(G=qe.create("svg"),G.appendChild(F)),U=G.insertBefore(qe.create("defs"),G.firstChild)),U.appendChild(E.svgs[q]);E=null}return P.asString?new t.XMLSerializer().serializeToString(G):G}function W(F,P,G){var U=z[F._class],q=U&&U(F,P);if(q){var H=P.onExport;H&&(q=H(F,q,P)||q);var K=JSON.stringify(F._data);K&&K!=="{}"&&K!=="null"&&q.setAttribute("data-paper-data",K)}return q&&N(F,q,P,G)}function O(F){return F||(F={}),l=new f(F.precision),F}R.inject({exportSVG:function(F){return F=O(F),B(W(this,F,!0),F)}}),V.inject({exportSVG:function(F){F=O(F);var P=this._children,G=this.getView(),U=a.pick(F.bounds,"view"),q=F.matrix||U==="view"&&G._matrix,H=q&&A.read([q]),K=U==="view"?new S([0,0],G.getViewSize()):U==="content"?R._getBounds(P,H,{stroke:!0}).rect:S.read([U],0,{readNull:!0}),tt={version:"1.1",xmlns:qe.svg,"xmlns:xlink":qe.xlink};K&&(tt.width=K.width,tt.height=K.height,(K.x||K.x===0||K.y||K.y===0)&&(tt.viewBox=l.rectangle(K)));var rt=qe.create("svg",tt,l),ft=rt;H&&!H.isIdentity()&&(ft=rt.appendChild(qe.create("g",c(H),l)));for(var Q=0,ut=P.length;Q<ut;Q++)ft.appendChild(W(P[Q],F,!0));return B(rt,F)}})},new function(){var l={},c;function p(P,G,U,q,H,K){var tt=qe.get(P,G)||K,rt=tt==null?q?null:U?"":0:U?tt:parseFloat(tt);return/%\s*$/.test(tt)?rt/100*(H?1:c[/x|^width/.test(G)?"width":"height"]):rt}function y(P,G,U,q,H,K,tt){return G=p(P,G||"x",!1,q,H,K),U=p(P,U||"y",!1,q,H,tt),q&&(G==null||U==null)?null:new d(G,U)}function x(P,G,U,q,H){return G=p(P,G||"width",!1,q,H),U=p(P,U||"height",!1,q,H),q&&(G==null||U==null)?null:new _(G,U)}function w(P,G,U){return P==="none"?null:G==="number"?parseFloat(P):G==="array"?P?P.split(/[\s,]+/g).map(parseFloat):[]:G==="color"?W(P)||P:G==="lookup"?U[P]:P}function C(P,G,U,q){var H=P.childNodes,K=G==="clippath",tt=G==="defs",rt=new Z,ft=rt._project,Q=ft._currentStyle,ut=[];if(!K&&!tt&&(rt=B(rt,P,q),ft._currentStyle=rt._style.clone()),q)for(var ct=P.querySelectorAll("defs"),pt=0,gt=ct.length;pt<gt;pt++)O(ct[pt],U,!1);for(var pt=0,gt=H.length;pt<gt;pt++){var yt=H[pt],Tt;yt.nodeType===1&&!/^defs$/i.test(yt.nodeName)&&(Tt=O(yt,U,!1))&&!(Tt instanceof ht)&&ut.push(Tt)}return rt.addChildren(ut),K&&(rt=B(rt.reduce(),P,q)),ft._currentStyle=Q,(K||tt)&&(rt.remove(),rt=null),rt}function M(P,G){for(var U=P.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),q=[],H=0,K=U.length;H<K;H+=2)q.push(new d(parseFloat(U[H]),parseFloat(U[H+1])));var tt=new St(q);return G==="polygon"&&tt.closePath(),tt}function T(P){return xt.create(P.getAttribute("d"))}function L(P,G){var U=(p(P,"href",!0)||"").substring(1),q=G==="radialgradient",H;if(U)H=l[U].getGradient(),H._radial^q&&(H=H.clone(),H._radial=q);else{for(var K=P.childNodes,tt=[],rt=0,ft=K.length;rt<ft;rt++){var Q=K[rt];Q.nodeType===1&&tt.push(B(new he,Q))}H=new be(tt,q)}var ut,ct,pt,gt=p(P,"gradientUnits",!0)!=="userSpaceOnUse";q?(ut=y(P,"cx","cy",!1,gt,"50%","50%"),ct=ut.add(p(P,"r",!1,!1,gt,"50%"),0),pt=y(P,"fx","fy",!0,gt)):(ut=y(P,"x1","y1",!1,gt,"0%","0%"),ct=y(P,"x2","y2",!1,gt,"100%","0%"));var yt=B(new jt(H,ut,ct,pt),P);return yt._scaleToBounds=gt,null}var z={"#document":function(P,G,U,q){for(var H=P.childNodes,K=0,tt=H.length;K<tt;K++){var rt=H[K];if(rt.nodeType===1)return O(rt,U,q)}},g:C,svg:C,clippath:C,polygon:M,polyline:M,path:T,lineargradient:L,radialgradient:L,image:function(P){var G=new et(p(P,"href",!0));return G.on("load",function(){var U=x(P);this.setSize(U);var q=y(P).add(U.divide(2));this._matrix.append(new A().translate(q))}),G},symbol:function(P,G,U,q){return new ht(C(P,G,U,q),!0)},defs:C,use:function(P){var G=(p(P,"href",!0)||"").substring(1),U=l[G],q=y(P);return U?U instanceof ht?U.place(q):U.clone().translate(q):null},circle:function(P){return new X.Circle(y(P,"cx","cy"),p(P,"r"))},ellipse:function(P){return new X.Ellipse({center:y(P,"cx","cy"),radius:x(P,"rx","ry")})},rect:function(P){return new X.Rectangle(new S(y(P),x(P)),x(P,"rx","ry"))},line:function(P){return new St.Line(y(P,"x1","y1"),y(P,"x2","y2"))},text:function(P){var G=new ie(y(P).add(y(P,"dx","dy")));return G.setContent(P.textContent.trim()||""),G},switch:C};function N(P,G,U,q){if(P.transform){for(var H=(q.getAttribute(U)||"").split(/\)\s*/g),K=new A,tt=0,rt=H.length;tt<rt;tt++){var ft=H[tt];if(!ft)break;for(var Q=ft.split(/\(\s*/),ut=Q[0].trim(),ct=Q[1].split(/[\s,]+/g),pt=0,gt=ct.length;pt<gt;pt++)ct[pt]=parseFloat(ct[pt]);switch(ut){case"matrix":K.append(new A(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]));break;case"rotate":K.rotate(ct[0],ct[1]||0,ct[2]||0);break;case"translate":K.translate(ct[0],ct[1]||0);break;case"scale":K.scale(ct);break;case"skewX":K.skew(ct[0],0);break;case"skewY":K.skew(0,ct[0]);break}}P.transform(K)}}function E(P,G,U){var q=U==="fill-opacity"?"getFillColor":"getStrokeColor",H=P[q]&&P[q]();H&&H.setAlpha(parseFloat(G))}var k=a.set(a.each(Qv,function(P){this[P.attribute]=function(G,U){if(G[P.set]&&(G[P.set](w(U,P.type,P.fromSVG)),P.type==="color")){var q=G[P.get]();if(q&&q._scaleToBounds){var H=G.getBounds();q.transform(new A().translate(H.getPoint()).scale(H.getSize()))}}}},{}),{id:function(P,G){l[G]=P,P.setName&&P.setName(G)},"clip-path":function(P,G){var U=W(G);if(U)if(U=U.clone(),U.setClipMask(!0),P instanceof Z)P.insertChild(0,U);else return new Z(U,P)},gradientTransform:N,transform:N,"fill-opacity":E,"stroke-opacity":E,visibility:function(P,G){P.setVisible&&P.setVisible(G==="visible")},display:function(P,G){P.setVisible&&P.setVisible(G!==null)},"stop-color":function(P,G){P.setColor&&P.setColor(G)},"stop-opacity":function(P,G){P._color&&P._color.setAlpha(parseFloat(G))},offset:function(P,G){if(P.setOffset){var U=G.match(/(.*)%$/);P.setOffset(U?U[1]/100:parseFloat(G))}},viewBox:function(P,G,U,q,H){var K=new S(w(G,"array")),tt=x(q,null,null,!0),rt,ft;if(P instanceof Z){var Q=tt?tt.divide(K.getSize()):1,ft=new A().scale(Q).translate(K.getPoint().negate());rt=P}else P instanceof ht&&(tt&&K.setSize(tt),rt=P._item);if(rt){if($(q,"overflow",H)!=="visible"){var ut=new X.Rectangle(K);ut.setClipMask(!0),rt.addChild(ut)}ft&&rt.transform(ft)}}});function $(P,G,U){var q=P.attributes[G],H=q&&q.value;if(!H&&P.style){var K=a.camelize(G);H=P.style[K],!H&&U.node[K]!==U.parent[K]&&(H=U.node[K])}return H?H==="none"?null:H:e}function B(P,G,U){var q=G.parentNode,H={node:qt.getStyles(G)||{},parent:!U&&!/^defs$/i.test(q.tagName)&&qt.getStyles(q)||{}};return a.each(k,function(K,tt){var rt=$(G,tt,H);P=rt!==e&&K(P,rt,tt,G,H)||P}),P}function W(P){var G=P&&P.match(/\((?:["'#]*)([^"')]+)/),U=G&&G[1],q=U&&l[n?U.replace(n.location.href.split("#")[0]+"#",""):U];return q&&q._scaleToBounds&&(q=q.clone(),q._scaleToBounds=!0),q}function O(P,G,U){var q=P.nodeName.toLowerCase(),H=q!=="#document",K=i.body,tt,rt,ft;U&&H&&(c=xe.getView().getSize(),c=x(P,null,null,!0)||c,tt=qe.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),rt=P.parentNode,ft=P.nextSibling,tt.appendChild(P),K.appendChild(tt));var Q=xe.settings,ut=Q.applyMatrix,ct=Q.insertItems;Q.applyMatrix=!1,Q.insertItems=!1;var pt=z[q],gt=pt&&pt(P,q,G,U)||null;if(Q.insertItems=ct,Q.applyMatrix=ut,gt){H&&!(gt instanceof Z)&&(gt=B(gt,P,U));var yt=G.onImport,Tt=H&&P.getAttribute("data-paper-data");yt&&(gt=yt(P,gt,G)||gt),G.expandShapes&&gt instanceof X&&(gt.remove(),gt=gt.toPath()),Tt&&(gt._data=JSON.parse(Tt))}return tt&&(K.removeChild(tt),rt&&(ft?rt.insertBefore(P,ft):rt.appendChild(P))),U&&(l={},gt&&a.pick(G.applyMatrix,ut)&&gt.matrix.apply(!0,!0)),gt}function F(P,G,U){if(!P)return null;G=typeof G=="function"?{onLoad:G}:G||{};var q=xe,H=null;function K(Q){try{var ut=typeof Q=="object"?Q:new t.DOMParser().parseFromString(Q.trim(),"image/svg+xml");if(!ut.nodeName)throw ut=null,new Error("Unsupported SVG source: "+P);xe=q,H=O(ut,G,!0),(!G||G.insert!==!1)&&U._insertItem(e,H);var ct=G.onLoad;ct&&ct(H,Q)}catch(pt){tt(pt)}}function tt(Q,ut){var ct=G.onError;if(ct)ct(Q,ut);else throw new Error(Q)}if(typeof P=="string"&&!/^[\s\S]*</.test(P)){var rt=i.getElementById(P);rt?K(rt):Vi.request({url:P,async:!0,onLoad:K,onError:tt})}else if(typeof File!="undefined"&&P instanceof File){var ft=new FileReader;return ft.onload=function(){K(ft.result)},ft.onerror=function(){tt(ft.error)},ft.readAsText(P)}else K(P);return H}R.inject({importSVG:function(P,G){return F(P,G,this)}}),V.inject({importSVG:function(P,G){return this.activate(),F(P,G,this)}})},a.exports.PaperScript=function(){var l=this,c=l.acorn;if(!c&&typeof $S!="undefined")try{c=require("acorn")}catch{}if(!c){var p,y;c=p=y={},function(B,W){if(typeof p=="object"&&typeof y=="object")return W(p);if(typeof e=="function"&&e.amd)return e(["exports"],W);W(B.acorn||(B.acorn={}))}(this,function(B){B.version="0.5.0";var W,O,F,P;B.parse=function(at,dt){return O=String(at),F=O.length,U(dt),vd(),ib(W.program)};var G=B.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function U(at){W=at||{};for(var dt in G)Object.prototype.hasOwnProperty.call(W,dt)||(W[dt]=G[dt]);P=W.sourceFile||null}var q=B.getLineInfo=function(at,dt){for(var bt=1,At=0;;){Ia.lastIndex=At;var re=Ia.exec(at);if(re&&re.index<dt)++bt,At=re.index+re[0].length;else break}return{line:bt,column:dt-At}};B.tokenize=function(at,dt){O=String(at),F=O.length,U(dt),vd();var bt={};function At(re){return Tt=tt,Hi(re),bt.start=K,bt.end=tt,bt.startLoc=rt,bt.endLoc=ft,bt.type=Q,bt.value=ut,bt}return At.jumpTo=function(re,ae){if(H=re,W.locations){pt=1,gt=Ia.lastIndex=0;for(var ue;(ue=Ia.exec(O))&&ue.index<re;)++pt,gt=ue.index+ue[0].length}ct=ae,La()},At};var H,K,tt,rt,ft,Q,ut,ct,pt,gt,yt,Tt,It,kt,Vt,wt;function Ct(at,dt){var bt=q(O,at);dt+=" ("+bt.line+":"+bt.column+")";var At=new SyntaxError(dt);throw At.pos=at,At.loc=bt,At.raisedAt=H,At}var Et=[],Gt={type:"num"},Bt={type:"regexp"},te={type:"string"},Kt={type:"name"},le={type:"eof"},ge={keyword:"break"},oe={keyword:"case",beforeExpr:!0},xr={keyword:"catch"},br={keyword:"continue"},kr={keyword:"debugger"},cr={keyword:"default"},Oe={keyword:"do",isLoop:!0},vr={keyword:"else",beforeExpr:!0},Kr={keyword:"finally"},wr={keyword:"for",isLoop:!0},vn={keyword:"function"},di={keyword:"if"},In={keyword:"return",beforeExpr:!0},Ln={keyword:"switch"},Jr={keyword:"throw",beforeExpr:!0},sn={keyword:"try"},pi={keyword:"var"},Dn={keyword:"while",isLoop:!0},Os={keyword:"with"},td={keyword:"new",beforeExpr:!0},ed={keyword:"this"},rd={keyword:"null",atomValue:null},nd={keyword:"true",atomValue:!0},id={keyword:"false",atomValue:!1},Ns={keyword:"in",binop:7,beforeExpr:!0},Du={break:ge,case:oe,catch:xr,continue:br,debugger:kr,default:cr,do:Oe,else:vr,finally:Kr,for:wr,function:vn,if:di,return:In,switch:Ln,throw:Jr,try:sn,var:pi,while:Dn,with:Os,null:rd,true:nd,false:id,new:td,in:Ns,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:ed,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Vs={type:"[",beforeExpr:!0},Bs={type:"]"},Aa={type:"{",beforeExpr:!0},Bi={type:"}"},$n={type:"(",beforeExpr:!0},Pn={type:")"},ti={type:",",beforeExpr:!0},Wn={type:";",beforeExpr:!0},Ta={type:":",beforeExpr:!0},Pu={type:"."},ku={type:"?",beforeExpr:!0},Eu={binop:10,beforeExpr:!0},Ru={isAssign:!0,beforeExpr:!0},Gi={isAssign:!0,beforeExpr:!0},Px={postfix:!0,prefix:!0,isUpdate:!0},ad={prefix:!0,beforeExpr:!0},od={binop:1,beforeExpr:!0},sd={binop:2,beforeExpr:!0},kx={binop:3,beforeExpr:!0},Ex={binop:4,beforeExpr:!0},Rx={binop:5,beforeExpr:!0},zx={binop:6,beforeExpr:!0},Ox={binop:7,beforeExpr:!0},Nx={binop:8,beforeExpr:!0},Vx={binop:9,prefix:!0,beforeExpr:!0},Bx={binop:10,beforeExpr:!0};B.tokTypes={bracketL:Vs,bracketR:Bs,braceL:Aa,braceR:Bi,parenL:$n,parenR:Pn,comma:ti,semi:Wn,colon:Ta,dot:Pu,question:ku,slash:Eu,eq:Ru,name:Kt,eof:le,num:Gt,regexp:Bt,string:te};for(var ld in Du)B.tokTypes["_"+ld]=Du[ld];function Mo(at){at=at.split(" ");var dt="",bt=[];t:for(var At=0;At<at.length;++At){for(var re=0;re<bt.length;++re)if(bt[re][0].length==at[At].length){bt[re].push(at[At]);continue t}bt.push([at[At]])}function ae(Re){if(Re.length==1)return dt+="return str === "+JSON.stringify(Re[0])+";";dt+="switch(str){";for(var En=0;En<Re.length;++En)dt+="case "+JSON.stringify(Re[En])+":";dt+="return true}return false;"}if(bt.length>3){bt.sort(function(Re,En){return En.length-Re.length}),dt+="switch(str.length){";for(var At=0;At<bt.length;++At){var ue=bt[At];dt+="case "+ue[0].length+":",ae(ue)}dt+="}"}else ae(at);return new Function("str",dt)}var Gx=Mo("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Fx=Mo("class enum extends super const export import"),ud=Mo("implements interface let package private protected public static yield"),Gs=Mo("eval arguments"),Hx=Mo("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),$x=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,hd="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Wx="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",fd=new RegExp("["+hd+"]"),Ux=new RegExp("["+hd+Wx+"]"),Fs=/[\n\r\u2028\u2029]/,Ia=/\r\n|[\n\r\u2028\u2029]/g,Hs=B.isIdentifierStart=function(at){return at<65?at===36:at<91?!0:at<97?at===95:at<123?!0:at>=170&&fd.test(String.fromCharCode(at))},cd=B.isIdentifierChar=function(at){return at<48?at===36:at<58?!0:at<65?!1:at<91?!0:at<97?at===95:at<123?!0:at>=170&&Ux.test(String.fromCharCode(at))};function Fi(){this.line=pt,this.column=H-gt}function vd(){pt=1,H=gt=0,ct=!0,La()}function Ir(at,dt){tt=H,W.locations&&(ft=new Fi),Q=at,La(),ut=dt,ct=at.beforeExpr}function Zx(){var at=W.onComment&&W.locations&&new Fi,dt=H,bt=O.indexOf("*/",H+=2);if(bt===-1&&Ct(H-2,"Unterminated comment"),H=bt+2,W.locations){Ia.lastIndex=dt;for(var At;(At=Ia.exec(O))&&At.index<H;)++pt,gt=At.index+At[0].length}W.onComment&&W.onComment(!0,O.slice(dt+2,bt),dt,H,at,W.locations&&new Fi)}function zu(){for(var at=H,dt=W.onComment&&W.locations&&new Fi,bt=O.charCodeAt(H+=2);H<F&&bt!==10&&bt!==13&&bt!==8232&&bt!==8233;)++H,bt=O.charCodeAt(H);W.onComment&&W.onComment(!1,O.slice(at+2,H),at,H,dt,W.locations&&new Fi)}function La(){for(;H<F;){var at=O.charCodeAt(H);if(at===32)++H;else if(at===13){++H;var dt=O.charCodeAt(H);dt===10&&++H,W.locations&&(++pt,gt=H)}else if(at===10||at===8232||at===8233)++H,W.locations&&(++pt,gt=H);else if(at>8&&at<14)++H;else if(at===47){var dt=O.charCodeAt(H+1);if(dt===42)Zx();else if(dt===47)zu();else break}else if(at===160)++H;else if(at>=5760&&$x.test(String.fromCharCode(at)))++H;else break}}function qx(){var at=O.charCodeAt(H+1);return at>=48&&at<=57?pd(!0):(++H,Ir(Pu))}function Yx(){var at=O.charCodeAt(H+1);return ct?(++H,dd()):at===61?Lr(Gi,2):Lr(Eu,1)}function Xx(){var at=O.charCodeAt(H+1);return at===61?Lr(Gi,2):Lr(Bx,1)}function jx(at){var dt=O.charCodeAt(H+1);return dt===at?Lr(at===124?od:sd,2):dt===61?Lr(Gi,2):Lr(at===124?kx:Rx,1)}function Kx(){var at=O.charCodeAt(H+1);return at===61?Lr(Gi,2):Lr(Ex,1)}function Jx(at){var dt=O.charCodeAt(H+1);return dt===at?dt==45&&O.charCodeAt(H+2)==62&&Fs.test(O.slice(Tt,H))?(H+=3,zu(),La(),Hi()):Lr(Px,2):dt===61?Lr(Gi,2):Lr(Vx,1)}function Qx(at){var dt=O.charCodeAt(H+1),bt=1;return dt===at?(bt=at===62&&O.charCodeAt(H+2)===62?3:2,O.charCodeAt(H+bt)===61?Lr(Gi,bt+1):Lr(Nx,bt)):dt==33&&at==60&&O.charCodeAt(H+2)==45&&O.charCodeAt(H+3)==45?(H+=4,zu(),La(),Hi()):(dt===61&&(bt=O.charCodeAt(H+2)===61?3:2),Lr(Ox,bt))}function tb(at){var dt=O.charCodeAt(H+1);return dt===61?Lr(zx,O.charCodeAt(H+2)===61?3:2):Lr(at===61?Ru:ad,1)}function eb(at){switch(at){case 46:return qx();case 40:return++H,Ir($n);case 41:return++H,Ir(Pn);case 59:return++H,Ir(Wn);case 44:return++H,Ir(ti);case 91:return++H,Ir(Vs);case 93:return++H,Ir(Bs);case 123:return++H,Ir(Aa);case 125:return++H,Ir(Bi);case 58:return++H,Ir(Ta);case 63:return++H,Ir(ku);case 48:var dt=O.charCodeAt(H+1);if(dt===120||dt===88)return rb();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return pd(!1);case 34:case 39:return nb(at);case 47:return Yx();case 37:case 42:return Xx();case 124:case 38:return jx(at);case 94:return Kx();case 43:case 45:return Jx(at);case 60:case 62:return Qx(at);case 61:case 33:return tb(at);case 126:return Lr(ad,1)}return!1}function Hi(at){if(at?H=K+1:K=H,W.locations&&(rt=new Fi),at)return dd();if(H>=F)return Ir(le);var dt=O.charCodeAt(H);if(Hs(dt)||dt===92)return md();var bt=eb(dt);if(bt===!1){var At=String.fromCharCode(dt);if(At==="\\"||fd.test(At))return md();Ct(H,"Unexpected character '"+At+"'")}return bt}function Lr(at,dt){var bt=O.slice(H,H+dt);H+=dt,Ir(at,bt)}function dd(){for(var re="",at,dt,bt=H;;){H>=F&&Ct(bt,"Unterminated regular expression");var At=O.charAt(H);if(Fs.test(At)&&Ct(bt,"Unterminated regular expression"),at)at=!1;else{if(At==="[")dt=!0;else if(At==="]"&&dt)dt=!1;else if(At==="/"&&!dt)break;at=At==="\\"}++H}var re=O.slice(bt,H);++H;var ae=gd();ae&&!/^[gmsiy]*$/.test(ae)&&Ct(bt,"Invalid regexp flag");try{var ue=new RegExp(re,ae)}catch(Re){Re instanceof SyntaxError&&Ct(bt,Re.message),Ct(Re)}return Ir(Bt,ue)}function Co(at,dt){for(var bt=H,At=0,re=0,ae=dt==null?1/0:dt;re<ae;++re){var ue=O.charCodeAt(H),Re;if(ue>=97?Re=ue-97+10:ue>=65?Re=ue-65+10:ue>=48&&ue<=57?Re=ue-48:Re=1/0,Re>=at)break;++H,At=At*at+Re}return H===bt||dt!=null&&H-bt!==dt?null:At}function rb(){H+=2;var at=Co(16);return at==null&&Ct(K+2,"Expected hexadecimal number"),Hs(O.charCodeAt(H))&&Ct(H,"Identifier directly after number"),Ir(Gt,at)}function pd(at){var dt=H,bt=!1,At=O.charCodeAt(H)===48;!at&&Co(10)===null&&Ct(dt,"Invalid number"),O.charCodeAt(H)===46&&(++H,Co(10),bt=!0);var re=O.charCodeAt(H);(re===69||re===101)&&(re=O.charCodeAt(++H),(re===43||re===45)&&++H,Co(10)===null&&Ct(dt,"Invalid number"),bt=!0),Hs(O.charCodeAt(H))&&Ct(H,"Identifier directly after number");var ae=O.slice(dt,H),ue;return bt?ue=parseFloat(ae):!At||ae.length===1?ue=parseInt(ae,10):/[89]/.test(ae)||wt?Ct(dt,"Invalid number"):ue=parseInt(ae,8),Ir(Gt,ue)}function nb(at){H++;for(var dt="";;){H>=F&&Ct(K,"Unterminated string constant");var bt=O.charCodeAt(H);if(bt===at)return++H,Ir(te,dt);if(bt===92){bt=O.charCodeAt(++H);var At=/^[0-7]+/.exec(O.slice(H,H+3));for(At&&(At=At[0]);At&&parseInt(At,8)>255;)At=At.slice(0,-1);if(At==="0"&&(At=null),++H,At)wt&&Ct(H-2,"Octal literal in strict mode"),dt+=String.fromCharCode(parseInt(At,8)),H+=At.length-1;else switch(bt){case 110:dt+=`
`;break;case 114:dt+="\r";break;case 120:dt+=String.fromCharCode($s(2));break;case 117:dt+=String.fromCharCode($s(4));break;case 85:dt+=String.fromCharCode($s(8));break;case 116:dt+="	";break;case 98:dt+="\b";break;case 118:dt+="\v";break;case 102:dt+="\f";break;case 48:dt+="\0";break;case 13:O.charCodeAt(H)===10&&++H;case 10:W.locations&&(gt=H,++pt);break;default:dt+=String.fromCharCode(bt);break}}else(bt===13||bt===10||bt===8232||bt===8233)&&Ct(K,"Unterminated string constant"),dt+=String.fromCharCode(bt),++H}}function $s(at){var dt=Co(16,at);return dt===null&&Ct(K,"Bad character escape sequence"),dt}var Da;function gd(){Da=!1;for(var at,dt=!0,bt=H;;){var At=O.charCodeAt(H);if(cd(At))Da&&(at+=O.charAt(H)),++H;else if(At===92){Da||(at=O.slice(bt,H)),Da=!0,O.charCodeAt(++H)!=117&&Ct(H,"Expecting Unicode escape sequence \\uXXXX"),++H;var re=$s(4),ae=String.fromCharCode(re);ae||Ct(H-1,"Invalid Unicode escape"),(dt?Hs(re):cd(re))||Ct(H-4,"Invalid Unicode escape"),at+=ae}else break;dt=!1}return Da?at:O.slice(bt,H)}function md(){var at=gd(),dt=Kt;return!Da&&Hx(at)&&(dt=Du[at]),Ir(dt,at)}function De(){yt=K,Tt=tt,It=ft,Hi()}function Ou(at){if(wt=at,H=K,W.locations)for(;H<gt;)gt=O.lastIndexOf(`
`,gt-2)+1,--pt;La(),Hi()}function yd(){this.type=null,this.start=K,this.end=null}function _d(){this.start=rt,this.end=null,P!==null&&(this.source=P)}function Er(){var at=new yd;return W.locations&&(at.loc=new _d),W.directSourceFile&&(at.sourceFile=W.directSourceFile),W.ranges&&(at.range=[K,0]),at}function gi(at){var dt=new yd;return dt.start=at.start,W.locations&&(dt.loc=new _d,dt.loc.start=at.loc.start),W.ranges&&(dt.range=[at.range[0],0]),dt}function ye(at,dt){return at.type=dt,at.end=Tt,W.locations&&(at.loc.end=It),W.ranges&&(at.range[1]=Tt),at}function Nu(at){return W.ecmaVersion>=5&&at.type==="ExpressionStatement"&&at.expression.type==="Literal"&&at.expression.value==="use strict"}function nr(at){if(Q===at)return De(),!0}function Ws(){return!W.strictSemicolons&&(Q===le||Q===Bi||Fs.test(O.slice(Tt,K)))}function $i(){!nr(Wn)&&!Ws()&&ei()}function yr(at){Q===at?De():ei()}function ei(){Ct(K,"Unexpected token")}function Us(at){at.type!=="Identifier"&&at.type!=="MemberExpression"&&Ct(at.start,"Assigning to rvalue"),wt&&at.type==="Identifier"&&Gs(at.name)&&Ct(at.start,"Assigning to "+at.name+" in strict mode")}function ib(at){yt=Tt=H,W.locations&&(It=new Fi),kt=wt=null,Vt=[],Hi();var dt=at||Er(),bt=!0;for(at||(dt.body=[]);Q!==le;){var At=kn();dt.body.push(At),bt&&Nu(At)&&Ou(!0),bt=!1}return ye(dt,"Program")}var Vu={kind:"loop"},ab={kind:"switch"};function kn(){(Q===Eu||Q===Gi&&ut=="/=")&&Hi(!0);var at=Q,dt=Er();switch(at){case ge:case br:De();var bt=at===ge;nr(Wn)||Ws()?dt.label=null:Q!==Kt?ei():(dt.label=mi(),$i());for(var At=0;At<Vt.length;++At){var re=Vt[At];if((dt.label==null||re.name===dt.label.name)&&(re.kind!=null&&(bt||re.kind==="loop")||dt.label&&bt))break}return At===Vt.length&&Ct(dt.start,"Unsyntactic "+at.keyword),ye(dt,bt?"BreakStatement":"ContinueStatement");case kr:return De(),$i(),ye(dt,"DebuggerStatement");case Oe:return De(),Vt.push(Vu),dt.body=kn(),Vt.pop(),yr(Dn),dt.test=Ao(),$i(),ye(dt,"DoWhileStatement");case wr:if(De(),Vt.push(Vu),yr($n),Q===Wn)return Bu(dt,null);if(Q===pi){var ae=Er();return De(),bd(ae,!0),ye(ae,"VariableDeclaration"),ae.declarations.length===1&&nr(Ns)?xd(dt,ae):Bu(dt,ae)}var ae=Br(!1,!0);return nr(Ns)?(Us(ae),xd(dt,ae)):Bu(dt,ae);case vn:return De(),Wu(dt,!0);case di:return De(),dt.test=Ao(),dt.consequent=kn(),dt.alternate=nr(vr)?kn():null,ye(dt,"IfStatement");case In:return!kt&&!W.allowReturnOutsideFunction&&Ct(K,"'return' outside of function"),De(),nr(Wn)||Ws()?dt.argument=null:(dt.argument=Br(),$i()),ye(dt,"ReturnStatement");case Ln:De(),dt.discriminant=Ao(),dt.cases=[],yr(Aa),Vt.push(ab);for(var ue,Re;Q!=Bi;)if(Q===oe||Q===cr){var En=Q===oe;ue&&ye(ue,"SwitchCase"),dt.cases.push(ue=Er()),ue.consequent=[],De(),En?ue.test=Br():(Re&&Ct(yt,"Multiple default clauses"),Re=!0,ue.test=null),yr(Ta)}else ue||ei(),ue.consequent.push(kn());return ue&&ye(ue,"SwitchCase"),De(),Vt.pop(),ye(dt,"SwitchStatement");case Jr:return De(),Fs.test(O.slice(Tt,K))&&Ct(Tt,"Illegal newline after throw"),dt.argument=Br(),$i(),ye(dt,"ThrowStatement");case sn:if(De(),dt.block=To(),dt.handler=null,Q===xr){var Wi=Er();De(),yr($n),Wi.param=mi(),wt&&Gs(Wi.param.name)&&Ct(Wi.param.start,"Binding "+Wi.param.name+" in strict mode"),yr(Pn),Wi.guard=null,Wi.body=To(),dt.handler=ye(Wi,"CatchClause")}return dt.guardedHandlers=Et,dt.finalizer=nr(Kr)?To():null,!dt.handler&&!dt.finalizer&&Ct(dt.start,"Missing catch or finally clause"),ye(dt,"TryStatement");case pi:return De(),bd(dt),$i(),ye(dt,"VariableDeclaration");case Dn:return De(),dt.test=Ao(),Vt.push(Vu),dt.body=kn(),Vt.pop(),ye(dt,"WhileStatement");case Os:return wt&&Ct(K,"'with' in strict mode"),De(),dt.object=Ao(),dt.body=kn(),ye(dt,"WithStatement");case Aa:return To();case Wn:return De(),ye(dt,"EmptyStatement");default:var Zu=ut,Zs=Br();if(at===Kt&&Zs.type==="Identifier"&&nr(Ta)){for(var At=0;At<Vt.length;++At)Vt[At].name===Zu&&Ct(Zs.start,"Label '"+Zu+"' is already declared");var fb=Q.isLoop?"loop":Q===Ln?"switch":null;return Vt.push({name:Zu,kind:fb}),dt.body=kn(),Vt.pop(),dt.label=Zs,ye(dt,"LabeledStatement")}else return dt.expression=Zs,$i(),ye(dt,"ExpressionStatement")}}function Ao(){yr($n);var at=Br();return yr(Pn),at}function To(at){var dt=Er(),bt=!0,At=!1,re;for(dt.body=[],yr(Aa);!nr(Bi);){var ae=kn();dt.body.push(ae),bt&&at&&Nu(ae)&&(re=At,Ou(At=!0)),bt=!1}return At&&!re&&Ou(!1),ye(dt,"BlockStatement")}function Bu(at,dt){return at.init=dt,yr(Wn),at.test=Q===Wn?null:Br(),yr(Wn),at.update=Q===Pn?null:Br(),yr(Pn),at.body=kn(),Vt.pop(),ye(at,"ForStatement")}function xd(at,dt){return at.left=dt,at.right=Br(),yr(Pn),at.body=kn(),Vt.pop(),ye(at,"ForInStatement")}function bd(at,dt){for(at.declarations=[],at.kind="var";;){var bt=Er();if(bt.id=mi(),wt&&Gs(bt.id.name)&&Ct(bt.id.start,"Binding "+bt.id.name+" in strict mode"),bt.init=nr(Ru)?Br(!0,dt):null,at.declarations.push(ye(bt,"VariableDeclarator")),!nr(ti))break}return at}function Br(at,dt){var bt=Gu(dt);if(!at&&Q===ti){var At=gi(bt);for(At.expressions=[bt];nr(ti);)At.expressions.push(Gu(dt));return ye(At,"SequenceExpression")}return bt}function Gu(at){var dt=ob(at);if(Q.isAssign){var bt=gi(dt);return bt.operator=ut,bt.left=dt,De(),bt.right=Gu(at),Us(dt),ye(bt,"AssignmentExpression")}return dt}function ob(at){var dt=sb(at);if(nr(ku)){var bt=gi(dt);return bt.test=dt,bt.consequent=Br(!0),yr(Ta),bt.alternate=Br(!0,at),ye(bt,"ConditionalExpression")}return dt}function sb(at){return Fu(Hu(),-1,at)}function Fu(at,dt,bt){var At=Q.binop;if(At!=null&&(!bt||Q!==Ns)&&At>dt){var re=gi(at);re.left=at,re.operator=ut;var ae=Q;De(),re.right=Fu(Hu(),At,bt);var ue=ye(re,ae===od||ae===sd?"LogicalExpression":"BinaryExpression");return Fu(ue,dt,bt)}return at}function Hu(){if(Q.prefix){var at=Er(),dt=Q.isUpdate;return at.operator=ut,at.prefix=!0,ct=!0,De(),at.argument=Hu(),dt?Us(at.argument):wt&&at.operator==="delete"&&at.argument.type==="Identifier"&&Ct(at.start,"Deleting local variable in strict mode"),ye(at,dt?"UpdateExpression":"UnaryExpression")}for(var bt=lb();Q.postfix&&!Ws();){var at=gi(bt);at.operator=ut,at.prefix=!1,at.argument=bt,Us(bt),De(),bt=ye(at,"UpdateExpression")}return bt}function lb(){return Io($u())}function Io(at,dt){if(nr(Pu)){var bt=gi(at);return bt.object=at,bt.property=mi(!0),bt.computed=!1,Io(ye(bt,"MemberExpression"),dt)}else if(nr(Vs)){var bt=gi(at);return bt.object=at,bt.property=Br(),bt.computed=!0,yr(Bs),Io(ye(bt,"MemberExpression"),dt)}else if(!dt&&nr($n)){var bt=gi(at);return bt.callee=at,bt.arguments=Uu(Pn,!1),Io(ye(bt,"CallExpression"),dt)}else return at}function $u(){switch(Q){case ed:var At=Er();return De(),ye(At,"ThisExpression");case Kt:return mi();case Gt:case te:case Bt:var At=Er();return At.value=ut,At.raw=O.slice(K,tt),De(),ye(At,"Literal");case rd:case nd:case id:var At=Er();return At.value=Q.atomValue,At.raw=Q.keyword,De(),ye(At,"Literal");case $n:var at=rt,dt=K;De();var bt=Br();return bt.start=dt,bt.end=tt,W.locations&&(bt.loc.start=at,bt.loc.end=ft),W.ranges&&(bt.range=[dt,tt]),yr(Pn),bt;case Vs:var At=Er();return De(),At.elements=Uu(Bs,!0,!0),ye(At,"ArrayExpression");case Aa:return hb();case vn:var At=Er();return De(),Wu(At,!1);case td:return ub();default:ei()}}function ub(){var at=Er();return De(),at.callee=Io($u(),!0),nr($n)?at.arguments=Uu(Pn,!1):at.arguments=Et,ye(at,"NewExpression")}function hb(){var at=Er(),dt=!0,bt=!1;for(at.properties=[],De();!nr(Bi);){if(dt)dt=!1;else if(yr(ti),W.allowTrailingCommas&&nr(Bi))break;var At={key:wd()},re=!1,ae;if(nr(Ta)?(At.value=Br(!0),ae=At.kind="init"):W.ecmaVersion>=5&&At.key.type==="Identifier"&&(At.key.name==="get"||At.key.name==="set")?(re=bt=!0,ae=At.kind=At.key.name,At.key=wd(),Q!==$n&&ei(),At.value=Wu(Er(),!1)):ei(),At.key.type==="Identifier"&&(wt||bt))for(var ue=0;ue<at.properties.length;++ue){var Re=at.properties[ue];if(Re.key.name===At.key.name){var En=ae==Re.kind||re&&Re.kind==="init"||ae==="init"&&(Re.kind==="get"||Re.kind==="set");En&&!wt&&ae==="init"&&Re.kind==="init"&&(En=!1),En&&Ct(At.key.start,"Redefinition of property")}}at.properties.push(At)}return ye(at,"ObjectExpression")}function wd(){return Q===Gt||Q===te?$u():mi(!0)}function Wu(at,dt){Q===Kt?at.id=mi():dt?ei():at.id=null,at.params=[];var bt=!0;for(yr($n);!nr(Pn);)bt?bt=!1:yr(ti),at.params.push(mi());var At=kt,re=Vt;if(kt=!0,Vt=[],at.body=To(!0),kt=At,Vt=re,wt||at.body.body.length&&Nu(at.body.body[0]))for(var ae=at.id?-1:0;ae<at.params.length;++ae){var ue=ae<0?at.id:at.params[ae];if((ud(ue.name)||Gs(ue.name))&&Ct(ue.start,"Defining '"+ue.name+"' in strict mode"),ae>=0)for(var Re=0;Re<ae;++Re)ue.name===at.params[Re].name&&Ct(ue.start,"Argument name clash in strict mode")}return ye(at,dt?"FunctionDeclaration":"FunctionExpression")}function Uu(at,dt,bt){for(var At=[],re=!0;!nr(at);){if(re)re=!1;else if(yr(ti),dt&&W.allowTrailingCommas&&nr(at))break;bt&&Q===ti?At.push(null):At.push(Br(!0))}return At}function mi(at){var dt=Er();return at&&W.forbidReserved=="everywhere"&&(at=!1),Q===Kt?(!at&&(W.forbidReserved&&(W.ecmaVersion===3?Gx:Fx)(ut)||wt&&ud(ut))&&O.slice(K,tt).indexOf("\\")==-1&&Ct(K,"The keyword '"+ut+"' is reserved"),dt.name=ut):at&&Q.keyword?dt.name=Q.keyword:ei(),ct=!1,De(),ye(dt,"Identifier")}}),c.version||(c=null)}function x(B,W){return(l.acorn||c).parse(B,W)}var w={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},C={"-":"__negate","+":"__self"},M=a.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(B){this["__"+B]="#"+B},{__self:function(){return this}});d.inject(M),_.inject(M),jt.inject(M);function T(B,W,O){var F=w[W];if(B&&B[F]){var P=B[F](O);return W==="!="?!P:P}switch(W){case"+":return B+O;case"-":return B-O;case"*":return B*O;case"/":return B/O;case"%":return B%O;case"==":return B==O;case"!=":return B!=O}}function L(B,W){var O=C[B];if(W&&W[O])return W[O]();switch(B){case"+":return+W;case"-":return-W}}function z(B,W){if(!B)return"";W=W||{};var O=[];function F(wt){for(var Ct=0,Et=O.length;Ct<Et;Ct++){var Gt=O[Ct];if(Gt[0]>=wt)break;wt+=Gt[1]}return wt}function P(wt){return B.substring(F(wt.range[0]),F(wt.range[1]))}function G(wt,Ct){return B.substring(F(wt.range[1]),F(Ct.range[0]))}function U(wt,Ct){for(var Et=F(wt.range[0]),Gt=F(wt.range[1]),Bt=0,te=O.length-1;te>=0;te--)if(Et>O[te][0]){Bt=te+1;break}O.splice(Bt,0,[Et,Ct.length-Gt+Et]),B=B.substring(0,Et)+Ct+B.substring(Gt)}function q(wt,Ct){switch(wt.type){case"UnaryExpression":if(wt.operator in C&&wt.argument.type!=="Literal"){var Et=P(wt.argument);U(wt,'$__("'+wt.operator+'", '+Et+")")}break;case"BinaryExpression":if(wt.operator in w&&wt.left.type!=="Literal"){var Gt=P(wt.left),Bt=P(wt.right),te=G(wt.left,wt.right),Kt=wt.operator;U(wt,"__$__("+Gt+","+te.replace(new RegExp("\\"+Kt),'"'+Kt+'"')+", "+Bt+")")}break;case"UpdateExpression":case"AssignmentExpression":var le=Ct&&Ct.type;if(!(le==="ForStatement"||le==="BinaryExpression"&&/^[=!<>]/.test(Ct.operator)||le==="MemberExpression"&&Ct.computed)){if(wt.type==="UpdateExpression"){var Et=P(wt.argument),ge="__$__("+Et+', "'+wt.operator[0]+'", 1)',oe=Et+" = "+ge;wt.prefix?oe="("+oe+")":(le==="AssignmentExpression"||le==="VariableDeclarator"||le==="BinaryExpression")&&(P(Ct.left||Ct.id)===Et&&(oe=ge),oe=Et+"; "+oe),U(wt,oe)}else if(/^.=$/.test(wt.operator)&&wt.left.type!=="Literal"){var Gt=P(wt.left),Bt=P(wt.right),ge=Gt+" = __$__("+Gt+', "'+wt.operator[0]+'", '+Bt+")";U(wt,/^\(.*\)$/.test(P(wt))?"("+ge+")":ge)}}break}}function H(wt){switch(wt.type){case"ExportDefaultDeclaration":U({range:[wt.start,wt.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var Ct=wt.declaration,Et=wt.specifiers;if(Ct){var Gt=Ct.declarations;Gt&&(Gt.forEach(function(te){U(te,"module.exports."+P(te))}),U({range:[wt.start,Ct.start+Ct.kind.length]},""))}else if(Et){var Bt=Et.map(function(te){var Kt=P(te);return"module.exports."+Kt+" = "+Kt+"; "}).join("");Bt&&U(wt,Bt)}break}}function K(wt,Ct,Et){if(wt){for(var Gt in wt)if(Gt!=="range"&&Gt!=="loc"){var Bt=wt[Gt];if(Array.isArray(Bt))for(var te=0,Kt=Bt.length;te<Kt;te++)K(Bt[te],wt,Et);else Bt&&typeof Bt=="object"&&K(Bt,wt,Et)}Et.operatorOverloading!==!1&&q(wt,Ct),Et.moduleExports!==!1&&H(wt)}}function tt(wt){var Ct="",Et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(wt=(Math.abs(wt)<<1)+(wt<0?1:0);wt||!Ct;){var Gt=wt&31;wt>>=5,wt&&(Gt|=32),Ct+=Et[Gt]}return Ct}var rt=W.url||"",ft=W.sourceMaps,Q=W.paperFeatures||{},ut=W.source||B,ct=W.offset||0,pt=xe.agent,gt=pt.versionNumber,yt=!1,Tt=/\r\n|\n|\r/mg,It;if(ft&&(pt.chrome&&gt>=30||pt.webkit&&gt>=537.76||pt.firefox&&gt>=23||pt.node)){if(pt.node)ct-=2;else if(n&&rt&&!n.location.href.indexOf(rt)){var kt=i.getElementsByTagName("html")[0].innerHTML;ct=kt.substr(0,kt.indexOf(B)+1).match(Tt).length+1}yt=ct>0&&!(pt.chrome&&gt>=36||pt.safari&&gt>=600||pt.firefox&&gt>=40||pt.node);var Vt=["AA"+tt(yt?0:ct)+"A"];Vt.length=(B.match(Tt)||[]).length+1+(yt?ct:0),It={version:3,file:rt,names:[],mappings:Vt.join(";AACA"),sourceRoot:"",sources:[rt],sourcesContent:[ut]}}return(Q.operatorOverloading!==!1||Q.moduleExports!==!1)&&K(x(B,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,Q),It&&(yt&&(B=new Array(ct+1).join(`
`)+B),/^(inline|both)$/.test(ft)&&(B+=`
//# sourceMappingURL=data:application/json;base64,`+t.btoa(unescape(encodeURIComponent(JSON.stringify(It))))),B+=`
//# sourceURL=`+(rt||"paperscript")),{url:rt,source:ut,code:B,map:It}}function N(B,W,O){xe=W;var F=W.getView(),P=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(B)&&!/\bnew\s+Tool\b/.test(B)?new Tn:null,G=P?P._events:[],U=["onFrame","onResize"].concat(G),q=[],H=[],K,tt=typeof B=="object"?B:z(B,O);B=tt.code;function rt(gt,yt){for(var Tt in gt)(yt||!/^_/.test(Tt))&&new RegExp("([\\b\\s\\W]|^)"+Tt.replace(/\$/g,"\\$")+"\\b").test(B)&&(q.push(Tt),H.push(gt[Tt]))}rt({__$__:T,$__:L,paper:W,tool:P},!0),rt(W),B="var module = { exports: {} }; "+B;var ct=a.each(U,function(gt){new RegExp("\\s+"+gt+"\\b").test(B)&&(q.push(gt),this.push("module.exports."+gt+" = "+gt+";"))},[]).join(`
`);ct&&(B+=`
`+ct),B+=`
return module.exports;`;var ft=xe.agent;if(i&&(ft.chrome||ft.firefox&&ft.versionNumber<40)){var Q=i.createElement("script"),ut=i.head||i.getElementsByTagName("head")[0];ft.firefox&&(B=`
`+B),Q.appendChild(i.createTextNode("document.__paperscript__ = function("+q+") {"+B+`
}`)),ut.appendChild(Q),K=i.__paperscript__,delete i.__paperscript__,ut.removeChild(Q)}else K=Function(q,B);var ct=K&&K.apply(W,H),pt=ct||{};return a.each(G,function(gt){var yt=pt[gt];yt&&(P[gt]=yt)}),F&&(pt.onResize&&F.setOnResize(pt.onResize),F.emit("resize",{size:F.size,delta:new d}),pt.onFrame&&F.setOnFrame(pt.onFrame),F.requestUpdate()),ct}function E(B){if(/^text\/(?:x-|)paperscript$/.test(B.type)&&s.getAttribute(B,"ignore")!=="true"){var W=s.getAttribute(B,"canvas"),O=i.getElementById(W),F=B.src||B.getAttribute("data-src"),P=s.hasAttribute(B,"async"),G="data-paper-scope";if(!O)throw new Error('Unable to find canvas with id "'+W+'"');var U=s.get(O.getAttribute(G))||new s().setup(O);return O.setAttribute(G,U._id),F?Vi.request({url:F,async:P,mimeType:"text/plain",onLoad:function(q){N(q,U,F)}}):N(B.innerHTML,U,B.baseURI),B.setAttribute("data-paper-ignore","true"),U}}function k(){a.each(i&&i.getElementsByTagName("script"),E)}function $(B){return B?E(B):k()}return n&&(i.readyState==="complete"?setTimeout(k):Yt.add(n,{load:k})),{compile:z,execute:N,load:$,parse:x,calculateBinary:T,calculateUnary:L}}.call(this);var xe=new(s.inject(a.exports,{Base:a,Numerical:v,Key:er,DomEvent:Yt,DomElement:qt,document:i,window:n,Symbol:ht,PlacedSymbol:it}));return xe.agent.node&&Nm(xe),typeof e=="function"&&e.amd?e("paper",xe):r&&(r.exports=xe),xe}).call(WS,typeof self=="object"?self:null)})(Z2);var Vo=Z2.exports;const q2=fi({name:"CanvasType",components:{},props:{item:{type:Object,required:!0},showArrows:{type:Boolean,default:!1}},emits:["autoManualToggle","objectClicked","changeValue","updateWeldModel"],setup(r,{emit:t}){const e=tn(()=>{var v;return Ja.getEntryRange((v=r.item)==null?void 0:v.t3Entry)}),n=tn(()=>{var g;if(!r.item.t3Entry)return"";const v=Ja.getEntryRange(r.item.t3Entry);if(r.item.settings.t3EntryDisplayField==="value"||r.item.settings.t3EntryDisplayField==="control")if(r.item.t3Entry.value!==void 0&&r.item.t3Entry.range>100){const d=(g=v.options)==null?void 0:g.find(m=>m.value*1e3===r.item.t3Entry.value);return d==null?void 0:d.name}else{if(r.item.t3Entry.value!==void 0&&r.item.t3Entry.digital_analog===1)return r.item.t3Entry.value/1e3+" "+v.unit;if(r.item.t3Entry.control!==void 0&&r.item.t3Entry.digital_analog===0)return r.item.t3Entry.control?v.on:v.off}return r.item.t3Entry[r.item.settings.t3EntryDisplayField]||""}),i=tn(()=>{const v=r.item;return["Gauge","Dial"].includes(v.type)?v.type==="Gauge"?v.settings.colors.map(g=>[g.offset/100,g.color]):v.settings.colors.map((g,d)=>({from:d?v.settings.colors[d-1].offset:0,to:g.offset,color:[g.color]})):null});function a(v){var _,b;if(r.item.t3Entry.auto_manual===0)return;let g=!1,d=r.item.t3Entry.value;const m=Ja.getEntryRange((_=r.item)==null?void 0:_.t3Entry);if(r.item.t3Entry.value!==void 0&&r.item.t3Entry.range>100){const S=(b=m.options)==null?void 0:b.filter(A=>A.status===1),I=S.findIndex(A=>A.value*1e3===r.item.t3Entry.value);if(v==="decrease"&&I<S.length-1)d=S[I+1].value*1e3;else if(v==="increase"&&I>0)d=S[I-1].value*1e3;else return}else if(r.item.t3Entry.value!==void 0&&r.item.t3Entry.digital_analog===1)v==="increase"?d=r.item.t3Entry.value+1e3:d=r.item.t3Entry.value-1e3;else if(r.item.t3Entry.control!==void 0&&r.item.t3Entry.digital_analog===0)if(g=!0,v==="decrease"&&r.item.t3Entry.control===0)d=1;else if(v==="increase"&&r.item.t3Entry.control===1)d=0;else return;t("changeValue",r.item,d,g)}const o=Qr(null);function s(){var v;!o.value||((v=r.item)==null?void 0:v.type)==="Duct"&&o.value.refresh()}const u=(v,g)=>{t("updateWeldModel",v,g)},h=Qr(null);Vo.settings.insertItems=!1;const f=()=>{new Vo.Path.Circle({center:[80,50],radius:30,fillColor:"red"}),Vo.view.draw()};return Ni(()=>{Vo.setup(h.value),Vo.view.onResize=function(v){},f()}),{range:e,dispalyText:n,processedColors:i,changeValue:a,refresh:s,objectRef:o,updateWeldModel:u,canvas:h}}}),Vm=()=>{c1(r=>({"498fd106":r.item.width+"px",53599660:r.item.height+"px","4faa1a60":r.item.settings.titleColor,eb1d286e:r.item.settings.bgColor,"4ac3c521":r.item.settings.textColor,"7c521448":r.item.settings.fontSize+"px",f4a13884:r.item.settings.justifyContent}))},Bm=q2.setup;q2.setup=Bm?(r,t)=>(Vm(),Bm(r,t)):Vm;const tE=fi({name:"HRuler",props:{bgColor:{type:String,default:"black"},documentArea:{type:Object,default:()=>{}}},setup(r){return Ni(()=>{}),{}}}),eE=["width","height"],rE=Y("defs",null,null,-1),nE=Y("g",{transform:"scale(1,1) translate(0,0)","no-export":"1",opacity:"0"},null,-1),iE=Y("g",{transform:"scale(1,1) translate(0,0)",fill:"#000",stroke:"#000"},[Y("path",{d:"M0,20v-15M8,20v-5M16,20v-5M24,20v-5M32,20v-5M40,20v-5M48,20v-10M56,20v-5M64,20v-5M72,20v-5M80,20v-5M88,20v-5M96,20v-15M104,20v-5M112,20v-5M120,20v-5M128,20v-5M136,20v-5M144,20v-10M152,20v-5M160,20v-5M168,20v-5M176,20v-5M184,20v-5M192,20v-15M200,20v-5M208,20v-5M216,20v-5M224,20v-5M232,20v-5M240,20v-10M248,20v-5M256,20v-5M264,20v-5M272,20v-5M280,20v-5M288,20v-15M296,20v-5M304,20v-5M312,20v-5M320,20v-5M328,20v-5M336,20v-10M344,20v-5M352,20v-5M360,20v-5M368,20v-5M376,20v-5M384,20v-15M392,20v-5M400,20v-5M408,20v-5M416,20v-5M424,20v-5M432,20v-10M440,20v-5M448,20v-5M456,20v-5M464,20v-5M472,20v-5M480,20v-15M488,20v-5M496,20v-5M504,20v-5M512,20v-5M520,20v-5M528,20v-10M536,20v-5M544,20v-5M552,20v-5M560,20v-5M568,20v-5M576,20v-15M584,20v-5M592,20v-5M600,20v-5M608,20v-5M616,20v-5M624,20v-10M632,20v-5M640,20v-5M648,20v-5M656,20v-5M664,20v-5M672,20v-15M680,20v-5M688,20v-5M696,20v-5M704,20v-5M712,20v-5M720,20v-10M728,20v-5M736,20v-5M744,20v-5M752,20v-5M760,20v-5M768,20v-15M776,20v-5M784,20v-5M792,20v-5M800,20v-5M808,20v-5M816,20v-10M824,20v-5M832,20v-5M840,20v-5M848,20v-5M856,20v-5M864,20v-15M872,20v-5M880,20v-5M888,20v-5M896,20v-5M904,20v-5M912,20v-10M920,20v-5M928,20v-5M936,20v-5M944,20v-5M952,20v-5M960,20v-15M968,20v-5M976,20v-5M984,20v-5M992,20v-5M1000,20v-5M1008,20v-10M1016,20v-5M1024,20v-5M1032,20v-5M1040,20v-5M1048,20v-5M1056,20v-15M1064,20v-5M1072,20v-5M1080,20v-5M1088,20v-5M1096,20v-5M1104,20v-10M1112,20v-5M1120,20v-5M1128,20v-5M1136,20v-5M1144,20v-5M1152,20v-15M1160,20v-5M1168,20v-5M1176,20v-5M1184,20v-5M1192,20v-5M1200,20v-10M1208,20v-5M1216,20v-5M1224,20v-5M1232,20v-5M1240,20v-5M1248,20v-15M1256,20v-5M1264,20v-5M1272,20v-5M1280,20v-5M1288,20v-5M1296,20v-10M1304,20v-5M1312,20v-5M1320,20v-5M1328,20v-5M1336,20v-5M1344,20v-15M1352,20v-5M1360,20v-5M1368,20v-5M1376,20v-5M1384,20v-5M1392,20v-10M1400,20v-5M1408,20v-5M1416,20v-5M1424,20v-5M1432,20v-5M1440,20v-15M1448,20v-5M1456,20v-5M1464,20v-5M1472,20v-5M1480,20v-5M1488,20v-10M1496,20v-5M1504,20v-5M1512,20v-5M1520,20v-5M1528,20v-5M1536,20v-15M1544,20v-5M1552,20v-5M1560,20v-5M1568,20v-5M1576,20v-5M1584,20v-10M1592,20v-5M1600,20v-5M1608,20v-5M1616,20v-5M1624,20v-5M1632,20v-15M1640,20v-5M1648,20v-5M1656,20v-5M1664,20v-5M1672,20v-5M1680,20v-10M1688,20v-5M1696,20v-5M1704,20v-5M1712,20v-5M1720,20v-5M1728,20v-15M1736,20v-5M1744,20v-5M1752,20v-5M1760,20v-5M1768,20v-5M1776,20v-10M1784,20v-5M1792,20v-5M1800,20v-5M1808,20v-5M1816,20v-5M1824,20v-15M1832,20v-5M1840,20v-5M1848,20v-5M1856,20v-5M1864,20v-5M1872,20v-10M1880,20v-5M1888,20v-5M1896,20v-5M1904,20v-5M1912,20v-5M1920,20v-15M1928,20v-5M1936,20v-5M1944,20v-5M1952,20v-5M1960,20v-5M1968,20v-10M1976,20v-5M1984,20v-5M1992,20v-5M2000,20v-5M2008,20v-5M2016,20v-15M2024,20v-5M2032,20v-5M2040,20v-5M2048,20v-5M2056,20v-5M2064,20v-10M2072,20v-5M2080,20v-5M2088,20v-5M2096,20v-5M2104,20v-5M2112,20v-15M2120,20v-5M2128,20v-5M2136,20v-5M2144,20v-5M2152,20v-5M2160,20v-10M2168,20v-5M2176,20v-5M2184,20v-5M2192,20v-5M2200,20v-5M2208,20v-15M2216,20v-5M2224,20v-5M2232,20v-5M2240,20v-5M2248,20v-5M2256,20v-10M2264,20v-5M2272,20v-5M2280,20v-5M2288,20v-5M2296,20v-5M2304,20v-15M2312,20v-5M2320,20v-5M2328,20v-5M2336,20v-5M2344,20v-5M2352,20v-10M2360,20v-5M2368,20v-5M2376,20v-5M2384,20v-5M2392,20v-5M2400,20v-15M2408,20v-5M2416,20v-5M2424,20v-5M2432,20v-5M2440,20v-5M2448,20v-10M2456,20v-5M2464,20v-5M2472,20v-5M2480,20v-5M2488,20v-5M2496,20v-15M2504,20v-5M2512,20v-5M2520,20v-5M2528,20v-5M2536,20v-5M2544,20v-10M2552,20v-5M2560,20v-5M2568,20v-5M2576,20v-5M2584,20v-5M2592,20v-15M2600,20v-5M2608,20v-5M2616,20v-5M2624,20v-5M2632,20v-5M2640,20v-10M2648,20v-5M2656,20v-5M2664,20v-5M2672,20v-5M2680,20v-5M2688,20v-15M2696,20v-5M2704,20v-5M2712,20v-5M2720,20v-5M2728,20v-5M2736,20v-10M2744,20v-5M2752,20v-5M2760,20v-5M2768,20v-5M2776,20v-5M2784,20v-15M2792,20v-5M2800,20v-5M2808,20v-5M2816,20v-5M2824,20v-5M2832,20v-10M2840,20v-5M2848,20v-5M2856,20v-5M2864,20v-5M2872,20v-5M2880,20v-15M2888,20v-5M2896,20v-5M2904,20v-5M2912,20v-5M2920,20v-5M2928,20v-10M2936,20v-5M2944,20v-5M2952,20v-5M2960,20v-5M2968,20v-5M2976,20v-15M2984,20v-5M2992,20v-5M3000,20v-5M3008,20v-5M3016,20v-5M3024,20v-10M3032,20v-5M3040,20v-5M3048,20v-5M3056,20v-5M3064,20v-5M3072,20v-15M3080,20v-5M3088,20v-5M3096,20v-5M3104,20v-5M3112,20v-5M3120,20v-10M3128,20v-5M3136,20v-5M3144,20v-5M3152,20v-5M3160,20v-5M3168,20v-15M3176,20v-5M3184,20v-5M3192,20v-5M3200,20v-5M3208,20v-5M3216,20v-10M3224,20v-5M3232,20v-5M3240,20v-5M3248,20v-5M3256,20v-5M3264,20v-15M3272,20v-5M3280,20v-5M3288,20v-5M3296,20v-5M3304,20v-5M3312,20v-10M3320,20v-5M3328,20v-5M3336,20v-5M3344,20v-5M3352,20v-5M3360,20v-15M3368,20v-5M3376,20v-5M3384,20v-5M3392,20v-5M3400,20v-5M3408,20v-10M3416,20v-5M3424,20v-5M3432,20v-5M3440,20v-5M3448,20v-5M3456,20v-15M3464,20v-5M3472,20v-5M3480,20v-5M3488,20v-5M3496,20v-5M3504,20v-10M3512,20v-5M3520,20v-5M3528,20v-5M3536,20v-5M3544,20v-5M3552,20v-15M3560,20v-5M3568,20v-5M3576,20v-5M3584,20v-5M3592,20v-5M3600,20v-10M3608,20v-5M3616,20v-5M3624,20v-5M3632,20v-5M3640,20v-5M3648,20v-15M3656,20v-5M3664,20v-5M3672,20v-5M3680,20v-5M3688,20v-5M3696,20v-10M3704,20v-5M3712,20v-5M3720,20v-5M3728,20v-5M3736,20v-5M3744,20v-15M3752,20v-5M3760,20v-5M3768,20v-5M3776,20v-5M3784,20v-5M3792,20v-10M3800,20v-5M3808,20v-5M3816,20v-5M3824,20v-5M3832,20v-5M3840,20v-15M3848,20v-5M3856,20v-5M3864,20v-5M3872,20v-5M3880,20v-5M3888,20v-10M3896,20v-5M3904,20v-5M3912,20v-5M3920,20v-5M3928,20v-5",fill:"none","stroke-width":"0.5","stroke-dasharray":"none"}),Y("g",null,[Y("g",{"stroke-dasharray":"none"},[Y("path",{d:"M-0.5,19.5L0.5,19.5L0.5,20.5L-0.5,20.5z","stroke-width":"0",fill:"none"})])])],-1),aE=Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(2,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),Y("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"0")]),Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),oE=Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(98,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),Y("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"4")]),Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),sE=Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(194,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),Y("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"8")]),Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),lE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(290,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"12")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),uE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(386,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"16")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),hE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(482,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"20")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),fE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(578,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"24")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),cE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(674,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"28")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),vE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(770,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"32")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),dE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(866,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"36")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),pE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(962,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"40")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),gE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1058,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"44")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),mE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1154,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"48")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),yE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1250,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"52")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),_E=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1346,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"56")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),xE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1442,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"60")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),bE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1538,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"64")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),wE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1634,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"68")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),SE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1730,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"72")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),ME=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1826,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"76")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),CE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1922,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"80")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),AE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(2018,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"84")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),TE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(2114,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"88")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),IE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(2210,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"92")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),LE=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(2306,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"96")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),DE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(2402,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"100")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),PE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(2498,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"104")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),kE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(2594,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"108")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),EE=Y("g",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(2690,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"14.633333206176758",height:"11.199999809265137"}),Y("text",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"14.633333206176758"},"112")]),Y("g",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),RE=Y("g",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(2786,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"14.633333206176758",height:"11.199999809265137"}),Y("text",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"14.633333206176758"},"116")]),Y("g",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),zE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(2882,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"120")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),OE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(2978,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"124")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),NE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3074,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"128")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),VE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3170,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"132")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),BE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3266,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"136")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),GE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3362,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"140")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),FE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3458,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"144")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),HE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3554,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"148")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),$E=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3650,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"152")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),WE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3746,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"156")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),UE=Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3842,1)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),Y("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"160")]),Y("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),ZE=[rE,nE,iE,aE,oE,sE,lE,uE,hE,fE,cE,vE,dE,pE,gE,mE,yE,_E,xE,bE,wE,SE,ME,CE,AE,TE,IE,LE,DE,PE,kE,EE,RE,zE,OE,NE,VE,BE,GE,FE,HE,$E,WE,UE];function qE(r,t,e,n,i,a){return Rt(),Ke("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/1999/xlink",style:{position:"relative",overflow:"hidden"},width:r.documentArea.hRuler.width,height:r.documentArea.hRuler.height},ZE,8,eE)}var HN=wa(tE,[["render",qE]]);const YE=fi({name:"VRuler",props:{bgColor:{type:String,default:"black"},documentArea:{type:Object,default:()=>{}}},setup(r){return Ni(()=>{}),{}}}),XE=["width","height"],jE=Y("defs",null,null,-1),KE=Y("g",{transform:"scale(1,1) translate(0,0)","no-export":"1",opacity:"0"},null,-1),JE=Y("g",{transform:"scale(1,1) translate(0,0)",fill:"#000",stroke:"#000"},[Y("path",{d:"M20,0h-15M20,8h-5M20,16h-5M20,24h-5M20,32h-5M20,40h-5M20,48h-10M20,56h-5M20,64h-5M20,72h-5M20,80h-5M20,88h-5M20,96h-15M20,104h-5M20,112h-5M20,120h-5M20,128h-5M20,136h-5M20,144h-10M20,152h-5M20,160h-5M20,168h-5M20,176h-5M20,184h-5M20,192h-15M20,200h-5M20,208h-5M20,216h-5M20,224h-5M20,232h-5M20,240h-10M20,248h-5M20,256h-5M20,264h-5M20,272h-5M20,280h-5M20,288h-15M20,296h-5M20,304h-5M20,312h-5M20,320h-5M20,328h-5M20,336h-10M20,344h-5M20,352h-5M20,360h-5M20,368h-5M20,376h-5M20,384h-15M20,392h-5M20,400h-5M20,408h-5M20,416h-5M20,424h-5M20,432h-10M20,440h-5M20,448h-5M20,456h-5M20,464h-5M20,472h-5M20,480h-15M20,488h-5M20,496h-5M20,504h-5M20,512h-5M20,520h-5M20,528h-10M20,536h-5M20,544h-5M20,552h-5M20,560h-5M20,568h-5M20,576h-15M20,584h-5M20,592h-5M20,600h-5M20,608h-5M20,616h-5M20,624h-10M20,632h-5M20,640h-5M20,648h-5M20,656h-5M20,664h-5M20,672h-15M20,680h-5M20,688h-5M20,696h-5M20,704h-5M20,712h-5M20,720h-10M20,728h-5M20,736h-5M20,744h-5M20,752h-5M20,760h-5M20,768h-15M20,776h-5M20,784h-5M20,792h-5M20,800h-5M20,808h-5M20,816h-10M20,824h-5M20,832h-5M20,840h-5M20,848h-5M20,856h-5M20,864h-15M20,872h-5M20,880h-5M20,888h-5M20,896h-5M20,904h-5M20,912h-10M20,920h-5M20,928h-5M20,936h-5M20,944h-5M20,952h-5M20,960h-15M20,968h-5M20,976h-5M20,984h-5M20,992h-5M20,1000h-5M20,1008h-10M20,1016h-5M20,1024h-5M20,1032h-5M20,1040h-5M20,1048h-5M20,1056h-15M20,1064h-5M20,1072h-5M20,1080h-5M20,1088h-5M20,1096h-5M20,1104h-10M20,1112h-5M20,1120h-5M20,1128h-5M20,1136h-5M20,1144h-5M20,1152h-15M20,1160h-5M20,1168h-5M20,1176h-5M20,1184h-5M20,1192h-5M20,1200h-10M20,1208h-5M20,1216h-5M20,1224h-5M20,1232h-5M20,1240h-5M20,1248h-15M20,1256h-5M20,1264h-5M20,1272h-5M20,1280h-5M20,1288h-5M20,1296h-10M20,1304h-5M20,1312h-5M20,1320h-5M20,1328h-5M20,1336h-5M20,1344h-15M20,1352h-5M20,1360h-5M20,1368h-5M20,1376h-5M20,1384h-5M20,1392h-10M20,1400h-5M20,1408h-5M20,1416h-5M20,1424h-5M20,1432h-5M20,1440h-15M20,1448h-5M20,1456h-5M20,1464h-5M20,1472h-5M20,1480h-5M20,1488h-10M20,1496h-5M20,1504h-5M20,1512h-5M20,1520h-5M20,1528h-5",fill:"none","stroke-width":"0.5","stroke-dasharray":"none"}),Y("g",null,[Y("g",{"stroke-dasharray":"none"},[Y("path",{d:"M19.5,-0.5L20.5,-0.5L20.5,0.5L19.5,0.5z","stroke-width":"0",fill:"none"})])])],-1),QE=Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(3,2)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),Y("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"0")]),Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),tR=Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(3,98)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),Y("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"2")]),Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),eR=Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(3,194)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),Y("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"4")]),Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),rR=Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(3,290)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),Y("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"6")]),Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),nR=Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(3,386)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),Y("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"8")]),Y("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),iR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,482)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"10")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),aR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,578)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"12")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),oR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,674)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"14")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),sR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,770)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"16")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),lR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,866)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"18")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),uR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,962)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"20")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),hR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,1058)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"22")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),fR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,1154)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"24")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),cR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,1250)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"26")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),vR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,1346)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"28")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),dR=Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,1442)"},[Y("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),Y("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[Y("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"30")]),Y("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),pR=[jE,KE,JE,QE,tR,eR,rR,nR,iR,aR,oR,sR,lR,uR,hR,fR,cR,vR,dR];function gR(r,t,e,n,i,a){return Rt(),Ke("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/1999/xlink",style:{position:"relative",overflow:"hidden"},width:r.documentArea.vRuler.width,height:r.documentArea.vRuler.height},pR,8,XE)}var $N=wa(YE,[["render",gR]]);const mR=fi({name:"HVGrid",props:{bgColor:{type:String,default:"black"},documentArea:{type:Object,default:()=>{}}},setup(r){return Ni(()=>{}),{}}}),yR=["width","height"],_R=Y("defs",null,null,-1),xR=Y("g",{transform:"scale(0.96,0.96) translate(0,0)","no-export":"1",opacity:"0"},null,-1),bR=Y("g",{transform:"scale(0.96,0.96) translate(0,0)","hvac-background":"1"},[Y("g",{transform:"scale(1,1) translate(0,0)","stroke-width":"0","stroke-dasharray":"none",stroke:"none",fill:"none","no-export":"1",width:"1000",height:"750"},[Y("rect",{width:"1000",height:"750"})])],-1),wR=Y("g",{transform:"scale(1,1) translate(0,0)","no-export":"1","hvac-grid":"1",style:{},"pointer-events":"none"},[Y("g",{transform:"scale(1,1) translate(0,0)",fill:"#000",stroke:"#000","stroke-opacity":".2"},[Y("path",{d:"M-1048,-768v2256M-1040,-768v2256M-1032,-768v2256M-1024,-768v2256M-1016,-768v2256M-1008,-768v2256M-1000,-768v2256M-992,-768v2256M-984,-768v2256M-976,-768v2256M-968,-768v2256M-952,-768v2256M-944,-768v2256M-936,-768v2256M-928,-768v2256M-920,-768v2256M-912,-768v2256M-904,-768v2256M-896,-768v2256M-888,-768v2256M-880,-768v2256M-872,-768v2256M-856,-768v2256M-848,-768v2256M-840,-768v2256M-832,-768v2256M-824,-768v2256M-816,-768v2256M-808,-768v2256M-800,-768v2256M-792,-768v2256M-784,-768v2256M-776,-768v2256M-760,-768v2256M-752,-768v2256M-744,-768v2256M-736,-768v2256M-728,-768v2256M-720,-768v2256M-712,-768v2256M-704,-768v2256M-696,-768v2256M-688,-768v2256M-680,-768v2256M-664,-768v2256M-656,-768v2256M-648,-768v2256M-640,-768v2256M-632,-768v2256M-624,-768v2256M-616,-768v2256M-608,-768v2256M-600,-768v2256M-592,-768v2256M-584,-768v2256M-568,-768v2256M-560,-768v2256M-552,-768v2256M-544,-768v2256M-536,-768v2256M-528,-768v2256M-520,-768v2256M-512,-768v2256M-504,-768v2256M-496,-768v2256M-488,-768v2256M-472,-768v2256M-464,-768v2256M-456,-768v2256M-448,-768v2256M-440,-768v2256M-432,-768v2256M-424,-768v2256M-416,-768v2256M-408,-768v2256M-400,-768v2256M-392,-768v2256M-376,-768v2256M-368,-768v2256M-360,-768v2256M-352,-768v2256M-344,-768v2256M-336,-768v2256M-328,-768v2256M-320,-768v2256M-312,-768v2256M-304,-768v2256M-296,-768v2256M-280,-768v2256M-272,-768v2256M-264,-768v2256M-256,-768v2256M-248,-768v2256M-240,-768v2256M-232,-768v2256M-224,-768v2256M-216,-768v2256M-208,-768v2256M-200,-768v2256M-184,-768v2256M-176,-768v2256M-168,-768v2256M-160,-768v2256M-152,-768v2256M-144,-768v2256M-136,-768v2256M-128,-768v2256M-120,-768v2256M-112,-768v2256M-104,-768v2256M-88,-768v2256M-80,-768v2256M-72,-768v2256M-64,-768v2256M-56,-768v2256M-48,-768v2256M-40,-768v2256M-32,-768v2256M-24,-768v2256M-16,-768v2256M-8,-768v2256M8,-768v2256M16,-768v2256M24,-768v2256M32,-768v2256M40,-768v2256M48,-768v2256M56,-768v2256M64,-768v2256M72,-768v2256M80,-768v2256M88,-768v2256M104,-768v2256M112,-768v2256M120,-768v2256M128,-768v2256M136,-768v2256M144,-768v2256M152,-768v2256M160,-768v2256M168,-768v2256M176,-768v2256M184,-768v2256M200,-768v2256M208,-768v2256M216,-768v2256M224,-768v2256M232,-768v2256M240,-768v2256M248,-768v2256M256,-768v2256M264,-768v2256M272,-768v2256M280,-768v2256M296,-768v2256M304,-768v2256M312,-768v2256M320,-768v2256M328,-768v2256M336,-768v2256M344,-768v2256M352,-768v2256M360,-768v2256M368,-768v2256M376,-768v2256M392,-768v2256M400,-768v2256M408,-768v2256M416,-768v2256M424,-768v2256M432,-768v2256M440,-768v2256M448,-768v2256M456,-768v2256M464,-768v2256M472,-768v2256M488,-768v2256M496,-768v2256M504,-768v2256M512,-768v2256M520,-768v2256M528,-768v2256M536,-768v2256M544,-768v2256M552,-768v2256M560,-768v2256M568,-768v2256M584,-768v2256M592,-768v2256M600,-768v2256M608,-768v2256M616,-768v2256M624,-768v2256M632,-768v2256M640,-768v2256M648,-768v2256M656,-768v2256M664,-768v2256M680,-768v2256M688,-768v2256M696,-768v2256M704,-768v2256M712,-768v2256M720,-768v2256M728,-768v2256M736,-768v2256M744,-768v2256M752,-768v2256M760,-768v2256M776,-768v2256M784,-768v2256M792,-768v2256M800,-768v2256M808,-768v2256M816,-768v2256M824,-768v2256M832,-768v2256M840,-768v2256M848,-768v2256M856,-768v2256M872,-768v2256M880,-768v2256M888,-768v2256M896,-768v2256M904,-768v2256M912,-768v2256M920,-768v2256M928,-768v2256M936,-768v2256M944,-768v2256M952,-768v2256M968,-768v2256M976,-768v2256M984,-768v2256M992,-768v2256M1000,-768v2256M1008,-768v2256M1016,-768v2256M1024,-768v2256M1032,-768v2256M1040,-768v2256M1048,-768v2256M1064,-768v2256M1072,-768v2256M1080,-768v2256M1088,-768v2256M1096,-768v2256M1104,-768v2256M1112,-768v2256M1120,-768v2256M1128,-768v2256M1136,-768v2256M1144,-768v2256M1160,-768v2256M1168,-768v2256M1176,-768v2256M1184,-768v2256M1192,-768v2256M1200,-768v2256M1208,-768v2256M1216,-768v2256M1224,-768v2256M1232,-768v2256M1240,-768v2256M1256,-768v2256M1264,-768v2256M1272,-768v2256M1280,-768v2256M1288,-768v2256M1296,-768v2256M1304,-768v2256M1312,-768v2256M1320,-768v2256M1328,-768v2256M1336,-768v2256M1352,-768v2256M1360,-768v2256M1368,-768v2256M1376,-768v2256M1384,-768v2256M1392,-768v2256M1400,-768v2256M1408,-768v2256M1416,-768v2256M1424,-768v2256M1432,-768v2256M1448,-768v2256M1456,-768v2256M1464,-768v2256M1472,-768v2256M1480,-768v2256M1488,-768v2256M1496,-768v2256M1504,-768v2256M1512,-768v2256M1520,-768v2256M1528,-768v2256M1544,-768v2256M1552,-768v2256M1560,-768v2256M1568,-768v2256M1576,-768v2256M1584,-768v2256M1592,-768v2256M1600,-768v2256M1608,-768v2256M1616,-768v2256M1624,-768v2256M1640,-768v2256M1648,-768v2256M1656,-768v2256M1664,-768v2256M1672,-768v2256M1680,-768v2256M1688,-768v2256M1696,-768v2256M1704,-768v2256M1712,-768v2256M1720,-768v2256M1736,-768v2256M1744,-768v2256M1752,-768v2256M1760,-768v2256M1768,-768v2256M1776,-768v2256M1784,-768v2256M1792,-768v2256M1800,-768v2256M1808,-768v2256M1816,-768v2256M1832,-768v2256M1840,-768v2256M1848,-768v2256M1856,-768v2256M1864,-768v2256M1872,-768v2256M1880,-768v2256M1888,-768v2256M1896,-768v2256M1904,-768v2256M1912,-768v2256M1928,-768v2256M1936,-768v2256M1944,-768v2256M1952,-768v2256M1960,-768v2256M1968,-768v2256M-1008,-760h2976M-1008,-752h2976M-1008,-744h2976M-1008,-736h2976M-1008,-728h2976M-1008,-720h2976M-1008,-712h2976M-1008,-704h2976M-1008,-696h2976M-1008,-688h2976M-1008,-680h2976M-1008,-664h2976M-1008,-656h2976M-1008,-648h2976M-1008,-640h2976M-1008,-632h2976M-1008,-624h2976M-1008,-616h2976M-1008,-608h2976M-1008,-600h2976M-1008,-592h2976M-1008,-584h2976M-1008,-568h2976M-1008,-560h2976M-1008,-552h2976M-1008,-544h2976M-1008,-536h2976M-1008,-528h2976M-1008,-520h2976M-1008,-512h2976M-1008,-504h2976M-1008,-496h2976M-1008,-488h2976M-1008,-472h2976M-1008,-464h2976M-1008,-456h2976M-1008,-448h2976M-1008,-440h2976M-1008,-432h2976M-1008,-424h2976M-1008,-416h2976M-1008,-408h2976M-1008,-400h2976M-1008,-392h2976M-1008,-376h2976M-1008,-368h2976M-1008,-360h2976M-1008,-352h2976M-1008,-344h2976M-1008,-336h2976M-1008,-328h2976M-1008,-320h2976M-1008,-312h2976M-1008,-304h2976M-1008,-296h2976M-1008,-280h2976M-1008,-272h2976M-1008,-264h2976M-1008,-256h2976M-1008,-248h2976M-1008,-240h2976M-1008,-232h2976M-1008,-224h2976M-1008,-216h2976M-1008,-208h2976M-1008,-200h2976M-1008,-184h2976M-1008,-176h2976M-1008,-168h2976M-1008,-160h2976M-1008,-152h2976M-1008,-144h2976M-1008,-136h2976M-1008,-128h2976M-1008,-120h2976M-1008,-112h2976M-1008,-104h2976M-1008,-88h2976M-1008,-80h2976M-1008,-72h2976M-1008,-64h2976M-1008,-56h2976M-1008,-48h2976M-1008,-40h2976M-1008,-32h2976M-1008,-24h2976M-1008,-16h2976M-1008,-8h2976M-1008,8h2976M-1008,16h2976M-1008,24h2976M-1008,32h2976M-1008,40h2976M-1008,48h2976M-1008,56h2976M-1008,64h2976M-1008,72h2976M-1008,80h2976M-1008,88h2976M-1008,104h2976M-1008,112h2976M-1008,120h2976M-1008,128h2976M-1008,136h2976M-1008,144h2976M-1008,152h2976M-1008,160h2976M-1008,168h2976M-1008,176h2976M-1008,184h2976M-1008,200h2976M-1008,208h2976M-1008,216h2976M-1008,224h2976M-1008,232h2976M-1008,240h2976M-1008,248h2976M-1008,256h2976M-1008,264h2976M-1008,272h2976M-1008,280h2976M-1008,296h2976M-1008,304h2976M-1008,312h2976M-1008,320h2976M-1008,328h2976M-1008,336h2976M-1008,344h2976M-1008,352h2976M-1008,360h2976M-1008,368h2976M-1008,376h2976M-1008,392h2976M-1008,400h2976M-1008,408h2976M-1008,416h2976M-1008,424h2976M-1008,432h2976M-1008,440h2976M-1008,448h2976M-1008,456h2976M-1008,464h2976M-1008,472h2976M-1008,488h2976M-1008,496h2976M-1008,504h2976M-1008,512h2976M-1008,520h2976M-1008,528h2976M-1008,536h2976M-1008,544h2976M-1008,552h2976M-1008,560h2976M-1008,568h2976M-1008,584h2976M-1008,592h2976M-1008,600h2976M-1008,608h2976M-1008,616h2976M-1008,624h2976M-1008,632h2976M-1008,640h2976M-1008,648h2976M-1008,656h2976M-1008,664h2976M-1008,680h2976M-1008,688h2976M-1008,696h2976M-1008,704h2976M-1008,712h2976M-1008,720h2976M-1008,728h2976M-1008,736h2976M-1008,744h2976M-1008,752h2976M-1008,760h2976M-1008,776h2976M-1008,784h2976M-1008,792h2976M-1008,800h2976M-1008,808h2976M-1008,816h2976M-1008,824h2976M-1008,832h2976M-1008,840h2976M-1008,848h2976M-1008,856h2976M-1008,872h2976M-1008,880h2976M-1008,888h2976M-1008,896h2976M-1008,904h2976M-1008,912h2976M-1008,920h2976M-1008,928h2976M-1008,936h2976M-1008,944h2976M-1008,952h2976M-1008,968h2976M-1008,976h2976M-1008,984h2976M-1008,992h2976M-1008,1000h2976M-1008,1008h2976M-1008,1016h2976M-1008,1024h2976M-1008,1032h2976M-1008,1040h2976M-1008,1048h2976M-1008,1064h2976M-1008,1072h2976M-1008,1080h2976M-1008,1088h2976M-1008,1096h2976M-1008,1104h2976M-1008,1112h2976M-1008,1120h2976M-1008,1128h2976M-1008,1136h2976M-1008,1144h2976M-1008,1160h2976M-1008,1168h2976M-1008,1176h2976M-1008,1184h2976M-1008,1192h2976M-1008,1200h2976M-1008,1208h2976M-1008,1216h2976M-1008,1224h2976M-1008,1232h2976M-1008,1240h2976M-1008,1256h2976M-1008,1264h2976M-1008,1272h2976M-1008,1280h2976M-1008,1288h2976M-1008,1296h2976M-1008,1304h2976M-1008,1312h2976M-1008,1320h2976M-1008,1328h2976M-1008,1336h2976M-1008,1352h2976M-1008,1360h2976M-1008,1368h2976M-1008,1376h2976M-1008,1384h2976M-1008,1392h2976M-1008,1400h2976M-1008,1408h2976M-1008,1416h2976M-1008,1424h2976M-1008,1432h2976M-1008,1448h2976M-1008,1456h2976M-1008,1464h2976M-1008,1472h2976M-1008,1480h2976M-1008,1488h2976",fill:"none","stroke-width":"0.5","stroke-dasharray":"none"}),Y("g",null,[Y("g",{"stroke-dasharray":"none"},[Y("path",{d:"M-1048.5,-768.5L-1047.5,-768.5L-1047.5,-767.5L-1048.5,-767.5z","stroke-width":"0",fill:"none"})])])]),Y("g",{transform:"scale(1,1) translate(0,0)",fill:"#000",stroke:"#000","stroke-opacity":".4"},[Y("path",{d:"M-1056,-768v2256M-960,-768v2256M-864,-768v2256M-768,-768v2256M-672,-768v2256M-576,-768v2256M-480,-768v2256M-384,-768v2256M-288,-768v2256M-192,-768v2256M-96,-768v2256M0,-768v2256M96,-768v2256M192,-768v2256M288,-768v2256M384,-768v2256M480,-768v2256M576,-768v2256M672,-768v2256M768,-768v2256M864,-768v2256M960,-768v2256M1056,-768v2256M1152,-768v2256M1248,-768v2256M1344,-768v2256M1440,-768v2256M1536,-768v2256M1632,-768v2256M1728,-768v2256M1824,-768v2256M1920,-768v2256M-1008,-768h2976M-1008,-672h2976M-1008,-576h2976M-1008,-480h2976M-1008,-384h2976M-1008,-288h2976M-1008,-192h2976M-1008,-96h2976M-1008,0h2976M-1008,96h2976M-1008,192h2976M-1008,288h2976M-1008,384h2976M-1008,480h2976M-1008,576h2976M-1008,672h2976M-1008,768h2976M-1008,864h2976M-1008,960h2976M-1008,1056h2976M-1008,1152h2976M-1008,1248h2976M-1008,1344h2976M-1008,1440h2976",fill:"none","stroke-width":"0.5","stroke-dasharray":"none"}),Y("g",null,[Y("g",{"stroke-dasharray":"none"},[Y("path",{d:"M-1056.5,-768.5L-1055.5,-768.5L-1055.5,-767.5L-1056.5,-767.5z","stroke-width":"0",fill:"none"})])])])],-1),SR=Y("g",{transform:"scale(1,1) translate(0,0)","no-export":"1",style:{display:"none"}},[Y("g",{transform:"scale(1,1) translate(0,0)",fill:"#000088",stroke:"#000088","stroke-opacity":".6"},[Y("path",{d:"M0,0",fill:"none","stroke-dasharray":"5,2","stroke-width":"0.5"}),Y("g")])],-1),MR=Y("g",{transform:"scale(0.96,0.96) translate(0,0)"},null,-1),CR=Y("g",{transform:"scale(0.96,0.96) translate(0,0)","no-export":"1"},null,-1),AR=Y("g",{transform:"scale(0.96,0.96) translate(0,0)","no-export":"1"},null,-1),TR=Y("g",{transform:"scale(0.96,0.96) translate(0,0)","no-export":"1"},null,-1),IR=[_R,xR,bR,wR,SR,MR,CR,AR,TR];function LR(r,t,e,n,i,a){return Rt(),Ke("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/1999/xlink",style:{position:"relative",overflow:"hidden"},width:r.documentArea.hvGrid.width,height:r.documentArea.hvGrid.height},IR,8,yR)}var WN=wa(mR,[["render",LR]]),Un=ou.CMD;function Ya(r,t){return Math.abs(r-t)<1e-5}function lc(r){var t=r.data,e=r.len(),n=[],i,a=0,o=0,s=0,u=0;function h(vt,st){i&&i.length>2&&n.push(i),i=[vt,st]}function f(vt,st,mt,lt){Ya(vt,mt)&&Ya(st,lt)||i.push(vt,st,mt,lt,mt,lt)}function v(vt,st,mt,lt,Mt,xt){var St=Math.abs(st-vt),Pt=Math.tan(St/4)*4/3,Nt=st<vt?-1:1,ne=Math.cos(vt),Qt=Math.sin(vt),ie=Math.cos(st),jt=Math.sin(st),be=ne*Mt+mt,he=Qt*xt+lt,Ut=ie*Mt+mt,qt=jt*xt+lt,Yt=Mt*Pt*Nt,Xt=xt*Pt*Nt;i.push(be-Yt*Qt,he+Xt*ne,Ut+Yt*jt,qt-Xt*ie,Ut,qt)}for(var g,d,m,_,b=0;b<e;){var S=t[b++],I=b===1;switch(I&&(a=t[b],o=t[b+1],s=a,u=o,(S===Un.L||S===Un.C||S===Un.Q)&&(i=[s,u])),S){case Un.M:a=s=t[b++],o=u=t[b++],h(s,u);break;case Un.L:g=t[b++],d=t[b++],f(a,o,g,d),a=g,o=d;break;case Un.C:i.push(t[b++],t[b++],t[b++],t[b++],a=t[b++],o=t[b++]);break;case Un.Q:g=t[b++],d=t[b++],m=t[b++],_=t[b++],i.push(a+2/3*(g-a),o+2/3*(d-o),m+2/3*(g-m),_+2/3*(d-_),m,_),a=m,o=_;break;case Un.A:var A=t[b++],D=t[b++],V=t[b++],R=t[b++],Z=t[b++],j=t[b++]+Z;b+=1;var X=!t[b++];g=Math.cos(Z)*V+A,d=Math.sin(Z)*R+D,I?(s=g,u=d,h(s,u)):f(a,o,g,d),a=Math.cos(j)*V+A,o=Math.sin(j)*R+D;for(var et=(X?-1:1)*Math.PI/2,it=Z;X?it>j:it<j;it+=et){var ht=X?Math.max(it+et,j):Math.min(it+et,j);v(it,ht,A,D,V,R)}break;case Un.R:s=a=t[b++],u=o=t[b++],g=s+t[b++],d=u+t[b++],h(g,u),f(g,u,g,d),f(g,d,s,d),f(s,d,s,u),f(s,u,g,u);break;case Un.Z:i&&f(a,o,s,u),a=s,o=u;break}}return i&&i.length>2&&n.push(i),n}function uc(r,t,e,n,i,a,o,s,u,h){if(Ya(r,e)&&Ya(t,n)&&Ya(i,o)&&Ya(a,s)){u.push(o,s);return}var f=2/h,v=f*f,g=o-r,d=s-t,m=Math.sqrt(g*g+d*d);g/=m,d/=m;var _=e-r,b=n-t,S=i-o,I=a-s,A=_*_+b*b,D=S*S+I*I;if(A<v&&D<v){u.push(o,s);return}var V=g*_+d*b,R=-g*S-d*I,Z=A-V*V,j=D-R*R;if(Z<v&&V>=0&&j<v&&R>=0){u.push(o,s);return}var X=[],et=[];Dl(r,e,i,o,.5,X),Dl(t,n,a,s,.5,et),uc(X[0],et[0],X[1],et[1],X[2],et[2],X[3],et[3],u,h),uc(X[4],et[4],X[5],et[5],X[6],et[6],X[7],et[7],u,h)}function DR(r,t){var e=lc(r),n=[];t=t||1;for(var i=0;i<e.length;i++){var a=e[i],o=[],s=a[0],u=a[1];o.push(s,u);for(var h=2;h<a.length;){var f=a[h++],v=a[h++],g=a[h++],d=a[h++],m=a[h++],_=a[h++];uc(s,u,f,v,g,d,m,_,o,t),s=m,u=_}n.push(o)}return n}function Y2(r,t,e){var n=r[t],i=r[1-t],a=Math.abs(n/i),o=Math.ceil(Math.sqrt(a*e)),s=Math.floor(e/o);s===0&&(s=1,o=e);for(var u=[],h=0;h<o;h++)u.push(s);var f=o*s,v=e-f;if(v>0)for(var h=0;h<v;h++)u[h%o]+=1;return u}function Gm(r,t,e){for(var n=r.r0,i=r.r,a=r.startAngle,o=r.endAngle,s=Math.abs(o-a),u=s*i,h=i-n,f=u>Math.abs(h),v=Y2([u,h],f?0:1,t),g=(f?s:h)/v.length,d=0;d<v.length;d++)for(var m=(f?h:s)/v[d],_=0;_<v[d];_++){var b={};f?(b.startAngle=a+g*d,b.endAngle=a+g*(d+1),b.r0=n+m*_,b.r=n+m*(_+1)):(b.startAngle=a+m*_,b.endAngle=a+m*(_+1),b.r0=n+g*d,b.r=n+g*(d+1)),b.clockwise=r.clockwise,b.cx=r.cx,b.cy=r.cy,e.push(b)}}function PR(r,t,e){for(var n=r.width,i=r.height,a=n>i,o=Y2([n,i],a?0:1,t),s=a?"width":"height",u=a?"height":"width",h=a?"x":"y",f=a?"y":"x",v=r[s]/o.length,g=0;g<o.length;g++)for(var d=r[u]/o[g],m=0;m<o[g];m++){var _={};_[h]=g*v,_[f]=m*d,_[s]=v,_[u]=d,_.x+=r.x,_.y+=r.y,e.push(_)}}function Fm(r,t,e,n){return r*n-e*t}function kR(r,t,e,n,i,a,o,s){var u=e-r,h=n-t,f=o-i,v=s-a,g=Fm(f,v,u,h);if(Math.abs(g)<1e-6)return null;var d=r-i,m=t-a,_=Fm(d,m,f,v)/g;return _<0||_>1?null:new We(_*u+r,_*h+t)}function ER(r,t,e){var n=new We;We.sub(n,e,t),n.normalize();var i=new We;We.sub(i,r,t);var a=i.dot(n);return a}function Ba(r,t){var e=r[r.length-1];e&&e[0]===t[0]&&e[1]===t[1]||r.push(t)}function RR(r,t,e){for(var n=r.length,i=[],a=0;a<n;a++){var o=r[a],s=r[(a+1)%n],u=kR(o[0],o[1],s[0],s[1],t.x,t.y,e.x,e.y);u&&i.push({projPt:ER(u,t,e),pt:u,idx:a})}if(i.length<2)return[{points:r},{points:r}];i.sort(function(b,S){return b.projPt-S.projPt});var h=i[0],f=i[i.length-1];if(f.idx<h.idx){var v=h;h=f,f=v}for(var g=[h.pt.x,h.pt.y],d=[f.pt.x,f.pt.y],m=[g],_=[d],a=h.idx+1;a<=f.idx;a++)Ba(m,r[a].slice());Ba(m,d),Ba(m,g);for(var a=f.idx+1;a<=h.idx+n;a++)Ba(_,r[a%n].slice());return Ba(_,g),Ba(_,d),[{points:m},{points:_}]}function Hm(r){var t=r.points,e=[],n=[];du(t,e,n);var i=new Je(e[0],e[1],n[0]-e[0],n[1]-e[1]),a=i.width,o=i.height,s=i.x,u=i.y,h=new We,f=new We;return a>o?(h.x=f.x=s+a/2,h.y=u,f.y=u+o):(h.y=f.y=u+o/2,h.x=s,f.x=s+a),RR(t,h,f)}function Xl(r,t,e,n){if(e===1)n.push(t);else{var i=Math.floor(e/2),a=r(t);Xl(r,a[0],i,n),Xl(r,a[1],e-i,n)}return n}function zR(r,t){for(var e=[],n=0;n<t;n++)e.push(zc(r));return e}function OR(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function NR(r){for(var t=[],e=0;e<r.length;)t.push([r[e++],r[e++]]);return t}function VR(r,t){var e=[],n=r.shape,i;switch(r.type){case"rect":PR(n,t,e),i=Ue;break;case"sector":Gm(n,t,e),i=Kn;break;case"circle":Gm({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,e),i=Kn;break;default:var a=r.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=Lt(DR(r.getUpdatedPathProxy(),o),function(S){return NR(S)}),u=s.length;if(u===0)Xl(Hm,{points:s[0]},t,e);else if(u===t)for(var h=0;h<u;h++)e.push({points:s[h]});else{var f=0,v=Lt(s,function(S){var I=[],A=[];du(S,I,A);var D=(A[1]-I[1])*(A[0]-I[0]);return f+=D,{poly:S,area:D}});v.sort(function(S,I){return I.area-S.area});for(var g=t,h=0;h<u;h++){var d=v[h];if(g<=0)break;var m=h===u-1?g:Math.ceil(d.area/f*t);m<0||(Xl(Hm,{points:d.poly},m,e),g-=m)}}i=Mn;break}if(!i)return zR(r,t);for(var _=[],h=0;h<e.length;h++){var b=new i;b.setShape(e[h]),OR(r,b),_.push(b)}return _}function BR(r,t){var e=r.length,n=t.length;if(e===n)return[r,t];for(var i=[],a=[],o=e<n?r:t,s=Math.min(e,n),u=Math.abs(n-e)/6,h=(s-2)/6,f=Math.ceil(u/h)+1,v=[o[0],o[1]],g=u,d=2;d<s;){var m=o[d-2],_=o[d-1],b=o[d++],S=o[d++],I=o[d++],A=o[d++],D=o[d++],V=o[d++];if(g<=0){v.push(b,S,I,A,D,V);continue}for(var R=Math.min(g,f-1)+1,Z=1;Z<=R;Z++){var j=Z/R;Dl(m,b,I,D,j,i),Dl(_,S,A,V,j,a),m=i[3],_=a[3],v.push(i[1],a[1],i[2],a[2],m,_),b=i[5],S=a[5],I=i[6],A=a[6]}g-=R-1}return o===r?[v,t]:[r,v]}function $m(r,t){for(var e=r.length,n=r[e-2],i=r[e-1],a=[],o=0;o<t.length;)a[o++]=n,a[o++]=i;return a}function GR(r,t){for(var e,n,i,a=[],o=[],s=0;s<Math.max(r.length,t.length);s++){var u=r[s],h=t[s],f=void 0,v=void 0;u?h?(e=BR(u,h),f=e[0],v=e[1],n=f,i=v):(v=$m(i||u,u),f=u):(f=$m(n||h,h),v=h),a.push(f),o.push(v)}return[a,o]}function Wm(r){for(var t=0,e=0,n=0,i=r.length,a=0,o=i-2;a<i;o=a,a+=2){var s=r[o],u=r[o+1],h=r[a],f=r[a+1],v=s*f-h*u;t+=v,e+=(s+h)*v,n+=(u+f)*v}return t===0?[r[0]||0,r[1]||0]:[e/t/3,n/t/3,t]}function FR(r,t,e,n){for(var i=(r.length-2)/6,a=1/0,o=0,s=r.length,u=s-2,h=0;h<i;h++){for(var f=h*6,v=0,g=0;g<s;g+=2){var d=g===0?f:(f+g-2)%u+2,m=r[d]-e[0],_=r[d+1]-e[1],b=t[g]-n[0],S=t[g+1]-n[1],I=b-m,A=S-_;v+=I*I+A*A}v<a&&(a=v,o=h)}return o}function HR(r){for(var t=[],e=r.length,n=0;n<e;n+=2)t[n]=r[e-n-2],t[n+1]=r[e-n-1];return t}function $R(r,t,e,n){for(var i=[],a,o=0;o<r.length;o++){var s=r[o],u=t[o],h=Wm(s),f=Wm(u);a==null&&(a=h[2]<0!=f[2]<0);var v=[],g=[],d=0,m=1/0,_=[],b=s.length;a&&(s=HR(s));for(var S=FR(s,u,h,f)*6,I=b-2,A=0;A<I;A+=2){var D=(S+A)%I+2;v[A+2]=s[D]-h[0],v[A+3]=s[D+1]-h[1]}if(v[0]=s[S]-h[0],v[1]=s[S+1]-h[1],e>0)for(var V=n/e,R=-n/2;R<=n/2;R+=V){for(var Z=Math.sin(R),j=Math.cos(R),X=0,A=0;A<s.length;A+=2){var et=v[A],it=v[A+1],ht=u[A]-f[0],vt=u[A+1]-f[1],st=ht*j-vt*Z,mt=ht*Z+vt*j;_[A]=st,_[A+1]=mt;var lt=st-et,Mt=mt-it;X+=lt*lt+Mt*Mt}if(X<m){m=X,d=R;for(var xt=0;xt<_.length;xt++)g[xt]=_[xt]}}else for(var St=0;St<b;St+=2)g[St]=u[St]-f[0],g[St+1]=u[St+1]-f[1];i.push({from:v,to:g,fromCp:h,toCp:f,rotation:-d})}return i}function jl(r){return r.__isCombineMorphing}var X2="__mOriginal_";function Kl(r,t,e){var n=X2+t,i=r[n]||r[t];r[n]||(r[n]=r[t]);var a=e.replace,o=e.after,s=e.before;r[t]=function(){var u=arguments,h;return s&&s.apply(this,u),a?h=a.apply(this,u):h=i.apply(this,u),o&&o.apply(this,u),h}}function jo(r,t){var e=X2+t;r[e]&&(r[t]=r[e],r[e]=null)}function Um(r,t){for(var e=0;e<r.length;e++)for(var n=r[e],i=0;i<n.length;){var a=n[i],o=n[i+1];n[i++]=t[0]*a+t[2]*o+t[4],n[i++]=t[1]*a+t[3]*o+t[5]}}function j2(r,t){var e=r.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=GR(lc(e),lc(n)),a=i[0],o=i[1],s=r.getComputedTransform(),u=t.getComputedTransform();function h(){this.transform=null}s&&Um(a,s),u&&Um(o,u),Kl(t,"updateTransform",{replace:h}),t.transform=null;var f=$R(a,o,10,Math.PI),v=[];Kl(t,"buildPath",{replace:function(g){for(var d=t.__morphT,m=1-d,_=[],b=0;b<f.length;b++){var S=f[b],I=S.from,A=S.to,D=S.rotation*d,V=S.fromCp,R=S.toCp,Z=Math.sin(D),j=Math.cos(D);gl(_,V,R,d);for(var X=0;X<I.length;X+=2){var et=I[X],it=I[X+1],ht=A[X],vt=A[X+1],st=et*m+ht*d,mt=it*m+vt*d;v[X]=st*j-mt*Z+_[0],v[X+1]=st*Z+mt*j+_[1]}var lt=v[0],Mt=v[1];g.moveTo(lt,Mt);for(var X=2;X<I.length;){var ht=v[X++],vt=v[X++],xt=v[X++],St=v[X++],Pt=v[X++],Nt=v[X++];lt===ht&&Mt===vt&&xt===Pt&&St===Nt?g.lineTo(Pt,Nt):g.bezierCurveTo(ht,vt,xt,St,Pt,Nt),lt=Pt,Mt=Nt}}}})}function Rv(r,t,e){if(!r||!t)return t;var n=e.done,i=e.during;j2(r,t),t.__morphT=0;function a(){jo(t,"buildPath"),jo(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},ve({during:function(o){t.dirtyShape(),i&&i(o)},done:function(){a(),n&&n()}},e)),t}function WR(r,t,e,n,i,a){var o=16;r=i===e?0:Math.round(32767*(r-e)/(i-e)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var s=0,u,h=(1<<o)/2;h>0;h/=2){var f=0,v=0;(r&h)>0&&(f=1),(t&h)>0&&(v=1),s+=h*h*(3*f^v),v===0&&(f===1&&(r=h-1-r,t=h-1-t),u=r,r=t,t=u)}return s}function Jl(r){var t=1/0,e=1/0,n=-1/0,i=-1/0,a=Lt(r,function(s){var u=s.getBoundingRect(),h=s.getComputedTransform(),f=u.x+u.width/2+(h?h[4]:0),v=u.y+u.height/2+(h?h[5]:0);return t=Math.min(f,t),e=Math.min(v,e),n=Math.max(f,n),i=Math.max(v,i),[f,v]}),o=Lt(a,function(s,u){return{cp:s,z:WR(s[0],s[1],t,e,n,i),path:r[u]}});return o.sort(function(s,u){return s.z-u.z}).map(function(s){return s.path})}function K2(r){return VR(r.path,r.count)}function hc(){return{fromIndividuals:[],toIndividuals:[],count:0}}function UR(r,t,e){var n=[];function i(V){for(var R=0;R<V.length;R++){var Z=V[R];jl(Z)?i(Z.childrenRef()):Z instanceof _r&&n.push(Z)}}i(r);var a=n.length;if(!a)return hc();var o=e.dividePath||K2,s=o({path:t,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),hc();n=Jl(n),s=Jl(s);for(var u=e.done,h=e.during,f=e.individualDelay,v=new Za,g=0;g<a;g++){var d=n[g],m=s[g];m.parent=t,m.copyTransform(v),f||j2(d,m)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function _(V){for(var R=0;R<s.length;R++)s[R].addSelfToZr(V)}Kl(t,"addSelfToZr",{after:function(V){_(V)}}),Kl(t,"removeSelfFromZr",{after:function(V){for(var R=0;R<s.length;R++)s[R].removeSelfFromZr(V)}});function b(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,jo(t,"addSelfToZr"),jo(t,"removeSelfFromZr")}var S=s.length;if(f)for(var I=S,A=function(){I--,I===0&&(b(),u&&u())},g=0;g<S;g++){var D=f?ve({delay:(e.delay||0)+f(g,S,n[g],s[g]),done:A},e):e;Rv(n[g],s[g],D)}else t.__morphT=0,t.animateTo({__morphT:1},ve({during:function(V){for(var R=0;R<S;R++){var Z=s[R];Z.__morphT=t.__morphT,Z.dirtyShape()}h&&h(V)},done:function(){b();for(var V=0;V<r.length;V++)jo(r[V],"updateTransform");u&&u()}},e));return t.__zr&&_(t.__zr),{fromIndividuals:n,toIndividuals:s,count:S}}function ZR(r,t,e){var n=t.length,i=[],a=e.dividePath||K2;function o(d){for(var m=0;m<d.length;m++){var _=d[m];jl(_)?o(_.childrenRef()):_ instanceof _r&&i.push(_)}}if(jl(r)){o(r.childrenRef());var s=i.length;if(s<n)for(var u=0,h=s;h<n;h++)i.push(zc(i[u++%s]));i.length=n}else{i=a({path:r,count:n});for(var f=r.getComputedTransform(),h=0;h<i.length;h++)i[h].setLocalTransform(f);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),hc()}i=Jl(i),t=Jl(t);for(var v=e.individualDelay,h=0;h<n;h++){var g=v?ve({delay:(e.delay||0)+v(h,n,i[h],t[h])},e):e;Rv(i[h],t[h],g)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function Zm(r){return Ot(r[0])}function qm(r,t){for(var e=[],n=r.length,i=0;i<n;i++)e.push({one:r[i],many:[]});for(var i=0;i<t.length;i++){var a=t[i].length,o=void 0;for(o=0;o<a;o++)e[o%n].many.push(t[i][o])}for(var s=0,i=n-1;i>=0;i--)if(!e[i].many.length){var u=e[s].many;if(u.length<=1)if(s)s=0;else return e;var a=u.length,h=Math.ceil(a/2);e[i].many=u.slice(h,a),e[s].many=u.slice(0,h),s++}return e}var qR={clone:function(r){for(var t=[],e=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var i=zc(r.path);i.setStyle("opacity",e),t.push(i)}return t},split:null};function ff(r,t,e,n,i,a){if(!r.length||!t.length)return;var o=xs("update",n,i);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o),h,f;Zm(r)&&(h=r,f=t),Zm(t)&&(h=t,f=r);function v(S,I,A,D,V){var R=S.many,Z=S.one;if(R.length===1&&!V){var j=I?R[0]:Z,X=I?Z:R[0];if(jl(j))v({many:[j],one:X},!0,A,D,!0);else{var et=s?ve({delay:s(A,D)},u):u;Rv(j,X,et),a(j,X,j,X,et)}}else for(var it=ve({dividePath:qR[e],individualDelay:s&&function(Mt,xt,St,Pt){return s(Mt+A,D)}},u),ht=I?UR(R,Z,it):ZR(Z,R,it),vt=ht.fromIndividuals,st=ht.toIndividuals,mt=vt.length,lt=0;lt<mt;lt++){var et=s?ve({delay:s(lt,mt)},u):u;a(vt[lt],st[lt],I?R[lt]:S.one,I?S.one:R[lt],et)}}for(var g=h?h===r:r.length>t.length,d=h?qm(f,h):qm(g?t:r,[g?r:t]),m=0,_=0;_<d.length;_++)m+=d[_].many.length;for(var b=0,_=0;_<d.length;_++)v(d[_],g,b,m),b+=d[_].many.length}function Qi(r){if(!r)return[];if(Ot(r)){for(var t=[],e=0;e<r.length;e++)t.push(Qi(r[e]));return t}var n=[];return r.traverse(function(i){i instanceof _r&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var J2=1e4,YR=0,Ym=1,Xm=2,XR=Qe();function jR(r,t){for(var e=r.dimensions,n=0;n<e.length;n++){var i=r.getDimensionInfo(e[n]);if(i&&i.otherDims[t]===0)return e[n]}}function KR(r,t,e){var n=r.getDimensionInfo(e),i=n&&n.ordinalMeta;if(n){var a=r.get(n.name,t);return i&&i.categories[a]||a+""}}function jm(r,t,e,n){var i=n?"itemChildGroupId":"itemGroupId",a=jR(r,i);if(a){var o=KR(r,t,a);return o}var s=r.getRawDataItem(t),u=n?"childGroupId":"groupId";if(s&&s[u])return s[u]+"";if(!n)return e||r.getId(t)}function Km(r){var t=[];return J(r,function(e){var n=e.data,i=e.dataGroupId;if(!(n.count()>J2))for(var a=n.getIndices(),o=0;o<a.length;o++)t.push({data:n,groupId:jm(n,o,i,!1),childGroupId:jm(n,o,i,!0),divide:e.divide,dataIndex:o})}),t}function cf(r,t,e){r.traverse(function(n){n instanceof _r&&ir(n,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function vf(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function Ga(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function JR(r,t,e){var n=xs("update",e,t);n&&r.traverse(function(i){if(i instanceof ga){var a=PS(i);a&&i.animateFrom({style:a},n)}})}function QR(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++){var i=r[n],a=t[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function Q2(r,t,e){var n=Km(r),i=Km(t);function a(A,D,V,R,Z){(V||A)&&D.animateFrom({style:V&&V!==A?Ft(Ft({},V.style),A.style):A.style},Z)}var o=!1,s=YR,u=de(),h=de();n.forEach(function(A){A.groupId&&u.set(A.groupId,!0),A.childGroupId&&h.set(A.childGroupId,!0)});for(var f=0;f<i.length;f++){var v=i[f].groupId;if(h.get(v)){s=Ym;break}var g=i[f].childGroupId;if(g&&u.get(g)){s=Xm;break}}function d(A,D){return function(V){var R=V.data,Z=V.dataIndex;return D?R.getId(Z):A?s===Ym?V.childGroupId:V.groupId:s===Xm?V.childGroupId:V.groupId}}var m=QR(n,i),_={};if(!m)for(var f=0;f<i.length;f++){var b=i[f],S=b.data.getItemGraphicEl(b.dataIndex);S&&(_[S.id]=!0)}function I(A,D){var V=n[D],R=i[A],Z=R.data.hostModel,j=V.data.getItemGraphicEl(V.dataIndex),X=R.data.getItemGraphicEl(R.dataIndex);if(j===X){X&&JR(X,R.dataIndex,Z);return}j&&_[j.id]||X&&(Ga(X),j?(Ga(j),vf(j),o=!0,ff(Qi(j),Qi(X),R.divide,Z,A,a)):cf(X,Z,A))}new Pi(n,i,d(!0,m),d(!1,m),null,"multiple").update(I).updateManyToOne(function(A,D){var V=i[A],R=V.data,Z=R.hostModel,j=R.getItemGraphicEl(V.dataIndex),X=Cr(Lt(D,function(et){return n[et].data.getItemGraphicEl(n[et].dataIndex)}),function(et){return et&&et!==j&&!_[et.id]});j&&(Ga(j),X.length?(J(X,function(et){Ga(et),vf(et)}),o=!0,ff(Qi(X),Qi(j),V.divide,Z,A,a)):cf(j,Z,V.dataIndex))}).updateOneToMany(function(A,D){var V=n[D],R=V.data.getItemGraphicEl(V.dataIndex);if(!(R&&_[R.id])){var Z=Cr(Lt(A,function(X){return i[X].data.getItemGraphicEl(i[X].dataIndex)}),function(X){return X&&X!==R}),j=i[A[0]].data.hostModel;Z.length&&(J(Z,function(X){return Ga(X)}),R?(Ga(R),vf(R),o=!0,ff(Qi(R),Qi(Z),V.divide,j,A[0],a)):J(Z,function(X){return cf(X,j,A[0])}))}}).updateManyToMany(function(A,D){new Pi(D,A,function(V){return n[V].data.getId(n[V].dataIndex)},function(V){return i[V].data.getId(i[V].dataIndex)}).update(function(V,R){I(A[V],D[R])}).execute()}).execute(),o&&J(t,function(A){var D=A.data,V=D.hostModel,R=V&&e.getViewOfSeriesModel(V),Z=xs("update",V,0);R&&V.isAnimationEnabled()&&Z&&Z.duration>0&&R.group.traverse(function(j){j instanceof _r&&!j.animators.length&&j.animateFrom({style:{opacity:0}},Z)})})}function Jm(r){var t=r.getModel("universalTransition").get("seriesKey");return t||r.id}function Qm(r){return Ot(r)?r.sort().join(","):r}function bi(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function tz(r,t){var e=de(),n=de(),i=de();return J(r.oldSeries,function(a,o){var s=r.oldDataGroupIds[o],u=r.oldData[o],h=Jm(a),f=Qm(h);n.set(f,{dataGroupId:s,data:u}),Ot(h)&&J(h,function(v){i.set(v,{key:f,dataGroupId:s,data:u})})}),J(t.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),u=Jm(a),h=Qm(u),f=n.get(h);if(f)e.set(h,{oldSeries:[{dataGroupId:f.dataGroupId,divide:bi(f.data),data:f.data}],newSeries:[{dataGroupId:o,divide:bi(s),data:s}]});else if(Ot(u)){var v=[];J(u,function(m){var _=n.get(m);_.data&&v.push({dataGroupId:_.dataGroupId,divide:bi(_.data),data:_.data})}),v.length&&e.set(h,{oldSeries:v,newSeries:[{dataGroupId:o,data:s,divide:bi(s)}]})}else{var g=i.get(u);if(g){var d=e.get(g.key);d||(d={oldSeries:[{dataGroupId:g.dataGroupId,data:g.data,divide:bi(g.data)}],newSeries:[]},e.set(g.key,d)),d.newSeries.push({dataGroupId:o,data:s,divide:bi(s)})}}}}),e}function t1(r,t){for(var e=0;e<r.length;e++){var n=t.seriesIndex!=null&&t.seriesIndex===r[e].seriesIndex||t.seriesId!=null&&t.seriesId===r[e].id;if(n)return e}}function ez(r,t,e,n){var i=[],a=[];J(Yr(r.from),function(o){var s=t1(t.oldSeries,o);s>=0&&i.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:bi(t.oldData[s]),groupIdDim:o.dimension})}),J(Yr(r.to),function(o){var s=t1(e.updatedSeries,o);if(s>=0){var u=e.updatedSeries[s].getData();a.push({dataGroupId:t.oldDataGroupIds[s],data:u,divide:bi(u),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&Q2(i,a,n)}function rz(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){J(Yr(n.seriesTransition),function(i){J(Yr(i.to),function(a){for(var o=n.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][Qu]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,e,n){var i=XR(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)J(Yr(a),function(d){ez(d,i,n,e)});else{var o=tz(i,n);J(o.keys(),function(d){var m=o.get(d);Q2(m.oldSeries,m.newSeries,e)})}J(n.updatedSeries,function(d){d[Qu]&&(d[Qu]=!1)})}for(var s=t.getSeries(),u=i.oldSeries=[],h=i.oldDataGroupIds=[],f=i.oldData=[],v=0;v<s.length;v++){var g=s[v].getData();g.count()<J2&&(u.push(s[v]),h.push(s[v].get("dataGroupId")),f.push(g))}})}pe([kS]);pe([l5]);pe([k5,Y5,s6,z6,J6,Z9,S8,uC,NC,ES,YC,JA,CT,VT,i3,f3,L3,B3,J3,oI,_I,i7]);pe(a7);pe(B7);pe(s_);pe(rL);pe(q_);pe(uL);pe(yL);pe(yD);pe(RS);pe(gu);pe(VD);pe(zS);pe(QD);pe(u4);pe(m4);pe(C4);pe(OS);pe(q4);pe(N2);pe(V2);pe(xP);pe($2);pe(W2);pe(CP);pe(VP);pe(FP);pe(rz);pe(AM);const fc={},tx=[];function me(r,t){if(Array.isArray(r)){for(const e of r)me(e,t);return}if(typeof r=="object"){for(const e in r)me(e,r[e]);return}ex(Object.getOwnPropertyNames(t)),fc[r]=Object.assign(fc[r]||{},t)}function an(r){return fc[r]||{}}function nz(){return[...new Set(tx)]}function ex(r){tx.push(...r)}function zv(r,t){let e;const n=r.length,i=[];for(e=0;e<n;e++)i.push(t(r[e]));return i}function iz(r,t){let e;const n=r.length,i=[];for(e=0;e<n;e++)t(r[e])&&i.push(r[e]);return i}function df(r){return r%360*Math.PI/180}function az(r){return r.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})}function rx(r){return r.charAt(0).toUpperCase()+r.slice(1)}function bo(r,t,e,n){return(t==null||e==null)&&(n=n||r.bbox(),t==null?t=n.width/n.height*e:e==null&&(e=n.height/n.width*t)),{width:t,height:e}}function cc(r,t){const e=r.origin;let n=r.ox!=null?r.ox:r.originX!=null?r.originX:"center",i=r.oy!=null?r.oy:r.originY!=null?r.originY:"center";e!=null&&([n,i]=Array.isArray(e)?e:typeof e=="object"?[e.x,e.y]:[e,e]);const a=typeof n=="string",o=typeof i=="string";if(a||o){const{height:s,width:u,x:h,y:f}=t.bbox();a&&(n=n.includes("left")?h:n.includes("right")?h+u:h+u/2),o&&(i=i.includes("top")?f:i.includes("bottom")?f+s:f+s/2)}return[n,i]}const oz=new Set(["desc","metadata","title"]),vc=r=>oz.has(r.nodeName),nx=(r,t,e={})=>{const n={...t};for(const i in n)n[i].valueOf()===e[i]&&delete n[i];Object.keys(n).length?r.node.setAttribute("data-svgjs",JSON.stringify(n)):(r.node.removeAttribute("data-svgjs"),r.node.removeAttribute("svgjs:data"))},Ov="http://www.w3.org/2000/svg",sz="http://www.w3.org/1999/xhtml",pf="http://www.w3.org/2000/xmlns/",Ds="http://www.w3.org/1999/xlink",Ie={window:typeof window=="undefined"?null:window,document:typeof document=="undefined"?null:document};function lz(){return Ie.window}class Nv{}const fa={},Vv="___SYMBOL___ROOT___";function fs(r,t=Ov){return Ie.document.createElementNS(t,r)}function qr(r,t=!1){if(r instanceof Nv)return r;if(typeof r=="object")return gf(r);if(r==null)return new fa[Vv];if(typeof r=="string"&&r.charAt(0)!=="<")return gf(Ie.document.querySelector(r));const e=t?Ie.document.createElement("div"):fs("svg");return e.innerHTML=r,r=gf(e.firstChild),e.removeChild(e.firstChild),r}function je(r,t){return t&&(t instanceof Ie.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:fs(r)}function xn(r){if(!r)return null;if(r.instance instanceof Nv)return r.instance;if(r.nodeName==="#document-fragment")return new fa.Fragment(r);let t=rx(r.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":fa[t]||(t="Dom"),new fa[t](r)}let gf=xn;function Le(r,t=r.name,e=!1){return fa[t]=r,e&&(fa[Vv]=r),ex(Object.getOwnPropertyNames(r.prototype)),r}function uz(r){return fa[r]}let hz=1e3;function ix(r){return"Svgjs"+rx(r)+hz++}function ax(r){for(let t=r.children.length-1;t>=0;t--)ax(r.children[t]);return r.id&&(r.id=ix(r.nodeName)),r}function Me(r,t){let e,n;for(r=Array.isArray(r)?r:[r],n=r.length-1;n>=0;n--)for(e in t)r[n].prototype[e]=t[e]}function Xe(r){return function(...t){const e=t[t.length-1];return e&&e.constructor===Object&&!(e instanceof Array)?r.apply(this,t.slice(0,-1)).attr(e):r.apply(this,t)}}function fz(){return this.parent().children()}function cz(){return this.parent().index(this)}function vz(){return this.siblings()[this.position()+1]}function dz(){return this.siblings()[this.position()-1]}function pz(){const r=this.position();return this.parent().add(this.remove(),r+1),this}function gz(){const r=this.position();return this.parent().add(this.remove(),r?r-1:0),this}function mz(){return this.parent().add(this.remove()),this}function yz(){return this.parent().add(this.remove(),0),this}function _z(r){r=qr(r),r.remove();const t=this.position();return this.parent().add(r,t),this}function xz(r){r=qr(r),r.remove();const t=this.position();return this.parent().add(r,t+1),this}function bz(r){return r=qr(r),r.before(this),this}function wz(r){return r=qr(r),r.after(this),this}me("Dom",{siblings:fz,position:cz,next:vz,prev:dz,forward:pz,backward:gz,front:mz,back:yz,before:_z,after:xz,insertBefore:bz,insertAfter:wz});const ox=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Sz=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Mz=/rgb\((\d+),(\d+),(\d+)\)/,Cz=/(#[a-z_][a-z0-9\-_]*)/i,Az=/\)\s*,?\s*/,Tz=/\s/g,e1=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,r1=/^rgb\(/,n1=/^(\s+)?$/,i1=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Iz=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,vi=/[\s,]+/,Bv=/[MLHVCSQTAZ]/i;function Lz(){const r=this.attr("class");return r==null?[]:r.trim().split(vi)}function Dz(r){return this.classes().indexOf(r)!==-1}function Pz(r){if(!this.hasClass(r)){const t=this.classes();t.push(r),this.attr("class",t.join(" "))}return this}function kz(r){return this.hasClass(r)&&this.attr("class",this.classes().filter(function(t){return t!==r}).join(" ")),this}function Ez(r){return this.hasClass(r)?this.removeClass(r):this.addClass(r)}me("Dom",{classes:Lz,hasClass:Dz,addClass:Pz,removeClass:kz,toggleClass:Ez});function Rz(r,t){const e={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(n){return!!n.length}).forEach(function(n){const i=n.split(/\s*:\s*/);e[i[0]]=i[1]}),e;if(arguments.length<2){if(Array.isArray(r)){for(const n of r){const i=n;e[n]=this.node.style.getPropertyValue(i)}return e}if(typeof r=="string")return this.node.style.getPropertyValue(r);if(typeof r=="object")for(const n in r)this.node.style.setProperty(n,r[n]==null||n1.test(r[n])?"":r[n])}return arguments.length===2&&this.node.style.setProperty(r,t==null||n1.test(t)?"":t),this}function zz(){return this.css("display","")}function Oz(){return this.css("display","none")}function Nz(){return this.css("display")!=="none"}me("Dom",{css:Rz,show:zz,hide:Oz,visible:Nz});function Vz(r,t,e){if(r==null)return this.data(zv(iz(this.node.attributes,n=>n.nodeName.indexOf("data-")===0),n=>n.nodeName.slice(5)));if(r instanceof Array){const n={};for(const i of r)n[i]=this.data(i);return n}else if(typeof r=="object")for(t in r)this.data(t,r[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+r))}catch{return this.attr("data-"+r)}else this.attr("data-"+r,t===null?null:e===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}me("Dom",{data:Vz});function Bz(r,t){if(typeof arguments[0]=="object")for(const e in r)this.remember(e,r[e]);else{if(arguments.length===1)return this.memory()[r];this.memory()[r]=t}return this}function Gz(){if(arguments.length===0)this._memory={};else for(let r=arguments.length-1;r>=0;r--)delete this.memory()[arguments[r]];return this}function Fz(){return this._memory=this._memory||{}}me("Dom",{remember:Bz,forget:Gz,memory:Fz});function Hz(r){return r.length===4?["#",r.substring(1,2),r.substring(1,2),r.substring(2,3),r.substring(2,3),r.substring(3,4),r.substring(3,4)].join(""):r}function $z(r){const t=Math.round(r),n=Math.max(0,Math.min(255,t)).toString(16);return n.length===1?"0"+n:n}function Fa(r,t){for(let e=t.length;e--;)if(r[t[e]]==null)return!1;return!0}function Wz(r,t){const e=Fa(r,"rgb")?{_a:r.r,_b:r.g,_c:r.b,_d:0,space:"rgb"}:Fa(r,"xyz")?{_a:r.x,_b:r.y,_c:r.z,_d:0,space:"xyz"}:Fa(r,"hsl")?{_a:r.h,_b:r.s,_c:r.l,_d:0,space:"hsl"}:Fa(r,"lab")?{_a:r.l,_b:r.a,_c:r.b,_d:0,space:"lab"}:Fa(r,"lch")?{_a:r.l,_b:r.c,_c:r.h,_d:0,space:"lch"}:Fa(r,"cmyk")?{_a:r.c,_b:r.m,_c:r.y,_d:r.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return e.space=t||e.space,e}function Uz(r){return r==="lab"||r==="xyz"||r==="lch"}function mf(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+(t-r)*6*e:e<1/2?t:e<2/3?r+(t-r)*(2/3-e)*6:r}class Ne{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof Ne||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",e){const{random:n,round:i,sin:a,PI:o}=Math;if(t==="vibrant"){const s=24*n()+57,u=(83-45)*n()+45,h=360*n();return new Ne(s,u,h,"lch")}else if(t==="sine"){e=e==null?n():e;const s=i(80*a(2*o*e/.5+.01)+150),u=i(50*a(2*o*e/.5+4.6)+200),h=i(100*a(2*o*e/.5+2.3)+150);return new Ne(s,u,h)}else if(t==="pastel"){const s=8*n()+86,u=(26-9)*n()+9,h=360*n();return new Ne(s,u,h,"lch")}else if(t==="dark"){const s=10+10*n(),u=(125-75)*n()+86,h=360*n();return new Ne(s,u,h,"lch")}else if(t==="rgb"){const s=255*n(),u=255*n(),h=255*n();return new Ne(s,u,h)}else if(t==="lab"){const s=100*n(),u=256*n()-128,h=256*n()-128;return new Ne(s,u,h,"lab")}else if(t==="grey"){const s=255*n();return new Ne(s,s,s)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(e1.test(t)||r1.test(t))}cmyk(){const{_a:t,_b:e,_c:n}=this.rgb(),[i,a,o]=[t,e,n].map(g=>g/255),s=Math.min(1-i,1-a,1-o);if(s===1)return new Ne(0,0,0,1,"cmyk");const u=(1-i-s)/(1-s),h=(1-a-s)/(1-s),f=(1-o-s)/(1-s);return new Ne(u,h,f,s,"cmyk")}hsl(){const{_a:t,_b:e,_c:n}=this.rgb(),[i,a,o]=[t,e,n].map(_=>_/255),s=Math.max(i,a,o),u=Math.min(i,a,o),h=(s+u)/2,f=s===u,v=s-u,g=f?0:h>.5?v/(2-s-u):v/(s+u),d=f?0:s===i?((a-o)/v+(a<o?6:0))/6:s===a?((o-i)/v+2)/6:s===o?((i-a)/v+4)/6:0;return new Ne(360*d,100*g,100*h,"hsl")}init(t=0,e=0,n=0,i=0,a="rgb"){if(t=t||0,this.space)for(const v in this.space)delete this[this.space[v]];if(typeof t=="number")a=typeof i=="string"?i:a,i=typeof i=="string"?0:i,Object.assign(this,{_a:t,_b:e,_c:n,_d:i,space:a});else if(t instanceof Array)this.space=e||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const v=Wz(t,e);Object.assign(this,v)}else if(typeof t=="string")if(r1.test(t)){const v=t.replace(Tz,""),[g,d,m]=Mz.exec(v).slice(1,4).map(_=>parseInt(_));Object.assign(this,{_a:g,_b:d,_c:m,_d:0,space:"rgb"})}else if(e1.test(t)){const v=_=>parseInt(_,16),[,g,d,m]=Sz.exec(Hz(t)).map(v);Object.assign(this,{_a:g,_b:d,_c:m,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:o,_b:s,_c:u,_d:h}=this,f=this.space==="rgb"?{r:o,g:s,b:u}:this.space==="xyz"?{x:o,y:s,z:u}:this.space==="hsl"?{h:o,s,l:u}:this.space==="lab"?{l:o,a:s,b:u}:this.space==="lch"?{l:o,c:s,h:u}:this.space==="cmyk"?{c:o,m:s,y:u,k:h}:{};Object.assign(this,f)}lab(){const{x:t,y:e,z:n}=this.xyz(),i=116*e-16,a=500*(t-e),o=200*(e-n);return new Ne(i,a,o,"lab")}lch(){const{l:t,a:e,b:n}=this.lab(),i=Math.sqrt(e**2+n**2);let a=180*Math.atan2(n,e)/Math.PI;return a<0&&(a*=-1,a=360-a),new Ne(t,i,a,"lch")}rgb(){if(this.space==="rgb")return this;if(Uz(this.space)){let{x:t,y:e,z:n}=this;if(this.space==="lab"||this.space==="lch"){let{l:d,a:m,b:_}=this;if(this.space==="lch"){const{c:R,h:Z}=this,j=Math.PI/180;m=R*Math.cos(j*Z),_=R*Math.sin(j*Z)}const b=(d+16)/116,S=m/500+b,I=b-_/200,A=16/116,D=.008856,V=7.787;t=.95047*(S**3>D?S**3:(S-A)/V),e=1*(b**3>D?b**3:(b-A)/V),n=1.08883*(I**3>D?I**3:(I-A)/V)}const i=t*3.2406+e*-1.5372+n*-.4986,a=t*-.9689+e*1.8758+n*.0415,o=t*.0557+e*-.204+n*1.057,s=Math.pow,u=.0031308,h=i>u?1.055*s(i,1/2.4)-.055:12.92*i,f=a>u?1.055*s(a,1/2.4)-.055:12.92*a,v=o>u?1.055*s(o,1/2.4)-.055:12.92*o;return new Ne(255*h,255*f,255*v)}else if(this.space==="hsl"){let{h:t,s:e,l:n}=this;if(t/=360,e/=100,n/=100,e===0)return n*=255,new Ne(n,n,n);const i=n<.5?n*(1+e):n+e-n*e,a=2*n-i,o=255*mf(a,i,t+1/3),s=255*mf(a,i,t),u=255*mf(a,i,t-1/3);return new Ne(o,s,u)}else if(this.space==="cmyk"){const{c:t,m:e,y:n,k:i}=this,a=255*(1-Math.min(1,t*(1-i)+i)),o=255*(1-Math.min(1,e*(1-i)+i)),s=255*(1-Math.min(1,n*(1-i)+i));return new Ne(a,o,s)}else return this}toArray(){const{_a:t,_b:e,_c:n,_d:i,space:a}=this;return[t,e,n,i,a]}toHex(){const[t,e,n]=this._clamped().map($z);return`#${t}${e}${n}`}toRgb(){const[t,e,n]=this._clamped();return`rgb(${t},${e},${n})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:n}=this.rgb(),[i,a,o]=[t,e,n].map(S=>S/255),s=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,h=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,f=(s*.4124+u*.3576+h*.1805)/.95047,v=(s*.2126+u*.7152+h*.0722)/1,g=(s*.0193+u*.1192+h*.9505)/1.08883,d=f>.008856?Math.pow(f,1/3):7.787*f+16/116,m=v>.008856?Math.pow(v,1/3):7.787*v+16/116,_=g>.008856?Math.pow(g,1/3):7.787*g+16/116;return new Ne(d,m,_,"xyz")}_clamped(){const{_a:t,_b:e,_c:n}=this.rgb(),{max:i,min:a,round:o}=Math,s=u=>i(0,a(o(u),255));return[t,e,n].map(s)}}class gr{constructor(...t){this.init(...t)}clone(){return new gr(this)}init(t,e){const n={x:0,y:0},i=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:e};return this.x=i.x==null?n.x:i.x,this.y=i.y==null?n.y:i.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){Jt.isMatrixLike(t)||(t=new Jt(t));const{x:e,y:n}=this;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}}function Zz(r,t){return new gr(r,t).transformO(this.screenCTM().inverseO())}function Ha(r,t,e){return Math.abs(t-r)<(e||1e-6)}class Jt{constructor(...t){this.init(...t)}static formatTransforms(t){const e=t.flip==="both"||t.flip===!0,n=t.flip&&(e||t.flip==="x")?-1:1,i=t.flip&&(e||t.flip==="y")?-1:1,a=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,s=t.scale&&t.scale.length?t.scale[0]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleX)?t.scaleX*n:n,u=t.scale&&t.scale.length?t.scale[1]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleY)?t.scaleY*i:i,h=t.shear||0,f=t.rotate||t.theta||0,v=new gr(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),g=v.x,d=v.y,m=new gr(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),_=m.x,b=m.y,S=new gr(t.translate||t.tx||t.translateX,t.ty||t.translateY),I=S.x,A=S.y,D=new gr(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),V=D.x,R=D.y;return{scaleX:s,scaleY:u,skewX:a,skewY:o,shear:h,theta:f,rx:V,ry:R,tx:I,ty:A,ox:g,oy:d,px:_,py:b}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,e,n){const i=t.a*e.a+t.c*e.b,a=t.b*e.a+t.d*e.b,o=t.a*e.c+t.c*e.d,s=t.b*e.c+t.d*e.d,u=t.e+t.a*e.e+t.c*e.f,h=t.f+t.b*e.e+t.d*e.f;return n.a=i,n.b=a,n.c=o,n.d=s,n.e=u,n.f=h,n}around(t,e,n){return this.clone().aroundO(t,e,n)}aroundO(t,e,n){const i=t||0,a=e||0;return this.translateO(-i,-a).lmultiplyO(n).translateO(i,a)}clone(){return new Jt(this)}decompose(t=0,e=0){const n=this.a,i=this.b,a=this.c,o=this.d,s=this.e,u=this.f,h=n*o-i*a,f=h>0?1:-1,v=f*Math.sqrt(n*n+i*i),g=Math.atan2(f*i,f*n),d=180/Math.PI*g,m=Math.cos(g),_=Math.sin(g),b=(n*a+i*o)/h,S=a*v/(b*n-i)||o*v/(b*i+n),I=s-t+t*m*v+e*(b*m*v-_*S),A=u-e+t*_*v+e*(b*_*v+m*S);return{scaleX:v,scaleY:S,shear:b,rotate:d,translateX:I,translateY:A,originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new Jt(t);return Ha(this.a,e.a)&&Ha(this.b,e.b)&&Ha(this.c,e.c)&&Ha(this.d,e.d)&&Ha(this.e,e.e)&&Ha(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return t==="x"?this.scaleO(-1,1,e,0):t==="y"?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=Jt.fromArray([1,0,0,1,0,0]);return t=t instanceof Qn?t.matrixify():typeof t=="string"?Jt.fromArray(t.split(vi).map(parseFloat)):Array.isArray(t)?Jt.fromArray(t):typeof t=="object"&&Jt.isMatrixLike(t)?t:typeof t=="object"?new Jt().transform(t):arguments.length===6?Jt.fromArray([].slice.call(arguments)):e,this.a=t.a!=null?t.a:e.a,this.b=t.b!=null?t.b:e.b,this.c=t.c!=null?t.c:e.c,this.d=t.d!=null?t.d:e.d,this.e=t.e!=null?t.e:e.e,this.f=t.f!=null?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,n=this.c,i=this.d,a=this.e,o=this.f,s=t*i-e*n;if(!s)throw new Error("Cannot invert "+this);const u=i/s,h=-e/s,f=-n/s,v=t/s,g=-(u*a+f*o),d=-(h*a+v*o);return this.a=u,this.b=h,this.c=f,this.d=v,this.e=g,this.f=d,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=this,n=t instanceof Jt?t:new Jt(t);return Jt.matrixMultiply(n,e,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=this,n=t instanceof Jt?t:new Jt(t);return Jt.matrixMultiply(e,n,this)}rotate(t,e,n){return this.clone().rotateO(t,e,n)}rotateO(t,e=0,n=0){t=df(t);const i=Math.cos(t),a=Math.sin(t),{a:o,b:s,c:u,d:h,e:f,f:v}=this;return this.a=o*i-s*a,this.b=s*i+o*a,this.c=u*i-h*a,this.d=h*i+u*a,this.e=f*i-v*a+n*a-e*i+e,this.f=v*i+f*a-e*a-n*i+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,n=0,i=0){arguments.length===3&&(i=n,n=e,e=t);const{a,b:o,c:s,d:u,e:h,f}=this;return this.a=a*t,this.b=o*e,this.c=s*t,this.d=u*e,this.e=h*t-n*t+n,this.f=f*e-i*e+i,this}shear(t,e,n){return this.clone().shearO(t,e,n)}shearO(t,e=0,n=0){const{a:i,b:a,c:o,d:s,e:u,f:h}=this;return this.a=i+a*t,this.c=o+s*t,this.e=u+h*t-n*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,n=0,i=0){arguments.length===3&&(i=n,n=e,e=t),t=df(t),e=df(e);const a=Math.tan(t),o=Math.tan(e),{a:s,b:u,c:h,d:f,e:v,f:g}=this;return this.a=s+u*a,this.b=u+s*o,this.c=h+f*a,this.d=f+h*o,this.e=v+g*a-i*a,this.f=g+v*o-n*o,this}skewX(t,e,n){return this.skew(t,0,e,n)}skewY(t,e,n){return this.skew(0,t,e,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(Jt.isMatrixLike(t))return new Jt(t).multiplyO(this);const e=Jt.formatTransforms(t),n=this,{x:i,y:a}=new gr(e.ox,e.oy).transform(n),o=new Jt().translateO(e.rx,e.ry).lmultiplyO(n).translateO(-i,-a).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(i,a);if(isFinite(e.px)||isFinite(e.py)){const s=new gr(i,a).transform(o),u=isFinite(e.px)?e.px-s.x:0,h=isFinite(e.py)?e.py-s.y:0;o.translateO(u,h)}return o.translateO(e.tx,e.ty),o}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function qz(){return new Jt(this.node.getCTM())}function Yz(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const r=this.rect(1,1),t=r.node.getScreenCTM();return r.remove(),new Jt(t)}return new Jt(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Jt}}Le(Jt,"Matrix");function wi(){if(!wi.nodes){const r=qr().size(2,0);r.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),r.attr("focusable","false"),r.attr("aria-hidden","true");const t=r.path().node;wi.nodes={svg:r,path:t}}if(!wi.nodes.svg.node.parentNode){const r=Ie.document.body||Ie.document.documentElement;wi.nodes.svg.addTo(r)}return wi.nodes}function sx(r){return!r.width&&!r.height&&!r.x&&!r.y}function Xz(r){return r===Ie.document||(Ie.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===Ie.document}).call(Ie.document.documentElement,r)}class Nr{constructor(...t){this.init(...t)}addOffset(){return this.x+=Ie.window.pageXOffset,this.y+=Ie.window.pageYOffset,new Nr(this)}init(t){const e=[0,0,0,0];return t=typeof t=="string"?t.split(vi).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):e,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return sx(this)}merge(t){const e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width)-e,a=Math.max(this.y+this.height,t.y+t.height)-n;return new Nr(e,n,i,a)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof Jt||(t=new Jt(t));let e=1/0,n=-1/0,i=1/0,a=-1/0;return[new gr(this.x,this.y),new gr(this.x2,this.y),new gr(this.x,this.y2),new gr(this.x2,this.y2)].forEach(function(s){s=s.transform(t),e=Math.min(e,s.x),n=Math.max(n,s.x),i=Math.min(i,s.y),a=Math.max(a,s.y)}),new Nr(e,i,n-e,a-i)}}function lx(r,t,e){let n;try{if(n=t(r.node),sx(n)&&!Xz(r.node))throw new Error("Element not in the dom")}catch{n=e(r)}return n}function jz(){const e=lx(this,i=>i.getBBox(),i=>{try{const a=i.clone().addTo(wi().svg).show(),o=a.node.getBBox();return a.remove(),o}catch(a){throw new Error(`Getting bbox of element "${i.node.nodeName}" is not possible: ${a.toString()}`)}});return new Nr(e)}function Kz(r){const n=lx(this,a=>a.getBoundingClientRect(),a=>{throw new Error(`Getting rbox of element "${a.node.nodeName}" is not possible`)}),i=new Nr(n);return r?i.transform(r.screenCTM().inverseO()):i.addOffset()}function Jz(r,t){const e=this.bbox();return r>e.x&&t>e.y&&r<e.x+e.width&&t<e.y+e.height}me({viewbox:{viewbox(r,t,e,n){return r==null?new Nr(this.attr("viewBox")):this.attr("viewBox",new Nr(r,t,e,n))},zoom(r,t){let{width:e,height:n}=this.attr(["width","height"]);if((!e&&!n||typeof e=="string"||typeof n=="string")&&(e=this.node.clientWidth,n=this.node.clientHeight),!e||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),a=e/i.width,o=n/i.height,s=Math.min(a,o);if(r==null)return s;let u=s/r;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),t=t||new gr(e/2/a+i.x,n/2/o+i.y);const h=new Nr(i).transform(new Jt({scale:u,origin:t}));return this.viewbox(h)}}});Le(Nr,"Box");class _a extends Array{constructor(t=[],...e){if(super(t,...e),typeof t=="number")return this;this.length=0,this.push(...t)}}Me([_a],{each(r,...t){return typeof r=="function"?this.map((e,n,i)=>r.call(e,e,n,i)):this.map(e=>e[r](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const Qz=["toArray","constructor","each"];_a.extend=function(r){r=r.reduce((t,e)=>(Qz.includes(e)||e[0]==="_"||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...n){return this.each(e,...n)}),t),{}),Me([_a],r)};function wo(r,t){return new _a(zv((t||Ie.document).querySelectorAll(r),function(e){return xn(e)}))}function tO(r){return wo(r,this.node)}function eO(r){return xn(this.node.querySelector(r))}let rO=0;const ux={};function hx(r){let t=r.getEventHolder();return t===Ie.window&&(t=ux),t.events||(t.events={}),t.events}function Gv(r){return r.getEventTarget()}function nO(r){let t=r.getEventHolder();t===Ie.window&&(t=ux),t.events&&(t.events={})}function dc(r,t,e,n,i){const a=e.bind(n||r),o=qr(r),s=hx(o),u=Gv(o);t=Array.isArray(t)?t:t.split(vi),e._svgjsListenerId||(e._svgjsListenerId=++rO),t.forEach(function(h){const f=h.split(".")[0],v=h.split(".")[1]||"*";s[f]=s[f]||{},s[f][v]=s[f][v]||{},s[f][v][e._svgjsListenerId]=a,u.addEventListener(f,a,i||!1)})}function Xa(r,t,e,n){const i=qr(r),a=hx(i),o=Gv(i);typeof e=="function"&&(e=e._svgjsListenerId,!e)||(t=Array.isArray(t)?t:(t||"").split(vi),t.forEach(function(s){const u=s&&s.split(".")[0],h=s&&s.split(".")[1];let f,v;if(e)a[u]&&a[u][h||"*"]&&(o.removeEventListener(u,a[u][h||"*"][e],n||!1),delete a[u][h||"*"][e]);else if(u&&h){if(a[u]&&a[u][h]){for(v in a[u][h])Xa(o,[u,h].join("."),v);delete a[u][h]}}else if(h)for(s in a)for(f in a[s])h===f&&Xa(o,[s,h].join("."));else if(u){if(a[u]){for(f in a[u])Xa(o,[u,f].join("."));delete a[u]}}else{for(s in a)Xa(o,s);nO(i)}}))}function iO(r,t,e,n){const i=Gv(r);return t instanceof Ie.window.Event||(t=new Ie.window.CustomEvent(t,{detail:e,cancelable:!0,...n})),i.dispatchEvent(t),t}class Ps extends Nv{addEventListener(){}dispatch(t,e,n){return iO(this,t,e,n)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const n=e[t.type];for(const i in n)for(const a in n[i])n[i][a](t);return!t.defaultPrevented}fire(t,e,n){return this.dispatch(t,e,n),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,n){return Xa(this,t,e,n),this}on(t,e,n,i){return dc(this,t,e,n,i),this}removeEventListener(){}}Le(Ps,"EventTarget");function a1(){}const Zo={duration:400,ease:">",delay:0},aO={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class co extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(vi).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class ce{constructor(...t){this.init(...t)}convert(t){return new ce(this.value,t)}divide(t){return t=new ce(t),new ce(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(e=t.match(ox),e&&(this.value=parseFloat(e[1]),e[5]==="%"?this.value/=100:e[5]==="s"&&(this.value*=1e3),this.unit=e[5])):t instanceof ce&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new ce(t),new ce(this-t,this.unit||t.unit)}plus(t){return t=new ce(t),new ce(this+t,this.unit||t.unit)}times(t){return t=new ce(t),new ce(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const oO=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),fx=[];function sO(r){fx.push(r)}function lO(r,t,e){if(r==null){r={},t=this.node.attributes;for(const n of t)r[n.nodeName]=i1.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return r}else{if(r instanceof Array)return r.reduce((n,i)=>(n[i]=this.attr(i),n),{});if(typeof r=="object"&&r.constructor===Object)for(t in r)this.attr(t,r[t]);else if(t===null)this.node.removeAttribute(r);else{if(t==null)return t=this.node.getAttribute(r),t==null?aO[r]:i1.test(t)?parseFloat(t):t;t=fx.reduce((n,i)=>i(r,n,this),t),typeof t=="number"?t=new ce(t):oO.has(r)&&Ne.isColor(t)?t=new Ne(t):t.constructor===Array&&(t=new co(t)),r==="leading"?this.leading&&this.leading(t):typeof e=="string"?this.node.setAttributeNS(e,r,t.toString()):this.node.setAttribute(r,t.toString()),this.rebuild&&(r==="font-size"||r==="x")&&this.rebuild()}}return this}class zi extends Ps{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return t=qr(t),t.removeNamespace&&this.node instanceof Ie.window.SVGElement&&t.removeNamespace(),e==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return qr(t).put(this,e)}children(){return new _a(zv(this.node.children,function(t){return xn(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let n=this.node.cloneNode(t);return e&&(n=ax(n)),new this.constructor(n)}each(t,e){const n=this.children();let i,a;for(i=0,a=n.length;i<a;i++)t.apply(n[i],[i,n]),e&&n[i].each(t,e);return this}element(t,e){return this.put(new zi(fs(t),e))}first(){return xn(this.node.firstChild)}get(t){return xn(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,sz)}id(t){return typeof t=="undefined"&&!this.node.id&&(this.node.id=ix(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return xn(this.node.lastChild)}matches(t){const e=this.node,n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=xn(e.node.parentNode),!t)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=xn(e.node.parentNode));return e}put(t,e){return t=qr(t),this.add(t,e),t}putIn(t,e){return qr(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=qr(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const n=10**t,i=this.attr(e);for(const a in i)typeof i[a]=="number"&&(i[a]=Math.round(i[a]*n)/n);return this.attr(i),this}svg(t,e){return this.xml(t,e,Ov)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const n=e.index(this);return e.put(t,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,n){if(typeof t=="boolean"&&(n=e,e=t,t=null),t==null||typeof t=="function"){e=e==null?!0:e,this.writeDataToDom();let s=this;if(t!=null){if(s=xn(s.node.cloneNode(!0)),e){const u=t(s);if(s=u||s,u===!1)return""}s.each(function(){const u=t(this),h=u||this;u===!1?this.remove():u&&this!==h&&this.replace(h)},!0)}return e?s.node.outerHTML:s.node.innerHTML}e=e==null?!1:e;const i=fs("wrapper",n),a=Ie.document.createDocumentFragment();i.innerHTML=t;for(let s=i.children.length;s--;)a.appendChild(i.firstElementChild);const o=this.parent();return e?this.replace(a)&&o:this.add(a)}}Me(zi,{attr:lO,find:tO,findOne:eO});Le(zi,"Dom");class Qn extends zi{constructor(t,e){var n,i;super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData((i=(n=JSON.parse(t.getAttribute("data-svgjs")))!=null?n:JSON.parse(t.getAttribute("svgjs:data")))!=null?i:{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new ce(t).plus(this.x()))}dy(t=0){return this.y(new ce(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=qr(t));const n=new _a;let i=this;for(;(i=i.parent())&&i.node!==Ie.document&&i.nodeName!=="#document-fragment"&&(n.push(i),!(!e&&i.node===t.node||e&&i.matches(t)));)if(i.node===this.root().node)return null;return n}reference(t){if(t=this.attr(t),!t)return null;const e=(t+"").match(Cz);return e?qr(e[1]):null}root(){const t=this.parent(uz(Vv));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const n=bo(this,t,e);return this.width(new ce(n.width)).height(new ce(n.height))}width(t){return this.attr("width",t)}writeDataToDom(){return nx(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}Me(Qn,{bbox:jz,rbox:Kz,inside:Jz,point:Zz,ctm:qz,screenCTM:Yz});Le(Qn,"Element");const Bo={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(r,t){return t==="color"?r:r+"-"+t}};["fill","stroke"].forEach(function(r){const t={};let e;t[r]=function(n){if(typeof n=="undefined")return this.attr(r);if(typeof n=="string"||n instanceof Ne||Ne.isRgb(n)||n instanceof Qn)this.attr(r,n);else for(e=Bo[r].length-1;e>=0;e--)n[Bo[r][e]]!=null&&this.attr(Bo.prefix(r,Bo[r][e]),n[Bo[r][e]]);return this},me(["Element","Runner"],t)});me(["Element","Runner"],{matrix:function(r,t,e,n,i,a){return r==null?new Jt(this):this.attr("transform",new Jt(r,t,e,n,i,a))},rotate:function(r,t,e){return this.transform({rotate:r,ox:t,oy:e},!0)},skew:function(r,t,e,n){return arguments.length===1||arguments.length===3?this.transform({skew:r,ox:t,oy:e},!0):this.transform({skew:[r,t],ox:e,oy:n},!0)},shear:function(r,t,e){return this.transform({shear:r,ox:t,oy:e},!0)},scale:function(r,t,e,n){return arguments.length===1||arguments.length===3?this.transform({scale:r,ox:t,oy:e},!0):this.transform({scale:[r,t],ox:e,oy:n},!0)},translate:function(r,t){return this.transform({translate:[r,t]},!0)},relative:function(r,t){return this.transform({relative:[r,t]},!0)},flip:function(r="both",t="center"){return"xybothtrue".indexOf(r)===-1&&(t=r,r="both"),this.transform({flip:r,origin:t},!0)},opacity:function(r){return this.attr("opacity",r)}});me("radius",{radius:function(r,t=r){return(this._element||this).type==="radialGradient"?this.attr("r",new ce(r)):this.rx(r).ry(t)}});me("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(r){return new gr(this.node.getPointAtLength(r))}});me(["Element","Runner"],{font:function(r,t){if(typeof r=="object"){for(t in r)this.font(t,r[t]);return this}return r==="leading"?this.leading(t):r==="anchor"?this.attr("text-anchor",t):r==="size"||r==="family"||r==="weight"||r==="stretch"||r==="variant"||r==="style"?this.attr("font-"+r,t):this.attr(r,t)}});const uO=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(r,t){const e=function(n){return n===null?this.off(t):this.on(t,n),this};return r[t]=e,r},{});me("Element",uO);function hO(){return this.attr("transform",null)}function fO(){return(this.attr("transform")||"").split(Az).slice(0,-1).map(function(t){const e=t.trim().split("(");return[e[0],e[1].split(vi).map(function(n){return parseFloat(n)})]}).reverse().reduce(function(t,e){return e[0]==="matrix"?t.lmultiply(Jt.fromArray(e[1])):t[e[0]].apply(t,e[1])},new Jt)}function cO(r,t){if(this===r)return this;if(vc(this.node))return this.addTo(r,t);const e=this.screenCTM(),n=r.screenCTM().inverse();return this.addTo(r,t).untransform().transform(n.multiply(e)),this}function vO(r){return this.toParent(this.root(),r)}function dO(r,t){if(r==null||typeof r=="string"){const i=new Jt(this).decompose();return r==null?i:i[r]}Jt.isMatrixLike(r)||(r={...r,origin:cc(r,this)});const e=t===!0?this:t||!1,n=new Jt(e).transform(r);return this.attr("transform",n)}me("Element",{untransform:hO,matrixify:fO,toParent:cO,toRoot:vO,transform:dO});class on extends Qn{flatten(){return this.each(function(){if(this instanceof on)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=e===-1?t.children().length:e,this.each(function(n,i){return i[i.length-n-1].toParent(t,e)}),this.remove()}}Le(on,"Container");class Fv extends on{constructor(t,e=t){super(je("defs",t),e)}flatten(){return this}ungroup(){return this}}Le(Fv,"Defs");class cn extends Qn{}Le(cn,"Shape");function Hv(r){return this.attr("rx",r)}function $v(r){return this.attr("ry",r)}function cx(r){return r==null?this.cx()-this.rx():this.cx(r+this.rx())}function vx(r){return r==null?this.cy()-this.ry():this.cy(r+this.ry())}function dx(r){return this.attr("cx",r)}function px(r){return this.attr("cy",r)}function gx(r){return r==null?this.rx()*2:this.rx(new ce(r).divide(2))}function mx(r){return r==null?this.ry()*2:this.ry(new ce(r).divide(2))}var pO=Object.freeze(Object.defineProperty({__proto__:null,rx:Hv,ry:$v,x:cx,y:vx,cx:dx,cy:px,width:gx,height:mx},Symbol.toStringTag,{value:"Module"}));class Au extends cn{constructor(t,e=t){super(je("ellipse",t),e)}size(t,e){const n=bo(this,t,e);return this.rx(new ce(n.width).divide(2)).ry(new ce(n.height).divide(2))}}Me(Au,pO);me("Container",{ellipse:Xe(function(r=0,t=r){return this.put(new Au).size(r,t).move(0,0)})});Le(Au,"Ellipse");class yx extends zi{constructor(t=Ie.document.createDocumentFragment()){super(t)}xml(t,e,n){if(typeof t=="boolean"&&(n=e,e=t,t=null),t==null||typeof t=="function"){const i=new zi(fs("wrapper",n));return i.add(this.node.cloneNode(!0)),i.xml(!1,n)}return super.xml(t,!1,n)}}Le(yx,"Fragment");function _x(r,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new ce(r),fy:new ce(t)}):this.attr({x1:new ce(r),y1:new ce(t)})}function xx(r,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new ce(r),cy:new ce(t)}):this.attr({x2:new ce(r),y2:new ce(t)})}var gO=Object.freeze(Object.defineProperty({__proto__:null,from:_x,to:xx},Symbol.toStringTag,{value:"Module"}));class ks extends on{constructor(t,e){super(je(t+"Gradient",typeof t=="string"?null:t),e)}attr(t,e,n){return t==="transform"&&(t="gradientTransform"),super.attr(t,e,n)}bbox(){return new Nr}targets(){return wo("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}Me(ks,gO);me({Container:{gradient(...r){return this.defs().gradient(...r)}},Defs:{gradient:Xe(function(r,t){return this.put(new ks(r)).update(t)})}});Le(ks,"Gradient");class cs extends on{constructor(t,e=t){super(je("pattern",t),e)}attr(t,e,n){return t==="transform"&&(t="patternTransform"),super.attr(t,e,n)}bbox(){return new Nr}targets(){return wo("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}me({Container:{pattern(...r){return this.defs().pattern(...r)}},Defs:{pattern:Xe(function(r,t,e){return this.put(new cs).update(e).attr({x:0,y:0,width:r,height:t,patternUnits:"userSpaceOnUse"})})}});Le(cs,"Pattern");class Tu extends cn{constructor(t,e=t){super(je("image",t),e)}load(t,e){if(!t)return this;const n=new Ie.window.Image;return dc(n,"load",function(i){const a=this.parent(cs);this.width()===0&&this.height()===0&&this.size(n.width,n.height),a instanceof cs&&a.width()===0&&a.height()===0&&a.size(this.width(),this.height()),typeof e=="function"&&e.call(this,i)},this),dc(n,"load error",function(){Xa(n)}),this.attr("href",n.src=t,Ds)}}sO(function(r,t,e){return(r==="fill"||r==="stroke")&&Iz.test(t)&&(t=e.root().defs().image(t)),t instanceof Tu&&(t=e.root().defs().pattern(0,0,n=>{n.add(t)})),t});me({Container:{image:Xe(function(r,t){return this.put(new Tu).size(0,0).load(r,t)})}});Le(Tu,"Image");class Oi extends co{bbox(){let t=-1/0,e=-1/0,n=1/0,i=1/0;return this.forEach(function(a){t=Math.max(a[0],t),e=Math.max(a[1],e),n=Math.min(a[0],n),i=Math.min(a[1],i)}),new Nr(n,i,t-n,e-i)}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+t,this[i][1]+e];return this}parse(t=[0,0]){const e=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(vi).map(parseFloat),t.length%2!==0&&t.pop();for(let n=0,i=t.length;n<i;n=n+2)e.push([t[n],t[n+1]]);return e}size(t,e){let n;const i=this.bbox();for(n=this.length-1;n>=0;n--)i.width&&(this[n][0]=(this[n][0]-i.x)*t/i.width+i.x),i.height&&(this[n][1]=(this[n][1]-i.y)*e/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,n=this.length;e<n;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){Jt.isMatrixLike(t)||(t=new Jt(t));for(let e=this.length;e--;){const[n,i]=this[e];this[e][0]=t.a*n+t.c*i+t.e,this[e][1]=t.b*n+t.d*i+t.f}return this}}const mO=Oi;function yO(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)}function _O(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)}function xO(r){const t=this.bbox();return r==null?t.width:this.size(r,t.height)}function bO(r){const t=this.bbox();return r==null?t.height:this.size(t.width,r)}var Wv=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:mO,x:yO,y:_O,width:xO,height:bO},Symbol.toStringTag,{value:"Module"}));class vs extends cn{constructor(t,e=t){super(je("line",t),e)}array(){return new Oi([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,n,i){return t==null?this.array():(typeof e!="undefined"?t={x1:t,y1:e,x2:n,y2:i}:t=new Oi(t).toLine(),this.attr(t))}size(t,e){const n=bo(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}}Me(vs,Wv);me({Container:{line:Xe(function(...r){return vs.prototype.plot.apply(this.put(new vs),r[0]!=null?r:[0,0,0,0])})}});Le(vs,"Line");class Ql extends on{constructor(t,e=t){super(je("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}me({Container:{marker(...r){return this.defs().marker(...r)}},Defs:{marker:Xe(function(r,t,e){return this.put(new Ql).size(r,t).ref(r/2,t/2).viewbox(0,0,r,t).attr("orient","auto").update(e)})},marker:{marker(r,t,e,n){let i=["marker"];return r!=="all"&&i.push(r),i=i.join("-"),r=arguments[1]instanceof Ql?arguments[1]:this.defs().marker(t,e,n),this.attr(i,r)}}});Le(Ql,"Marker");function ja(r,t){return function(e){return e==null?this[r]:(this[r]=e,t&&t.call(this),this)}}const wO={"-":function(r){return r},"<>":function(r){return-Math.cos(r*Math.PI)/2+.5},">":function(r){return Math.sin(r*Math.PI/2)},"<":function(r){return-Math.cos(r*Math.PI/2)+1},bezier:function(r,t,e,n){return function(i){return i<0?r>0?t/r*i:e>0?n/e*i:0:i>1?e<1?(1-n)/(1-e)*i+(n-e)/(1-e):r<1?(1-t)/(1-r)*i+(t-r)/(1-r):1:3*i*(1-i)**2*t+3*i**2*(1-i)*n+i**3}},steps:function(r,t="end"){t=t.split("-").reverse()[0];let e=r;return t==="none"?--e:t==="both"&&++e,(n,i=!1)=>{let a=Math.floor(n*r);const o=n*a%1===0;return(t==="start"||t==="both")&&++a,i&&o&&--a,n>=0&&a<0&&(a=0),n<=1&&a>e&&(a=e),a/e}}};class Uv{done(){return!1}}class pc extends Uv{constructor(t=Zo.ease){super(),this.ease=wO[t]||t}step(t,e,n){return typeof t!="number"?n<1?t:e:t+(e-t)*this.ease(n)}}class tu extends Uv{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,n,i){return this.stepper(t,e,n,i)}}function o1(){const r=(this._duration||500)/1e3,t=this._overshoot||0,e=1e-10,n=Math.PI,i=Math.log(t/100+e),a=-i/Math.sqrt(n*n+i*i),o=3.9/(a*r);this.d=2*a*o,this.k=o*o}class SO extends tu{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,n,i){if(typeof t=="string")return t;if(i.done=n===1/0,n===1/0)return e;if(n===0)return t;n>100&&(n=16),n/=1e3;const a=i.velocity||0,o=-this.d*a-this.k*(t-e),s=t+a*n+o*n*n/2;return i.velocity=a+o*n,i.done=Math.abs(e-s)+Math.abs(a)<.002,i.done?e:s}}Me(SO,{duration:ja("_duration",o1),overshoot:ja("_overshoot",o1)});class MO extends tu{constructor(t=.1,e=.01,n=0,i=1e3){super(),this.p(t).i(e).d(n).windup(i)}step(t,e,n,i){if(typeof t=="string")return t;if(i.done=n===1/0,n===1/0)return e;if(n===0)return t;const a=e-t;let o=(i.integral||0)+a*n;const s=(a-(i.error||0))/n,u=this._windup;return u!==!1&&(o=Math.max(-u,Math.min(o,u))),i.error=a,i.integral=o,i.done=Math.abs(a)<.001,i.done?e:t+(this.P*a+this.I*o+this.D*s)}}Me(MO,{windup:ja("_windup"),p:ja("P"),i:ja("I"),d:ja("D")});const CO={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},gc={M:function(r,t,e){return t.x=e.x=r[0],t.y=e.y=r[1],["M",t.x,t.y]},L:function(r,t){return t.x=r[0],t.y=r[1],["L",r[0],r[1]]},H:function(r,t){return t.x=r[0],["H",r[0]]},V:function(r,t){return t.y=r[0],["V",r[0]]},C:function(r,t){return t.x=r[4],t.y=r[5],["C",r[0],r[1],r[2],r[3],r[4],r[5]]},S:function(r,t){return t.x=r[2],t.y=r[3],["S",r[0],r[1],r[2],r[3]]},Q:function(r,t){return t.x=r[2],t.y=r[3],["Q",r[0],r[1],r[2],r[3]]},T:function(r,t){return t.x=r[0],t.y=r[1],["T",r[0],r[1]]},Z:function(r,t,e){return t.x=e.x,t.y=e.y,["Z"]},A:function(r,t){return t.x=r[5],t.y=r[6],["A",r[0],r[1],r[2],r[3],r[4],r[5],r[6]]}},yf="mlhvqtcsaz".split("");for(let r=0,t=yf.length;r<t;++r)gc[yf[r]]=function(e){return function(n,i,a){if(e==="H")n[0]=n[0]+i.x;else if(e==="V")n[0]=n[0]+i.y;else if(e==="A")n[5]=n[5]+i.x,n[6]=n[6]+i.y;else for(let o=0,s=n.length;o<s;++o)n[o]=n[o]+(o%2?i.y:i.x);return gc[e](n,i,a)}}(yf[r].toUpperCase());function AO(r){const t=r.segment[0];return gc[t](r.segment.slice(1),r.p,r.p0)}function mc(r){return r.segment.length&&r.segment.length-1===CO[r.segment[0].toUpperCase()]}function TO(r,t){r.inNumber&&ta(r,!1);const e=Bv.test(t);if(e)r.segment=[t];else{const n=r.lastCommand,i=n.toLowerCase(),a=n===i;r.segment=[i==="m"?a?"l":"L":n]}return r.inSegment=!0,r.lastCommand=r.segment[0],e}function ta(r,t){if(!r.inNumber)throw new Error("Parser Error");r.number&&r.segment.push(parseFloat(r.number)),r.inNumber=t,r.number="",r.pointSeen=!1,r.hasExponent=!1,mc(r)&&yc(r)}function yc(r){r.inSegment=!1,r.absolute&&(r.segment=AO(r)),r.segments.push(r.segment)}function IO(r){if(!r.segment.length)return!1;const t=r.segment[0].toUpperCase()==="A",e=r.segment.length;return t&&(e===4||e===5)}function LO(r){return r.lastToken.toUpperCase()==="E"}const DO=new Set([" ",",","	",`
`,"\r","\f"]);function PO(r,t=!0){let e=0,n="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new gr,p:new gr};for(;i.lastToken=n,n=r.charAt(e++);)if(!(!i.inSegment&&TO(i,n))){if(n==="."){if(i.pointSeen||i.hasExponent){ta(i,!1),--e;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=n;continue}if(!isNaN(parseInt(n))){if(i.number==="0"||IO(i)){i.inNumber=!0,i.number=n,ta(i,!0);continue}i.inNumber=!0,i.number+=n;continue}if(DO.has(n)){i.inNumber&&ta(i,!1);continue}if(n==="-"||n==="+"){if(i.inNumber&&!LO(i)){ta(i,!1),--e;continue}i.number+=n,i.inNumber=!0;continue}if(n.toUpperCase()==="E"){i.number+=n,i.hasExponent=!0;continue}if(Bv.test(n)){if(i.inNumber)ta(i,!1);else if(mc(i))yc(i);else throw new Error("parser Error");--e}}return i.inNumber&&ta(i,!1),i.inSegment&&mc(i)&&yc(i),i.segments}function kO(r){let t="";for(let e=0,n=r.length;e<n;e++)t+=r[e][0],r[e][1]!=null&&(t+=r[e][1],r[e][2]!=null&&(t+=" ",t+=r[e][2],r[e][3]!=null&&(t+=" ",t+=r[e][3],t+=" ",t+=r[e][4],r[e][5]!=null&&(t+=" ",t+=r[e][5],t+=" ",t+=r[e][6],r[e][7]!=null&&(t+=" ",t+=r[e][7])))));return t+" "}class xa extends co{bbox(){return wi().path.setAttribute("d",this.toString()),new Nr(wi.nodes.path.getBBox())}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let i,a=this.length-1;a>=0;a--)i=this[a][0],i==="M"||i==="L"||i==="T"?(this[a][1]+=t,this[a][2]+=e):i==="H"?this[a][1]+=t:i==="V"?this[a][1]+=e:i==="C"||i==="S"||i==="Q"?(this[a][1]+=t,this[a][2]+=e,this[a][3]+=t,this[a][4]+=e,i==="C"&&(this[a][5]+=t,this[a][6]+=e)):i==="A"&&(this[a][6]+=t,this[a][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),PO(t)}size(t,e){const n=this.bbox();let i,a;for(n.width=n.width===0?1:n.width,n.height=n.height===0?1:n.height,i=this.length-1;i>=0;i--)a=this[i][0],a==="M"||a==="L"||a==="T"?(this[i][1]=(this[i][1]-n.x)*t/n.width+n.x,this[i][2]=(this[i][2]-n.y)*e/n.height+n.y):a==="H"?this[i][1]=(this[i][1]-n.x)*t/n.width+n.x:a==="V"?this[i][1]=(this[i][1]-n.y)*e/n.height+n.y:a==="C"||a==="S"||a==="Q"?(this[i][1]=(this[i][1]-n.x)*t/n.width+n.x,this[i][2]=(this[i][2]-n.y)*e/n.height+n.y,this[i][3]=(this[i][3]-n.x)*t/n.width+n.x,this[i][4]=(this[i][4]-n.y)*e/n.height+n.y,a==="C"&&(this[i][5]=(this[i][5]-n.x)*t/n.width+n.x,this[i][6]=(this[i][6]-n.y)*e/n.height+n.y)):a==="A"&&(this[i][1]=this[i][1]*t/n.width,this[i][2]=this[i][2]*e/n.height,this[i][6]=(this[i][6]-n.x)*t/n.width+n.x,this[i][7]=(this[i][7]-n.y)*e/n.height+n.y);return this}toString(){return kO(this)}}const bx=r=>{const t=typeof r;return t==="number"?ce:t==="string"?Ne.isColor(r)?Ne:vi.test(r)?Bv.test(r)?xa:co:ox.test(r)?ce:_c:Zv.indexOf(r.constructor)>-1?r.constructor:Array.isArray(r)?co:t==="object"?ds:_c};class ea{constructor(t){this._stepper=t||new pc("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,n){return e&&n},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(bx(t));let e=new this._type(t);return this._type===Ne&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===ds&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(n){return n.done=!0,n}),e}}class _c{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class Es{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,Es.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}Es.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const EO=(r,t)=>r[0]<t[0]?-1:r[0]>t[0]?1:0;class ds{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let n=0,i=e.length;n<i;++n){if(e[n+1]===t[n+1]){if(e[n+1]===Ne&&t[n+7]!==e[n+7]){const s=t[n+7],u=new Ne(this.values.splice(n+3,5))[s]().toArray();this.values.splice(n+3,0,...u)}n+=e[n+2]+2;continue}if(!t[n+1])return this;const a=new t[n+1]().toArray(),o=e[n+2]+3;e.splice(n,o,t[n],t[n+1],t[n+2],...a),n+=e[n+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const e=[];for(const n in t){const i=bx(t[n]),a=new i(t[n]).toArray();e.push([n,i,a.length,...a])}return e.sort(EO),this.values=e.reduce((n,i)=>n.concat(i),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const n=e.shift(),i=e.shift(),a=e.shift(),o=e.splice(0,a);t[n]=new i(o)}return t}}const Zv=[_c,Es,ds];function RO(r=[]){Zv.push(...[].concat(r))}function zO(){Me(Zv,{to(r){return new ea().type(this.constructor).from(this.toArray()).to(r)},fromArray(r){return this.init(r),this},toConsumable(){return this.toArray()},morph(r,t,e,n,i){const a=function(o,s){return n.step(o,t[s],e,i[s],i)};return this.fromArray(r.map(a))}})}class So extends cn{constructor(t,e=t){super(je("path",t),e)}array(){return this._array||(this._array=new xa(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new xa(t))}size(t,e){const n=bo(this,t,e);return this.attr("d",this.array().size(n.width,n.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}So.prototype.MorphArray=xa;me({Container:{path:Xe(function(r){return this.put(new So).plot(r||new xa)})}});Le(So,"Path");function OO(){return this._array||(this._array=new Oi(this.attr("points")))}function NO(){return delete this._array,this}function VO(r,t){return this.attr("points",this.array().move(r,t))}function BO(r){return r==null?this.array():this.clear().attr("points",typeof r=="string"?r:this._array=new Oi(r))}function GO(r,t){const e=bo(this,r,t);return this.attr("points",this.array().size(e.width,e.height))}var wx=Object.freeze(Object.defineProperty({__proto__:null,array:OO,clear:NO,move:VO,plot:BO,size:GO},Symbol.toStringTag,{value:"Module"}));class Rs extends cn{constructor(t,e=t){super(je("polygon",t),e)}}me({Container:{polygon:Xe(function(r){return this.put(new Rs).plot(r||new Oi)})}});Me(Rs,Wv);Me(Rs,wx);Le(Rs,"Polygon");class zs extends cn{constructor(t,e=t){super(je("polyline",t),e)}}me({Container:{polyline:Xe(function(r){return this.put(new zs).plot(r||new Oi)})}});Me(zs,Wv);Me(zs,wx);Le(zs,"Polyline");class Iu extends cn{constructor(t,e=t){super(je("rect",t),e)}}Me(Iu,{rx:Hv,ry:$v});me({Container:{rect:Xe(function(r,t){return this.put(new Iu).size(r,t)})}});Le(Iu,"Rect");class _f{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=typeof t.next!="undefined"?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const ze={nextDraw:null,frames:new _f,timeouts:new _f,immediates:new _f,timer:()=>Ie.window.performance||Ie.window.Date,transforms:[],frame(r){const t=ze.frames.push({run:r});return ze.nextDraw===null&&(ze.nextDraw=Ie.window.requestAnimationFrame(ze._draw)),t},timeout(r,t){t=t||0;const e=ze.timer().now()+t,n=ze.timeouts.push({run:r,time:e});return ze.nextDraw===null&&(ze.nextDraw=Ie.window.requestAnimationFrame(ze._draw)),n},immediate(r){const t=ze.immediates.push(r);return ze.nextDraw===null&&(ze.nextDraw=Ie.window.requestAnimationFrame(ze._draw)),t},cancelFrame(r){r!=null&&ze.frames.remove(r)},clearTimeout(r){r!=null&&ze.timeouts.remove(r)},cancelImmediate(r){r!=null&&ze.immediates.remove(r)},_draw(r){let t=null;const e=ze.timeouts.last();for(;(t=ze.timeouts.shift())&&(r>=t.time?t.run():ze.timeouts.push(t),t!==e););let n=null;const i=ze.frames.last();for(;n!==i&&(n=ze.frames.shift());)n.run(r);let a=null;for(;a=ze.immediates.shift();)a();ze.nextDraw=ze.timeouts.first()||ze.frames.first()?Ie.window.requestAnimationFrame(ze._draw):null}},FO=function(r){const t=r.start,e=r.runner.duration(),n=t+e;return{start:t,duration:e,end:n,runner:r.runner}},HO=function(){const r=Ie.window;return(r.performance||r.Date).now()};class Sx extends Ps{constructor(t=HO){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map(e=>e.start+e.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(t==null)return this.speed(-e);const n=Math.abs(e);return this.speed(t?-n:n)}schedule(t,e,n){if(t==null)return this._runners.map(FO);let i=0;const a=this.getEndTime();if(e=e||0,n==null||n==="last"||n==="after")i=a;else if(n==="absolute"||n==="start")i=e,e=0;else if(n==="now")i=this._time;else if(n==="relative"){const u=this.getRunnerInfoById(t.id);u&&(i=u.start+e,e=0)}else if(n==="with-last"){const u=this.getLastRunnerInfo();i=u?u.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const o=t.persist(),s={persist:o===null?this._persist:o,start:i+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(s),this._runners.sort((u,h)=>u.start-h.start),this._runnerIds=this._runners.map(u=>u.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0?this:(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return ze.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=ze.frame(this._step),this)}_stepFn(t=!1){const e=this._timeSource();let n=e-this._lastSourceTime;t&&(n=0);const i=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const s=this._runners[o],u=s.runner;this._time-s.start<=0&&u.reset()}let a=!1;for(let o=0,s=this._runners.length;o<s;o++){const u=this._runners[o],h=u.runner;let f=i;const v=this._time-u.start;if(v<=0){a=!0;continue}else v<f&&(f=v);if(!h.active())continue;h.step(f).done?u.persist!==!0&&h.duration()-h.time()+this._time+u.persist<this._time&&(h.unschedule(),--o,--s):a=!0}return a&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}me({Element:{timeline:function(r){return r==null?(this._timeline=this._timeline||new Sx,this._timeline):(this._timeline=r,this)}}});class hn extends Ps{constructor(t){super(),this.id=hn.id++,t=t==null?Zo.duration:t,t=typeof t=="function"?new tu(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof tu,this._stepper=this._isDeclarative?t:new pc,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Jt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,e,n){var s,u,h,f,v;let i=1,a=!1,o=0;return t=t!=null?t:Zo.duration,e=e!=null?e:Zo.delay,n=n||"last",typeof t=="object"&&!(t instanceof Uv)&&(e=(s=t.delay)!=null?s:e,n=(u=t.when)!=null?u:n,a=t.swing||a,i=(h=t.times)!=null?h:i,o=(f=t.wait)!=null?f:o,t=(v=t.duration)!=null?v:Zo.duration),{duration:t,delay:e,swing:a,times:i,wait:o,when:n}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,n){const i=hn.sanitise(t,e,n),a=new hn(i.duration);return this._timeline&&a.timeline(this._timeline),this._element&&a.element(this._element),a.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new Jt,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new pc(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,n){return typeof t=="object"&&(e=t.swing,n=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=n||0,this._times===!0&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(t==null){const o=Math.floor(this._time/e),u=(this._time-o*e)/this._duration;return Math.min(o+u,this._times)}const n=Math.floor(t),i=t%1,a=e*n+this._duration*i;return this.time(a)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const e=this._time,n=this._duration,i=this._wait,a=this._times,o=this._swing,s=this._reverse;let u;if(t==null){const g=function(m){const _=o*Math.floor(m%(2*(i+n))/(i+n)),b=_&&!s||!_&&s,S=Math.pow(-1,b)*(m%(i+n))/n+b;return Math.max(Math.min(S,1),0)},d=a*(i+n)-i;return u=e<=0?Math.round(g(1e-5)):e<d?g(e):Math.round(g(d-1e-5)),u}const h=Math.floor(this.loops()),f=o&&h%2===0;return u=h+(f&&!s||s&&f?t:1-t),this.loops(u)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,n,i){return this._queue.push({initialiser:t||a1,runner:e||a1,retarget:n,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t==null?!this._reverse:t,this}schedule(t,e,n){if(t instanceof Sx||(n=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,n),this}step(t){if(!this.enabled)return this;t=t==null?16:t,this._time+=t;const e=this.position(),n=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const i=this.duration(),a=this._lastTime<=0&&this._time>0,o=this._lastTime<i&&this._time>=i;this._lastTime=this._time,a&&this.fire("start",this);const s=this._isDeclarative;this.done=!s&&!o&&this._time>=i,this._reseted=!1;let u=!1;return(n||s)&&(this._initialise(n),this.transforms=new Jt,u=this._run(s?t:e),this.fire("step",this)),this.done=this.done||u&&s,o&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return typeof t=="undefined"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let e=0,n=this._queue.length;e<n;++e){const i=this._queue[e],a=this._isDeclarative||!i.initialised&&t;t=!i.finished,a&&t&&(i.initialiser.call(this),i.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const n=this.timeline();n&&n.play()}}_run(t){let e=!0;for(let n=0,i=this._queue.length;n<i;++n){const a=this._queue[n],o=a.runner.call(this,t);a.finished=a.finished||o===!0,e=e&&a.finished}return e}_tryRetarget(t,e,n){if(this._history[t]){if(!this._history[t].caller.initialised){const a=this._queue.indexOf(this._history[t].caller);return this._queue.splice(a,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,n):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}hn.id=0;class eu{constructor(t=new Jt,e=-1,n=!0){this.transforms=t,this.id=e,this.done=n}clearTransformsFromQueue(){}}Me([hn,eu],{mergeWith(r){return new eu(r.transforms.lmultiply(this.transforms),r.id)}});const Mx=(r,t)=>r.lmultiplyO(t),Cx=r=>r.transforms;function $O(){const t=this._transformationRunners.runners.map(Cx).reduce(Mx,new Jt);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class WO{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new eu).forEach(n=>n.clearTransformsFromQueue()),this}edit(t,e){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1,t+1),this.runners.splice(n,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const n=this.runners[e];if(t&&n.done&&t.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(n.id);const a=n.mergeWith(t);this.edit(t.id,a),t=a,--e}else t=n}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}me({Element:{animate(r,t,e){const n=hn.sanitise(r,t,e),i=this.timeline();return new hn(n.duration).loop(n).element(this).timeline(i.play()).schedule(n.delay,n.when)},delay(r,t){return this.animate(0,r,t)},_clearTransformRunnersBefore(r){this._transformationRunners.clearBefore(r.id)},_currentTransform(r){return this._transformationRunners.runners.filter(t=>t.id<=r.id).map(Cx).reduce(Mx,new Jt)},_addRunner(r){this._transformationRunners.add(r),ze.cancelImmediate(this._frameId),this._frameId=ze.immediate($O.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new WO().add(new eu(new Jt(this))))}}});const UO=(r,t)=>r.filter(e=>!t.includes(e));Me(hn,{attr(r,t){return this.styleAttr("attr",r,t)},css(r,t){return this.styleAttr("css",r,t)},styleAttr(r,t,e){if(typeof t=="string")return this.styleAttr(r,{[t]:e});let n=t;if(this._tryRetarget(r,n))return this;let i=new ea(this._stepper).to(n),a=Object.keys(n);return this.queue(function(){i=i.from(this.element()[r](a))},function(o){return this.element()[r](i.at(o).valueOf()),i.done()},function(o){const s=Object.keys(o),u=UO(s,a);if(u.length){const f=this.element()[r](u),v=new ds(i.from()).valueOf();Object.assign(v,f),i.from(v)}const h=new ds(i.to()).valueOf();Object.assign(h,o),i.to(h),a=s,n=o}),this._rememberMorpher(r,i),this},zoom(r,t){if(this._tryRetarget("zoom",r,t))return this;let e=new ea(this._stepper).to(new ce(r));return this.queue(function(){e=e.from(this.element().zoom())},function(n){return this.element().zoom(e.at(n),t),e.done()},function(n,i){t=i,e.to(n)}),this._rememberMorpher("zoom",e),this},transform(r,t,e){if(t=r.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",r))return this;const n=Jt.isMatrixLike(r);e=r.affine!=null?r.affine:e!=null?e:!n;const i=new ea(this._stepper).type(e?Es:Jt);let a,o,s,u,h;function f(){o=o||this.element(),a=a||cc(r,o),h=new Jt(t?void 0:o),o._addRunner(this),t||o._clearTransformRunnersBefore(this)}function v(d){t||this.clearTransform();const{x:m,y:_}=new gr(a).transform(o._currentTransform(this));let b=new Jt({...r,origin:[m,_]}),S=this._isDeclarative&&s?s:h;if(e){b=b.decompose(m,_),S=S.decompose(m,_);const A=b.rotate,D=S.rotate,V=[A-360,A,A+360],R=V.map(X=>Math.abs(X-D)),Z=Math.min(...R),j=R.indexOf(Z);b.rotate=V[j]}t&&(n||(b.rotate=r.rotate||0),this._isDeclarative&&u&&(S.rotate=u)),i.from(S),i.to(b);const I=i.at(d);return u=I.rotate,s=new Jt(I),this.addTransform(s),o._addRunner(this),i.done()}function g(d){(d.origin||"center").toString()!==(r.origin||"center").toString()&&(a=cc(d,o)),r={...d,origin:a}}return this.queue(f,v,g,!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(r){return this._queueNumber("x",r)},y(r){return this._queueNumber("y",r)},ax(r){return this._queueNumber("ax",r)},ay(r){return this._queueNumber("ay",r)},dx(r=0){return this._queueNumberDelta("x",r)},dy(r=0){return this._queueNumberDelta("y",r)},dmove(r,t){return this.dx(r).dy(t)},_queueNumberDelta(r,t){if(t=new ce(t),this._tryRetarget(r,t))return this;const e=new ea(this._stepper).to(t);let n=null;return this.queue(function(){n=this.element()[r](),e.from(n),e.to(n+t)},function(i){return this.element()[r](e.at(i)),e.done()},function(i){e.to(n+new ce(i))}),this._rememberMorpher(r,e),this},_queueObject(r,t){if(this._tryRetarget(r,t))return this;const e=new ea(this._stepper).to(t);return this.queue(function(){e.from(this.element()[r]())},function(n){return this.element()[r](e.at(n)),e.done()}),this._rememberMorpher(r,e),this},_queueNumber(r,t){return this._queueObject(r,new ce(t))},cx(r){return this._queueNumber("cx",r)},cy(r){return this._queueNumber("cy",r)},move(r,t){return this.x(r).y(t)},amove(r,t){return this.ax(r).ay(t)},center(r,t){return this.cx(r).cy(t)},size(r,t){let e;return(!r||!t)&&(e=this._element.bbox()),r||(r=e.width/e.height*t),t||(t=e.height/e.width*r),this.width(r).height(t)},width(r){return this._queueNumber("width",r)},height(r){return this._queueNumber("height",r)},plot(r,t,e,n){if(arguments.length===4)return this.plot([r,t,e,n]);if(this._tryRetarget("plot",r))return this;const i=new ea(this._stepper).type(this._element.MorphArray).to(r);return this.queue(function(){i.from(this._element.array())},function(a){return this._element.plot(i.at(a)),i.done()}),this._rememberMorpher("plot",i),this},leading(r){return this._queueNumber("leading",r)},viewbox(r,t,e,n){return this._queueObject("viewbox",new Nr(r,t,e,n))},update(r){return typeof r!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",r.offset),this)}});Me(hn,{rx:Hv,ry:$v,from:_x,to:xx});Le(hn,"Runner");class qv extends on{constructor(t,e=t){super(je("svg",t),e),this.namespace()}defs(){return this.isRoot()?xn(this.node.querySelector("defs"))||this.put(new Fv):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Ie.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Ov,version:"1.1"}).attr("xmlns:xlink",Ds,pf):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,pf).attr("xmlns:svgjs",null,pf)}root(){return this.isRoot()?this:super.root()}}me({Container:{nested:Xe(function(){return this.put(new qv)})}});Le(qv,"Svg",!0);class Yv extends on{constructor(t,e=t){super(je("symbol",t),e)}}me({Container:{symbol:Xe(function(){return this.put(new Yv)})}});Le(Yv,"Symbol");function ZO(r){return this._build===!1&&this.clear(),this.node.appendChild(Ie.document.createTextNode(r)),this}function qO(){return this.node.getComputedTextLength()}function YO(r,t=this.bbox()){return r==null?t.x:this.attr("x",this.attr("x")+r-t.x)}function XO(r,t=this.bbox()){return r==null?t.y:this.attr("y",this.attr("y")+r-t.y)}function jO(r,t,e=this.bbox()){return this.x(r,e).y(t,e)}function KO(r,t=this.bbox()){return r==null?t.cx:this.attr("x",this.attr("x")+r-t.cx)}function JO(r,t=this.bbox()){return r==null?t.cy:this.attr("y",this.attr("y")+r-t.cy)}function QO(r,t,e=this.bbox()){return this.cx(r,e).cy(t,e)}function tN(r){return this.attr("x",r)}function eN(r){return this.attr("y",r)}function rN(r,t){return this.ax(r).ay(t)}function nN(r){return this._build=!!r,this}var Ax=Object.freeze(Object.defineProperty({__proto__:null,plain:ZO,length:qO,x:YO,y:XO,move:jO,cx:KO,cy:JO,center:QO,ax:tN,ay:eN,amove:rN,build:nN},Symbol.toStringTag,{value:"Module"}));class Gn extends cn{constructor(t,e=t){var n;super(je("text",t),e),this.dom.leading=(n=this.dom.leading)!=null?n:new ce(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new ce(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const e=this;let n=0;const i=this.dom.leading;this.each(function(a){if(vc(this.node))return;const o=Ie.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=i*new ce(o);this.dom.newLined&&(this.attr("x",e.attr("x")),this.text()===`
`?n+=s:(this.attr("dy",a?s+n:0),n=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new ce(t.leading||1.3),this}writeDataToDom(){return nx(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const e=this.node.childNodes;let n=0;t="";for(let i=0,a=e.length;i<a;++i){if(e[i].nodeName==="textPath"||vc(e[i])){i===0&&(n=i+1);continue}i!==n&&e[i].nodeType!==3&&xn(e[i]).dom.newLined===!0&&(t+=`
`),t+=e[i].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let e=0,n=t.length;e<n;e++)this.newLine(t[e])}return this.build(!1).rebuild()}}Me(Gn,Ax);me({Container:{text:Xe(function(r=""){return this.put(new Gn).text(r)}),plain:Xe(function(r=""){return this.put(new Gn).plain(r)})}});Le(Gn,"Text");class Lu extends cn{constructor(t,e=t){super(je("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Gn))return this;const e=t.index(this),n=Ie.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=t.dom.leading*new ce(n);return this.dy(e?i:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}Me(Lu,Ax);me({Tspan:{tspan:Xe(function(r=""){const t=new Lu;return this._build||this.clear(),this.put(t).text(r)})},Text:{newLine:function(r=""){return this.tspan(r).newLine()}}});Le(Lu,"Tspan");class Xv extends cn{constructor(t,e=t){super(je("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new ce(t).divide(2))}}Me(Xv,{x:cx,y:vx,cx:dx,cy:px,width:gx,height:mx});me({Container:{circle:Xe(function(r=0){return this.put(new Xv).size(r).move(0,0)})}});Le(Xv,"Circle");class xc extends on{constructor(t,e=t){super(je("clipPath",t),e)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return wo("svg [clip-path*="+this.id()+"]")}}me({Container:{clip:Xe(function(){return this.defs().put(new xc)})},Element:{clipper(){return this.reference("clip-path")},clipWith(r){const t=r instanceof xc?r:this.parent().clip().add(r);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});Le(xc,"ClipPath");class Tx extends Qn{constructor(t,e=t){super(je("foreignObject",t),e)}}me({Container:{foreignObject:Xe(function(r,t){return this.put(new Tx).size(r,t)})}});Le(Tx,"ForeignObject");function iN(r,t){return this.children().forEach(e=>{let n;try{n=e.node instanceof lz().SVGSVGElement?new Nr(e.attr(["x","y","width","height"])):e.bbox()}catch{return}const i=new Jt(e),a=i.translate(r,t).transform(i.inverse()),o=new gr(n.x,n.y).transform(a);e.move(o.x,o.y)}),this}function aN(r){return this.dmove(r,0)}function oN(r){return this.dmove(0,r)}function sN(r,t=this.bbox()){return r==null?t.height:this.size(t.width,r,t)}function lN(r=0,t=0,e=this.bbox()){const n=r-e.x,i=t-e.y;return this.dmove(n,i)}function uN(r,t,e=this.bbox()){const n=bo(this,r,t,e),i=n.width/e.width,a=n.height/e.height;return this.children().forEach(o=>{const s=new gr(e).transform(new Jt(o).inverse());o.scale(i,a,s.x,s.y)}),this}function hN(r,t=this.bbox()){return r==null?t.width:this.size(r,t.height,t)}function fN(r,t=this.bbox()){return r==null?t.x:this.move(r,t.y,t)}function cN(r,t=this.bbox()){return r==null?t.y:this.move(t.x,r,t)}var Ix=Object.freeze(Object.defineProperty({__proto__:null,dmove:iN,dx:aN,dy:oN,height:sN,move:lN,size:uN,width:hN,x:fN,y:cN},Symbol.toStringTag,{value:"Module"}));class jv extends on{constructor(t,e=t){super(je("g",t),e)}}Me(jv,Ix);me({Container:{group:Xe(function(){return this.put(new jv)})}});Le(jv,"G");class ru extends on{constructor(t,e=t){super(je("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,Ds)}}Me(ru,Ix);me({Container:{link:Xe(function(r){return this.put(new ru).to(r)})},Element:{unlink(){const r=this.linker();if(!r)return this;const t=r.parent();if(!t)return this.remove();const e=t.index(r);return t.add(this,e),r.remove(),this},linkTo(r){let t=this.linker();return t||(t=new ru,this.wrap(t)),typeof r=="function"?r.call(t,t):t.to(r),this},linker(){const r=this.parent();return r&&r.node.nodeName.toLowerCase()==="a"?r:null}}});Le(ru,"A");class bc extends on{constructor(t,e=t){super(je("mask",t),e)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return wo("svg [mask*="+this.id()+"]")}}me({Container:{mask:Xe(function(){return this.defs().put(new bc)})},Element:{masker(){return this.reference("mask")},maskWith(r){const t=r instanceof bc?r:this.parent().mask().add(r);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});Le(bc,"Mask");class Lx extends Qn{constructor(t,e=t){super(je("stop",t),e)}update(t){return(typeof t=="number"||t instanceof ce)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new ce(t.offset)),this}}me({Gradient:{stop:function(r,t,e){return this.put(new Lx).update(r,t,e)}}});Le(Lx,"Stop");function vN(r,t){if(!r)return"";if(!t)return r;let e=r+"{";for(const n in t)e+=az(n)+":"+t[n]+";";return e+="}",e}class wc extends Qn{constructor(t,e=t){super(je("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,n={}){return this.rule("@font-face",{fontFamily:t,src:e,...n})}rule(t,e){return this.addText(vN(t,e))}}me("Dom",{style(r,t){return this.put(new wc).rule(r,t)},fontface(r,t,e){return this.put(new wc).font(r,t,e)}});Le(wc,"Style");class Kv extends Gn{constructor(t,e=t){super(je("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let n=null;return e&&(n=e.plot(t)),t==null?n:this}track(){return this.reference("href")}}me({Container:{textPath:Xe(function(r,t){return r instanceof Gn||(r=this.text(r)),r.path(t)})},Text:{path:Xe(function(r,t=!0){const e=new Kv;r instanceof So||(r=this.defs().path(r)),e.attr("href","#"+r,Ds);let n;if(t)for(;n=this.node.firstChild;)e.node.appendChild(n);return this.put(e)}),textPath(){return this.findOne("textPath")}},Path:{text:Xe(function(r){return r instanceof Gn||(r=new Gn().addTo(this.parent()).text(r)),r.path(this)}),targets(){return wo("svg textPath").filter(r=>(r.attr("href")||"").includes(this.id()))}}});Kv.prototype.MorphArray=xa;Le(Kv,"TextPath");class Dx extends cn{constructor(t,e=t){super(je("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,Ds)}}me({Container:{use:Xe(function(r,t){return this.put(new Dx).use(r,t)})}});Le(Dx,"Use");const dN=qr;Me([qv,Yv,Tu,cs,Ql],an("viewbox"));Me([vs,zs,Rs,So],an("marker"));Me(Gn,an("Text"));Me(So,an("Path"));Me(Fv,an("Defs"));Me([Gn,Lu],an("Tspan"));Me([Iu,Au,ks,hn],an("radius"));Me(Ps,an("EventTarget"));Me(zi,an("Dom"));Me(Qn,an("Element"));Me(cn,an("Shape"));Me([on,yx],an("Container"));Me(ks,an("Gradient"));Me(hn,an("Runner"));_a.extend(nz());RO([ce,Ne,Nr,Jt,co,Oi,xa,gr]);zO();const Jv=fi({name:"WallExteriorEl",props:{item:{type:Object,default:()=>{}}},emits:["updateWeldModel"],setup(r,{emit:t}){const e=tn(()=>{let a=r.item.width,o=r.item.height,s=r.item.translate[0],u=r.item.translate[1],h=0,f=r.item.height+60,v=r.item.width,g=r.item.height+60,d=r.item.settings.strokeWidth,m=r.item.rotate;r.item.showDimensions;let _=`M${h},${f} L${v},${g}`;return{width:a,height:o,trsX:s,trsY:u,Mx:h,My:f,Lx:v,Ly:g,path:_,strokeWidth:d,rotate:m}}),n=()=>({width:r.item.width,height:11+60,margin:-60}),i=tn(()=>n().margin+"px");return Ni(()=>{const a=Qr(null),o=n();a.value=dN().addTo(`#wall_${r.item.id}`).size(o.width,o.height);const s=h=>{const f=a.value.group(),v=f.group(),g=f.group(),d=f.group();v.path(h.path).fill("none").stroke({color:"#000",width:h.strokeWidth});const m=()=>{const b=r.item.height+5,S=h.width/2-20-5<5?5:h.width/2-20-5,I=h.width/2-5+3*20>h.width-5?h.width-5:h.width/2-5+3*20;let A=`M${5},${h.My-b} L${5},${h.My-b-35} L${S},${h.My-b-35}
                        M${I},${h.My-b-35} L${h.width-5},${h.My-b-35} L${h.width-5},${h.My-b}`;g.path(A).fill("none").stroke({color:"#848687",width:1}).fill("none").stroke({width:1,color:"#848687"});const D=80,V=12,R=(h.width-2*5-20)/2,Z=h.My-b-40;d.rect(D,V).move(R,Z).fill("none").stroke({width:0}).attr({visibility:"hidden","no-export":1});const j=h.width.toFixed(2),X=h.rotate.toFixed(2);let et=`${j}' ${X}"`;d.text(et).font({family:"Arial",size:10,anchor:"start",fill:"#000"}).move(R,Z)};r.item.showDimensions&&m()},u=h=>{console.log("AutoJoinWall refreshSvg",e),a.value.clear();const f=n();console.log("AutoJoinWall refreshSvg","newWidthHeight",f),a.value.size(f.width,f.height),s(h)};s(e.value),to(e,h=>{u(h)},{deep:!0})}),{svgData:e,getNewWidthHeight:n,margin:i}}}),s1=()=>{c1(r=>{var t,e,n;return{cfbd64d0:(n=(e=(t=r.props)==null?void 0:t.item)==null?void 0:e.settings)==null?void 0:n.bgColor,"3f9174ca":r.margin}})},l1=Jv.setup;Jv.setup=l1?(r,t)=>(s1(),l1(r,t)):s1;const pN=Jv,gN=["id","width","height"];function mN(r,t,e,n,i,a){return Rt(),Ke("div",{id:`wall_${r.item.id}`,class:Sb(["wall-exterior",{"flex flex-col flex-nowrap":!0,[r.item.type]:r.item.type,"with-bg":r.item.settings.bgColor}]),width:r.getNewWidthHeight().width,height:r.getNewWidthHeight().height},null,10,gN)}var UN=wa(pN,[["render",mN],["__scopeId","data-v-18473b86"]]);fi({name:"NewTopBar",props:{locked:{type:Boolean,default:!1},grpNav:{type:Array,default:()=>[]}},emits:["navGoBack","lockToggle"],setup(r,{emit:t}){const e=Mb(),n=Cb(),i=()=>{t("navGoBack")},a=()=>{t("lockToggle")},o=()=>{console.log("Redirecting to login from:",n.path),e.push({path:"/login",query:{redirect:n.path}})};return{tab:Qr("home"),navGoBack:i,lockToggle:a,navigateToLogin:o}}});const yN=fi({name:"DeviceInfo",props:{deviceModel:{type:Object}},emits:["updateDeviceModel","testSendMsg"],data(){return{treeData:[{id:1,name:"Node 1",children:[{id:2,name:"Child 1"},{id:3,name:"Child 2"}]},{id:4,name:"Node 2",children:[{id:5,name:"Child 3"}]}],listData:[{id:1,name:"Item 1"},{id:2,name:"Item 2"},{id:3,name:"Item 3"}]}},setup(r,{emit:t}){var R,Z,j;const e=ty(),n=Qr(""),i=Qr(null),a=Qr(""),o=Qr([""]),s=Qr(["All Devices"]),u="No devices available",h=Qd.deviceList,f=Qd.graphicList,v=Qr({device:"",deviceId:-1,serialNumber:-1,graphic:-1,graphicFull:{id:-1,fullLabel:"",label:"",elementCount:""}}),g=(X,et)=>{if(!et)return!0;const it=et.toLowerCase(),ht=X.label;return!ht||typeof ht!="string"?!1:ht.toLowerCase().indexOf(it)>-1},d=()=>{n.value="",i.value.focus()},m=()=>{v.value.graphic=-1,v.value.graphicFull={id:-1,fullLabel:"",label:"",elementCount:""}},_=X=>{const et=X!=null?Number(X):-1;v.value.graphic=et;const it=f.value.find(vt=>vt.id===X);it&&(v.value.graphicFull.id=it.id,v.value.graphicFull.fullLabel=it.fullLabel,v.value.graphicFull.label=it.label,v.value.graphicFull.elementCount=it.elementCount),v.value.deviceId},b=X=>{var vt,st;const et=mt=>{mt.forEach(lt=>{lt.label==="All Devices"?lt.icon="devices":lt.icon===void 0||lt.icon===null||(lt.icon="horizontal_rule"),lt.children&&et(lt.children)})},it=(mt,lt)=>{for(const Mt of mt){if(Mt.label===lt)return Mt;if(Mt.children){const xt=it(Mt.children,lt);if(xt)return xt}}return null};et(h.value);const ht=it(h.value,X);if(ht){ht.icon="check",v.value.device=ht.label;const mt=S(ht.label);v.value.deviceId=(vt=mt==null?void 0:mt.panel_number)!=null?vt:-1,v.value.serialNumber=(st=mt==null?void 0:mt.serial_number)!=null?st:-1}else X===null&&(v.value.device="",v.value.deviceId=-1,v.value.serialNumber=-1);if(m(),v.value.device!==""){const mt=v.value.deviceId,lt=v.value.graphic;if(pn.WsClient.GetPanelData(mt),lt<=0)return;pn.WsClient.GetInitialData(mt,lt,!1)}},S=X=>{const et=(it,ht)=>{for(const vt of it){if(vt.label===ht)return vt==null?void 0:vt.pl;if(vt.children){const st=et(vt.children,ht);if(st)return st}}return null};return et(h.value,X)},I=()=>{if(v.value.device===""||v.value.graphic===-1){e.notify({type:"negative",message:"Please select a device and a graphic"});return}else try{pn.WsClient.clearInitialDataInterval(),pn.DeviceOpt.saveCurrentDevice(v.value),pn.DeviceOpt.addPresetsData(),pn.WsClient.GetInitialData(v.value.deviceId,v.value.graphic,!0),t("updateDeviceModel",!1,v.value)}catch(X){e.notify({type:"negative",message:"= Dev test "+X});return}},A=X=>{t("testSendMsg",X)};Ni(()=>{const X=pn.DeviceOpt.getCurrentDevice();if(X!==null&&(v.value=X,pn.DeviceOpt.setDeviceAndGraphicDefaultData(X),a.value=X.device),h.value.length===0||f.value.length===0){const it="Can not load the device data. Please check whether the T3000 is running or not.";pn.QuasarUtil.setGlobalMsg("error",it,!0,"get_panel_list_data",null)}else pn.QuasarUtil.clearGlobalMsg("get_panel_list_data")});const D=()=>{pn.WsClient.GetPanelsList()},V=Qr((j=(Z=(R=Jd)==null?void 0:R.value)==null?void 0:Z.find(X=>X.msgType==="get_panel_list_data"))!=null?j:{});return to(Jd,X=>{var et;V.value=(et=X==null?void 0:X.find(it=>it.msgType==="get_panel_list_data"))!=null?et:{}},{deep:!0}),to([h,f],([X,et])=>{X.length>0&&et.length>0&&pn.QuasarUtil.clearGlobalMsg("get_panel_list_data")},{deep:!0}),{filter:n,filterRef:i,selected:a,ticked:o,expanded:s,dvList:h,myFilterMethod:g,resetFilter:d,graphicList:f,currentDevice:v,clearGraphicSelection:m,treeSelected:b,updateGraphicSelection:_,saveCurrentSelection:I,testSendMsg:A,noNodesLabel:u,reloadPanelsData:D,glMsg:V}}}),_N={class:".dvcontainer"},xN={key:0,class:"q-pa-sm row"},bN={class:"q-pa-sm row"},wN={class:"text-weight-medium select-text"},SN={class:"text-weight-medium select-text"},MN={class:"text-weight-medium select-text"},CN={class:"text-weight-medium select-text"},AN={class:"q-pa-sm row",style:{"margin-top":"-8px"}},TN={class:"col-12 col-sm-4"},IN={class:"col-12 col-sm-8",style:{"padding-left":"5px"}};function LN(r,t,e,n,i,a){const o=Ab("q-link");return Rt(),Ke("div",_N,[r.glMsg.isShow?(Rt(),Ke("div",xN,[nt(NS,{"inline-actions":"",class:"text-white bg-purple",style:{width:"100%"}},{action:ot(()=>[nt(Te,{flat:"",caption:"",color:"white",label:"Reload data",onClick:r.reloadPanelsData},null,8,["onClick"])]),default:ot(()=>[Wt(dr(r.glMsg.message)+" ",1)]),_:1})])):Wr("",!0),Y("div",bN,[nt(ii,{bordered:"",class:"rounded-borders col-12",style:{height:"50px"}},{default:ot(()=>[nt(Pe,null,{default:ot(()=>[nt(Dt,{top:"",class:"col-1"},{default:ot(()=>[nt(Ce,{class:"q-mt-sm text-weight-medium",style:{"font-size":"13px"}},{default:ot(()=>[Wt("Current:")]),_:1})]),_:1}),nt(Dt,{top:"",class:"col-3"},{default:ot(()=>[nt(Ce,{class:"q-mt-sm"},{default:ot(()=>[Wt(dr(r.currentDevice.device),1)]),_:1})]),_:1}),nt(Dt,{top:"",class:"col-1"},{default:ot(()=>[nt(Ce,{caption:"",class:"select-title"},{default:ot(()=>[Wt(" Graphic ")]),_:1}),nt(Ce,null,{default:ot(()=>[Y("span",wN,dr(r.currentDevice.graphicFull.id===-1?"":r.currentDevice.graphicFull.id),1)]),_:1})]),_:1}),nt(Dt,{top:"",class:"col-3"},{default:ot(()=>[nt(Ce,{caption:"",class:"select-title"},{default:ot(()=>[Wt(" Full label ")]),_:1}),nt(Ce,null,{default:ot(()=>[Y("span",SN,dr(r.currentDevice.graphicFull.fullLabel),1)]),_:1})]),_:1}),nt(Dt,{top:""},{default:ot(()=>[nt(Ce,{caption:"",class:"select-title"},{default:ot(()=>[Wt(" Label ")]),_:1}),nt(Ce,null,{default:ot(()=>[Y("span",MN,dr(r.currentDevice.graphicFull.label),1)]),_:1})]),_:1}),nt(Dt,{top:""},{default:ot(()=>[nt(Ce,{caption:"",class:"select-title"},{default:ot(()=>[Wt(" Element Count ")]),_:1}),nt(Ce,null,{default:ot(()=>[Y("span",CN,dr(r.currentDevice.graphicFull.elementCount),1)]),_:1})]),_:1}),nt(Dt,{avatar:"",top:""},{default:ot(()=>[nt(Ce,{caption:"",class:"select-title"},{default:ot(()=>[Wt(" Action ")]),_:1}),nt(o,{class:"text-primary",style:{"font-size":"12px","margin-top":"2px",cursor:"pointer"},onClick:r.saveCurrentSelection},{default:ot(()=>[Wt("Confirm "),nt(or,{anchor:"top middle",self:"center left"},{default:ot(()=>[Wt(" Confirm the current selection ")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),Y("div",AN,[Y("div",TN,[nt(Rn,{ref:"filterRef",filled:"",modelValue:r.filter,"onUpdate:modelValue":t[0]||(t[0]=s=>r.filter=s),placeholder:"Search here"},{append:ot(()=>[r.filter!==""?(Rt(),Zt(ai,{key:0,name:"clear",class:"cursor-pointer",onClick:r.resetFilter},null,8,["onClick"])):Wr("",!0),r.filter===""?(Rt(),Zt(ai,{key:1,name:"search"})):Wr("",!0)]),_:1},8,["modelValue"]),nt(yn,{color:"grey",style:{"margin-top":"2px","margin-bottom":"2px"}}),nt(VS,{nodes:r.dvList,noNodesLabel:r.noNodesLabel,"node-key":"label",selected:r.selected,"onUpdate:selected":[t[1]||(t[1]=s=>r.selected=s),r.treeSelected],ticked:r.ticked,"onUpdate:ticked":t[2]||(t[2]=s=>r.ticked=s),expanded:r.expanded,"onUpdate:expanded":t[3]||(t[3]=s=>r.expanded=s),filter:r.filter,"filter-method":r.myFilterMethod,accordion:!0,style:{"max-height":"326px","overflow-y":"auto"},"selected-color":"primary"},null,8,["nodes","noNodesLabel","selected","ticked","expanded","filter","filter-method","onUpdate:selected"])]),Y("div",IN,[nt(ii,{style:{background:"#f0f0f0","font-weight":"600","font-size":"13px"}},{default:ot(()=>[nt(Pe,{style:{padding:"0","min-height":"35px"}},{default:ot(()=>[nt(Dt,{top:"",class:"col-1"},{default:ot(()=>[nt(Ce,{style:{"margin-left":"5px","margin-top":"2px"}},{default:ot(()=>[nt(Te,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"remove",onClick:r.clearGraphicSelection},{default:ot(()=>[nt(or,{anchor:"top middle",self:"center right"},{default:ot(()=>[Wt(" Clear selection ")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),nt(Dt,{top:"",class:"col-1"},{default:ot(()=>[nt(Ce,{class:"q-mt-sm header-title"},{default:ot(()=>[Wt("Graphic")]),_:1})]),_:1}),nt(Dt,{top:"",class:"col-4"},{default:ot(()=>[nt(Ce,{class:"q-mt-sm header-title"},{default:ot(()=>[Wt("Full Label")]),_:1})]),_:1}),nt(Dt,{top:"",class:"col-3"},{default:ot(()=>[nt(Ce,{class:"q-mt-sm header-title"},{default:ot(()=>[Wt("Label")]),_:1})]),_:1}),nt(Dt,{top:"",class:"col-2"},{default:ot(()=>[nt(Ce,{class:"q-mt-sm header-title"},{default:ot(()=>[Wt("Element Count")]),_:1})]),_:1})]),_:1})]),_:1}),nt(yn,{color:"grey",style:{"margin-top":"2px","margin-bottom":"2px"}}),(Rt(!0),Ke(la,null,wl(r.graphicList,s=>(Rt(),Zt(ii,{key:s.id},{default:ot(()=>[nt(Pe,{tag:"label",style:{padding:"0px","min-height":"35px","border-bottom":"1px solid #f0f0f0","font-size":"13px"}},{default:ot(()=>[nt(Dt,{top:"",class:"col-1"},{default:ot(()=>[nt(Tb,{modelValue:r.currentDevice.graphic,"onUpdate:modelValue":[u=>r.currentDevice.graphic=u,r.updateGraphicSelection],val:s.id,color:"blue","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye"},null,8,["modelValue","onUpdate:modelValue","val"])]),_:2},1024),nt(Dt,{top:"",class:"col-1"},{default:ot(()=>[nt(Ce,{class:"graphic-label"},{default:ot(()=>[Wt(dr(s.id),1)]),_:2},1024)]),_:2},1024),nt(Dt,{top:"",class:"col-4"},{default:ot(()=>[nt(Ce,{class:"graphic-label"},{default:ot(()=>[Wt(dr(s.fullLabel),1)]),_:2},1024)]),_:2},1024),nt(Dt,{top:"",class:"col-3"},{default:ot(()=>[nt(Ce,{class:"graphic-label"},{default:ot(()=>[Wt(dr(s.label),1)]),_:2},1024)]),_:2},1024),nt(Dt,{top:"",class:"col-2"},{default:ot(()=>[nt(Ce,{class:"graphic-label"},{default:ot(()=>[Wt(dr(s.elementCount),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])])])}var ZN=wa(yN,[["render",LN],["__scopeId","data-v-6698bb08"]]);export{ZN as D,HN as H,FN as O,GN as T,$N as V,UN as W,WN as a,Vo as p};

import{Q as e}from"./QPage.0e95dcd5.js";import{d as a,h as t,a as l,o as n,n as i,e as s,a1 as o,a2 as r,a3 as u,a4 as c,aH as d,k as m,bT as p,aJ as v,a8 as f,a9 as g,c as h,C as y}from"./index.1af70167.js";import{c as x,R as b}from"./client.4c822375.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";import{G as R}from"./GrafanaTimeSeries.48f86ba2.js";import"./auto.4ae97206.js";import"./chartjs-adapter-date-fns.esm.6cd07d05.js";const C={class:"react-timeseries-container"},k={class:"panel-header"},D={class:"panel-title"},T={class:"panel-controls"},I={class:"panel-footer"},S={class:"footer-text"},M={class:"footer-text"};var B=E(a({__name:"GrafanaTimeSeriesReact",props:{title:{default:"React Time Series"},height:{default:400},updateInterval:{default:3e4},maxDataPoints:{default:50},timeRange:{default:"15m"}},setup(e){const a=e,f=t(!0),g=t(),h=t(a.timeRange),y=t((new Date).toLocaleTimeString()),E=t(),R=t(null),B=t([{name:"BMC01E1E-1P1B",color:"#FF6B6B",data:[],visible:!0},{name:"BMC01E1E-2P1B",color:"#4ECDC4",data:[],visible:!0},{name:"BMC01E1E-3P1B",color:"#45B7D1",data:[],visible:!0},{name:"BMC01E1E-4P1B",color:"#96CEB4",data:[],visible:!0},{name:"BMC01E1E-5P1B",color:"#FECA57",data:[],visible:!0}]),w=l((()=>B.value.reduce(((e,a)=>e+a.data.length),0))),P=l((()=>{const e={"5m":3e5,"15m":9e5,"30m":18e5,"1h":36e5};return e[h.value]||e["15m"]})),F=e=>{const a=Date.now()/1e3,t=65+3*Math.sin(a/100+e),l=4*(Math.random()-.5),n=Math.random()<.03?15*(Math.random()-.5):0;return Math.max(60,Math.min(70,t+[0,2,-1,1,-2][e]+l+n))},G=()=>{const e=Date.now(),t=Math.floor(P.value/a.updateInterval);B.value.forEach(((l,n)=>{l.data=[];for(let i=t;i>=0;i--){const t=e-i*a.updateInterval,s=F(n);l.data.push({timestamp:t,value:s})}}))},U=()=>{const e=Date.now(),t=e-P.value;B.value.forEach(((l,n)=>{const i=F(n);l.data.push({timestamp:e,value:i}),l.data=l.data.filter((e=>e.timestamp>=t)),l.data.length>a.maxDataPoints&&(l.data=l.data.slice(-a.maxDataPoints))})),y.value=(new Date).toLocaleTimeString(),L()},_=e=>{const a=B.value.find((a=>a.name===e));a&&(a.visible=!a.visible,L())},L=()=>{E.value&&R.value&&R.value.render((()=>{const e=B.value.filter((e=>e.visible));return b.createElement("div",{style:{width:"100%",height:"100%",background:"#1f2329",display:"flex",flexDirection:"column",fontFamily:"Inter, Arial, sans-serif",color:"#d9d9d9"}},[b.createElement("div",{key:"chart",style:{flex:1,position:"relative",padding:"20px",background:"#181b1f"}},[b.createElement("div",{key:"chart-content",style:{width:"100%",height:"100%",border:"1px solid #36414b",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"}},[b.createElement("h3",{key:"title",style:{margin:0,color:"#d9d9d9"}},"React Time Series Chart"),b.createElement("div",{key:"data-summary",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px",width:"100%",maxWidth:"600px"}},e.map((e=>{var a;return b.createElement("div",{key:e.name,style:{padding:"10px",background:"#262c35",borderRadius:"4px",borderLeft:`3px solid ${e.color}`}},[b.createElement("div",{key:"name",style:{fontWeight:"bold",fontSize:"12px"}},e.name),b.createElement("div",{key:"value",style:{fontSize:"14px",marginTop:"4px"}},e.data.length>0?`${null==(a=e.data[e.data.length-1])?void 0:a.value.toFixed(1)}¬∞C`:"No data"),b.createElement("div",{key:"points",style:{fontSize:"10px",color:"#8e8e8e",marginTop:"2px"}},`${e.data.length} points`)])})))])]),b.createElement("div",{key:"legend",style:{display:"flex",flexWrap:"wrap",gap:"16px",padding:"12px 20px",borderTop:"1px solid #36414b",background:"#1e2328"}},e.map((e=>b.createElement("div",{key:e.name,style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",cursor:"pointer"},onClick:()=>_(e.name)},[b.createElement("div",{key:"color",style:{width:"12px",height:"12px",borderRadius:"2px",backgroundColor:e.color}}),b.createElement("span",{key:"name"},e.name)]))))])})())},j=()=>{f.value=!f.value,f.value?z():H()},V=()=>{G(),L()},z=()=>{g.value&&clearInterval(g.value),g.value=setInterval(U,a.updateInterval)},H=()=>{g.value&&(clearInterval(g.value),g.value=void 0)};return n((async()=>{await i(),E.value&&(R.value=x.createRoot(E.value),G(),L(),f.value&&z())})),s((()=>{H(),R.value&&R.value.unmount()})),(e,a)=>(o(),r("div",C,[u("div",k,[u("div",D,c(e.title)+" (React Integration)",1),u("div",T,[u("button",{class:d(["control-button",{"control-button--primary":f.value}]),onClick:j},c(f.value?"Pause":"Resume"),3),m(u("select",{class:"control-select","onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),onChange:V},[...a[1]||(a[1]=[u("option",{value:"5m"},"Last 5 minutes",-1),u("option",{value:"15m"},"Last 15 minutes",-1),u("option",{value:"30m"},"Last 30 minutes",-1),u("option",{value:"1h"},"Last 1 hour",-1)])],544),[[p,h.value]])])]),u("div",{ref_key:"reactContainer",ref:E,class:"react-chart-container",style:v({height:e.height-80+"px"})},null,4),u("div",I,[u("span",S,"Last update: "+c(y.value),1),u("span",M,c(w.value)+" data points",1),a[2]||(a[2]=u("span",{class:"footer-text"},"React + Vue Integration Demo",-1))])]))}}),[["__scopeId","data-v-05d56e09"]]);const w={class:"demo-container"},P={class:"demo-grid"},F={class:"chart-panel large"},G={class:"chart-panel medium"},U={class:"chart-panel medium"},_={class:"config-panel"},L={class:"config-grid"},j={class:"config-item"},V={class:"config-item"},z={class:"config-item"},H={class:"config-item"};var W=E(a({name:"GrafanaReactDemo",__name:"GrafanaReactDemo",setup(a){const l=t(3e4),n=t("15m"),i=t("dark"),s=t(200);return(a,t)=>(o(),f(e,{class:"grafana-react-demo-page"},{default:g((()=>[t[15]||(t[15]=u("div",{class:"page-header"},[u("h1",null,"Grafana UI React Integration Demo"),u("p",null,"Using T3000 native charting with Vue 3 components")],-1)),u("div",w,[u("div",P,[u("div",F,[h(B,{title:"BMC Temperature Sensors (React + Vue)",height:450,"update-interval":3e4,"time-range":"15m"})]),u("div",G,[h(R,{title:"Canvas Version (Chart.js)",height:300,"update-interval":45e3,"time-range":"30m"})]),u("div",U,[h(B,{title:"High Frequency Updates (React)",height:300,"update-interval":15e3,"time-range":"5m"})])]),t[13]||(t[13]=u("div",{class:"info-panel"},[u("h3",null,"üîß Technical Implementation"),u("div",{class:"info-grid"},[u("div",{class:"info-item"},[u("h4",null,"React Integration"),u("ul",null,[u("li",null,"‚úÖ React 18 components in Vue 3"),u("li",null,"‚úÖ ReactDOM.createRoot() for rendering"),u("li",null,"‚úÖ Proper cleanup on unmount"),u("li",null,"‚úÖ Real-time data updates")])]),u("div",{class:"info-item"},[u("h4",null,"Grafana Data Structures"),u("ul",null,[u("li",null,[y("‚úÖ "),u("code",null,"T3000 Native Charts"),y(" v1.0.0")]),u("li",null,[y("‚úÖ "),u("code",null,"MutableDataFrame"),y(" for series")]),u("li",null,[y("‚úÖ "),u("code",null,"FieldType.time"),y(" and "),u("code",null,"FieldType.number")]),u("li",null,[y("‚úÖ "),u("code",null,"TimeRange"),y(" and "),u("code",null,"PanelData")])])]),u("div",{class:"info-item"},[u("h4",null,"Runtime Services"),u("ul",null,[u("li",null,[y("‚úÖ Mock "),u("code",null,"EchoSrv"),y(" for events")]),u("li",null,"‚úÖ Grafana theme configuration"),u("li",null,"‚úÖ Compatible data format"),u("li",null,"‚ö†Ô∏è Limited UI components (TypeScript issues)")])]),u("div",{class:"info-item"},[u("h4",null,"Data Features"),u("ul",null,[u("li",null,"üìä 7 temperature sensor series"),u("li",null,"üîÑ 30-second update intervals"),u("li",null,"üìà Real-time statistics (last, average, trend)"),u("li",null,"üé® Color-coded series visualization")])])])],-1)),u("div",_,[t[12]||(t[12]=u("h3",null,"‚öôÔ∏è Configuration",-1)),u("div",L,[u("div",j,[t[5]||(t[5]=u("label",null,"Update Interval:",-1)),m(u("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e)},[...t[4]||(t[4]=[u("option",{value:"5000"},"5 seconds",-1),u("option",{value:"15000"},"15 seconds",-1),u("option",{value:"30000"},"30 seconds",-1),u("option",{value:"60000"},"1 minute",-1)])],512),[[p,l.value]])]),u("div",V,[t[7]||(t[7]=u("label",null,"Time Range:",-1)),m(u("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e)},[...t[6]||(t[6]=[u("option",{value:"5m"},"5 minutes",-1),u("option",{value:"15m"},"15 minutes",-1),u("option",{value:"30m"},"30 minutes",-1),u("option",{value:"1h"},"1 hour",-1)])],512),[[p,n.value]])]),u("div",z,[t[9]||(t[9]=u("label",null,"Theme:",-1)),m(u("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e)},[...t[8]||(t[8]=[u("option",{value:"dark"},"Dark (Grafana)",-1),u("option",{value:"light"},"Light",-1)])],512),[[p,i.value]])]),u("div",H,[t[11]||(t[11]=u("label",null,"Data Points:",-1)),m(u("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e)},[...t[10]||(t[10]=[u("option",{value:"50"},"50 points",-1),u("option",{value:"100"},"100 points",-1),u("option",{value:"200"},"200 points",-1),u("option",{value:"500"},"500 points",-1)])],512),[[p,s.value]])])])]),t[14]||(t[14]=u("div",{class:"compatibility-panel"},[u("h3",null,"üîó Grafana Compatibility Status"),u("div",{class:"status-grid"},[u("div",{class:"status-item success"},[u("span",{class:"status-icon"},"‚úÖ"),u("div",null,[u("strong",null,"Data Structures"),u("p",null,"Full compatibility with Grafana DataFrame format")])]),u("div",{class:"status-item success"},[u("span",{class:"status-icon"},"‚úÖ"),u("div",null,[u("strong",null,"Time Handling"),u("p",null,"Uses Grafana's dateTime and TimeRange")])]),u("div",{class:"status-item warning"},[u("span",{class:"status-icon"},"‚ö†Ô∏è"),u("div",null,[u("strong",null,"UI Components"),u("p",null,"Limited by TypeScript compatibility issues")])]),u("div",{class:"status-item success"},[u("span",{class:"status-icon"},"‚úÖ"),u("div",null,[u("strong",null,"Runtime Services"),u("p",null,"Successfully mocked for standalone operation")])])])],-1))])])),_:1}))}}),[["__scopeId","data-v-1f66792e"]]);export{W as default};

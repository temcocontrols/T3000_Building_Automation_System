var e=Object.defineProperty,t=(t,n,i)=>(((t,n,i)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i})(t,"symbol"!=typeof n?n+"":n,i),i);import{Q as n}from"./QTooltip.7b927bbd.js";import{d as i,Y as r,Z as a,h as s,o,t as l,a4 as u,a5 as c,c as d,an as h,ao as f,$ as p,a0 as m,k as g,ap as v,aq as _,ar as y,a1 as w,F as b,as as x,at as M,au as k,av as C,e as S,a6 as E,w as D,aw as T,C as I,ax as A,ay as P,az as O,aA as N,u as L,aB as z,a as R,f as F,aC as H,aD as j,aE as V,a2 as B,a3 as U,aF as W,aG as $,S as G,r as Y,aH as q,Q as X,W as Z,aI as J,aJ as K}from"./index.2479820c.js";import{Q,a as ee}from"./QItem.5045c0eb.js";import{Q as te}from"./QItemLabel.48fb7d03.js";import{Q as ne}from"./QChip.9c9048aa.js";import{Q as ie,a as re}from"./QMenu.b1f3191a.js";import{Q as ae}from"./QPage.ca6c618b.js";import{Q as se}from"./touch.d0f8846f.js";import{Q as oe}from"./QSelect.bd8c6e15.js";import{K as le,g as ue,Q as ce,a as de,b as he,c as fe,T as pe,d as me,e as ge,f as ve}from"./QTree.a2f9aac4.js";import{C as _e}from"./ClosePopup.8cd54572.js";import{u as ye}from"./use-quasar.5414ee75.js";import{u as we}from"./use-meta.3f9a6d52.js";import{M as be,P as xe,i as Me,a as ke,E as Ce,s as Se,D as Ee,g as De,c as Te,b as Ie,d as Ae,e as Pe,f as Oe,h as Ne,j as Le,k as ze,r as Re,l as Fe,m as He,G as je,n as Ve,o as Be,p as Ue,q as We,t as $e,u as Ge,v as Ye,w as qe,x as Xe,y as Ze,z as Je,A as Ke,B as Qe,C as et,H as tt,T as nt,F as it,I as rt,J as at,K as st,O as ot,L as lt}from"./Hvac.9676eb4e.js";import{u as ut,d as ct,l as dt,g as ht,T as ft,i as pt,a as mt,b as gt,c as vt,m as _t,e as yt,f as wt,r as bt,v as xt,h as Mt,j as kt,k as Ct,s as St,n as Et,o as Dt,p as Tt,q as It}from"./T3Data.5fdf3c76.js";import{_ as At}from"./plugin-vue_export-helper.21dcd24c.js";import{D as Pt,U as Ot,I as Nt,F as Lt}from"./FileUploadS3.0f660ff3.js";import{Q as zt}from"./QBtnDropdown.4b86dd4e.js";import{Q as Rt}from"./QToolbar.aeb5ee8c.js";import{t as Ft,a as Ht,i as jt,s as Vt}from"./common.c3cd2713.js";import{Q as Bt}from"./QExpansionItem.f602ab45.js";import{Q as Ut}from"./QBtnGroup.c92d4431.js";import{I as Wt}from"./IdxUtils.bc820368.js";import{l as $t}from"./api.fc077189.js";import{g as Gt,a as Yt,c as qt,b as Xt}from"./_commonjsHelpers.a5007c1f.js";import"./index.e8ef0632.js";import{s as Zt,a as Jt,t as Kt,c as Qt,b as en,l as tn,r as nn,d as rn,m as an,e as sn,f as on,g as ln,h as un,i as cn,j as dn,k as hn}from"./RefConstant.89f892cc.js";import{d as fn}from"./dayjs.min.a4094c4f.js";import{f as pn}from"./TrendLogChart.e6a49dca.js";import{aD as mn,aG as gn,aC as vn,aB as _n}from"./index.38324610.js";import{ak as yn}from"./index.0b11a9d6.js";import{B as wn}from"./button.c7e1b3f5.js";import{_ as bn}from"./TrendLogModal.dd34b1d4.js";import"./position-engine.749107c1.js";import"./format.b9446fb2.js";import"./QResizeObserver.7a226e24.js";import"./index.cec6b9d9.js";import"./AntdIcon.b1331379.js";import"./index.30a730e9.js";import"./_getTag.1cdd9585.js";import"./install.00f124f0.js";import"./index.d11c4764.js";import"./ReloadOutlined.1999de9e.js";import"./CheckOutlined.1bef40aa.js";import"./Serializer.f6a5f515.js";const xn={};be.forEach((e=>{xn[e]=function(...t){return this.$_moveable[e](...t)}}));const Mn={};xe.forEach((e=>{Mn[e]=function(t){this.$_moveable[e]=t}}));const kn=i({name:"moveable",methods:xn,props:xe,watch:Mn,mounted(){const e={},t=this.$props;xe.forEach((n=>{const i=t[n];Me(i)||(e[n]=t[n])}));const n=this.$refs.moveableElement,i=new ke(n,{...e,warpSelf:!0});Ce.forEach((e=>{i.on(e,(t=>{this.$emit(e,{...t})}))})),this.$_moveable=i},beforeUnmount(){this.$_moveable.destroy()}}),Cn={ref:"moveableElement"};const Sn=((e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n})(kn,[["render",function(e,t,n,i,s,o){return r(),a("div",Cn,null,512)}]]);var En=function(e,t){return(En=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Dn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}En(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Tn=function(){return Tn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Tn.apply(this,arguments)};function In(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function An(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Pn(e,t,n){var i=e.tag,r=e.children,a=e.attributes,s=e.className,o=e.style,l=t||Oe(n).createElement(i);for(var u in a)l.setAttribute(u,a[u]);var c=l.children;if(r.forEach((function(e,t){Pn(e,c[t],l)})),s&&s.split(/\s+/g).forEach((function(e){e&&!$e(l,e)&&Ge(l,e)})),o){var d=l.style;for(var u in o)d[u]=o[u]}return!t&&n&&n.appendChild(l),l}function On(e,t,n){e!==t&&n(e,t)}function Nn(e,t,n){var i;void 0===n&&(n=e.data.boundArea);var r=e.distX,a=void 0===r?0:r,s=e.distY,o=void 0===s?0:s,l=e.data,u=l.startX,c=l.startY;if(t>0){var d=Math.sqrt((a*a+o*o)/(1+t*t));a=(a>=0?1:-1)*(t*d),o=(o>=0?1:-1)*d}var h=Math.abs(a),f=Math.abs(o),p=a<0?u-n.left:n.right-u,m=o<0?c-n.top:n.bottom-c;a=(a>=0?1:-1)*(h=(i=Ye([h,f],[0,0],[p,m],!!t))[0]),o=(o>=0?1:-1)*(f=i[1]);var g=u+Math.min(0,a),v=c+Math.min(0,o);return{left:g,top:v,right:g+h,bottom:v+f,width:h,height:f}}function Ln(e){var t=e.getBoundingClientRect(),n=t.left,i=t.top,r=t.width,a=t.height;return{pos1:[n,i],pos2:[n+r,i],pos3:[n,i+a],pos4:[n+r,i+a]}}function zn(e,t,n){var i=ze(e,t),r=i.list,a=i.prevList,s=i.added,o=i.removed,l=i.maintained;return An(An(An([],s.map((function(e){return r[e]})),!0),o.map((function(e){return a[e]})),!0),n?l.map((function(e){var t=e[1];return r[t]})):[],!0)}function Rn(e){for(var t=0,n=e.length,i=1;i<n;++i)t=Math.max(Qe(e[i],e[i-1]),t);return t}var Fn=Se("\n:host {\n    position: fixed;\n    display: none;\n    border: 1px solid #4af;\n    background: rgba(68, 170, 255, 0.5);\n    pointer-events: none;\n    will-change: transform;\n    z-index: 100;\n}\n"),Hn="selecto-selection ".concat(Fn.className),jn=["className","boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd","checkOverflow","innerScrollOptions"],Vn=An(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],jn,!0),Bn=["dragStart","drag","dragEnd","selectStart","select","selectEnd","keydown","keyup","scroll","innerScroll"],Un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dn(t,e),t}(function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.selectedTargets=[],n.dragScroll=new Ee,n._onDragStart=function(e,t){var i=e.data,r=e.clientX,a=e.clientY,s=e.inputEvent,o=n.options,l=o.selectFromInside,u=o.selectByClick,c=o.rootContainer,d=o.boundContainer,h=o.preventDragFromInside,f=void 0===h||h,p=o.clickBySelectEnd,m=o.dragCondition;if(!m||m(e)){i.data={};var g=De(n.container);i.innerWidth=g.innerWidth,i.innerHeight=g.innerHeight,n.findSelectableTargets(i),i.startSelectedTargets=n.selectedTargets,i.scaleMatrix=Te(),i.containerX=0,i.containerY=0;var v=n.container,_={left:-1/0,top:-1/0,right:1/0,bottom:1/0};if(c){var y=n.container.getBoundingClientRect();i.containerX=y.left,i.containerY=y.top,i.scaleMatrix=Ie(n.container,c)}if(d){var w=Ae(d)&&"element"in d?Tn({left:!0,top:!0,bottom:!0,right:!0},d):{element:d,left:!0,top:!0,bottom:!0,right:!0},b=w.element;if(b){var x=(Pe(b)?Oe(v).querySelector(b):!0===b?n.container:b).getBoundingClientRect();w.left&&(_.left=x.left),w.top&&(_.top=x.top),w.right&&(_.right=x.right),w.bottom&&(_.bottom=x.bottom)}}i.boundArea=_;var M={left:r,top:a,right:r,bottom:a,width:0,height:0},k=[],C=u&&!p,S=!1;if(!l||C){var E=n._findElement(t||s.target,i.selectableTargets);S=!!E,C&&(k=E?[E]:[])}var D=!l&&S;if(D&&!u)return e.stop(),!1;var T=s.type,I="mousedown"===T||"touchstart"===T;if(!(!(!e.isClick&&I)||n.emit("dragStart",Tn(Tn({},e),{data:i.data}))))return e.stop(),!1;if(n.continueSelect?(k=zn(n.selectedTargets,k,n.continueSelectWithoutDeselect),i.startPassedTargets=n.selectedTargets):i.startPassedTargets=[],n._select(k,M,e,!0,D&&u&&!p&&f),i.startX=r,i.startY=a,i.selectFlag=!1,i.preventDragFromInside=!1,s.target){var A=Ne(i.scaleMatrix,[r-i.containerX,a-i.containerY]);n.target.style.cssText+="position: ".concat(c?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(A[0],"px, ").concat(A[1],"px)")}if(D&&u&&!p)s.preventDefault(),f&&(n._selectEnd(i.startSelectedTargets,i.startPassedTargets,M,e,!0),i.preventDragFromInside=!0);else{i.selectFlag=!0;var P=n.options,O=P.scrollOptions,N=P.innerScrollOptions,L=!1;if(N){for(var z=null,R=e.inputEvent.target;R&&R!==Oe(v).body;){if("visible"!==getComputedStyle(R).overflow){z=R;break}R=R.parentElement}z&&(i.innerScrollOptions=Tn({container:z,checkScrollEvent:!0},!0===N?{}:N),n.dragScroll.dragStart(e,i.innerScrollOptions),L=!0)}!L&&O&&O.container&&n.dragScroll.dragStart(e,O),D&&u&&p&&(i.selectFlag=!1,e.preventDrag())}return!0}e.stop()},n._onDrag=function(e){if(e.data.selectFlag){var t=n.scrollOptions,i=e.data.innerScrollOptions;if((i||(null==t?void 0:t.container))&&!e.isScroll&&n.dragScroll.drag(e,i||t))return}n._checkSelected(e)},n._onDragEnd=function(e){var t,i,r,a,s=e.data,o=e.inputEvent,l=Nn(e,n.options.ratio),u=s.selectFlag,c=n.container;if(o&&n.emit("dragEnd",Tn(Tn({isDouble:!!e.isDouble,isClick:!!e.isClick,isDrag:!1,isSelect:u},e),{data:s.data,rect:l})),n.target.style.cssText+="display: none;",u)s.selectFlag=!1,n.dragScroll.dragEnd();else if(n.selectByClick&&n.clickBySelectEnd){var d=n._findElement((null==o?void 0:o.target)||(t=c,i=e.clientX,r=e.clientY,(a=Oe(t)).elementFromPoint&&a.elementFromPoint(i,r)||null),s.selectableTargets);n._select(d?[d]:[],l,e)}s.preventDragFromInside||n._selectEnd(s.startSelectedTargets,s.startPassedTargets,l,e)},n._onKeyDown=function(e){var t=n.options,i=!1;if(!n._keydownContinueSelect){var r=n._sameCombiKey(e,t.toggleContinueSelect);n._keydownContinueSelect=r,i||(i=r)}if(!n._keydownContinueSelectWithoutDeselection){r=n._sameCombiKey(e,t.toggleContinueSelectWithoutDeselect);n._keydownContinueSelectWithoutDeselection=r,i||(i=r)}i&&n.emit("keydown",{keydownContinueSelect:n._keydownContinueSelect,keydownContinueSelectWithoutDeselection:n._keydownContinueSelectWithoutDeselection})},n._onKeyUp=function(e){var t=n.options,i=!1;if(n._keydownContinueSelect){var r=n._sameCombiKey(e,t.toggleContinueSelect,!0);n._keydownContinueSelect=!r,i||(i=r)}if(n._keydownContinueSelectWithoutDeselection){r=n._sameCombiKey(e,t.toggleContinueSelectWithoutDeselect,!0);n._keydownContinueSelectWithoutDeselection=!r,i||(i=r)}i&&n.emit("keyup",{keydownContinueSelect:n._keydownContinueSelect,keydownContinueSelectWithoutDeselection:n._keydownContinueSelectWithoutDeselection})},n._onBlur=function(){(n._keydownContinueSelect||n._keydownContinueSelectWithoutDeselection)&&(n._keydownContinueSelect=!1,n._keydownContinueSelectWithoutDeselection=!1,n.emit("keyup",{keydownContinueSelect:n._keydownContinueSelect,keydownContinueSelectWithoutDeselection:n._keydownContinueSelectWithoutDeselection}))},n._onDocumentSelectStart=function(e){var t=Oe(n.container);if(n.gesto.isFlag()){var i=n.dragContainer;i===De(n.container)&&(i=t.documentElement);var r=Le(i)?[i]:[].slice.call(i),a=e.target;r.some((function(t){if(t===a||t.contains(a))return e.preventDefault(),!0}))}},n.target=t.portalContainer;var i=t.container;n.options=Tn({className:"",portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:null,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,checkOverflow:!1,innerScrollOptions:!1,getElementRect:Ln,cspNonce:"",ratio:0},t);var r=n.options.portalContainer;return r&&(i=r.parentElement),n.container=i||document.body,n.initElement(),n.initDragScroll(),n.setKeyController(),n}Dn(t,e);var n=t.prototype;return n.setSelectedTargets=function(e){var t=this.selectedTargets,n=ze(t,e),i=n.added,r=n.removed,a=n.prevList,s=n.list;return this.selectedTargets=e,{added:i.map((function(e){return s[e]})),removed:r.map((function(e){return a[e]})),beforeSelected:t,selected:e}},n.setSelectedTargetsByPoints=function(e,t){var n=Math.min(e[0],t[0]),i=Math.min(e[1],t[1]),r=Math.max(e[0],t[0]),a=Math.max(e[1],t[1]),s={left:n,top:i,right:r,bottom:a,width:r-n,height:a-i},o={ignoreClick:!0};this.findSelectableTargets(o);var l=this.hitTest(s,o,!0,null),u=this.setSelectedTargets(l);return Tn(Tn({},u),{rect:s})},n.selectTargetsByPoints=function(e,t){var n=new MouseEvent("mousedown",{clientX:e[0],clientY:e[1],cancelable:!0,bubbles:!0}),i=new MouseEvent("mousemove",{clientX:t[0],clientY:t[1],cancelable:!0,bubbles:!0}),r=new MouseEvent("mousemove",{clientX:t[0],clientY:t[1],cancelable:!0,bubbles:!0}),a=this.gesto;!1!==a.onDragStart(n)&&(a.onDrag(i),a.onDragEnd(r))},n.getSelectedTargets=function(){return this.selectedTargets},n.triggerDragStart=function(e){return this.gesto.triggerDragStart(e),this},n.destroy=function(){var e;this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),this.dragScroll.dragEnd(),Re(document,"selectstart",this._onDocumentSelectStart),this.options.portalContainer||null===(e=this.target.parentElement)||void 0===e||e.removeChild(this.target),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},n.getElementPoints=function(e){var t=this.getElementRect||Ln,n=t(e),i=[n.pos1,n.pos2,n.pos4,n.pos3];if(t!==Ln){var r=e.getBoundingClientRect();return Fe(i,r)}return i},n.getSelectableElements=function(){var e=this.container,t=[];return this.options.selectableTargets.forEach((function(n){if(He(n)){var i=n();i&&t.push.apply(t,[].slice.call(i))}else if(Le(n))t.push(n);else if(Ae(n))t.push(n.value||n.current);else{var r=[].slice.call(Oe(e).querySelectorAll(n));t.push.apply(t,r)}})),t},n.checkScroll=function(){if(this.gesto.isFlag()){var e=this.scrollOptions,t=this.gesto.getEventData().innerScrollOptions;(t||(null==e?void 0:e.container))&&this.dragScroll.checkScroll(Tn({inputEvent:this.gesto.getCurrentEvent()},t||e))}},n.findSelectableTargets=function(e){var t=this;void 0===e&&(e=this.gesto.getEventData());var n=this.getSelectableElements(),i=n.map((function(e){return t.getElementPoints(e)}));e.selectableTargets=n,e.selectablePoints=i,e.selectableParentMap=null;var r=this.options,a=r.checkOverflow||r.innerScrollOptions,s=Oe(this.container);if(a){var o=new Map;e.selectableInnerScrollParentMap=o,e.selectableInnerScrollPathsList=n.map((function(e,t){for(var n=e.parentElement,i=[],r=[],a=function(){var e=o.get(n);if(!e&&"visible"!==getComputedStyle(n).overflow){var a=Ln(n);e={parentElement:n,indexes:[],points:[a.pos1,a.pos2,a.pos4,a.pos3],paths:An([],r,!0)},i.push(n),i.forEach((function(t){o.set(t,e)})),i=[]}e?(n=e.parentElement,o.get(n).indexes.push(t),r.push(n)):i.push(n),n=n.parentElement};n&&n!==s.body;)a();return r}))}return r.checkOverflow||(e.selectableInners=n.map((function(){return!0}))),this._refreshGroups(e),n},n.clickTarget=function(e,t){var n=function(e){if("touches"in e){var t=e.touches[0]||e.changedTouches[0];return{clientX:t.clientX,clientY:t.clientY}}return{clientX:e.clientX,clientY:e.clientY}}(e),i={data:{selectFlag:!1},clientX:n.clientX,clientY:n.clientY,inputEvent:e,isClick:!0,isTrusted:!1,stop:function(){return!1}};return this._onDragStart(i,t)&&this._onDragEnd(i),this},n.setKeyController=function(){var e=this.options,t=e.keyContainer,n=e.toggleContinueSelect,i=e.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(n||i)&&(this.keycon=new le(t||De(this.container)),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},n.setClassName=function(e){this.options.className=e,this.target.setAttribute("class","".concat(Hn," ").concat(e||""))},n.setKeyEvent=function(){var e=this.options,t=e.toggleContinueSelect,n=e.toggleContinueSelectWithoutDeselect;!t&&!n||this.keycon||this.setKeyController()},n.setKeyContainer=function(e){var t=this,n=this.options;On(n.keyContainer,e,(function(){n.keyContainer=e,t.setKeyController()}))},n.getContinueSelect=function(){var e=this.options,t=e.continueSelect;return e.toggleContinueSelect&&this._keydownContinueSelect?!t:t},n.getContinueSelectWithoutDeselect=function(){var e=this.options,t=e.continueSelectWithoutDeselect;return e.toggleContinueSelectWithoutDeselect&&this._keydownContinueSelectWithoutDeselection?!t:t},n.setToggleContinueSelect=function(e){var t=this,n=this.options;On(n.toggleContinueSelect,e,(function(){n.toggleContinueSelect=e,t.setKeyEvent()}))},n.setToggleContinueSelectWithoutDeselect=function(e){var t=this,n=this.options;On(n.toggleContinueSelectWithoutDeselect,e,(function(){n.toggleContinueSelectWithoutDeselect=e,t.setKeyEvent()}))},n.setPreventDefault=function(e){this.gesto.options.preventDefault=e},n.setCheckInput=function(e){this.gesto.options.checkInput=e},n.initElement=function(){var e=this.options,t=e.dragContainer,n=e.checkInput,i=e.preventDefault,r=e.preventClickEventOnDragStart,a=e.preventClickEventOnDrag,s=e.preventClickEventByCondition,o=e.preventRightClick,l=void 0===o||o,u=e.className,c=this.container;this.target=Pn(function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=t||{},a=r.className,s=void 0===a?"":a,o=r.style,l=void 0===o?{}:o,u=In(r,["className","style"]);return{tag:e,className:s,style:l,attributes:u,children:n}}("div",{className:"".concat(Hn," ").concat(u||"")}),this.target,c);var d=this.target;this.dragContainer="string"==typeof t?[].slice.call(Oe(c).querySelectorAll(t)):t||this.target.parentNode,this.gesto=new je(this.dragContainer,{checkWindowBlur:!0,container:De(c),checkInput:n,preventDefault:i,preventClickEventOnDragStart:r,preventClickEventOnDrag:a,preventClickEventByCondition:s,preventRightClick:l}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),Ve(document,"selectstart",this._onDocumentSelectStart),this.injectResult=Fn.inject(d,{nonce:this.options.cspNonce})},n.hitTest=function(e,t,n,i){var r=this.options,a=r.hitRate,s=r.selectByClick,o=e.left,l=e.top,u=e.right,c=e.bottom,d=t.innerGroups,h=t.innerWidth,f=t.innerHeight,p=null==i?void 0:i.clientX,m=null==i?void 0:i.clientY,g=t.ignoreClick,v=[[o,l],[u,l],[u,c],[o,c]],_=function(e,t){var i=qe("".concat("function"==typeof a?a(t):a)),r=!g&&Xe([p,m],e);if(!n&&s&&r)return!0;var o=Ue(v,e);if(!o.length)return!1;var l=Ze(o),u=0;return 0===l&&0===Ze(e)?(u=Rn(e),l=Rn(o)):u=Ze(e),"px"===i.unit?l>=i.value:et(Math.round(l/u*100),0,100)>=Math.min(100,i.value)},y=t.selectableTargets,w=t.selectablePoints,b=t.selectableInners;if(!d)return y.filter((function(e,t){return!!b[t]&&_(w[t],y[t])}));for(var x=[],M=Math.floor(o/h),k=Math.floor(u/h),C=Math.floor(l/f),S=Math.floor(c/f),E=M;E<=k;++E){var D=d[E];if(D)for(var T=C;T<=S;++T){var I=D[T];I&&I.forEach((function(e){var t=w[e],n=b[e],i=y[e];n&&_(t,i)&&x.push(i)}))}}return function(e){if("undefined"==typeof Map)return e.filter((function(t,n){return e.indexOf(t)===n}));var t=new Map;return e.filter((function(e){return!t.has(e)&&(t.set(e,!0),!0)}))}(x)},n.initDragScroll=function(){var e=this;this.dragScroll.on("scrollDrag",(function(t){(0,t.next)(e.gesto.getCurrentEvent())})).on("scroll",(function(t){var n=t.container,i=t.direction;e.gesto.getEventData().innerScrollOptions?e.emit("innerScroll",{container:n,direction:i}):e.emit("scroll",{container:n,direction:i})})).on("move",(function(t){var n=t.offsetX,i=t.offsetY,r=t.inputEvent,a=e.gesto;if(a&&a.isFlag()){var s=e.gesto.getEventData(),o=s.boundArea;s.startX-=n,s.startY-=i;var l=e.gesto.getEventData().innerScrollOptions,u=null==l?void 0:l.container,c=!1;if(u){var d=s.selectableInnerScrollParentMap,h=d.get(u);h&&(h.paths.forEach((function(e){d.get(e).points.forEach((function(e){e[0]-=n,e[1]-=i}))})),h.indexes.forEach((function(e){s.selectablePoints[e].forEach((function(e){e[0]-=n,e[1]-=i}))})),c=!0)}c||s.selectablePoints.forEach((function(e){e.forEach((function(e){e[0]-=n,e[1]-=i}))})),e._refreshGroups(s),o.left-=n,o.right-=n,o.top-=i,o.bottom-=i,e.gesto.scrollBy(n,i,r.inputEvent),e._checkSelected(e.gesto.getCurrentEvent())}}))},n._select=function(e,t,n,i,r){void 0===r&&(r=!1);var a=n.inputEvent,s=n.data,o=this.setSelectedTargets(e),l=ze(s.startSelectedTargets,e),u=l.added,c=l.removed,d=l.prevList,h=l.list,f={startSelected:d,startAdded:u.map((function(e){return h[e]})),startRemoved:c.map((function(e){return d[e]}))};i&&this.emit("selectStart",Tn(Tn(Tn({},o),f),{rect:t,inputEvent:a,data:s.data,isTrusted:n.isTrusted,isDragStartEnd:r})),(o.added.length||o.removed.length)&&this.emit("select",Tn(Tn(Tn({},o),f),{rect:t,inputEvent:a,data:s.data,isTrusted:n.isTrusted,isDragStartEnd:r}))},n._selectEnd=function(e,t,n,i,r){void 0===r&&(r=!1);var a=i.inputEvent,s=i.isDouble,o=i.data,l=a&&a.type,u="mousedown"===l||"touchstart"===l,c=ze(e,this.selectedTargets),d=c.added,h=c.removed,f=c.prevList,p=c.list,m=ze(t,this.selectedTargets),g=m.added,v=m.removed,_=m.prevList,y=m.list;this.emit("selectEnd",{startSelected:e,beforeSelected:t,selected:this.selectedTargets,added:d.map((function(e){return p[e]})),removed:h.map((function(e){return f[e]})),afterAdded:g.map((function(e){return y[e]})),afterRemoved:v.map((function(e){return _[e]})),isDragStart:u&&r,isDragStartEnd:u&&r,isClick:!!i.isClick,isDouble:!!s,rect:n,inputEvent:a,data:o.data,isTrusted:i.isTrusted})},n._checkSelected=function(e,t){void 0===t&&(t=Nn(e,this.options.ratio));var n=e.data,i=t.top,r=t.left,a=t.width,s=t.height,o=n.selectFlag,l=n.containerX,u=n.containerY,c=n.scaleMatrix,d=Ne(c,[r-l,i-u]),h=Ne(c,[a,s]),f=[];if(o){this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(d[0],"px, ").concat(d[1],"px);")+"width:".concat(h[0],"px;height:").concat(h[1],"px;");var p=this.hitTest(t,n,!0,e);f=zn(n.startPassedTargets,p,this.continueSelect&&this.continueSelectWithoutDeselect)}if(!1===this.emit("drag",Tn(Tn({},e),{data:n.data,isSelect:o,rect:t})))return this.target.style.cssText+="display: none;",void e.stop();o&&this._select(f,t,e)},n._sameCombiKey=function(e,t,n){if(!t)return!1;var i=ue(e.inputEvent,e.key),r=[].concat(t),a=Be(r[0])?r:[r];if(n){var s=e.key;return a.some((function(e){return e.some((function(e){return e===s}))}))}return a.some((function(e){return e.every((function(e){return i.indexOf(e)>-1}))}))},n._findElement=function(e,t){for(var n=e;n&&!(t.indexOf(n)>-1);)n=n.parentElement;return n},n._refreshGroups=function(e){var t,n=e.innerWidth,i=e.innerHeight,r=e.selectablePoints;if(this.options.checkOverflow){var a=null===(t=this.gesto.getEventData().innerScrollOptions)||void 0===t?void 0:t.container,s=e.selectableInnerScrollParentMap,o=e.selectableInnerScrollPathsList;e.selectableInners=o.map((function(e,t){var n=!1;return e.every((function(e){if(n)return!0;if(e===a)return n=!0,!0;var i=s.get(e);if(i){var o=r[t],l=i.points;if(!Ue(o,l).length)return!1}return!0}))}))}if(n&&i){var l=e.selectablePoints,u={};l.forEach((function(e,t){var r=1/0,a=-1/0,s=1/0,o=-1/0;e.forEach((function(e){var t=Math.floor(e[0]/n),l=Math.floor(e[1]/i);r=Math.min(t,r),a=Math.max(t,a),s=Math.min(l,s),o=Math.max(l,o)}));for(var l=r;l<=a;++l)for(var c=s;c<=o;++c)u[l]=u[l]||{},u[l][c]=u[l][c]||[],u[l][c].push(t)})),e.innerGroups=u}else e.innerGroups=null},t=function(e,t,n,i){var r,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,n,s):r(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s}([Je(jn,(function(e,t){var n={enumerable:!0,configurable:!0,get:function(){return this.options[t]}},i=Ke("get ".concat(t));e[i]?n.get=function(){return this[i]()}:n.get=function(){return this.options[t]};var r=Ke("set ".concat(t));e[r]?n.set=function(e){this[r](e)}:n.set=function(e){this.options[t]=e},Object.defineProperty(e,t,n)}))],t),t}(We)),Wn=function(){return Wn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Wn.apply(this,arguments)},$n={};["clickTarget","getSelectableElements","setSelectedTargets","getElementPoints","getSelectedTargets","findSelectableTargets","triggerDragStart","checkScroll","selectTargetsByPoints","setSelectedTargetsByPoints"].forEach((function(e){$n[e]=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=this.$_selecto)[e].apply(t,n)}}));var Gn={};jn.forEach((function(e){Gn[e]=function(t){return this.$_selecto[e]=t}}));var Yn=i({name:"selecto",methods:$n,props:Vn,watch:Gn,mounted:function(){var e=this,t=this.$props,n={};Vn.forEach((function(e){var i=t[e];Me(i)||(n[e]=i)}));var i=new Un(Wn(Wn({},n),{portalContainer:this.$refs.selectoElement}));this.$_selecto=i,Bn.forEach((function(t){i.on(t,(function(n){e.$emit(t,Wn({},n))}))}))},beforeUnmount:function(){this.$_selecto.destroy()}});const qn={ref:"selectoElement"};Yn.render=function(e,t,n,i,s,o){return r(),a("div",qn,null,512)},Yn.__file="src/Selecto.vue";const Xn=i({name:"GaugeSettingsDialog",props:{active:Boolean,data:{type:Object,required:!0}},emits:["update:active","saved"],setup(e,{emit:t}){const n=s({t3Entry:null,active:!1,type:"Gauge",settings:{min:0,max:100,colors:[]}});function i(){n.value=structuredClone(l(e.data))}return o((()=>{i()})),{dialog:n,units:["%","%RH","V","KV","A","ma","W","KW","KWH","°C","°F","FPM","Pa","KPa","PSI","inWC","CFM","s","min","h","d","Time","p/min","Ω","Counts","%Open","Kg","L/h","GPH","GAL","CF","BTU","CMH"],chartTypes:[{label:"Gauge",value:"Gauge"},{label:"Dial",value:"Dial"}],defaultStatus:i,save:function(){const e=structuredClone(l(n.value));t("saved",e)}}}}),Zn={class:"text-h6"},Jn={class:"flex no-wrap gap-3 mb-6"},Kn={class:"flex no-wrap gap-3 mb-6"},Qn={class:"flex flex-col no-wrap"},ei={class:"flex no-wrap mb-2"},ti={class:"leading-5 font-bold grow"},ni={class:"flex flex-col no-wrap gap-1"},ii={class:"flex flex-nowrap items-center grow"},ri=["onUpdate:modelValue"],ai={class:"px-8"};var si=At(Xn,[["render",function(e,t,n,i,s,o){return r(),u(C,{"model-value":e.active,"onUpdate:modelValue":t[7]||(t[7]=t=>e.$emit("update:active",t)),onShow:e.defaultStatus},{default:c((()=>[d(h,{style:{"min-width":"600px"}},{default:c((()=>[d(f,{class:"row items-center q-pb-none"},{default:c((()=>[p("div",Zn,m(e.dialog.type)+" settings",1),d(se),g(d(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[_e]])])),_:1}),d(_),d(f,{style:{height:"50vh"},class:"scroll"},{default:c((()=>[d(oe,{"emit-value":"",filled:"","map-options":"",modelValue:e.dialog.type,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dialog.type=t),options:e.chartTypes,label:"Chart Type",class:"mb-6"},null,8,["modelValue","options"]),p("div",Jn,[d(y,{label:"Min",modelValue:e.dialog.settings.min,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dialog.settings.min=t),modelModifiers:{number:!0},filled:"",type:"number",class:"grow"},null,8,["modelValue"]),d(y,{label:"Max",modelValue:e.dialog.settings.max,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialog.settings.max=t),modelModifiers:{number:!0},filled:"",type:"number",class:"grow"},null,8,["modelValue"])]),p("div",Kn,["Gauge"===e.dialog.type?(r(),u(y,{key:0,label:"Thickness ( px )",modelValue:e.dialog.settings.thickness,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dialog.settings.thickness=t),modelModifiers:{number:!0},filled:"",type:"number",class:"grow"},null,8,["modelValue"])):w("",!0),d(y,{label:"Ticks",modelValue:e.dialog.settings.ticks,"onUpdate:modelValue":t[4]||(t[4]=t=>e.dialog.settings.ticks=t),modelModifiers:{number:!0},filled:"",type:"number",class:"grow"},null,8,["modelValue"]),d(y,{label:"Minor ticks",modelValue:e.dialog.settings.minorTicks,"onUpdate:modelValue":t[5]||(t[5]=t=>e.dialog.settings.minorTicks=t),modelModifiers:{number:!0},filled:"",type:"number",class:"grow"},null,8,["modelValue"])]),p("div",Qn,[p("div",ei,[p("h2",ti,m(e.dialog.type)+" colors:",1),d(v,{size:"sm",round:"",color:"grey-4","text-color":"grey-9",icon:"add",onClick:t[6]||(t[6]=()=>e.dialog.settings.colors.push({offset:100,color:"#000000"}))})]),p("div",ni,[(r(!0),a(b,null,x(e.dialog.settings.colors,((n,i)=>(r(),a("div",{class:"flex items-center no-wrap mb-2",key:i},[d(y,{label:"Offset",modelValue:n.offset,"onUpdate:modelValue":e=>n.offset=e,modelModifiers:{number:!0},filled:"",type:"number",step:"1",min:"0",max:"100",class:"mr-2 w-24"},null,8,["modelValue","onUpdate:modelValue"]),p("div",ii,[g(p("input",{type:"color",id:"bg-color-input","onUpdate:modelValue":e=>n.color=e},null,8,ri),[[M,n.color]]),t[8]||(t[8]=p("label",{class:"ml-2",for:"bg-color-input"},"Color",-1))]),p("div",ai,[d(v,{size:"xs",round:"",color:"red-10",icon:"remove",onClick:()=>e.dialog.settings.colors.splice(i,1)},null,8,["onClick"])])])))),128))])])])),_:1}),d(_),d(k,{align:"right"},{default:c((()=>[g(d(v,{flat:"",label:"Cancel",color:"primary"},null,512),[[_e]]),d(v,{flat:"",label:"Save",color:"primary",onClick:e.save},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["model-value","onShow"])}]]);var oi=At({components:{Dashboard:Pt},props:{types:{type:Array,default:null},path:{type:String,default:"files"},maxNumberOfFiles:{type:Number,default:1},height:{type:Number,default:300}},emits:["uploaded","fileAdded","fileRemoved"],setup(e,t){const n=new Ot({autoProceed:!1,restrictions:{allowedFileTypes:e.types,maxNumberOfFiles:e.maxNumberOfFiles}});return n.use(Nt,{quality:1}),n.on("complete",(e=>{var n,i;(null==(n=e.successful)?void 0:n.length)>0&&t.emit("uploaded",null==(i=e.successful[0])?void 0:i.response)})),n.on("file-added",(e=>{t.emit("fileAdded",e)})),n.on("file-removed",((e,n)=>{t.emit("fileRemoved",e)})),S((()=>{n.close()})),{uppy:n,upload:function(){n.upload()},cancel:function(){n.cancelAll()}}}},[["render",function(e,t,n,i,a,s){const o=E("dashboard");return r(),u(o,{ref:"dash",uppy:i.uppy,props:{proudlyDisplayPoweredByUppy:!1,hideUploadButton:!0,height:n.height,metaFields:[{id:"name",name:"Name",placeholder:"file name"},{id:"caption",name:"Caption",placeholder:"describe what the image is about"}]},plugins:["ImageEditor"]},null,8,["uppy","props"])}],["__scopeId","data-v-1c5034f7"]]);const li=i({name:"TopToolbar",emits:["menuAction"],props:{object:{type:Object,required:!1},selectedCount:{type:Number,required:!0},disableUndo:{type:Boolean,required:!1},disableRedo:{type:Boolean,required:!1},disablePaste:{type:Boolean,required:!1},zoom:{type:Number,required:!0},rulersGridVisible:{type:Boolean,required:!1}},setup(e,{emit:t}){const n=ye();const i=s(e.rulersGridVisible?"Enable":"Disable");return D((()=>e.rulersGridVisible),(e=>{i.value=e?"Enable":"Disable"})),{menuActionEmit:function(e,n=null){t("menuAction",e,n)},logout:function(){n.cookies.remove("token"),ut.value=null,localStorage.removeItem("user")},tools:Ft,user:ut,showRulersGrid:i,devVersion:ct}}}),ui={style:{"margin-left":"10px","font-size":"10px",color:"gray","z-index":"99",position:"absolute","margin-top":"10px"}},ci={class:"flex gap-1 sticky-top-tool-bar"},di={class:"flex gap-1"},hi={class:"flex gap-1"},fi={class:"flex"},pi={class:"flex items-center px-1"},mi=["value"];var gi=At(li,[["render",function(e,t,i,s,o,l){return r(),a(b,null,[p("span",ui,m(e.devVersion),1),d(Rt,{class:"toolbar text-white shadow-2"},{default:c((()=>[d(zt,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",class:"file-menu",label:"File",style:{width:"80px"}},{default:c((()=>[d(ie,null,{default:c((()=>[g((r(),u(Q,{clickable:"",class:"new-project-menu-item",onClick:t[0]||(t[0]=t=>e.menuActionEmit("newProject"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"assignment",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[45]||(t[45]=[I("New Project",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[46]||(t[46]=[I("Ctrl + R",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{clickable:"",onClick:t[1]||(t[1]=t=>e.menuActionEmit("importJsonAction"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"file_open",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[47]||(t[47]=[I("Import",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{clickable:"",onClick:t[2]||(t[2]=t=>e.menuActionEmit("exportToJsonAction"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"file_open",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[48]||(t[48]=[I("Export",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{clickable:"",onClick:t[3]||(t[3]=t=>e.menuActionEmit("save"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"save",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[49]||(t[49]=[I("Save",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[50]||(t[50]=[I("Ctrl + S",-1)])])),_:1})])),_:1})])),_:1})),[[_e]])])),_:1})])),_:1}),d(zt,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"Edit",style:{width:"80px"}},{default:c((()=>[d(ie,null,{default:c((()=>[g((r(),u(Q,{dense:"",clickable:"",onClick:t[4]||(t[4]=t=>e.menuActionEmit("copy"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"content_copy",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[51]||(t[51]=[I("Copy",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[52]||(t[52]=[I("Ctrl + C",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[5]||(t[5]=t=>e.menuActionEmit("paste")),disable:e.disablePaste},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"content_paste",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[53]||(t[53]=[I("Paste",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[54]||(t[54]=[I("Ctrl + V",-1)])])),_:1})])),_:1})])),_:1},8,["disable"])),[[_e]]),d(_,{inset:"",spaced:""}),g((r(),u(Q,{dense:"",clickable:"",onClick:t[6]||(t[6]=t=>e.menuActionEmit("undoAction")),disable:e.disableUndo},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"undo",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[55]||(t[55]=[I("Undo",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[56]||(t[56]=[I("Ctrl + Z",-1)])])),_:1})])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[7]||(t[7]=t=>e.menuActionEmit("redoAction")),disable:e.disableRedo},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"redo",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[57]||(t[57]=[I("Redo",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[58]||(t[58]=[I("Ctrl + Y",-1)])])),_:1})])),_:1})])),_:1},8,["disable"])),[[_e]]),d(_,{inset:"",spaced:""}),g((r(),u(Q,{dense:"",clickable:"",onClick:t[8]||(t[8]=t=>e.menuActionEmit("duplicateSelected")),disable:e.selectedCount<1},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"content_copy",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[59]||(t[59]=[I("Duplicate selected",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[60]||(t[60]=[I("Ctrl + D",-1)])])),_:1})])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[9]||(t[9]=t=>e.menuActionEmit("groupSelected")),disable:e.selectedCount<2},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"join_full",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[61]||(t[61]=[I("Group selected",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[62]||(t[62]=[I("Ctrl + G",-1)])])),_:1})])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[10]||(t[10]=t=>e.menuActionEmit("ungroupSelected")),disable:e.selectedCount<2},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"join_inner",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[63]||(t[63]=[I("Ungroup selected",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[64]||(t[64]=[I("Ctrl + Shift + G",-1)])])),_:1})])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[11]||(t[11]=t=>e.menuActionEmit("addToLibrary")),disable:e.selectedCount<2},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"library_books",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[65]||(t[65]=[I("Add selected to library",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[66]||(t[66]=[I("Ctrl + L",-1)])])),_:1})])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[12]||(t[12]=t=>e.menuActionEmit("deleteSelected")),disable:e.selectedCount<1},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"delete",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[67]||(t[67]=[I("Delete selected",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[68]||(t[68]=[I("Delete",-1)])])),_:1})])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[13]||(t[13]=t=>e.menuActionEmit("weldSelected")),disable:!(e.selectedCount>=2)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"splitscreen",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[69]||(t[69]=[I("Weld selected",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[70]||(t[70]=[I("Ctrl + B",-1)])])),_:1})])),_:1})])),_:1},8,["disable"])),[[_e]])])),_:1})])),_:1}),d(zt,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"Object",style:{width:"80px"},disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(ie,null,{default:c((()=>[g((r(),u(Q,{dense:"",clickable:"",onClick:t[14]||(t[14]=t=>e.menuActionEmit("link"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"link",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[71]||(t[71]=[I("Link",-1)])])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t[15]||(t[15]=t=>e.menuActionEmit("duplicateObject"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"file_copy",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[72]||(t[72]=[I("Duplicate",-1)])])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[16]||(t[16]=t=>e.menuActionEmit("rotate90"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"autorenew",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[73]||(t[73]=[I("Rotate 90°",-1)])])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[17]||(t[17]=t=>e.menuActionEmit("rotate-90"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"sync",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[74]||(t[74]=[I("Rotate -90°",-1)])])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t[18]||(t[18]=t=>e.menuActionEmit("flipH"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"flip",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[75]||(t[75]=[I("Flip horizontal",-1)])])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[19]||(t[19]=t=>e.menuActionEmit("flipV"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"flip",color:"grey-7","text-color":"white",style:{transform:"rotate(90deg)"}})])),_:1}),d(ee,null,{default:c((()=>[...t[76]||(t[76]=[I("Flip vertical",-1)])])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t[20]||(t[20]=t=>e.menuActionEmit("bringToFront"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"flip_to_front",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[77]||(t[77]=[I("Bring to front",-1)])])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[21]||(t[21]=t=>e.menuActionEmit("sendToBack"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"flip_to_back",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[78]||(t[78]=[I("Send to Back",-1)])])),_:1})])),_:1})),[[_e]]),d(_),d(Q,{dense:"",clickable:""},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"transform",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[79]||(t[79]=[I("Convert to",-1)])])),_:1}),d(ee,{side:""},{default:c((()=>[d(A,{name:"keyboard_arrow_right"})])),_:1}),d(re,{anchor:"top end",self:"top start","auto-close":""},{default:c((()=>[d(ie,null,{default:c((()=>[(r(!0),a(b,null,x(e.tools.filter((t=>t.name!==e.object.type&&!["Duct","Pointer","Text"].includes(t.name))),(t=>g((r(),u(Q,{key:t.name,dense:"",clickable:"",onClick:n=>e.menuActionEmit("convertObjectType",t.name)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:t.icon,color:"grey-7","text-color":"white"},null,8,["icon"])])),_:2},1024),d(ee,null,{default:c((()=>[I(m(t.name),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[_e]]))),128))])),_:1})])),_:1})])),_:1}),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t[22]||(t[22]=t=>e.menuActionEmit("removeObject"))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"remove",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[80]||(t[80]=[I("Remove",-1)])])),_:1})])),_:1})),[[_e]])])),_:1})])),_:1},8,["disable"]),d(_,{dark:"",vertical:""}),p("div",ci,[p("div",di,[g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"undo",onClick:t[23]||(t[23]=t=>e.menuActionEmit("undoAction")),disable:e.disableUndo},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[81]||(t[81]=[p("strong",null,"Undo",-1),p("em",null," (Ctrl + Z)",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"redo",onClick:t[24]||(t[24]=t=>e.menuActionEmit("redoAction")),disable:e.disableRedo},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[82]||(t[82]=[p("strong",null,"Redo",-1),p("em",null," (Ctrl + Y)",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"content_copy",onClick:t[25]||(t[25]=t=>e.menuActionEmit("duplicateSelected")),disable:e.selectedCount<1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[83]||(t[83]=[p("strong",null,"Duplicate selected",-1),p("em",null," (Ctrl + D)",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"join_full",onClick:t[26]||(t[26]=t=>e.menuActionEmit("groupSelected")),disable:e.selectedCount<2},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[84]||(t[84]=[p("strong",null,"Group selected",-1),p("em",null," (Ctrl + G)",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"join_inner",onClick:t[27]||(t[27]=t=>e.menuActionEmit("ungroupSelected")),disable:e.selectedCount<2},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[85]||(t[85]=[p("strong",null,"Ungroup selected",-1),p("em",null," (Ctrl + Shift + G)",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"library_books",onClick:t[28]||(t[28]=t=>e.menuActionEmit("addToLibrary")),disable:e.selectedCount<2},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[86]||(t[86]=[p("strong",null,"Add selected to library",-1),p("em",null," (Ctrl + L)",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"delete",onClick:t[29]||(t[29]=t=>e.menuActionEmit("deleteSelected")),disable:e.selectedCount<1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[87]||(t[87]=[p("strong",null,"Delete selected",-1),p("em",null," (Delete)",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"splitscreen",onClick:t[30]||(t[30]=t=>e.menuActionEmit("weldSelected")),disable:!(e.selectedCount>=2)},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[88]||(t[88]=[p("strong",null,"Weld selected",-1),p("em",null," (Ctrl + B)",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]])]),d(_,{dark:"",vertical:""}),p("div",hi,[g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"link",onClick:t[31]||(t[31]=t=>e.menuActionEmit("link")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[89]||(t[89]=[p("strong",null,"Link",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"file_copy",onClick:t[32]||(t[32]=t=>e.menuActionEmit("duplicateObject")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[90]||(t[90]=[p("strong",null,"Duplicate",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"autorenew",onClick:t[33]||(t[33]=t=>e.menuActionEmit("rotate90")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[91]||(t[91]=[p("strong",null,"Rotate 90°",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"sync",onClick:t[34]||(t[34]=t=>e.menuActionEmit("rotate-90")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[92]||(t[92]=[p("strong",null,"Rotate -90°",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"flip",onClick:t[35]||(t[35]=t=>e.menuActionEmit("flipH")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[93]||(t[93]=[p("strong",null,"Flip horizontal",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"flip",onClick:t[36]||(t[36]=t=>e.menuActionEmit("flipV")),style:{transform:"rotate(90deg)"},disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[94]||(t[94]=[p("strong",null,"Flip vertical",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"flip_to_front",onClick:t[37]||(t[37]=t=>e.menuActionEmit("bringToFront")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[95]||(t[95]=[p("strong",null,"Bring to front",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"flip_to_back",onClick:t[38]||(t[38]=t=>e.menuActionEmit("sendToBack")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[96]||(t[96]=[p("strong",null,"Send to Back",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"transform",disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(re,{anchor:"top end",self:"top start","auto-close":""},{default:c((()=>[d(ie,null,{default:c((()=>[(r(!0),a(b,null,x(e.tools.filter((t=>t.name!==e.object.type&&!["Duct","Pointer","Text"].includes(t.name))),(t=>g((r(),u(Q,{key:t.name,dense:"",clickable:"",onClick:n=>e.menuActionEmit("convertObjectType",t.name)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:t.icon,color:"grey-7","text-color":"white"},null,8,["icon"])])),_:2},1024),d(ee,null,{default:c((()=>[I(m(t.name),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[_e]]))),128))])),_:1})])),_:1}),d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[97]||(t[97]=[p("strong",null,"Convert to",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]]),g((r(),u(v,{dense:"",flat:"",round:"",outline:"",stack:"","no-caps":"",icon:"remove",onClick:t[39]||(t[39]=t=>e.menuActionEmit("removeObject")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[98]||(t[98]=[p("strong",null,"Remove",-1)])])),_:1})])),_:1},8,["disable"])),[[_e]])])]),d(se),p("div",fi,[d(P,{color:"blue","false-value":"Disable","true-value":"Enable",modelValue:e.showRulersGrid,"onUpdate:modelValue":[t[40]||(t[40]=t=>e.showRulersGrid=t),t[41]||(t[41]=t=>e.menuActionEmit("toggleRulersGrid",e.showRulersGrid))],size:"xs"},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[I(" Show rulers and grid ("+m(e.showRulersGrid)+") ",1)])),_:1})])),_:1},8,["modelValue"]),d(v,{onClick:t[42]||(t[42]=t=>e.menuActionEmit("zoomOut")),disable:e.zoom<=10,dense:"",flat:"",size:"sm",icon:"zoom_out"},null,8,["disable"]),p("div",pi,[p("input",{class:"zoom-input",onKeydown:t[43]||(t[43]=O((t=>e.menuActionEmit("zoomSet",t.target.value)),["enter"])),value:e.zoom,type:"number"},null,40,mi),t[99]||(t[99]=I("% ",-1))]),d(v,{onClick:t[44]||(t[44]=t=>e.menuActionEmit("zoomIn")),disable:e.zoom>=400,dense:"",flat:"",size:"sm",icon:"zoom_in"},null,8,["disable"]),p("div",null,[e.user?(r(),u(zt,{key:1,"no-caps":"",flat:"",dense:"","content-class":"menu-dropdown",label:e.user.name,class:"px-2 ml-4"},{default:c((()=>[d(ie,null,{default:c((()=>[d(Q,{dense:""},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"person",color:"grey-7","text-color":"white"})])),_:1}),d(ee,{class:"text-zinc-500"},{default:c((()=>[I(m(e.user.name),1)])),_:1})])),_:1}),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:e.logout},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"logout",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[100]||(t[100]=[I("Logout",-1)])])),_:1})])),_:1},8,["onClick"])),[[_e]])])),_:1})])),_:1},8,["label"])):(r(),u(v,{key:0,flat:"",color:"primary",label:"Login",to:"/login"}))])])])),_:1})],64)}],["__scopeId","data-v-8861f6de"]]);const vi={class:"tools flex column"},_i={key:0,class:"grid gap-4 grid-cols-4 grid-flow-row auto-rows-max p-4"},yi={class:"tool-wrapper"},wi=["onClick"],bi={class:"flex flex-col flex-nowrap items-center justify-center h-full"},xi={class:"grow leading-4 text-black text-center text-ellipsis overflow-hidden flex items-center"},Mi={key:1,class:"flex p-4 items-center justify-center"},ki={key:0,class:"grid gap-4 grid-cols-4 grid-flow-row auto-rows-max p-4"},Ci={class:"tool-wrapper"},Si=["onClick"],Ei={class:"flex flex-col items-center justify-center h-full"},Di=["src"],Ti={key:1,class:"flex p-4 items-center justify-center"};var Ii=At({__name:"ToolsSidebar",props:{selectedTool:{type:Object,required:!0},images:{type:Array,default:()=>[]},objectLib:{type:Array,default:()=>[]},isBuiltInEdge:{type:Boolean}},emits:["selectTool","saveLibImage","deleteLibItem","renameLibItem","deleteLibImage","toolDropped"],setup(e,{emit:t}){N((e=>({"652ef090":L(O)})));const i=e,o=t,l=ye(),y=s(null),w=s("lib");function M(e,t="default"){o("selectTool",e,t)}const C=s("list"),S=s({uploadBtnDisabled:!0,uploadBtnLoading:!1,file:null});function E(e){S.value.uploadBtnDisabled=!1,S.value.file=e}function T(e){P(e.body)}function P(e){o("saveLibImage",e),C.value="list",S.value.file=null}let O=s("37px");return O.value=i.isBuiltInEdge?"37px":"93px",D((()=>i.isBuiltInEdge),(e=>{O.value=e?"37px":"93px"})),(t,i)=>(r(),a("div",vi,[(r(!0),a(b,null,x(L(Ht),(t=>(r(),u(Bt,{key:t,class:"mb-2 border border-solid border-gray-700",dark:"","default-opened":"",label:t,"header-class":"p-2 min-h-0","expand-icon-class":"!pl-2"},{default:c((()=>[d(ie,{class:"rounded-borders text-primary grid grid-cols-2 gap-1 p-1"},{default:c((()=>[(r(!0),a(b,null,x(L(Ft).filter((e=>e.cat.includes(t))),(t=>g((r(),u(Q,{key:t.name,onClick:e=>M(t),onDragend:e=>function(e,t){o("toolDropped",e,t)}(e,t),clickable:"",active:e.selectedTool.name===t.name,"active-class":"active-tool",draggable:"true",class:"p-2 min-h-0"},{default:c((()=>[d(n,{anchor:"center right",self:"center left"},{default:c((()=>[I(m(t.label),1)])),_:2},1024),d(ee,null,{default:c((()=>[d(A,{name:t.icon,size:"sm"},null,8,["name"])])),_:2},1024)])),_:2},1032,["onClick","onDragend","active"])),[[z]]))),128))])),_:2},1024)])),_:2},1032,["label"])))),128)),d(Bt,{class:"mb-2 border border-solid border-gray-700",dark:"","default-opened":"",label:"User","header-class":"p-2 min-h-0","expand-icon-class":"!pl-2"},{default:c((()=>[d(ie,{class:"rounded-borders text-primary grid grid-cols-2 gap-1 p-1"},{default:c((()=>[g((r(),u(Q,{clickable:"","active-class":"active-tool",active:"default"!==e.selectedTool.type,class:"p-2 min-h-0"},{default:c((()=>[d(n,{anchor:"center right",self:"center left"},{default:c((()=>[...i[8]||(i[8]=[I(" User objects library ",-1)])])),_:1}),d(re,{"separate-close-popup":"",anchor:"bottom right",self:"bottom left","max-height":"650px",onHide:i[7]||(i[7]=e=>C.value="list")},{default:c((()=>[d(h,{dark:"",style:{"min-width":"500px",height:"400px"}},{default:c((()=>[d(ce,{modelValue:w.value,"onUpdate:modelValue":i[0]||(i[0]=e=>w.value=e),"inline-label":"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:c((()=>[d(de,{name:"lib",icon:"library_books",label:"Library"}),d(de,{name:"imgs",icon:"collections",label:"Images"})])),_:1},8,["modelValue"]),d(_),d(he,{modelValue:w.value,"onUpdate:modelValue":i[6]||(i[6]=e=>w.value=e),animated:"",dark:"",style:{"max-height":"350px"},class:"scroll"},{default:c((()=>[d(fe,{name:"lib"},{default:c((()=>{var t;return[(null==(t=e.objectLib)?void 0:t.length)>0?(r(),a("div",_i,[(r(!0),a(b,null,x(e.objectLib,(e=>(r(),a("div",{key:e.id,class:"relative"},[p("div",yi,[d(v,{round:"",dense:"",color:"grey-7",icon:"more_vert",size:"sm"},{default:c((()=>[d(re,{"separate-close-popup":""},{default:c((()=>[d(ie,{style:{"min-width":"100px"}},{default:c((()=>[g((r(),u(Q,{clickable:"",onClick:t=>function(e){l.dialog({title:"Rename",message:"Type the new name",prompt:{model:e.label,type:"text"},cancel:!0,persistent:!0}).onOk((t=>{t&&o("renameLibItem",e,t)})).onCancel((()=>{})).onDismiss((()=>{}))}(e)},{default:c((()=>[d(ee,null,{default:c((()=>[...i[9]||(i[9]=[I("Rename",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]]),g((r(),u(Q,{clickable:"",onClick:t=>function(e){l.dialog({title:"Confirm",message:"Are you sure you want to delete this library item?",cancel:!0}).onOk((()=>{o("deleteLibItem",e)})).onCancel((()=>{})).onDismiss((()=>{}))}(e)},{default:c((()=>[d(ee,null,{default:c((()=>[...i[10]||(i[10]=[I("Delete",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]])])),_:2},1024)])),_:2},1024)])),_:2},1024),g((r(),a("div",{class:"w-24 h-24 bg-slate-200 hover:bg-slate-500 p-2 rounded-lg cursor-pointer",onClick:t=>M(e,"libItem")},[p("div",bi,[p("div",null,[d(A,{color:"blue-10",name:"library_books",size:"xl"})]),p("div",xi,m(e.label),1)])],8,wi)),[[_e]])])])))),128))])):(r(),a("div",Mi,[...i[11]||(i[11]=[p("p",{class:"text-center"},[I(" The library is empty. "),p("br"),p("br"),I(" You can select some objects and save them"),p("br"),I(" to the library to easily reuse them. ")],-1)])]))]})),_:1}),d(fe,{name:"imgs",class:"py-1"},{default:c((()=>[d(he,{modelValue:C.value,"onUpdate:modelValue":i[5]||(i[5]=e=>C.value=e),animated:"",dark:""},{default:c((()=>[d(fe,{name:"list",class:"p-0"},{default:c((()=>{var t;return[d(v,{dense:"",onClick:i[1]||(i[1]=e=>C.value="upload"),icon:"library_add",color:"white","text-color":"black",label:"Add Image"}),(null==(t=e.images)?void 0:t.length)>0?(r(),a("div",ki,[(r(!0),a(b,null,x(e.images,(e=>(r(),a("div",{key:e.id,class:"relative"},[p("div",Ci,[d(v,{round:"",dense:"",color:"grey-7",icon:"more_vert",size:"sm"},{default:c((()=>[d(re,null,{default:c((()=>[d(ie,{style:{"min-width":"100px"}},{default:c((()=>[g((r(),u(Q,{clickable:"",onClick:t=>{return n=e,void l.dialog({title:"Confirm",message:"Are you sure you want to delete this image?",cancel:!0}).onOk((()=>{o("deleteLibImage",n)})).onCancel((()=>{})).onDismiss((()=>{}));var n}},{default:c((()=>[d(ee,null,{default:c((()=>[...i[12]||(i[12]=[I("Delete",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]])])),_:2},1024)])),_:2},1024)])),_:2},1024),g((r(),a("div",{class:"w-24 h-24 bg-slate-200 hover:bg-slate-500 p-2 rounded-lg cursor-pointer",onClick:t=>M(e,"Image")},[p("div",Ei,[p("img",{src:e.path+"?w=95&h=95"},null,8,Di)])],8,Si)),[[_e]])])])))),128))])):(r(),a("div",Ti," No images yet. "))]})),_:1}),d(fe,{name:"upload",class:"p-0"},{default:c((()=>[d(h,{dark:"",style:{"max-width":"468px"}},{default:c((()=>[d(f,{class:"py-1"},{default:c((()=>[...i[13]||(i[13]=[p("div",{class:"text-h6"},"Upload image",-1)])])),_:1}),d(f,{class:"q-pt-none"},{default:c((()=>[d(Lt,{ref_key:"fileUploaderRef",ref:y,path:"lib-images",types:["image/*"],height:240,onFileAdded:E,onFileRemoved:i[2]||(i[2]=e=>S.value.uploadBtnDisabled=!0),onUploaded:T},null,512)])),_:1}),d(k,{align:"right",class:"text-primary pb-0"},{default:c((()=>[d(v,{flat:"",label:"Cancel",onClick:i[3]||(i[3]=e=>C.value="list")}),d(v,{disabled:S.value.uploadBtnDisabled,loading:S.value.uploadBtnLoading,flat:"",label:"Save",onClick:i[4]||(i[4]=e=>{ut.value?y.value.upload():P(S.value.file)})},null,8,["disabled","loading"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(ee,null,{default:c((()=>[d(A,{name:"add_circle_outline",size:"sm"})])),_:1})])),_:1},8,["active"])),[[z]])])),_:1})])),_:1})]))}},[["__scopeId","data-v-9eb0942e"]]);const Ai=i({name:"ToolConfig",props:{object:{type:Object,required:!0}},emits:["refreshMoveable","T3UpdateEntryField","linkT3Entry","gaugeSettings","mounted","noChange"],setup(e,{emit:t}){let n={};o((()=>{n=dt.exports.cloneDeep(e.object),t("mounted")}));const i=R({get:()=>e.object,set(e,n){e!==n&&t("update:object",e)}}),r=R((()=>{var t;return(null==(t=Ft.find((t=>t.name===e.object.type)))?void 0:t.settings)||{}})),a=R((()=>{var t,n;const i=null==(n=null==(t=Wt.getEntryRange(e.object.t3Entry))?void 0:t.options)?void 0:n.filter((e=>1===e.status)),r=dt.exports.cloneDeep(i);return null==r?void 0:r.map((e=>(e.value=e.value,e)))})),s=R((()=>{var e,t,n,r;const a=[{label:"None",value:"none"},{label:"ID",value:"id"}];return void 0!==(null==(e=i.value.t3Entry)?void 0:e.label)&&a.push({label:"Label",value:"label"}),void 0!==(null==(t=i.value.t3Entry)?void 0:t.description)&&a.push({label:"Description",value:"description"}),void 0!==(null==(n=i.value.t3Entry)?void 0:n.value)&&a.push({label:"Value",value:1===(null==(r=i.value.t3Entry)?void 0:r.digital_analog)?"value":"control"}),a}));F((()=>{dt.exports.isEqual(e.object,n)&&t("noChange")}));const l=R((()=>"   "+Wt.getUnitText(i.value.t3Entry)));return{item:i,refreshMoveable:function(){"Int_Ext_Wall"===i.value.type&&(i.value.settings.strokeWidth=pe.Hvac.PageMain.GetExteriorWallStrokeWidth(i.value.height)),t("refreshMoveable")},T3UpdateEntryField:function(e,n){t("T3UpdateEntryField",e,n)},linkT3Entry:function(){t("linkT3Entry")},t3EntryDisplayFieldOptions:s,gaugeSettings:function(e){t("gaugeSettings",e)},icons:jt,switchIcons:Vt,settings:r,getEntryRange:e=>Wt.getEntryRange(e),getSwitchIcon:function(e){var t;const n=Vt.find((t=>t.value===e));return(null==(t=null==n?void 0:n.icon)?void 0:t.off)?n.icon.off:"block"},rangeOptions:a,updatePropsValue:function(e){"Int_Ext_Wall"===i.value.type&&(i.value.height=pe.Hvac.PageMain.GetExteriorWallHeight(i.value.settings.strokeWidth),t("refreshMoveable"))},DisplayFieldValueChanged:function(e){t("DisplayFieldValueChanged",e)},unitText:l}}}),Pi={key:0,class:"item-config flex flex-nowrap column"},Oi={class:"leading-8 font-bold text-white"},Ni={class:"item-config-inner"},Li={key:0},zi={key:1,style:{"text-align":"left",width:"100%"}},Ri={style:{"font-size":"13px"}},Fi={key:1,class:"p-1"},Hi={class:"p-1"},ji={class:"grid gap-4 grid-cols-2 mb-4"},Vi={class:"w-full relative mb-2"},Bi={class:"flex flex-nowrap items-center mb-2"},Ui={class:"ml-2",for:"bg-color-input"},Wi={key:0,class:"flex flex-nowrap justify-center items-center mb-2"},$i={key:1,class:"flex flex-nowrap justify-center items-center mb-2"},Gi={key:2,class:"flex flex-nowrap items-center mb-2"},Yi=["onUpdate:modelValue"],qi={class:"ml-2",for:"text-color-input"},Xi={key:3,class:"w-full relative mb-2"},Zi={key:4,class:"w-full relative mb-2"},Ji={key:5,class:"w-full mb-2"},Ki={key:6,class:"w-full mb-2"};var Qi,er=At(Ai,[["render",function(e,t,i,s,o,l){var h,f,_,k,C,S,E,D;return e.item?(r(),a("div",Pi,[p("h3",Oi,m(e.item.type),1),p("div",Ni,[p("div",null,[["Gauge","Dial"].includes(e.item.type)?(r(),u(v,{key:0,dark:"",outline:"","no-caps":"",stretch:"",icon:"settings",class:"text-white w-full mb-2",label:"Settings",onClick:t[0]||(t[0]=t=>e.gaugeSettings(e.item))})):w("",!0),d(v,{dark:"",outline:"","no-caps":"",stretch:"",class:"text-white w-full link-t3-entry",onClick:e.linkT3Entry},{default:c((()=>[e.item.t3Entry?w("",!0):(r(),a("div",Li,[...t[26]||(t[26]=[p("p",null,"Link with an entry",-1)])])),e.item.t3Entry?(r(),a("div",zi,[p("p",Ri,[t[27]||(t[27]=I("Linked with ",-1)),d(A,{name:"dataset_linked",style:{"font-size":"18px"}})]),p("p",null,m(e.item.t3Entry.description),1)])):w("",!0)])),_:1},8,["onClick"]),e.item.t3Entry?(r(),a("div",Fi,[void 0!==e.item.t3Entry.auto_manual?(r(),u(oe,{key:0,class:"mb-1",filled:"",dark:"",modelValue:e.item.t3Entry.auto_manual,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.item.t3Entry.auto_manual=t),t[2]||(t[2]=t=>e.T3UpdateEntryField("auto_manual",e.item))],options:[{label:"Auto",value:0},{label:"Manual",value:1}],label:"Auto/Manual","emit-value":"","map-options":""},null,8,["modelValue"])):w("",!0),e.item.t3Entry.range<101&&0===e.item.t3Entry.digital_analog&&e.item.t3Entry.range?(r(),u(oe,{key:1,class:"mb-1",disable:0===(null==(h=e.item.t3Entry)?void 0:h.auto_manual),filled:"",dark:"",modelValue:e.item.t3Entry.control,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.item.t3Entry.control=t),t[4]||(t[4]=t=>e.T3UpdateEntryField("control",e.item))],options:[{label:null==(f=e.getEntryRange(e.item.t3Entry))?void 0:f.off,value:0},{label:null==(_=e.getEntryRange(e.item.t3Entry))?void 0:_.on,value:1}],label:"Value","emit-value":"","map-options":""},null,8,["disable","modelValue","options"])):w("",!0),e.item.t3Entry.range>100?(r(),u(oe,{key:2,class:"mb-1",disable:0===(null==(k=e.item.t3Entry)?void 0:k.auto_manual),filled:"",dark:"",modelValue:e.item.t3Entry.value,"onUpdate:modelValue":[t[5]||(t[5]=t=>e.item.t3Entry.value=t),t[6]||(t[6]=t=>e.T3UpdateEntryField("value",e.item))],options:e.rangeOptions,label:"Value","emit-value":"","map-options":"","option-label":"name"},null,8,["disable","modelValue","options"])):"PROGRAM"===e.item.t3Entry.type?(r(),u(oe,{key:3,class:"mb-1",disable:0===(null==(C=e.item.t3Entry)?void 0:C.auto_manual),filled:"",dark:"",modelValue:e.item.t3Entry.status,"onUpdate:modelValue":[t[7]||(t[7]=t=>e.item.t3Entry.status=t),t[8]||(t[8]=t=>e.T3UpdateEntryField("status",e.item))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Status","emit-value":"","map-options":""},null,8,["disable","modelValue"])):"SCHEDULE"===e.item.t3Entry.type?(r(),u(oe,{key:4,class:"mb-1",disable:0===(null==(S=e.item.t3Entry)?void 0:S.auto_manual),filled:"",dark:"",modelValue:e.item.t3Entry.output,"onUpdate:modelValue":[t[9]||(t[9]=t=>e.item.t3Entry.output=t),t[10]||(t[10]=t=>e.T3UpdateEntryField("output",e.item))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Output","emit-value":"","map-options":""},null,8,["disable","modelValue"])):"HOLIDAY"===e.item.t3Entry.type?(r(),u(oe,{key:5,class:"mb-1",disable:0===(null==(E=e.item.t3Entry)?void 0:E.auto_manual),filled:"",dark:"",modelValue:e.item.t3Entry.value,"onUpdate:modelValue":[t[11]||(t[11]=t=>e.item.t3Entry.value=t),t[12]||(t[12]=t=>e.T3UpdateEntryField("value",e.item))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Value","emit-value":"","map-options":""},null,8,["disable","modelValue"])):w("",!0),e.item.t3Entry.range<101&&1===e.item.t3Entry.digital_analog?(r(),u(y,{key:6,class:"mb-1",disable:0===(null==(D=e.item.t3Entry)?void 0:D.auto_manual),filled:"",dark:"",type:"number",modelValue:e.item.t3Entry.value,"onUpdate:modelValue":[t[13]||(t[13]=t=>e.item.t3Entry.value=t),t[14]||(t[14]=t=>e.T3UpdateEntryField("value",e.item))],modelModifiers:{number:!0},label:"Value",suffix:e.unitText},null,8,["disable","modelValue","suffix"])):w("",!0),d(oe,{filled:"",dark:"",modelValue:e.item.settings.t3EntryDisplayField,"onUpdate:modelValue":[t[15]||(t[15]=t=>e.item.settings.t3EntryDisplayField=t),t[16]||(t[16]=t=>e.DisplayFieldValueChanged(e.item.settings.t3EntryDisplayField))],options:e.t3EntryDisplayFieldOptions,label:"Display field","emit-value":"","map-options":""},null,8,["modelValue","options"])])):w("",!0)]),d(Bt,{class:"mb-2 border border-solid border-gray-700",dark:"","default-opened":"",label:"General"},{default:c((()=>{var i;return[p("div",Hi,[p("div",ji,[d(y,{"input-style":"width: 100%","onUpdate:modelValue":[e.refreshMoveable,t[17]||(t[17]=t=>e.item.translate[0]=t)],label:"X",modelValue:e.item.translate[0],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),d(y,{"input-style":"width: 100%","onUpdate:modelValue":[e.refreshMoveable,t[18]||(t[18]=t=>e.item.translate[1]=t)],label:"Y",modelValue:e.item.translate[1],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),d(y,{"input-style":"width: 100%","onUpdate:modelValue":[e.refreshMoveable,t[19]||(t[19]=t=>e.item.width=t)],label:"Width",modelValue:e.item.width,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),d(y,{"input-style":"width: 100%","onUpdate:modelValue":[e.refreshMoveable,t[20]||(t[20]=t=>e.item.height=t)],label:"Height",modelValue:e.item.height,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),d(y,{"input-style":"width: 100%","onUpdate:modelValue":[e.refreshMoveable,t[21]||(t[21]=t=>e.item.rotate=t)],label:"Rotate",modelValue:e.item.rotate,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),d(y,{"input-style":"width: 100%",label:"Font size",modelValue:e.item.settings.fontSize,"onUpdate:modelValue":t[22]||(t[22]=t=>e.item.settings.fontSize=t),modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"])]),p("div",Vi,[d(y,{dark:"",filled:"",modelValue:e.item.settings.title,"onUpdate:modelValue":t[23]||(t[23]=t=>e.item.settings.title=t),label:"Title"},null,8,["modelValue"]),g(p("input",{type:"color",class:"absolute top-2 right-2","onUpdate:modelValue":t[24]||(t[24]=t=>e.item.settings.titleColor=t)},null,512),[[M,e.item.settings.titleColor]])]),p("div",Bi,[g(p("input",{type:"color",id:"bg-color-input","onUpdate:modelValue":t[25]||(t[25]=t=>e.item.settings.bgColor=t)},null,512),[[M,e.item.settings.bgColor]]),p("label",Ui,m((null==(i=e.settings.bgColor)?void 0:i.label)||"Background color"),1)]),(r(!0),a(b,null,x(e.settings,((i,s)=>(r(),a(b,{key:s},[["bgColor","title","titleColor"].includes(s)?w("",!0):(r(),a(b,{key:0},["justifyContent"===i.type?(r(),a("div",Wi,[t[28]||(t[28]=p("div",{class:"mx-1"},"Align",-1)),d(Ut,{push:""},{default:c((()=>[d(v,{push:"",icon:"format_align_left",color:"flex-start"===e.item.settings[s]?"grey-9":null,"text-color":"grey-5",onClick:t=>e.item.settings[s]="flex-start"},null,8,["color","onClick"]),d(v,{push:"",icon:"format_align_center",color:"center"===e.item.settings[s]?"grey-9":null,"text-color":"grey-5",onClick:t=>e.item.settings[s]="center"},null,8,["color","onClick"]),d(v,{push:"",icon:"format_align_right",color:"flex-end"===e.item.settings[s]?"grey-9":null,"text-color":"grey-5",onClick:t=>e.item.settings[s]="flex-end"},null,8,["color","onClick"])])),_:2},1024)])):"textAlign"===i.type?(r(),a("div",$i,[t[29]||(t[29]=p("div",{class:"mx-1"},"Align",-1)),d(Ut,{push:""},{default:c((()=>[d(v,{push:"",icon:"format_align_left",color:"left"===e.item.settings[s]?"grey-9":null,"text-color":"grey-5",onClick:t=>e.item.settings[s]="left"},null,8,["color","onClick"]),d(v,{push:"",icon:"format_align_center",color:"center"===e.item.settings[s]?"grey-9":null,"text-color":"grey-5",onClick:t=>e.item.settings[s]="center"},null,8,["color","onClick"]),d(v,{push:"",icon:"format_align_right",color:"right"===e.item.settings[s]?"grey-9":null,"text-color":"grey-5",onClick:t=>e.item.settings[s]="right"},null,8,["color","onClick"])])),_:2},1024)])):"color"===i.type?(r(),a("div",Gi,[g(p("input",{type:"color",id:"text-color-input","onUpdate:modelValue":t=>e.item.settings[s]=t},null,8,Yi),[[M,e.item.settings[s]]]),p("label",qi,m(i.label),1)])):"text"===i.type?(r(),a("div",Xi,[d(y,{autogrow:"",autofocus:"",dark:"",filled:"",modelValue:e.item.settings[s],"onUpdate:modelValue":t=>e.item.settings[s]=t,label:i.label},null,8,["modelValue","onUpdate:modelValue","label"])])):"number"===i.type?(r(),a("div",Zi,[d(y,{class:"mb-1",filled:"",dark:"",type:"number",modelValue:e.item.settings[s],"onUpdate:modelValue":[t=>e.item.settings[s]=t,t=>e.updatePropsValue(s)],modelModifiers:{number:!0},label:i.label},null,8,["modelValue","onUpdate:modelValue","label"])])):"icon"===i.type?(r(),a("div",Ji,[d(oe,{filled:"",dark:"",modelValue:e.item.settings[s],"onUpdate:modelValue":t=>e.item.settings[s]=t,options:e.icons,label:i.label,"emit-value":"","map-options":""},{prepend:c((()=>[d(A,{name:e.item.settings[s]||"block"},null,8,["name"])])),option:c((e=>[d(Q,H({ref_for:!0},e.itemProps),{default:c((()=>[d(ee,{avatar:"",class:"pr-1 min-w-0"},{default:c((()=>[d(A,{name:e.opt.value||"block"},null,8,["name"])])),_:2},1024),d(ee,{class:"grow"},{default:c((()=>[d(te,null,{default:c((()=>[I(m(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:2},1032,["modelValue","onUpdate:modelValue","options","label"])])):"iconSwitch"===i.type?(r(),a("div",Ki,[d(oe,{filled:"",dark:"",modelValue:e.item.settings[s],"onUpdate:modelValue":t=>e.item.settings[s]=t,options:e.switchIcons,label:i.label,"emit-value":"","map-options":""},{prepend:c((()=>[d(A,{name:e.getSwitchIcon(e.item.settings[s])},null,8,["name"])])),option:c((e=>[d(Q,H({ref_for:!0},e.itemProps),{default:c((()=>[d(ee,{avatar:"",class:"pr-1 min-w-0"},{default:c((()=>[d(A,{name:e.opt.icon.off||"block"},null,8,["name"])])),_:2},1024),d(ee,{class:"grow"},{default:c((()=>[d(te,null,{default:c((()=>[I(m(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:2},1032,["modelValue","onUpdate:modelValue","options","label"])])):"boolean"===i.type?(r(),u(j,{key:7,dark:"",filled:"",modelValue:e.item.settings[s],"onUpdate:modelValue":t=>e.item.settings[s]=t,class:"text-white w-full",label:i.label,disable:"active"===s&&(e.item.t3Entry&&0===e.item.t3Entry.auto_manual||e.item.t3Entry&&1===e.item.t3Entry.digital_analog)||e.item.t3Entry&&void 0!==e.item.t3Entry.decom},{default:c((()=>{var i;return["active"===s&&0===(null==(i=e.item.t3Entry)?void 0:i.auto_manual)?(r(),u(n,{key:0,anchor:"center left",self:"center end"},{default:c((()=>[...t[30]||(t[30]=[I(" Manual changes are not possible as the linked entry is set to auto mode. ",-1)])])),_:1})):w("",!0)]})),_:2},1032,["modelValue","onUpdate:modelValue","label","disable"])):w("",!0)],64))],64)))),128))])]})),_:1})])])):w("",!0)}],["__scopeId","data-v-612fede9"]]),tr={exports:{}},nr=Gt(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));
/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */
Qi=tr,function(e,t){var n=(e=e||nr).window,i=e.document,r=new function(){var e=/^(statics|enumerable|beans|preserve)$/,n=[],i=n.slice,r=Object.create,a=Object.getOwnPropertyDescriptor,s=Object.defineProperty,o=n.forEach||function(e,t){for(var n=0,i=this.length;n<i;n++)e.call(t,this[n],n,this)},l=function(e,t){for(var n in this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)},u=Object.assign||function(e){for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t];for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e},c=function(e,t,n){if(e){var i=a(e,"length");(i&&"number"==typeof i.value?o:l).call(e,t,n=n||e)}return n};function d(t,n,i,r,o){var l={};function u(e,u){"string"==typeof(u=u||(u=a(n,e))&&(u.get?u:u.value))&&"#"===u[0]&&(u=t[u.substring(1)]||u);var c,d="function"==typeof u,f=u,p=o||d&&!u.base?u&&u.get?e in t:t[e]:null;o&&p||(d&&p&&(u.base=p),d&&!1!==r&&(c=e.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[c[3].toLowerCase()+c[4]]=c[2]),f&&!d&&f.get&&"function"==typeof f.get&&h.isPlainObject(f)||(f={value:f,writable:!0}),(a(t,e)||{configurable:!0}).configurable&&(f.configurable=!0,f.enumerable=null!=i?i:!c),s(t,e,f))}if(n){for(var c in n)n.hasOwnProperty(c)&&!e.test(c)&&u(c);for(var c in l){var d=l[c],f=t["set"+d],p=t["get"+d]||f&&t["is"+d];!p||!0!==r&&0!==p.length||u(c,{get:p,set:f})}}return t}function h(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&u(this,n)}return this}return d(h,{inject:function(e){if(e){var t=!0===e.statics?e:e.statics,n=e.beans,i=e.preserve;t!==e&&d(this.prototype,e,e.enumerable,n,i),d(this,t,null,n,i)}for(var r=1,a=arguments.length;r<a;r++)this.inject(arguments[r]);return this},extend:function(){for(var e,t,n,i=this,a=0,o=arguments.length;a<o&&(!e||!t);a++)n=arguments[a],e=e||n.initialize,t=t||n.prototype;return e=e||function(){i.apply(this,arguments)},t=e.prototype=t||r(this.prototype),s(t,"constructor",{value:e,writable:!0,configurable:!0}),d(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=i,e}}).inject({enumerable:!1,initialize:h,set:h,inject:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&d(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var e=r(this);return e.inject.apply(e,arguments)},each:function(e,t){return c(this,e,t)},clone:function(){return new this.constructor(this)},statics:{set:u,each:c,create:r,define:s,describe:a,clone:function(e){return u(new e.constructor,e)},isPlainObject:function(e){var t=null!=e&&e.constructor;return t&&(t===Object||t===h||"Object"===t.name)},pick:function(e,n){return e!==t?e:n},slice:function(e,t,n){return i.call(e,t,n)}}})};Qi.exports=r,r.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+r.each(this,(function(e,t){if(!/^_/.test(t)){var n=typeof e;this.push(t+": "+("number"===n?u.instance.number(e):"string"===n?"'"+e+"'":e))}}),[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return r.importJSON(e,this)},exportJSON:function(e){return r.exportJSON(this,e)},toJSON:function(){return r.serialize(this)},set:function(e,t){return e&&r.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),n=t.prototype._class;return n&&!r.exports[n]&&(r.exports[n]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)&&Array.isArray(t)){if((n=e.length)!==t.length)return!1;for(;n--;)if(!r.equals(e[n],t[n]))return!1}else{var n,i=Object.keys(e);if((n=i.length)!==Object.keys(t).length)return!1;for(;n--;){var a=i[n];if(!t.hasOwnProperty(a)||!r.equals(e[a],t[a]))return!1}}return!0}return!1},read:function(e,n,i,a){if(this===r){var s=this.peek(e,n);return e.__index++,s}var o=this.prototype,l=o._readIndex,u=n||l&&e.__index||0,c=e.length,d=e[u];if(a=a||c-u,d instanceof this||i&&i.readNull&&null==d&&a<=1)return l&&(e.__index=u+1),d&&i&&i.clone?d.clone():d;if(d=r.create(o),l&&(d.__read=!0),d=d.initialize.apply(d,u>0||u+a<c?r.slice(e,u,u+a):e)||d,l){e.__index=u+d.__read;var h=d.__filtered;h&&(e.__filtered=h,d.__filtered=t),d.__read=t}return d},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,n,i){for(var r,a=[],s=t||0,o=i?s+i:e.length,l=s;l<o;l++)a.push(Array.isArray(r=e[l])?this.read(r,0,n):this.read(e,l,n,1));return a},readNamed:function(e,n,i,a,s){var o=this.getNamed(e,n),l=o!==t;if(l){var u=e.__filtered;if(!u){var c=this.getSource(e);(u=e.__filtered=r.create(c)).__unfiltered=c}u[n]=t}return this.read(l?[o]:e,i,a,s)},readSupported:function(e,n){var i=this.getSource(e),r=this,a=!1;return i&&Object.keys(i).forEach((function(i){if(i in n){var s=r.readNamed(e,i);s!==t&&(n[i]=s),a=!0}})),a},getSource:function(e){var n=e.__source;if(n===t){var i=1===e.length&&e[0];n=e.__source=i&&r.isPlainObject(i)?i:null}return n},getNamed:function(e,t){var n=this.getSource(e);if(n)return t?n[t]:e.__filtered||n},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,n,i,r){var a;function s(r){if(!(i&&r in i||a&&r in a)){var s=n[r];s!==t&&(e[r]=s)}}if(r){for(var o,l={},u=0,c=r.length;u<c;u++)(o=r[u])in n&&(s(o),l[o]=!0);a=l}return Object.keys(n.__unfiltered||n).forEach(s),e},isPlainValue:function(e,t){return r.isPlainObject(e)||Array.isArray(e)||t&&"string"==typeof e},serialize:function(e,t,n,i){t=t||{};var a,s=!i;if(s&&(t.formatter=new u(t.precision),i={length:0,definitions:{},references:{},add:function(e,t){var n="#"+e._id,i=this.references[n];if(!i){this.length++;var r=t.call(e),a=e._class;a&&r[0]!==a&&r.unshift(a),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),e&&e._serialize){a=e._serialize(t,i);var o=e._class;!o||e._compactSerialize||!s&&n||a[0]===o||a.unshift(o)}else if(Array.isArray(e)){a=[];for(var l=0,c=e.length;l<c;l++)a[l]=r.serialize(e[l],t,n,i)}else if(r.isPlainObject(e)){a={};var d=Object.keys(e);for(l=0,c=d.length;l<c;l++){var h=d[l];a[h]=r.serialize(e[h],t,n,i)}}else a="number"==typeof e?t.formatter.number(e,t.precision):e;return s&&i.length>0?[["dictionary",i.definitions],a]:a},deserialize:function(e,t,n,i,a){var s=e,o=!n,l=o&&e&&e.length&&"dictionary"===e[0][0];if(n=n||{},Array.isArray(e)){var u=e[0],c="dictionary"===u;if(1==e.length&&/^#/.test(u))return n.dictionary[u];s=[];for(var d=(u=r.exports[u])?1:0,h=e.length;d<h;d++)s.push(r.deserialize(e[d],t,n,c,l));if(u){var f=s;s=t?t(u,f,o||a):new u(f)}}else if(r.isPlainObject(e))for(var p in s={},i&&(n.dictionary=s),e)s[p]=r.deserialize(e[p],t,n);return l?s[1]:s},exportJSON:function(e,t){var n=r.serialize(e,t);return t&&0==t.asString?n:JSON.stringify(n)},importJSON:function(e,t){return r.deserialize("string"==typeof e?JSON.parse(e):e,(function(e,n,i){var a=i&&t&&t.constructor===e,s=a?t:r.create(e.prototype);if(1===n.length&&s instanceof b&&(a||!(s instanceof M))){var o=n[0];r.isPlainObject(o)&&(o.insert=!1,a&&(n=n.concat([b.INSERT])))}return(a?s.set:e).apply(s,n),a&&(t=null),s}))},push:function(e,t){var n=t.length;if(n<4096)e.push.apply(e,t);else{var i=e.length;e.length+=n;for(var r=0;r<n;r++)e[i+r]=t[r]}return e},splice:function(e,n,i,a){var s=n&&n.length,o=i===t;(i=o?e.length:i)>e.length&&(i=e.length);for(var l=0;l<s;l++)n[l]._index=i+l;if(o)return r.push(e,n),[];var u=[i,a];n&&r.push(u,n);for(var c=e.splice.apply(e,u),d=(l=0,c.length);l<d;l++)c[l]._index=t;for(l=i+s,d=e.length;l<d;l++)e[l]._index=l;return c},capitalize:function(e){return e.replace(/\b[a-z]/g,(function(e){return e.toUpperCase()}))},camelize:function(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var a={on:function(e,t){if("string"!=typeof e)r.each(e,(function(e,t){this.on(t,e)}),this);else{var n=this._eventTypes,i=n&&n[e],a=this._callbacks=this._callbacks||{};-1===(a=a[e]=a[e]||[]).indexOf(t)&&(a.push(t),i&&i.install&&1===a.length&&i.install.call(this,e))}return this},off:function(e,t){if("string"==typeof e){var n,i=this._eventTypes,a=i&&i[e],s=this._callbacks&&this._callbacks[e];return s&&(!t||-1!==(n=s.indexOf(t))&&1===s.length?(a&&a.uninstall&&a.uninstall.call(this,e),delete this._callbacks[e]):-1!==n&&s.splice(n,1)),this}r.each(e,(function(e,t){this.off(t,e)}),this)},once:function(e,t){return this.on(e,(function n(){t.apply(this,arguments),this.off(e,n)}))},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];if(!n)return!1;var i=r.slice(arguments,1),a=t&&t.target&&!t.currentTarget;n=n.slice(),a&&(t.currentTarget=this);for(var s=0,o=n.length;s<o;s++)if(0==n[s].apply(this,i)){t&&t.stop&&t.stop();break}return a&&delete t.currentTarget,!0},responds:function(e){return!(!this._callbacks||!this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,n=this._callbacks,i=e?"install":"uninstall";if(t)for(var r in n)if(n[r].length>0){var a=t[r],s=a&&a[i];s&&s.call(this,r)}},statics:{inject:function e(t){var n=t._events;if(n){var i={};r.each(n,(function(e,n){var a="string"==typeof e,s=a?e:n,o=r.capitalize(s),l=s.substring(2).toLowerCase();i[l]=a?{}:e,s="_"+s,t["get"+o]=function(){return this[s]},t["set"+o]=function(e){var t=this[s];t&&this.off(l,t),e&&this.on(l,e),this[s]=e}})),t._eventTypes=i}return e.base.apply(this,arguments)}}},s=r.extend({_class:"PaperScope",initialize:function t(){se=this,this.settings=new r({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var n=t.prototype;if(!this.support){var i=ne.getContext(1,1)||{};n.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:ie.nativeModes},ne.release(i)}if(!this.agent){var a=e.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(a)||[])[0],o="darwin"===s?"mac":s,l=n.agent=n.browser={platform:o};o&&(l[o]=!0),a.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,(function(e,t,n,i,r){if(!l.chrome){var a="opera"===t?i:/^(node|trident)$/.test(t)?r:n;l.version=a,l.versionNumber=parseFloat(a),t={trident:"msie",jsdom:"node"}[t]||t,l.name=t,l[t]=!0}})),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.18",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var n=se.PaperScript.execute(e,this,t);return G.updateFocus(),n},install:function(e){var t=this;for(var n in r.each(["project","view","tool"],(function(n){r.define(e,n,{configurable:!0,get:function(){return t[n]}})})),this)!/^_/.test(n)&&this[n]&&(e[n]=this[n])},setup:function(e){return se=this,this.project=new w(e),this},createCanvas:function(e,t){return ne.getCanvas(e,t)},activate:function(){se=this},clear:function(){for(var e=this.projects,t=this.tools,n=e.length-1;n>=0;n--)e[n].remove();for(n=t.length-1;n>=0;n--)t[n].remove()},remove:function(){this.clear(),delete s._scopes[this._id]},statics:new function(){function e(e){return e+="Attribute",function(t,n){return t[e](n)||t[e]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),o=r.extend(a,{initialize:function(e){this._scope=se,this._index=this._scope[this._list].push(this)-1,!e&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(r.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),l={findItemBoundsCollisions:function(e,t,n){function i(e){for(var t=new Array(e.length),n=0;n<e.length;n++){var i=e[n].getBounds();t[n]=[i.left,i.top,i.right,i.bottom]}return t}var r=i(e),a=t&&t!==e?i(t):r;return this.findBoundsCollisions(r,a,n||0)},findCurveBoundsCollisions:function(e,t,n,i){function r(e){for(var t=Math.min,n=Math.max,i=new Array(e.length),r=0;r<e.length;r++){var a=e[r];i[r]=[t(a[0],a[2],a[4],a[6]),t(a[1],a[3],a[5],a[7]),n(a[0],a[2],a[4],a[6]),n(a[1],a[3],a[5],a[7])]}return i}var a=r(e),s=t&&t!==e?r(t):a;if(i){for(var o=this.findBoundsCollisions(a,s,n||0,!1,!0),l=this.findBoundsCollisions(a,s,n||0,!0,!0),u=[],c=0,d=o.length;c<d;c++)u[c]={hor:o[c],ver:l[c]};return u}return this.findBoundsCollisions(a,s,n||0)},findBoundsCollisions:function(e,t,n,i,r){var a=!t||e===t,s=a?e:e.concat(t),o=e.length,l=s.length;function u(e,t,n){for(var i=0,r=e.length;i<r;){var a=r+i>>>1;s[e[a]][t]<n?i=a+1:r=a}return i-1}for(var c=i?1:0,d=c+2,h=i?0:1,f=h+2,p=new Array(l),m=0;m<l;m++)p[m]=m;p.sort((function(e,t){return s[e][c]-s[t][c]}));var g=[],v=new Array(o);for(m=0;m<l;m++){var _=p[m],y=s[_],w=a?_:_-o,b=_<o,x=a||!b,M=b?[]:null;if(g.length){var k=u(g,d,y[c]-n)+1;if(g.splice(0,k),a&&r){M=M.concat(g);for(var C=0;C<g.length;C++)v[D=g[C]].push(w)}else{var S=y[f],E=y[h];for(C=0;C<g.length;C++){var D=g[C],T=s[D],I=D<o,A=a||D>=o;(r||(b&&A||x&&I)&&S>=T[h]-n&&E<=T[f]+n)&&(b&&A&&M.push(a?D:D-o),x&&I&&v[D].push(w))}}}if(b&&(e===t&&M.push(_),v[_]=M),g.length){var P=u(g,d,y[d]);g.splice(P+1,0,_)}else g.push(_)}for(m=0;m<v.length;m++){var O=v[m];O&&O.sort((function(e,t){return e-t}))}return v}},u=r.extend({initialize:function(e){this.precision=r.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,n){return this.number(e)+(n||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});u.instance=new u;var c=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,i=Math.sqrt,r=Math.pow,a=Math.log2||function(e){return Math.log(e)*Math.LOG2E},s=1e-12,o=112e-18;function l(e,t,n){return e<t?t:e>n?n:e}function u(e,t,i){function r(e){var t=134217729*e,n=e-t+t;return[n,e-n]}var a=t*t-e*i,s=t*t+e*i;if(3*n(a)<s){var o=r(e),l=r(t),u=r(i),c=t*t,d=e*i;a=c-d+(l[0]*l[0]-c+2*l[0]*l[1]+l[1]*l[1]-(o[0]*u[0]-d+o[0]*u[1]+o[1]*u[0]+o[1]*u[1]))}return a}function d(){var e=Math.max.apply(Math,arguments);return e&&(e<1e-8||e>1e8)?r(2,-Math.round(a(e))):0}return{EPSILON:s,MACHINE_EPSILON:o,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(i(2)-1)/3,isZero:function(e){return e>=-1e-12&&e<=s},isMachineZero:function(e){return e>=-112e-18&&e<=o},clamp:l,integrate:function(n,i,r,a){for(var s=e[a-2],o=t[a-2],l=.5*(r-i),u=l+i,c=0,d=a+1>>1,h=1&a?o[c++]*n(u):0;c<d;){var f=l*s[c];h+=o[c++]*(n(u+f)+n(u-f))}return l*h},findRoot:function(e,t,i,r,a,s,o){for(var u=0;u<s;u++){var c=e(i),d=c/t(i),h=i-d;if(n(d)<o){i=h;break}c>0?(a=i,i=h<=r?.5*(r+a):h):(r=i,i=h>=a?.5*(r+a):h)}return l(i,r,a)},solveQuadratic:function(e,t,r,a,c,h){var f,p=1/0;if(n(e)<s){if(n(t)<s)return n(r)<s?-1:0;f=-r/t}else{var m=u(e,t*=-.5,r);if(m&&n(m)<o){var g=d(n(e),n(t),n(r));g&&(m=u(e*=g,t*=g,r*=g))}if(m>=-112e-18){var v=m<0?0:i(m),_=t+(t<0?-v:v);0===_?p=-(f=r/e):(f=_/e,p=r/_)}}var y=0,w=null==c,b=c-s,x=h+s;return isFinite(f)&&(w||f>b&&f<x)&&(a[y++]=w?f:l(f,c,h)),p!==f&&isFinite(p)&&(w||p>b&&p<x)&&(a[y++]=w?p:l(p,c,h)),y},solveCubic:function(e,t,a,u,h,f,p){var m,g,v,_,y,w=d(n(e),n(t),n(a),n(u));function b(n){var i=e*(m=n);_=(i+(g=i+t))*m+(v=g*m+a),y=v*m+u}if(w&&(e*=w,t*=w,a*=w,u*=w),n(e)<s)e=t,g=a,v=u,m=1/0;else if(n(u)<s)g=t,v=a,m=0;else{b(-t/e/3);var x=y/e,M=r(n(x),1/3),k=x<0?-1:1,C=-_/e,S=C>0?1.324717957244746*Math.max(M,i(C)):M,E=m-k*S;if(E!==m){do{b(E),E=0===_?m:m-y/_/(1+o)}while(k*E>k*m);n(e)*m*m>n(u/m)&&(g=((v=-u/m)-a)/m)}}var D=c.solveQuadratic(e,g,v,h,f,p),T=null==f;return isFinite(m)&&(0===D||D>0&&m!==h[0]&&m!==h[1])&&(T||m>f-s&&m<p+s)&&(h[D++]=T?m:l(m,f,p)),D}}},d={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}return this._id++}},h=r.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){var n=typeof e,i=this.__read,r=0;if("number"===n){var a="number"==typeof t;this._set(e,a?t:e),i&&(r=a?2:1)}else if("undefined"===n||null===e)this._set(0,0),i&&(r=null===e?1:0);else{var s="string"===n?e.split(/[\s,]+/)||[]:e;r=1,Array.isArray(s)?this._set(+s[0],+(s.length>1?s[1]:s[0])):"x"in s?this._set(s.x||0,s.y||0):"width"in s?this._set(s.width||0,s.height||0):"angle"in s?(this._set(s.length||0,0),this.setAngle(s.angle||0)):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new h(this.x,this.y)},toString:function(){var e=u.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();c.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=h.read(arguments),t=this.getLength()*e.getLength();if(c.isZero(t))return NaN;var n=this.dot(e)/t;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=h.read(arguments);return 180*Math.atan2(this.cross(e),this.dot(e))/Math.PI},getDistance:function(){var e=arguments,t=h.read(e),n=t.x-this.x,i=t.y-this.y,a=n*n+i*i,s=r.read(e);return s?a:Math.sqrt(a)},normalize:function(e){e===t&&(e=1);var n=this.getLength(),i=0!==n?e/n:0,r=new h(this.x*i,this.y*i);return i>=0&&(r._angle=this._angle),r},rotate:function(e,t){if(0===e)return this.clone();e=e*Math.PI/180;var n=t?this.subtract(t):this,i=Math.sin(e),r=Math.cos(e);return n=new h(n.x*r-n.y*i,n.x*i+n.y*r),t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=h.read(arguments);return new h(this.x+e.x,this.y+e.y)},subtract:function(){var e=h.read(arguments);return new h(this.x-e.x,this.y-e.y)},multiply:function(){var e=h.read(arguments);return new h(this.x*e.x,this.y*e.y)},divide:function(){var e=h.read(arguments);return new h(this.x/e.x,this.y/e.y)},modulo:function(){var e=h.read(arguments);return new h(this.x%e.x,this.y%e.y)},negate:function(){return new h(-this.x,-this.y)},isInside:function(){return g.read(arguments).contains(this)},isClose:function(){var e=arguments,t=h.read(e),n=r.read(e);return this.getDistance(t)<=n},isCollinear:function(){var e=h.read(arguments);return h.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=h.read(arguments);return h.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=c.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=h.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=h.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=h.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new h(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=h.read(e),n=h.read(e);return new h(Math.min(t.x,n.x),Math.min(t.y,n.y))},max:function(){var e=arguments,t=h.read(e),n=h.read(e);return new h(Math.max(t.x,n.x),Math.max(t.y,n.y))},random:function(){return new h(Math.random(),Math.random())},isCollinear:function(e,t,n,i){return Math.abs(e*i-t*n)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+i*i))},isOrthogonal:function(e,t,n,i){return Math.abs(e*n+t*i)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+i*i))}}},r.each(["round","ceil","floor","abs"],(function(e){var t=Math[e];this[e]=function(){return new h(t(this.x),t(this.y))}}),{})),f=h.extend({initialize:function(e,t,n,i){this._x=e,this._y=t,this._owner=n,this._setter=i},_set:function(e,t,n){return this._x=e,this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),p=r.extend({_class:"Size",_readIndex:!0,initialize:function(e,t){var n=typeof e,i=this.__read,r=0;if("number"===n){var a="number"==typeof t;this._set(e,a?t:e),i&&(r=a?2:1)}else if("undefined"===n||null===e)this._set(0,0),i&&(r=null===e?1:0);else{var s="string"===n?e.split(/[\s,]+/)||[]:e;r=1,Array.isArray(s)?this._set(+s[0],+(s.length>1?s[1]:s[0])):"width"in s?this._set(s.width||0,s.height||0):"x"in s?this._set(s.x||0,s.y||0):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new p(this.width,this.height)},toString:function(){var e=u.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=p.read(arguments);return new p(this.width+e.width,this.height+e.height)},subtract:function(){var e=p.read(arguments);return new p(this.width-e.width,this.height-e.height)},multiply:function(){var e=p.read(arguments);return new p(this.width*e.width,this.height*e.height)},divide:function(){var e=p.read(arguments);return new p(this.width/e.width,this.height/e.height)},modulo:function(){var e=p.read(arguments);return new p(this.width%e.width,this.height%e.height)},negate:function(){return new p(-this.width,-this.height)},isZero:function(){var e=c.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new p(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new p(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new p(Math.random(),Math.random())}}},r.each(["round","ceil","floor","abs"],(function(e){var t=Math[e];this[e]=function(){return new p(t(this.width),t(this.height))}}),{})),m=p.extend({initialize:function(e,t,n,i){this._width=e,this._height=t,this._owner=n,this._setter=i},_set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),g=r.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,n,i,a){var s,o=arguments,l=typeof e;if("number"===l?(this._set(e,n,i,a),s=4):"undefined"===l||null===e?(this._set(0,0,0,0),s=null===e?1:0):1===o.length&&(Array.isArray(e)?(this._set.apply(this,e),s=1):e.x!==t||e.width!==t?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),s=1):e.from===t&&e.to===t&&(this._set(0,0,0,0),r.readSupported(o,this)&&(s=1))),s===t){var u,c,d=h.readNamed(o,"from"),f=r.peek(o),m=d.x,g=d.y;if(f&&f.x!==t||r.hasNamed(o,"to")){var v=h.readNamed(o,"to");u=v.x-m,c=v.y-g,u<0&&(m=v.x,u=-u),c<0&&(g=v.y,c=-c)}else{var _=p.read(o);u=_.width,c=_.height}this._set(m,g,u,c),s=o.__index}var y=o.__filtered;return y&&(this.__filtered=y),this.__read&&(this.__read=s),this},set:"#initialize",_set:function(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this},clone:function(){return new g(this.x,this.y,this.width,this.height)},equals:function(e){var t=r.isPlainValue(e)?g.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=u.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){return new(e?h:f)(this.x,this.y,this,"setPoint")},setPoint:function(){var e=h.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){return new(e?p:m)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=p.read(arguments),t=this._sx,n=this._sy,i=e.width,r=e.height;t&&(this.x+=(this.width-i)*t),n&&(this.y+=(this.height-r)*n),this.width=i,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=.5===this._sx?2*t:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=.5===this._sy?2*t:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=.5===this._sx?2*t:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=.5===this._sy?2*t:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||.5===this._sx?this.x=e-this.width/2:(this._sx&&(this.x+=2*(e-this.x)*this._sx),this.width=2*(e-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||.5===this._sy?this.y=e-this.height/2:(this._sy&&(this.y+=2*(e-this.y)*this._sy),this.height=2*(e-this.y)),this._sy=.5,this._fh=0},getCenter:function(e){return new(e?h:f)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=h.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(e){return e&&e.width!==t||4===(Array.isArray(e)?e:arguments).length?this._containsRectangle(g.read(arguments)):this._containsPoint(h.read(arguments))},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height},intersects:function(){var e=g.read(arguments),t=r.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=g.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),i=Math.min(this.x+this.width,e.x+e.width),r=Math.min(this.y+this.height,e.y+e.height);return new g(t,n,i-t,r-n)},unite:function(){var e=g.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width),r=Math.max(this.y+this.height,e.y+e.height);return new g(t,n,i-t,r-n)},include:function(){var e=h.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x),r=Math.max(this.y+this.height,e.y);return new g(t,n,i-t,r-n)},expand:function(){var e=p.read(arguments),t=e.width,n=e.height;return new g(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,n){return this.expand(this.width*e-this.width,this.height*(n===t?e:n)-this.height)}},r.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],(function(e,t){var n=e.join(""),i=/^[RL]/.test(n);t>=4&&(e[1]+=i?"Y":"X");var r=e[i?0:1],a=e[i?1:0],s="get"+r,o="get"+a,l="set"+r,u="set"+a,c="set"+n;this["get"+n]=function(e){return new(e?h:f)(this[s](),this[o](),this,c)},this[c]=function(){var e=h.read(arguments);this[l](e.x),this[u](e.y)}}),{beans:!0})),v=g.extend({initialize:function(e,t,n,i,r,a){this._set(e,t,n,i,!0),this._owner=r,this._setter=a},_set:function(e,t,n,i,r){return this._x=e,this._y=t,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var e=g.prototype;return r.each(["x","y","width","height"],(function(e){var t=r.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._dontNotify||this._owner[this._setter](this)}}),r.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],(function(t){var n="set"+t;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}}),{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),_=r.extend({_class:"Matrix",initialize:function e(t,n){var i=arguments,r=i.length,a=!0;if(r>=6?this._set.apply(this,i):1===r||2===r?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,n):Array.isArray(t)?this._set.apply(this,n?t.concat([n]):t):a=!1:r?a=!1:this.reset(),!a)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,n,i,r,a,s){return this._a=e,this._b=t,this._c=n,this._d=i,this._tx=r,this._ty=a,s||this._changed(),this},_serialize:function(e,t){return r.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new _(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=u.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var n=this._owner;return!!n&&(n.transform(null,r.pick(e,!0),t),this.isIdentity())},translate:function(){var e=h.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._c,this._ty+=t*this._b+n*this._d,this._changed(),this},scale:function(){var e=arguments,t=h.read(e),n=h.read(e,0,{readNull:!0});return n&&this.translate(n),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=h.read(arguments,1),n=t.x,i=t.y,r=Math.cos(e),a=Math.sin(e),s=n-n*r+i*a,o=i-n*a-i*r,l=this._a,u=this._b,c=this._c,d=this._d;return this._a=r*l+a*c,this._b=r*u+a*d,this._c=-a*l+r*c,this._d=-a*u+r*d,this._tx+=s*l+o*c,this._ty+=s*u+o*d,this._changed(),this},shear:function(){var e=arguments,t=h.read(e),n=h.read(e,0,{readNull:!0});n&&this.translate(n);var i=this._a,r=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*i,this._d+=t.x*r,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var e=arguments,t=h.read(e),n=h.read(e,0,{readNull:!0}),i=Math.PI/180,r=new h(Math.tan(t.x*i),Math.tan(t.y*i));return this.shear(r,n)},append:function(e,t){if(e){var n=this._a,i=this._b,r=this._c,a=this._d,s=e._a,o=e._c,l=e._b,u=e._d,c=e._tx,d=e._ty;this._a=s*n+l*r,this._c=o*n+u*r,this._b=s*i+l*a,this._d=o*i+u*a,this._tx+=c*n+d*r,this._ty+=c*i+d*a,t||this._changed()}return this},prepend:function(e,t){if(e){var n=this._a,i=this._b,r=this._c,a=this._d,s=this._tx,o=this._ty,l=e._a,u=e._c,c=e._b,d=e._d,h=e._tx,f=e._ty;this._a=l*n+u*i,this._c=l*r+u*a,this._b=c*n+d*i,this._d=c*r+d*a,this._tx=l*s+u*o+h,this._ty=c*s+d*o+f,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,n=this._c,i=this._d,r=this._tx,a=this._ty,s=e*i-t*n,o=null;return s&&!isNaN(s)&&isFinite(r)&&isFinite(a)&&(this._a=i/s,this._b=-t/s,this._c=-n/s,this._d=e/s,this._tx=(n*a-i*r)/s,this._ty=(t*r-e*a)/s,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new _(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,n){return arguments.length<3?this._transformPoint(h.read(arguments)):this._transformCoordinates(e,t,n)},_transformPoint:function(e,t,n){var i=e.x,r=e.y;return t||(t=new h),t._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,n)},_transformCoordinates:function(e,t,n){for(var i=0,r=2*n;i<r;i+=2){var a=e[i],s=e[i+1];t[i]=a*this._a+s*this._c+this._tx,t[i+1]=a*this._b+s*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,n=e.y,i=t+e.width,r=n+e.height,a=[t,n,i,n,i,r,t,r];return this._transformCoordinates(a,a,4)},_transformBounds:function(e,t,n){for(var i=this._transformCorners(e),r=i.slice(0,2),a=r.slice(),s=2;s<8;s++){var o=i[s],l=1&s;o<r[l]?r[l]=o:o>a[l]&&(a[l]=o)}return t||(t=new g),t._set(r[0],r[1],a[0]-r[0],a[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(h.read(arguments))},_inverseTransform:function(e,t,n){var i=this._a,r=this._b,a=this._c,s=this._d,o=this._tx,l=this._ty,u=i*s-r*a,c=null;if(u&&!isNaN(u)&&isFinite(o)&&isFinite(l)){var d=e.x-this._tx,f=e.y-this._ty;t||(t=new h),c=t._set((d*s-f*a)/u,(f*i-d*r)/u,n)}return c},decompose:function(){var e,t,n,i=this._a,r=this._b,a=this._c,s=this._d,o=i*s-r*a,l=Math.sqrt,u=Math.atan2,c=180/Math.PI;if(0!==i||0!==r){var d=l(i*i+r*r);e=Math.acos(i/d)*(r>0?1:-1),t=[d,o/d],n=[u(i*a+r*s,d*d),0]}else if(0!==a||0!==s){var f=l(a*a+s*s);e=Math.asin(a/f)*(s>0?1:-1),t=[o/f,f],n=[0,u(i*a+r*s,f*f)]}else e=0,n=t=[0,0];return{translation:this.getTranslation(),rotation:e*c,scaling:new h(t),skewing:new h(n[0]*c,n[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new h(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},r.each(["a","b","c","d","tx","ty"],(function(e){var t=r.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._changed()}}),{})),y=r.extend({_class:"Line",initialize:function(e,t,n,i,r){var a=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=n,this._vy=i,a=r):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,a=n),a||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new h(this._px,this._py)},getVector:function(){return new h(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return y.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return y.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return y.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return h.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return h.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,n,i,r,a,s,o,l,u){l||(n-=e,i-=t,s-=r,o-=a);var d=n*o-i*s;if(!c.isMachineZero(d)){var f=e-r,p=t-a,m=(s*p-o*f)/d,g=(n*p-i*f)/d,v=-1e-12,_=1+1e-12;if(u||v<m&&m<_&&v<g&&g<_)return u||(m=m<=0?0:m>=1?1:m),new h(e+m*n,t+m*i)}},getSide:function(e,t,n,i,r,a,s,o){s||(n-=e,i-=t);var l=r-e,u=l*i-(a-t)*n;return!o&&c.isMachineZero(u)&&(u=(l*n+l*n)/(n*n+i*i))>=0&&u<=1&&(u=0),u<0?-1:u>0?1:0},getSignedDistance:function(e,t,n,i,r,a,s){return s||(n-=e,i-=t),0===n?i>0?r-e:e-r:0===i?n<0?a-t:t-a:((r-e)*i-(a-t)*n)/(i>n?i*Math.sqrt(1+n*n/(i*i)):n*Math.sqrt(1+i*i/(n*n)))},getDistance:function(e,t,n,i,r,a,s){return Math.abs(y.getSignedDistance(e,t,n,i,r,a,s))}}}),w=o.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){o.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new U(null,null,this),this._view=G.create(this,e||ne.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return r.serialize(this._children,e,!0,t)},_changed:function(e,t){if(1&e){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&t){var r=this._changesById,a=t._id,s=r[a];s?s.flags|=e:i.push(r[a]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return!!e.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new M({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:S,match:function(n){var i=n._definition,r=i._id;return t[r]||(t[r]=!0,e.push(i)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var n in e){var i=e[n],r=i._selection;1&r&&i.isInserted()?t.push(i):r||this._updateSelection(i)}return t},_updateSelection:function(e){var t=e._id,n=this._selectionItems;e._selection?n[t]!==e&&(this._selectionCount++,n[t]=e):n[t]===e&&(this._selectionCount--,delete n[t])},selectAll:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(t,e)},insertLayer:function(e,t){if(t instanceof M){t._remove(!1,!0),r.splice(this._children,[t],e,0),t._setProject(this,!0);var n=t._name;n&&t.setName(n),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,n,i){return n=this.insertLayer(e,n)||(this._activeLayer||this._insertItem(t,new M(b.NO_INSERT),!0)).insertChild(e,n),i&&n.activate&&n.activate(),n},getItems:function(e){return b._getItems(this,e)},getItem:function(e){return b._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return r.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){"mouseup"===e&&(t.mousedrag=null);var n=t[e];if(n){for(var i in n){var r=n[i];for(var a in t){var s=t[a];s&&s!=n&&delete s[r._id]}r.remove()}t[e]=null}}},draw:function(e,t,n){this._updateVersion++,e.save(),t.applyToContext(e);for(var i=this._children,a=new r({offset:new h(0,0),pixelRatio:n,viewMatrix:t.isIdentity()?null:t,matrices:[new _],updateMatrix:!0}),s=0,o=i.length;s<o;s++)i[s].draw(e,a);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var l=this._selectionItems,u=this._scope.settings.handleSize,c=this._updateVersion;for(var d in l)l[d]._drawSelection(e,t,u,l,c);e.restore()}}}),b=r.extend(a,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=r.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new _,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return r.each(e,(function(e){this._events[e]={install:function(e){this.getView()._countItemEvent(e,1)},uninstall:function(e){this.getView()._countItemEvent(e,-1)}}}),{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,n){var i=e&&r.isPlainObject(e),a=i&&!0===e.internal,s=this._matrix=new _,o=i&&e.project||se.project,l=se.settings;return this._id=a?null:d.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,n&&s.translate(n),s._owner=this,this._style=new U(o._currentStyle,this,o),a||i&&0==e.insert||!l.insertItems&&(!i||1!=e.insert)?this._setProject(o):(i&&e.parent||o)._insertItem(t,this,!0),i&&e!==b.NO_INSERT&&e!==b.INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(e,t){var n={},i=this;function a(a){for(var s in a){var o=i[s];r.equals(o,"leading"===s?1.2*a.fontSize:a[s])||(n[s]=r.serialize(o,e,"data"!==s,t))}}return a(this._serializeFields),this instanceof x||a(this._style._defaults),[this._class,n]},_changed:function(e){var n=this._symbol,i=this._parent||n,r=this._project;8&e&&(this._bounds=this._position=this._decomposed=t),16&e&&(this._globalMatrix=t),i&&72&e&&b._clearBoundsCache(i),2&e&&b._clearBoundsCache(this),r&&r._changed(e,this),n&&n._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var n=this._getOwner();if(e&&n){var i=n._children,r=n._namedChildren;(r[e]=r[e]||[]).push(this),e in i||(i[e]=this)}this._name=e||t,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},r.each(["locked","visible","blendMode","opacity","guide"],(function(e){var t=r.capitalize(e),n="_"+e,i={locked:256,visible:265};this["get"+t]=function(){return this[n]},this["set"+t]=function(t){t!=this[n]&&(this[n]=t,this._changed(i[e]||257))}}),{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){if(this._selectChildren)for(var e=this._children,t=0,n=e.length;t<n;t++)if(e[t].isSelected())return!0;return!!(1&this._selection)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,n=0,i=t.length;n<i;n++)t[n].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(1&this._selection);if(e&&t){for(var n=0,i=e.length;n<i;n++)if(!e[n].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var n=0,i=t.length;n<i;n++)t[n].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?h:f,n=this._position||(this._position=this._getPositionFromBounds());return new t(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(h.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new f(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=h.read(arguments,0,{clone:!0,readNull:!0}),this._position=t}},r.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},(function(e,t){this[t]=function(t){return this.getBounds(t,e)}}),{beans:!0,getBounds:function(e,t){var n=t||e instanceof _,i=r.set({},n?t:e,this._boundsOptions);i.stroke&&!this.getStrokeScaling()||(i.cacheItem=this);var a=this._getCachedBounds(n&&e,i).rect;return arguments.length?a:new v(a.x,a.y,a.width,a.height,this,"setBounds")},setBounds:function(){var e=g.read(arguments),t=this.getBounds(),n=this._matrix,i=new _,r=e.getCenter();i.translate(r),e.width==t.width&&e.height==t.height||(n.isInvertible()||(n.set(n._backup||(new _).translate(n.getTranslation())),t=this.getBounds()),i.scale(0!==t.width?e.width/t.width:0,0!==t.height?e.height/t.height:0)),r=t.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(e,t){var n=this._children;return n&&n.length?(b._updateBoundsCache(this,t.cacheItem),b._getBounds(n,e,t)):new g},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,n){e=e&&e._orNullIfIdentity();var i=t.internal&&!n,r=t.cacheItem,a=i?null:this._matrix._orNullIfIdentity(),s=r&&(!e||e.equals(a))&&this._getBoundsCacheKey(t,i),o=this._bounds;if(b._updateBoundsCache(this._parent||this._symbol,r),s&&o&&s in o)return{rect:(h=o[s]).rect.clone(),nonscaling:h.nonscaling};var l=this._getBounds(e||a,t),u=l.rect||l,c=this._style,d=l.nonscaling||c.hasStroke()&&!c.getStrokeScaling();if(s){o||(this._bounds=o={});var h=o[s]={rect:u.clone(),nonscaling:d,internal:i}}return{rect:u,nonscaling:d}},_getStrokeMatrix:function(e,t){var n=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():e;return i&&i._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var n=t._id,i=e._boundsCache=e._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(t),i.ids[n]=t)}},_clearBoundsCache:function(e){var n=e._boundsCache;if(n){e._bounds=e._position=e._boundsCache=t;for(var i=0,r=n.list,a=r.length;i<a;i++){var s=r[i];s!==e&&(s._bounds=s._position=t,s._boundsCache&&b._clearBoundsCache(s))}}},_getBounds:function(e,t,n){var i=1/0,r=-i,a=i,s=r,o=!1;n=n||{};for(var l=0,u=e.length;l<u;l++){var c=e[l];if(c._visible&&!c.isEmpty(!0)){var d=c._getCachedBounds(t&&t.appended(c._matrix),n,!0),h=d.rect;i=Math.min(h.x,i),a=Math.min(h.y,a),r=Math.max(h.x+h.width,r),s=Math.max(h.y+h.height,s),d.nonscaling&&(o=!0)}}return{rect:isFinite(i)?new g(i,a,r-i,s-a):new g,nonscaling:o}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(null!=t&&null!=e){var n=this._decomposed;this.rotate(e-t),n&&(n.rotation=e,this._decomposed=n)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new f(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=h.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var n=this.getRotation(),i=this._decomposed,r=new _,a=c.isZero;if(a(e.x)||a(e.y))r.translate(i.translation),n&&r.rotate(n),r.scale(t.x,t.y),this._matrix.set(r);else{var s=this.getPosition(!0);r.translate(s),n&&r.rotate(n),r.scale(t.x/e.x,t.y/e.y),n&&r.rotate(-n),r.translate(s.negate()),this.transform(r)}i&&(i.scaling=t,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var n=this._parent,i=[];n;){if(!n._globalMatrix){t=null;for(var r=0,a=i.length;r<a;r++)i[r]._globalMatrix=null;break}i.push(n),n=n._parent}return t||(t=this._globalMatrix=this._matrix.clone(),(n=this._parent)&&t.prepend(n.getGlobalMatrix(!0))),e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof M)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(e){var n=this._parent,i=n&&n._children;i&&n.insertChildren(e in i?e:t,[this])},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return r.equals(this._children,e._children)},clone:function(e){var n=new this.constructor(b.NO_INSERT),i=this._children,a=r.pick(e?e.insert:t,e===t||!0===e),s=r.pick(e?e.deep:t,!0);i&&n.copyAttributes(this),i&&!s||n.copyContent(this),i||n.copyAttributes(this),a&&n.insertAbove(this);var o=this._name,l=this._parent;if(o&&l){i=l._children;for(var u=o,c=1;i[o];)o=u+" "+c++;o!==u&&n.setName(o)}return n},copyContent:function(e){for(var t=e._children,n=0,i=t&&t.length;n<i;n++)this.addChild(t[n].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,a=n.length;i<a;i++){var s=n[i];e.hasOwnProperty(s)&&(this[s]=e[s])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var o=e._data,l=e._name;this._data=o?r.clone(o):null,l&&this.setName(l)},rasterize:function(e,n){var i,a,s;r.isPlainObject(e)?(i=e.resolution,a=e.insert,s=e.raster):(i=e,a=n),s||(s=new C(b.NO_INSERT));var o=this.getStrokeBounds(),l=(i||this.getView().getResolution())/72,u=o.getTopLeft().floor(),c=o.getBottomRight().ceil(),d=new p(c.subtract(u)),h=d.multiply(l);if(s.setSize(h,!0),!h.isZero()){var f=s.getContext(!0),m=(new _).scale(l).translate(u.negate());f.save(),m.applyToContext(f),this.draw(f,new r({matrices:[m]})),f.restore()}return s._matrix.set((new _).translate(u.add(d.divide(2))).scale(1/l)),(a===t||a)&&s.insertAbove(this),s},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(h.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var n=t.length-1;n>=0;n--)if(t[n].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return g.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new N.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof b&&this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0}},new function(){function e(){var e=arguments;return this._hitTest(h.read(e),D.getOptions(e))}function t(){var e=arguments,t=h.read(e),n=D.getOptions(e),i=[];return this._hitTest(t,new r({all:i},n)),i}function n(e,t,n,i){var r=this._children;if(r)for(var a=r.length-1;a>=0;a--){var s=r[a],o=s!==i&&s._hitTest(e,t,n);if(o&&!t.all)return o}return null}return w.inject({hitTest:e,hitTestAll:t,_hitTest:n}),{hitTest:e,hitTestAll:t,_hitTestChildren:n}},{_hitTest:function(e,t,n){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var i=this._matrix,a=n?n.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),s=Math.max(t.tolerance,1e-12),o=t._tolerancePadding=new p(N._getStrokePadding(s,i._shiftless().invert()));if(!(e=i._inverseTransform(e))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(o.multiply(2))._containsPoint(e))return null;var l,u,c=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==r.hyphenate(this._class)||t.class&&!(this instanceof t.class)),d=t.match,h=this;function f(e){return e&&d&&!d(e)&&(e=null),e&&t.all&&t.all.push(e),e}function m(t,n){var i=n?l["get"+n]():h.getPosition();if(e.subtract(i).divide(o).length<=1)return new D(t,h,{name:n?r.hyphenate(n):t,point:i})}var g=t.position,v=t.center,_=t.bounds;if(c&&this._parent&&(g||v||_)){if((v||_)&&(l=this.getInternalBounds()),!(u=g&&m("position")||v&&m("center","Center"))&&_)for(var y=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],w=0;w<8&&!u;w++)u=m("bounds",y[w]);u=f(u)}return u||(u=this._hitTestChildren(e,t,a)||c&&f(this._hitTestSelf(e,t,a,this.getStrokeScaling()?null:a._shiftless().invert()))||null),u&&u.point&&(u.point=i.transform(u.point)),u},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new D("fill",this)},matches:function(e,t){var n=typeof e;if("object"===n){for(var i in e)if(e.hasOwnProperty(i)&&!this.matches(i,e[i]))return!1;return!0}if("function"===n)return e(this);if("match"===e)return t(this);var a=/^(empty|editable)$/.test(e)?this["is"+r.capitalize(e)]():"type"===e?r.hyphenate(this._class):this[e];if("class"===e){if("function"==typeof t)return this instanceof t;a=this._class}if("function"==typeof t)return!!t(a);if(t){if(t.test)return t.test(a);if(r.isPlainObject(t))return function e(t,n){for(var i in t)if(t.hasOwnProperty(i)){var a=t[i],s=n[i];if(r.isPlainObject(a)&&r.isPlainObject(s)){if(!e(a,s))return!1}else if(!r.equals(a,s))return!1}return!0}(t,a)}return r.equals(a,t)},getItems:function(e){return b._getItems(this,e,this._matrix)},getItem:function(e){return b._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,n,i,a,s){if(!a){var o="object"==typeof n&&n,l=o&&o.overlapping,u=o&&o.inside,c=(w=l||u)&&g.read([w]);a={items:[],recursive:o&&!1!==o.recursive,inside:!!u,overlapping:!!l,rect:c,path:l&&new N.Rectangle({rectangle:c,insert:!1})},o&&(n=r.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var d=t._children,h=a.items;i=(c=a.rect)&&(i||new _);for(var f=0,p=d&&d.length;f<p;f++){var m=d[f],v=i&&i.appended(m._matrix),y=!0;if(c){var w=m.getBounds(v);if(!c.intersects(w))continue;c.contains(w)||a.overlapping&&(w.contains(c)||a.path.intersects(m,v))||(y=!1)}if(y&&m.matches(n)&&(h.push(m),s))break;if(!1!==a.recursive&&e(m,n,v,a,s),s&&h.length>0)break}return h}}},{importJSON:function(e){var t=r.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(t,e)},insertChild:function(e,t){var n=t?this.insertChildren(e,[t]):null;return n&&n[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var n=this._children;if(n&&t&&t.length>0){for(var i={},a=(t=r.slice(t)).length-1;a>=0;a--){var s=(c=t[a])&&c._id;!c||i[s]?t.splice(a,1):(c._remove(!1,!0),i[s]=!0)}r.splice(n,t,e,0);for(var o=this._project,l=o._changes,u=(a=0,t.length);a<u;a++){var c,d=(c=t[a])._name;c._parent=this,c._setProject(o,!0),d&&c.setName(d),l&&c._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var n=e&&e._getOwner(),i=e!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(e._index+t,i)),i},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(t,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(t,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&1===t.length){var n=t[0].reduce(e);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,n=e._namedChildren,i=this._name,r=n[i],a=r?r.indexOf(this):-1;-1!==a&&(t[i]==this&&delete t[i],r.splice(a,1),r.length?t[i]=r[0]:delete n[i])}},_remove:function(e,t){var n=this._getOwner(),i=this._project,a=this._index;return this._style&&this._style._dispose(),!!n&&(this._name&&this._removeNamed(),null!=a&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),r.splice(n._children,null,a,1)),this._installEvents(!1),e&&i._changes&&this._changed(5),t&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=r.pick(t,this._children.length);for(var n=r.splice(this._children,null,e,t-e),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,n=t?t.length:0;if(e){for(var i=0;i<n;i++)if(!t[i].isEmpty(e))return!1;return!0}return!n},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(e){var t=[];do{t.unshift(e)}while(e=e._parent);return t}for(var n=t(this),i=t(e),r=0,a=Math.min(n.length,i.length);r<a;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(e){return-1===this._getOrder(e)},isBelow:function(e){return 1===this._getOrder(e)},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return!!e&&e.isDescendant(this)},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},r.each(["rotate","scale","shear","skew"],(function(e){var t="rotate"===e;this[e]=function(){var n=arguments,i=(t?r:h).read(n),a=h.read(n,0,{readNull:!0});return this.transform((new _)[e](i,a||this.getPosition(!0)))}}),{translate:function(){var e=new _;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,n){var i=this._matrix,r=e&&!e.isIdentity(),a=n&&this._canApplyMatrix||this._applyMatrix&&(r||!i.isIdentity()||t&&this._children);if(!r&&!a)return this;if(r){!e.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(e,!0);var s=this._style,o=s.getFillColor(!0),l=s.getStrokeColor(!0);o&&o.transform(e),l&&l.transform(e)}if(a&&(a=this._transformContent(i,t,n))){var u=this._pivot;u&&i._transformPoint(u,u,!0),i.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var c=this._bounds,d=this._position;(r||a)&&this._changed(25);var h=r&&c&&e.decompose();if(h&&h.skewing.isZero()&&h.rotation%90==0){for(var f in c){var p=c[f];if(p.nonscaling)delete c[f];else if(a||!p.internal){var m=p.rect;e._transformBounds(m,m)}}this._bounds=c;var g=c[this._getBoundsCacheKey(this._boundsOptions||{})];g&&(this._position=this._getPositionFromBounds(g.rect))}else r&&d&&this._pivot&&(this._position=e._transformPoint(d,d));return this},_transformContent:function(e,t,n){var i=this._children;if(i){for(var r=0,a=i.length;r<a;r++)i[r].transform(e,t,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(h.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(h.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(h.read(arguments))},localToParent:function(){return this._matrix._transformPoint(h.read(arguments))},fitBounds:function(e,t){e=g.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=e.height/e.width,a=(t?i>r:i<r)?e.width/n.width:e.height/n.height,s=new g(new h,new p(n.width*a,n.height*a));s.setCenter(e.getCenter()),this.setBounds(s)}}),{_setStyles:function(e,t,n){var i=this._style,r=this._matrix;if(i.hasFill()&&(e.fillStyle=i.getFillColor().toCanvasStyle(e,r)),i.hasStroke()){e.strokeStyle=i.getStrokeColor().toCanvasStyle(e,r),e.lineWidth=i.getStrokeWidth();var a=i.getStrokeJoin(),s=i.getStrokeCap(),o=i.getMiterLimit();if(a&&(e.lineJoin=a),s&&(e.lineCap=s),o&&(e.miterLimit=o),se.support.nativeDash){var l=i.getDashArray(),u=i.getDashOffset();l&&l.length&&("setLineDash"in e?(e.setLineDash(l),e.lineDashOffset=u):(e.mozDash=l,e.mozDashOffset=u))}}if(i.hasShadow()){var c=t.pixelRatio||1,d=n._shiftless().prepend((new _).scale(c,c)),f=d.transform(new h(i.getShadowBlur(),0)),p=d.transform(this.getShadowOffset());e.shadowColor=i.getShadowColor().toCanvasStyle(e),e.shadowBlur=f.getLength(),e.shadowOffsetX=p.x,e.shadowOffsetY=p.y}},draw:function(e,t,n){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var i=t.matrices,r=t.viewMatrix,a=this._matrix,s=i[i.length-1].appended(a);if(s.isInvertible()){r=r?r.appended(s):s,i.push(s),t.updateMatrix&&(this._globalMatrix=s);var o,l,u,d=this._blendMode,h=c.clamp(this._opacity,0,1),f="normal"===d,p=ie.nativeModes[d],m=f&&1===h||t.dontStart||t.clip||(p||f&&h<1)&&this._canComposite(),g=t.pixelRatio||1;if(!m){var v=this.getStrokeBounds(r);if(!v.width||!v.height)return void i.pop();u=t.offset,l=t.offset=v.getTopLeft().floor(),o=e,e=ne.getContext(v.getSize().ceil().add(1).multiply(g)),1!==g&&e.scale(g,g)}e.save();var _=n?n.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r,y=!m&&t.clipItem,w=!_||y;if(m?(e.globalAlpha=h,p&&(e.globalCompositeOperation=d)):w&&e.translate(-l.x,-l.y),w&&(m?a:r).applyToContext(e),y&&t.clipItem.draw(e,t.extend({clip:!0})),_){e.setTransform(g,0,0,g,0,0);var b=t.offset;b&&e.translate(-b.x,-b.y)}this._draw(e,t,r,_),e.restore(),i.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),m||(ie.process(d,e,o,h,l.subtract(u).multiply(g)),ne.release(e),t.offset=u)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof L)return t._isUpdated(e);var n=this._updateVersion===e;return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,i,r){var a=this._selection,s=1&a,o=2&a||s&&this._selectBounds,l=4&a;if(this._drawSelected||(s=!1),(s||o||l)&&this._isUpdated(r)){var u,c=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),d=t.appended(this.getGlobalMatrix(!0)),h=n/2;if(e.strokeStyle=e.fillStyle=c?c.toCanvasStyle(e):"#009dec",s&&this._drawSelected(e,d,i),l){var f=this.getPosition(!0),p=this._parent,m=p?p.localToGlobal(f):f,g=m.x,v=m.y;e.beginPath(),e.arc(g,v,h,0,2*Math.PI,!0),e.stroke();for(var _=[[0,-1],[1,0],[0,1],[-1,0]],y=h,w=n+1,b=0;b<4;b++){var x=_[b],M=x[0],k=x[1];e.moveTo(g+M*y,v+k*y),e.lineTo(g+M*w,v+k*w),e.stroke()}}if(o){var C=d._transformCorners(this.getInternalBounds());for(e.beginPath(),b=0;b<8;b++)e[b?"lineTo":"moveTo"](C[b],C[++b]);for(e.closePath(),e.stroke(),b=0;b<8;b++)e.fillRect(C[b]-h,C[++b]-h,n,n)}}},_canComposite:function(){return!1}},r.each(["down","drag","up","move"],(function(e){this["removeOn"+r.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}}),{removeOn:function(e){for(var t in e)if(e[t]){var n="mouse"+t,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}}),{tween:function(e,t,n){n||(n=t,t=e,e=null,n||(n=t,t=null));var i=n&&n.easing,r=n&&n.start,a=null!=n&&("number"==typeof n?n:n.duration),s=new ee(this,e,t,a,i,r);return a&&this.on("frame",(function e(t){s._handleFrame(1e3*t.time),s.running||this.off("frame",e)})),s},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),x=b.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function e(n){e.base.call(this,n),2050&n&&(this._clipItem=t)},_getClipItem:function(){var e=this._clipItem;if(e===t){e=null;for(var n=this._children,i=0,r=n.length;i<r;i++)if(n[i]._clipMask){e=n[i];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,n){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(t),r.set({},n,{stroke:!1})):e.base.call(this,t,n)},_hitTestChildren:function e(t,n,i){var r=this._getClipItem();return(!r||r.contains(t))&&e.base.call(this,t,n,i,r)},_draw:function(e,t){var n=t.clip,i=!n&&this._getClipItem();t=t.extend({clipItem:i,clip:!1}),n?(e.beginPath(),t.dontStart=t.dontFinish=!0):i&&i.draw(e,t.extend({clip:!0}));for(var r=this._children,a=0,s=r.length;a<s;a++){var o=r[a];o!==i&&o.draw(e,t)}}}),M=x.extend({_class:"Layer",initialize:function(){x.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function e(){return this._parent?e.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),k=b.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,t){this._initialize(e,t)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&r.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new m(e.width,e.height,this,"setSize")},setSize:function(){var e=p.read(arguments);if(this._size){if(!this._size.equals(e)){var t=this._type,n=e.width,i=e.height;"rectangle"===t?this._radius.set(p.min(this._radius,e.divide(2).abs())):"circle"===t?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===t&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}}else this._size=e.clone()},getRadius:function(){var e=this._radius;return"circle"===this._type?e:new m(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if("circle"===t){if(e===this._radius)return;var n=2*e;this._radius=e,this._size._set(n,n)}else if(e=p.read(arguments),this._radius){if(this._radius.equals(e))return;this._radius.set(e),"rectangle"===t?(n=p.max(this._size,e.multiply(2)),this._size.set(n)):"ellipse"===t&&this._size._set(2*e.width,2*e.height)}else this._radius=e.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var n=new(N[r.capitalize(this._type)])({center:new h,size:this._size,radius:this._radius,insert:!1});return n.copyAttributes(this),se.settings.applyMatrix&&n.setApplyMatrix(!0),(e===t||e)&&n.insertAbove(this),n},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,n,i){var r=this._style,a=r.hasFill(),s=r.hasStroke(),o=t.dontFinish||t.clip,l=!i;if(a||s||o){var u=this._type,c=this._radius,d="circle"===u;if(t.dontStart||e.beginPath(),l&&d)e.arc(0,0,c,0,2*Math.PI,!0);else{var h=d?c:c.width,f=d?c:c.height,p=this._size,m=p.width,g=p.height;if(l&&"rectangle"===u&&0===h&&0===f)e.rect(-m/2,-g/2,m,g);else{var v=m/2,_=g/2,y=.44771525016920644,w=h*y,b=f*y,x=[-v,-_+f,-v,-_+b,-v+w,-_,-v+h,-_,v-h,-_,v-w,-_,v,-_+b,v,-_+f,v,_-f,v,_-b,v-w,_,v-h,_,-v+h,_,-v+w,_,-v,_-b,-v,_-f];i&&i.transform(x,x,32),e.moveTo(x[0],x[1]),e.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),v!==h&&e.lineTo(x[8],x[9]),e.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),_!==f&&e.lineTo(x[16],x[17]),e.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),v!==h&&e.lineTo(x[24],x[25]),e.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}e.closePath()}o||!a&&!s||(this._setStyles(e,t,n),a&&(e.fill(r.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),s&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new g(this._size).setCenter(0,0),i=this._style,r=t.stroke&&i.hasStroke()&&i.getStrokeWidth();return e&&(n=e._transformBounds(n)),r?n.expand(N._getStrokePadding(r,this._getStrokeMatrix(e,t))):n}},new function(){function e(e,t,n){var i=e._radius;if(!i.isZero())for(var r=e._size.divide(2),a=1;a<=4;a++){var s=new h(a>1&&a<4?-1:1,a>2?-1:1),o=s.multiply(r),l=o.subtract(s.multiply(i));if(new g(n?o.add(s.multiply(n)):o,l).contains(t))return{point:l,quadrant:a}}}function t(e,t,n,i){var r=e.divide(t);return(!i||r.isInQuadrant(i))&&r.subtract(r.normalize()).multiply(t).divide(n).length<=1}return{_contains:function t(n){if("rectangle"===this._type){var i=e(this,n);return i?n.subtract(i.point).divide(this._radius).getLength()<=1:t.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r,a,s){var o=!1,l=this._style,u=r.stroke&&l.hasStroke(),c=r.fill&&l.hasFill();if(u||c){var d=this._type,h=this._radius,f=u?l.getStrokeWidth()/2:0,p=r._tolerancePadding.add(N._getStrokePadding(f,!l.getStrokeScaling()&&s));if("rectangle"===d){var m=p.multiply(2),v=e(this,i,m);if(v)o=t(i.subtract(v.point),h,p,v.quadrant);else{var _=new g(this._size).setCenter(0,0),y=_.expand(m),w=_.expand(m.negate());o=y._containsPoint(i)&&!w._containsPoint(i)}}else o=t(i,h,p)}return o?new D(u?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function e(e,t,n,i,a){var s=r.create(k.prototype);return s._type=e,s._size=n,s._radius=i,s._initialize(r.getNamed(a),t),s}return{Circle:function(){var t=arguments,n=h.readNamed(t,"center"),i=r.readNamed(t,"radius");return e("circle",n,new p(2*i),i,t)},Rectangle:function(){var t=arguments,n=g.readNamed(t,"rectangle"),i=p.min(p.readNamed(t,"radius"),n.getSize(!0).divide(2));return e("rectangle",n.getCenter(!0),n.getSize(!0),i,t)},Ellipse:function(){var t=arguments,n=k._readEllipse(t),i=n.radius;return e("ellipse",n.center,i.multiply(2),i,t)},_readEllipse:function(e){var t,n;if(r.hasNamed(e,"radius"))t=h.readNamed(e,"center"),n=p.readNamed(e,"radius");else{var i=g.readNamed(e,"rectangle");t=i.getCenter(!0),n=i.getSize(!0).divide(2)}return{center:t,radius:n}}}}}),C=b.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,n){if(!this._initialize(e,n!==t&&h.read(arguments))){var r,a=typeof e,s="string"===a?i.getElementById(e):"object"===a?e:null;if(s&&s!==b.NO_INSERT)if(s.getContext||null!=s.naturalHeight)r=s;else if(s){var o=p.read(arguments);o.isZero()||(r=ne.getCanvas(o))}r?this.setImage(r):this.setSource(e)}this._size||(this._size=new p,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,n=e._canvas;if(t)this._setImage(t);else if(n){var i=ne.getCanvas(e._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new m(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var n=p.read(arguments);if(n.equals(this._size))t&&this.clear();else if(n.width>0&&n.height>0){var i=!t&&this.getElement();this._setImage(ne.getCanvas(n)),i&&this.getContext(!0).drawImage(i,0,0,n.width,n.height)}else this._canvas&&ne.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||0===e.width&&0===e.height},getResolution:function(){var e=this._matrix,t=new h(0,0).transform(e),n=new h(1,0).transform(e).subtract(t),i=new h(0,1).transform(e).subtract(t);return new p(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function n(e){var n=t.getView(),i=e&&e.type||"load";n&&t.responds(i)&&(se=n._scope,t.emit(i,new q(e)))}this._setImage(e),this._loaded?setTimeout(n,0):e&&$.add(e,{load:function(i){t._setImage(e),n(i)},error:n})},_setImage:function(e){this._canvas&&ne.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new p(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=ne.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){ne.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(t){var n=new e.Image,i=this._crossOrigin;i&&(n.crossOrigin=i),t&&(n.src=t),this.setImage(n)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing="string"==typeof e?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=g.read(arguments),t=ne.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=g.read(arguments),t=new C(b.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(e){var t=h.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,n;if(e?e instanceof O?(n=e,t=e.getBounds()):"object"==typeof e&&("width"in e?t=new g(e):"x"in e&&(t=new g(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var i=Math.min(t.width,32),a=Math.min(t.height,32),s=C._sampleContext;s?s.clearRect(0,0,33,33):s=C._sampleContext=ne.getContext(new p(32)),s.save();var o=(new _).scale(i/t.width,a/t.height).translate(-t.x,-t.y);o.applyToContext(s),n&&n.draw(s,new r({clip:!0,matrices:[o]})),this._matrix.applyToContext(s);var l=this.getElement(),u=this._size;l&&s.drawImage(l,-u.width/2,-u.height/2),s.restore();for(var c=s.getImageData(.5,.5,Math.ceil(i),Math.ceil(a)).data,d=[0,0,0],h=0,f=0,m=c.length;f<m;f+=4){var v=c[f+3];h+=v,v/=255,d[0]+=c[f]*v,d[1]+=c[f+1]*v,d[2]+=c[f+2]*v}for(f=0;f<3;f++)d[f]/=h;return h?j.read(d):null},getPixel:function(){var e=h.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new j("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=h.read(e),n=j.read(e),i=n._convert("rgb"),r=n._alpha,a=this.getContext(!0),s=a.createImageData(1,1),o=s.data;o[0]=255*i[0],o[1]=255*i[1],o[2]=255*i[2],o[3]=null!=r?255*r:255,a.putImageData(s,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=p.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=g.read(arguments);return e.isEmpty()&&(e=new g(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var t=h.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,t){var n=new g(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new D("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,n){var i=this.getElement();if(i&&i.width>0&&i.height>0){e.globalAlpha=c.clamp(this._opacity,0,1),this._setStyles(e,t,n);var r=this._smoothing,a="off"===r;W.setPrefixed(e,a?"imageSmoothingEnabled":"imageSmoothingQuality",!a&&r),e.drawImage(i,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),S=b.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,n){this._initialize(e,n!==t&&h.read(arguments,1))||this.setDefinition(e instanceof E?e:new E(e))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(e),t)},_hitTestSelf:function(e,t,n){var i=t.extend({all:!1}),r=this._definition._item._hitTest(e,i,n);return r&&(r.item=this),r},_draw:function(e,t){this._definition._item.draw(e,t)}}),E=r.extend({_class:"SymbolDefinition",initialize:function(e,t){this._id=d.get(),this.project=se.project,e&&this.setItem(e,t)},_serialize:function(e,t){return t.add(this,(function(){return r.serialize([this._class,this._item],e,!1,t)}))},_changed:function(e){8&e&&b._clearBoundsCache(this),1&e&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new h),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new S(this,e)},clone:function(){return new E(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),D=r.extend({_class:"HitResult",initialize:function(e,t,n){this.type=e,this.item=t,n&&this.inject(n)},statics:{getOptions:function(e){var t=e&&r.read(e);return new r({type:null,tolerance:se.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),T=r.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,n,i,r,a,s){var o,l,u,c,d=arguments.length;d>0&&(null==e||"object"==typeof e?1===d&&e&&"point"in e?(o=e.point,l=e.handleIn,u=e.handleOut,c=e.selection):(o=e,l=n,u=i,c=r):(o=[e,n],l=i!==t?[i,r]:null,u=a!==t?[a,s]:null)),new I(o,this,"_point"),new I(l,this,"_handleIn"),new I(u,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(e,t){var n=this._point,i=this._selection,a=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&a.push(i),r.serialize(a,e,!0,t)},_changed:function(e){var t=this._path;if(t){var n,i=t._curves,r=this._index;i&&(e&&e!==this._point&&e!==this._handleIn||!(n=r>0?i[r-1]:t._closed?i[i.length-1]:null)||n._changed(),e&&e!==this._point&&e!==this._handleOut||!(n=i[r])||n._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(h.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(h.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(h.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,n=this._path;this._selection=e=e||0,n&&e!==t&&(n._updateSelection(this,t,e),n._changed(257))},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){return!!(7&this._selection)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==t?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new P(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,n,i){var r=e||{},a=r.type,s=r.factor,o=this.getPrevious(),l=this.getNext(),u=(o||this)._point,c=this._point,d=(l||this)._point,f=u.getDistance(c),p=c.getDistance(d);if(a&&"catmull-rom"!==a){if("geometric"!==a)throw new Error("Smoothing method '"+a+"' not supported.");if(o&&l){var m=u.subtract(d),g=s===t?.4:s,v=g*f/(f+p);n||this.setHandleIn(m.multiply(v)),i||this.setHandleOut(m.multiply(v-g))}}else{var _=s===t?.5:s,y=Math.pow(f,_),w=y*y,b=Math.pow(p,_),x=b*b;if(!n&&o){var M=2*x+3*b*y+w,k=3*b*(b+y);this.setHandleIn(0!==k?new h((x*u._x+M*c._x-w*d._x)/k-c._x,(x*u._y+M*c._y-w*d._y)/k-c._y):new h)}!i&&l&&(M=2*w+3*y*b+x,k=3*y*(y+b),this.setHandleOut(0!==k?new h((w*d._x+M*c._x-x*u._x)/k-c._x,(w*d._y+M*c._y-x*u._y)/k-c._y):new h))}},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,n=e.clone();e.set(t),t.set(n)},reversed:function(){return new T(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new T(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,n){var i=1-n,r=n,a=e._point,s=t._point,o=e._handleIn,l=t._handleIn,u=t._handleOut,c=e._handleOut;this._point._set(i*a._x+r*s._x,i*a._y+r*s._y,!0),this._handleIn._set(i*o._x+r*l._x,i*o._y+r*l._y,!0),this._handleOut._set(i*c._x+r*u._x,i*c._y+r*u._y,!0),this._changed()},_transformCoordinates:function(e,t,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,a=n&&this._handleOut.isZero()?null:this._handleOut,s=i._x,o=i._y,l=2;return t[0]=s,t[1]=o,r&&(t[l++]=r._x+s,t[l++]=r._y+o),a&&(t[l++]=a._x+s,t[l++]=a._y+o),e&&(e._transformCoordinates(t,t,l/2),s=t[0],o=t[1],n?(i._x=s,i._y=o,l=2,r&&(r._x=t[l++]-s,r._y=t[l++]-o),a&&(a._x=t[l++]-s,a._y=t[l++]-o)):(r||(t[l++]=s,t[l++]=o),a||(t[l++]=s,t[l++]=o))),t}}),I=h.extend({initialize:function(e,n,i){var r,a,s;if(e)if((r=e[0])!==t)a=e[1];else{var o=e;(r=o.x)===t&&(r=(o=h.read(arguments)).x),a=o.y,s=o.selected}else r=a=0;this._x=r,this._y=a,this._owner=n,n[i]=this,s&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=c.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),A=r.extend({_class:"Curve",beans:!0,initialize:function(e,t,n,i,r,a,s,o){var l,u,c,d,h,f,p=arguments.length;3===p?(this._path=e,l=t,u=n):p?1===p?"segment1"in e?(l=new T(e.segment1),u=new T(e.segment2)):"point1"in e?(c=e.point1,h=e.handle1,f=e.handle2,d=e.point2):Array.isArray(e)&&(c=[e[0],e[1]],d=[e[6],e[7]],h=[e[2]-e[0],e[3]-e[1]],f=[e[4]-e[6],e[5]-e[7]]):2===p?(l=new T(e),u=new T(t)):4===p?(c=e,h=t,f=n,d=i):8===p&&(c=[e,t],d=[s,o],h=[n-e,i-t],f=[r-s,a-o]):(l=new T,u=new T),this._segment1=l||new T(c,null,h),this._segment2=u||new T(d,f,null)},_serialize:function(e,t){return r.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=t},clone:function(){return new A(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return A.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;(e=t.remove())&&this._segment1._handleOut.set(n)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(h.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(h.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(h.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(h.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return A.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;n<8;n+=2)t.push(new h(e[n],e[n+1]));return t}},{getLength:function(){return null==this._length&&(this._length=A.getLength(this.getValues(),0,1)),this._length},getArea:function(){return A.getArea(this.getValues())},getLine:function(){return new y(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new A(A.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return A.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var n=null;if(e>=1e-8&&e<=.99999999){var i=A.subdivide(this.getValues(),e),r=i[0],a=i[1],s=t||this.hasHandles(),o=this._segment1,l=this._segment2,u=this._path;s&&(o._handleOut._set(r[2]-r[0],r[3]-r[1]),l._handleIn._set(a[4]-a[6],a[5]-a[7]));var c=r[6],d=r[7],f=new T(new h(c,d),s&&new h(r[4]-c,r[5]-d),s&&new h(a[2]-c,a[3]-d));u?(u.insert(o._index+1,f),n=this.getNext()):(this._segment2=f,this._changed(),n=new A(f,l))}return n},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,n){return this.divideAtTime(e===t?.5:n?e:this.getTimeAt(e))},split:function(e,n){return this.splitAtTime(e===t?.5:n?e:this.getTimeAt(e))},reversed:function(){return new A(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,n,i){var r=e._point,a=e._handleOut,s=t._handleIn,o=t._point,l=r.x,u=r.y,c=o.x,d=o.y,h=i?[l,u,l,u,c,d,c,d]:[l,u,l+a._x,u+a._y,c+s._x,d+s._y,c,d];return n&&n._transformCoordinates(h,h,4),h},subdivide:function(e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7];n===t&&(n=.5);var d=1-n,h=d*i+n*a,f=d*r+n*s,p=d*a+n*o,m=d*s+n*l,g=d*o+n*u,v=d*l+n*c,_=d*h+n*p,y=d*f+n*m,w=d*p+n*g,b=d*m+n*v,x=d*_+n*w,M=d*y+n*b;return[[i,r,h,f,_,y,x,M],[x,M,w,b,g,v,u,c]]},getMonoCurves:function(e,t){var n=[],i=t?0:1,r=e[i+0],a=e[i+2],s=e[i+4],o=e[i+6];if(r>=a==a>=s&&a>=s==s>=o||A.isStraight(e))n.push(e);else{var l=3*(a-s)-r+o,u=2*(r+s)-4*a,d=a-r,h=[],f=c.solveQuadratic(l,u,d,h,1e-8,.99999999);if(f){h.sort();var p=h[0],m=A.subdivide(e,p);n.push(m[0]),f>1&&(p=(h[1]-p)/(1-p),m=A.subdivide(m[1],p),n.push(m[0])),n.push(m[1])}else n.push(e)}return n},solveCubic:function(e,t,n,i,r,a){var s=e[t],o=e[t+2],l=e[t+4],u=e[t+6],d=0;if(!(s<n&&u<n&&o<n&&l<n||s>n&&u>n&&o>n&&l>n)){var h=3*(o-s),f=3*(l-o)-h,p=u-s-h-f;d=c.solveCubic(p,f,h,s-n,i,r,a)}return d},getTimeOf:function(e,t){var n=new h(e[0],e[1]),i=new h(e[6],e[7]),r=1e-7;if(null===(t.isClose(n,1e-12)?0:t.isClose(i,1e-12)?1:null))for(var a=[t.x,t.y],s=[],o=0;o<2;o++)for(var l=A.solveCubic(e,o,a[o],s,0,1),u=0;u<l;u++){var c=s[u];if(t.isClose(A.getPoint(e,c),r))return c}return t.isClose(n,r)?0:t.isClose(i,r)?1:null},getNearestTime:function(e,t){if(A.isStraight(e)){var n=e[0],i=e[1],r=e[6]-n,a=e[7]-i,s=r*r+a*a;if(0===s)return 0;var o=((t.x-n)*r+(t.y-i)*a)/s;return o<1e-12?0:o>.999999999999?1:A.getTimeOf(e,new h(n+o*r,i+o*a))}var l=1/0,u=0;function c(n){if(n>=0&&n<=1){var i=t.getDistance(A.getPoint(e,n),!0);if(i<l)return l=i,u=n,!0}}for(var d=0;d<=100;d++)c(d/100);for(var f=.005;f>1e-8;)c(u-f)||c(u+f)||(f/=2);return u},getPart:function(e,t,n){var i=t>n;if(i){var r=t;t=n,n=r}return t>0&&(e=A.subdivide(e,t)[1]),n<1&&(e=A.subdivide(e,(n-t)/(1-t))[0]),i?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=3*r-2*n-l,d=3*a-2*i-u,h=3*s-2*l-n,f=3*o-2*u-i;return Math.max(c*c,h*h)+Math.max(d*d,f*f)<=16*t*t},getArea:function(e){var t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],s=e[5],o=e[6],l=e[7];return 3*((l-n)*(i+a)-(o-t)*(r+s)+r*(t-a)-i*(n-s)+l*(a+t/3)-o*(s+n/3))/20},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),i=[0,0],r=0;r<2;r++)A._addBounds(e[r],e[r+2],e[r+4],e[r+6],r,0,t,n,i);return new g(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,i,r,a,s,o,l){function u(e,t){var n=e-t,i=e+t;n<s[r]&&(s[r]=n),i>o[r]&&(o[r]=i)}a/=2;var d=s[r]+a,h=o[r]-a;if(e<d||t<d||n<d||i<d||e>h||t>h||n>h||i>h)if(t<e!=t<i&&n<e!=n<i)u(e,0),u(i,0);else{var f=3*(t-n)-e+i,p=2*(e+n)-4*t,m=t-e,g=c.solveQuadratic(f,p,m,l);u(i,0);for(var v=0;v<g;v++){var _=l[v],y=1-_;1e-8<=_&&_<=.99999999&&u(y*y*y*e+3*y*y*_*t+3*y*_*_*n+_*_*_*i,a)}}}}},r.each(["getBounds","getStrokeBounds","getHandleBounds"],(function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=N[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}}),{}),r.each({isStraight:function(e,t,n,i){if(t.isZero()&&n.isZero())return!0;var r=i.subtract(e);if(r.isZero())return!1;if(r.isCollinear(t)&&r.isCollinear(n)){var a=new y(e,i);if(a.getDistance(e.add(t))<1e-7&&a.getDistance(i.add(n))<1e-7){var s=r.dot(r),o=r.dot(t)/s,l=r.dot(n)/s;return o>=0&&o<=1&&l<=0&&l>=-1}}return!1},isLinear:function(e,t,n,i){var r=i.subtract(e).divide(3);return t.equals(r)&&n.negate().equals(r)}},(function(e,t){this[t]=function(t){var n=this._segment1,i=this._segment2;return e(n._point,n._handleOut,i._handleIn,i._point,t)},this.statics[t]=function(t,n){var i=t[0],r=t[1],a=t[6],s=t[7];return e(new h(i,r),new h(t[2]-i,t[3]-r),new h(t[4]-a,t[5]-s),new h(a,s),n)}}),{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return null!=e&&e>=0&&e<=1?new P(this,e):null},getTimeAt:function(e,t){return A.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=h.read(arguments);return e.isZero()?[]:A.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(h.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return A.getTimeOf(this.getValues(),h.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=h.read(arguments),t=this.getValues(),n=A.getNearestTime(t,e),i=A.getPoint(t,n);return new P(this,n,i,null,e.getDistance(i))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return r.each(e,(function(e){this[e+"At"]=function(t,n){var i=this.getValues();return A[e](i,n?t:A.getTimeAt(i,t))},this[e+"AtTime"]=function(t){return A[e](this.getValues(),t)}}),{statics:{_evaluateMethods:e}})},new function(){function e(e){var t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],s=e[5],o=e[6],l=e[7],u=9*(i-a)+3*(o-t),c=6*(t+a)-12*i,d=3*(i-t),h=9*(r-s)+3*(l-n),f=6*(n+s)-12*r,p=3*(r-n);return function(e){var t=(u*e+c)*e+d,n=(h*e+f)*e+p;return Math.sqrt(t*t+n*n)}}function n(e,t){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(t-e))))}function i(e,t,n,i){if(null==t||t<0||t>1)return null;var r=e[0],a=e[1],s=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=c.isZero;p(s-r)&&p(o-a)&&(s=r,o=a),p(l-d)&&p(u-f)&&(l=d,u=f);var m,g,v=3*(s-r),_=3*(l-s)-v,y=d-r-v-_,w=3*(o-a),b=3*(u-o)-w,x=f-a-w-b;if(0===n)m=0===t?r:1===t?d:((y*t+_)*t+v)*t+r,g=0===t?a:1===t?f:((x*t+b)*t+w)*t+a;else{var M=1e-8,k=1-M;if(t<M?(m=v,g=w):t>k?(m=3*(d-l),g=3*(f-u)):(m=(3*y*t+2*_)*t+v,g=(3*x*t+2*b)*t+w),i){0===m&&0===g&&(t<M||t>k)&&(m=l-s,g=u-o);var C=Math.sqrt(m*m+g*g);C&&(m/=C,g/=C)}if(3===n){l=6*y*t+2*_,u=6*x*t+2*b;var S=Math.pow(m*m+g*g,1.5);m=0!==S?(m*u-g*l)/S:0,g=0}}return 2===n?new h(g,-m):new h(m,g)}return{statics:{classify:function(e){var n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],d=r*(i-u)+a*(l-n)+n*u-i*l,h=3*(s*(a-i)+o*(n-r)+r*i-a*n),f=h-d,p=f-d+(n*(u-o)+i*(s-l)+l*o-u*s),m=Math.sqrt(p*p+f*f+h*h),g=0!==m?1/m:0,v=c.isZero,_="serpentine";function y(e,n,i){var r=n!==t,a=r&&n>0&&n<1,s=r&&i>0&&i<1;return!r||(a||s)&&("loop"!==e||a&&s)||(e="arch",a=s=!1),{type:e,roots:a||s?a&&s?n<i?[n,i]:[i,n]:[a?n:i]:null}}if(f*=g,h*=g,v(p*=g))return v(f)?y(v(h)?"line":"quadratic"):y(_,h/(3*f));var w=3*f*f-4*p*h;if(v(w))return y("cusp",f/(2*p));var b=w>0?Math.sqrt(w/3):Math.sqrt(-w),x=2*p;return y(w>0?_:"loop",(f+b)/x,(f-b)/x)},getLength:function(i,r,a,s){if(r===t&&(r=0),a===t&&(a=1),A.isStraight(i)){var o=i;a<1&&(o=A.subdivide(o,a)[0],r/=a),r>0&&(o=A.subdivide(o,r)[1]);var l=o[6]-o[0],u=o[7]-o[1];return Math.sqrt(l*l+u*u)}return c.integrate(s||e(i),r,a,n(r,a))},getTimeAt:function(i,r,a){if(a===t&&(a=r<0?1:0),0===r)return a;var s=Math.abs,o=r>0,l=o?a:0,u=o?1:a,d=e(i),h=A.getLength(i,l,u,d),f=s(r)-h;if(s(f)<1e-12)return o?u:l;if(f>1e-12)return null;var p=r/h,m=0;return c.findRoot((function(e){return m+=c.integrate(d,a,e,n(a,e)),a=e,m-r}),d,a+p,l,u,32,1e-12)},getPoint:function(e,t){return i(e,t,0,!1)},getTangent:function(e,t){return i(e,t,1,!0)},getWeightedTangent:function(e,t){return i(e,t,1,!1)},getNormal:function(e,t){return i(e,t,2,!0)},getWeightedNormal:function(e,t){return i(e,t,2,!1)},getCurvature:function(e,t){return i(e,t,3,!1).x},getPeaks:function(e){var t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],s=e[5],o=3*i-t-3*a+e[6],l=3*t-6*i+3*a,u=-3*t+3*i,d=3*r-n-3*s+e[7],h=3*n-6*r+3*s,f=-3*n+3*r,p=[];return c.solveCubic(9*(o*o+d*d),9*(o*l+h*d),2*(l*l+h*h)+3*(u*o+f*d),u*l+h*f,p,1e-8,.99999999),p.sort()}}}},new function(){function e(e,t,n,i,r,a,s){var o=!s&&n.getPrevious()===r,l=!s&&n!==r&&n.getNext()===r,u=1e-8,c=1-u;if(null!==i&&i>=(o?u:0)&&i<=(l?c:1)&&null!==a&&a>=(l?u:0)&&a<=(o?c:1)){var d=new P(n,i,null,s),h=new P(r,a,null,s);d._intersection=h,h._intersection=d,t&&!t(d)||P.insert(e,d,!0)}}function t(i,r,a,s,o,l,u,c,d,h,f,p,m){if(++d>=4096||++c>=40)return d;var g,v,_=r[0],w=r[1],b=r[6],x=r[7],M=y.getSignedDistance,k=M(_,w,b,x,r[2],r[3]),C=M(_,w,b,x,r[4],r[5]),S=k*C>0?3/4:4/9,E=S*Math.min(0,k,C),D=S*Math.max(0,k,C),T=M(_,w,b,x,i[0],i[1]),I=M(_,w,b,x,i[2],i[3]),P=M(_,w,b,x,i[4],i[5]),O=M(_,w,b,x,i[6],i[7]),N=function(e,t,n,i){var r,a=[0,e],s=[1/3,t],o=[2/3,n],l=[1,i],u=t-(2*e+i)/3,c=n-(e+2*i)/3;if(u*c<0)r=[[a,s,l],[a,o,l]];else{var d=u/c;r=[d>=2?[a,s,l]:d<=.5?[a,o,l]:[a,s,o,l],[a,l]]}return(u||c)<0?r.reverse():r}(T,I,P,O),L=N[0],z=N[1];if(0===k&&0===C&&0===T&&0===I&&0===P&&0===O||null==(g=n(L,z,E,D))||null==(v=n(L.reverse(),z.reverse(),E,D)))return d;var R=h+(f-h)*g,F=h+(f-h)*v;if(Math.max(m-p,F-R)<1e-9){var H=(R+F)/2,j=(p+m)/2;e(o,l,u?s:a,u?j:H,u?a:s,u?H:j)}else{i=A.getPart(i,g,v);var V=m-p;if(v-g>.8)if(F-R>V)H=(R+F)/2,d=t(r,(B=A.subdivide(i,.5))[0],s,a,o,l,!u,c,d,p,m,R,H),d=t(r,B[1],s,a,o,l,!u,c,d,p,m,H,F);else{var B;j=(p+m)/2,d=t((B=A.subdivide(r,.5))[0],i,s,a,o,l,!u,c,d,p,j,R,F),d=t(B[1],i,s,a,o,l,!u,c,d,j,m,R,F)}else d=0===V||V>=1e-9?t(r,i,s,a,o,l,!u,c,d,p,m,R,F):t(i,r,a,s,o,l,u,c,d,R,F,p,m)}return d}function n(e,t,n,r){return e[0][1]<n?i(e,!0,n):t[0][1]>r?i(t,!1,r):e[0][0]}function i(e,t,n){for(var i=e[0][0],r=e[0][1],a=1,s=e.length;a<s;a++){var o=e[a][0],l=e[a][1];if(t?l>=n:l<=n)return l===n?o:i+(n-r)*(o-i)/(l-r);i=o,r=l}return null}function r(e,t,n,i,r){var a=c.isZero;if(a(i)&&a(r)){var s=A.getTimeOf(e,new h(t,n));return null===s?[]:[s]}for(var o=Math.atan2(-r,i),l=Math.sin(o),u=Math.cos(o),d=[],f=[],p=0;p<8;p+=2){var m=e[p]-t,g=e[p+1]-n;d.push(m*u-g*l,m*l+g*u)}return A.solveCubic(d,1,0,f,0,1),f}function a(t,n,i,a,s,o,l){for(var u=n[0],c=n[1],d=r(t,u,c,n[6]-u,n[7]-c),h=0,f=d.length;h<f;h++){var p=d[h],m=A.getPoint(t,p),g=A.getTimeOf(n,m);null!==g&&e(s,o,l?a:i,l?g:p,l?i:a,l?p:g)}}function s(t,n,i,r,a,s){var o=y.intersect(t[0],t[1],t[6],t[7],n[0],n[1],n[6],n[7]);o&&e(a,s,i,A.getTimeOf(t,o),r,A.getTimeOf(n,o))}function o(n,i,r,o,l,u){var c=1e-12,f=Math.min,p=Math.max;if(p(n[0],n[2],n[4],n[6])+c>f(i[0],i[2],i[4],i[6])&&f(n[0],n[2],n[4],n[6])-c<p(i[0],i[2],i[4],i[6])&&p(n[1],n[3],n[5],n[7])+c>f(i[1],i[3],i[5],i[7])&&f(n[1],n[3],n[5],n[7])-c<p(i[1],i[3],i[5],i[7])){var m=d(n,i);if(m)for(var g=0;g<2;g++){var v=m[g];e(l,u,r,v[0],o,v[1],!0)}else{var _=A.isStraight(n),y=A.isStraight(i),w=_&&y,b=_&&!y,x=l.length;if((w?s:_||y?a:t)(b?i:n,b?n:i,b?o:r,b?r:o,l,u,b,0,0,0,1,0,1),!w||l.length===x)for(g=0;g<4;g++){var M=g>>1,k=1&g,C=6*M,S=6*k,E=new h(n[C],n[C+1]),D=new h(i[S],i[S+1]);E.isClose(D,c)&&e(l,u,r,M,o,k)}}}return l}function u(t,n,i,r){var a=A.classify(t);if("loop"===a.type){var s=a.roots;e(i,r,n,s[0],n,s[1])}return i}function d(e,t){function n(e){var t=e[6]-e[0],n=e[7]-e[1];return t*t+n*n}var i=Math.abs,r=y.getDistance,a=1e-7,s=A.isStraight(e),o=A.isStraight(t),l=s&&o,u=n(e)<n(t),c=u?t:e,d=u?e:t,f=c[0],p=c[1],m=c[6]-f,g=c[7]-p;if(r(f,p,m,g,d[0],d[1],!0)<a&&r(f,p,m,g,d[6],d[7],!0)<a)!l&&r(f,p,m,g,c[2],c[3],!0)<a&&r(f,p,m,g,c[4],c[5],!0)<a&&r(f,p,m,g,d[2],d[3],!0)<a&&r(f,p,m,g,d[4],d[5],!0)<a&&(s=o=l=!0);else if(l)return null;if(s^o)return null;for(var v=[e,t],_=[],w=0;w<4&&_.length<2;w++){var b=1&w,x=1^b,M=w>>1,k=A.getTimeOf(v[b],new h(v[x][M?6:0],v[x][M?7:1]));if(null!=k){var C=b?[M,k]:[k,M];(!_.length||i(C[0]-_[0][0])>1e-8&&i(C[1]-_[0][1])>1e-8)&&_.push(C)}if(w>2&&!_.length)break}if(2!==_.length)_=null;else if(!l){var S=A.getPart(e,_[0][0],_[1][0]),E=A.getPart(t,_[0][1],_[1][1]);(i(E[2]-S[2])>a||i(E[3]-S[3])>a||i(E[4]-S[4])>a||i(E[5]-S[5])>a)&&(_=null)}return _}return{getIntersections:function(e){var t=this.getValues(),n=e&&e!==this&&e.getValues();return n?o(t,n,this,e,[]):u(t,this,[])},statics:{getOverlaps:d,getIntersections:function(e,t,n,i,r,a){var s=!t;s&&(t=e);for(var c=e.length,d=t.length,h=new Array(c),f=s?h:new Array(d),p=[],m=0;m<c;m++)h[m]=e[m].getValues(i);if(!s)for(m=0;m<d;m++)f[m]=t[m].getValues(r);for(var g=l.findCurveBoundsCollisions(h,f,1e-7),v=0;v<c;v++){var _=e[v],y=h[v];s&&u(y,_,p,n);var w=g[v];if(w)for(var b=0;b<w.length;b++){if(a&&p.length)return p;var x=w[b];if(!s||x>v){var M=t[x];o(y,f[x],_,M,p,n)}}}return p},getCurveLineIntersections:r,getTimesWithTangent:function(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],d=t.normalize(),h=d.x,f=d.y,p=3*l-9*s+9*r-3*n,m=3*u-9*o+9*a-3*i,g=6*s-12*r+6*n,v=6*o-12*a+6*i,_=3*r-3*n,y=3*a-3*i,w=2*p*f-2*m*h,b=[];if(Math.abs(w)<c.CURVETIME_EPSILON){if(0!=(w=p*v-m*g)){var x=-(p*y-m*_)/w;x>=0&&x<=1&&b.push(x)}}else{var M=(g*g-4*p*_)*f*f+(-2*g*v+4*m*_+4*p*y)*h*f+(v*v-4*m*y)*h*h,k=g*f-v*h;if(M>=0&&0!=w){var C=Math.sqrt(M),S=-(k+C)/w,E=(-k+C)/w;S>=0&&S<=1&&b.push(S),E>=0&&E<=1&&b.push(E)}}return b}}}}),P=r.extend({_class:"CurveLocation",initialize:function(e,t,n,i,r){if(t>=.99999999){var a=e.getNext();a&&(t=0,e=a)}this._setCurve(e),this._time=t,this._point=n||e.getPointAtTime(t),this._overlap=i,this._distance=r,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),n=this.getTime();0===n?e=t._segment1:1===n?e=t._segment2:null!=n&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;function n(e){var n=e&&e.getCurve();if(n&&null!=(t._time=n.getTimeOf(t._point)))return t._setCurve(n),n}return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&null==t?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(null==e){e=0;var t=this.getPath(),n=this.getIndex();if(t&&null!=n)for(var i=t.getCurves(),r=0;r<n;r++)e+=i[r].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(null==e){var t=this.getCurve(),n=this.getTime();this._curveOffset=e=null!=n&&t&&t.getPartLength(0,n)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,n=e&&e.splitAtTime(this.getTime());return n&&this._setSegment(t.getLastSegment()),n},equals:function(e,t){var n=this===e;if(!n&&e instanceof P){var i=this.getCurve(),r=e.getCurve(),a=i._path;if(a===r._path){var s=Math.abs,o=s(this.getOffset()-e.getOffset()),l=!t&&this._intersection,u=!t&&e._intersection;n=(o<1e-7||a&&s(a.getLength()-o)<1e-7)&&(!l&&!u||l&&u&&l.equals(u,!0))}}return n},toString:function(){var e=[],t=this.getPoint(),n=u.instance;t&&e.push("point: "+t);var i=this.getIndex();null!=i&&e.push("index: "+i);var r=this.getTime();return null!=r&&e.push("time: "+n.number(r)),null!=this._distance&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),n=e.getCurve();return!(t.isStraight()&&n.isStraight()&&t.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),n=e.getTime(),i=1e-8,r=1-i,a=t>=i&&t<=r,s=n>=i&&n<=r;if(a&&s)return!this.isTouching();var o=this.getCurve(),l=o&&t<i?o.getPrevious():o,u=e.getCurve(),c=u&&n<i?u.getPrevious():u;if(t>r&&(o=o.getNext()),n>r&&(u=u.getNext()),!(l&&o&&c&&u))return!1;var d=[];function h(e,t){var n=e.getValues(),i=A.classify(n).roots||A.getPeaks(n),r=i.length,a=A.getLength(n,t&&r?i[r-1]:0,!t&&r?i[0]:1);d.push(r?a:a/32)}function f(e,t,n){return t<n?e>t&&e<n:e>t||e<n}a||(h(l,!0),h(o,!1)),s||(h(c,!0),h(u,!1));var p=this.getPoint(),m=Math.min.apply(Math,d),g=a?o.getTangentAtTime(t):o.getPointAt(m).subtract(p),v=a?g.negate():l.getPointAt(-m).subtract(p),_=s?u.getTangentAtTime(n):u.getPointAt(m).subtract(p),y=s?_.negate():c.getPointAt(-m).subtract(p),w=v.getAngle(),b=g.getAngle(),x=y.getAngle(),M=_.getAngle();return!!(a?f(w,x,M)^f(b,x,M)&&f(w,M,x)^f(b,M,x):f(x,w,b)^f(M,w,b)&&f(x,b,w)^f(M,b,w))},hasOverlap:function(){return!!this._overlap}},r.each(A._evaluateMethods,(function(e){var t=e+"At";this[e]=function(){var e=this.getCurve(),n=this.getTime();return null!=n&&e&&e[t](n,!0)}}),{preserve:!0}),new function(){function e(e,t,n){var i=e.length,r=0,a=i-1;function s(n,r){for(var a=n+r;a>=-1&&a<=i;a+=r){var s=e[(a%i+i)%i];if(!t.getPoint().isClose(s.getPoint(),1e-7))break;if(t.equals(s))return s}return null}for(;r<=a;){var o,l=r+a>>>1,u=e[l];if(n&&(o=t.equals(u)?u:s(l,-1)||s(l,1)))return t._overlap&&(o._overlap=o._intersection._overlap=!0),o;var c=t.getPath(),d=u.getPath();(c!==d?c._id-d._id:t.getIndex()+t.getTime()-(u.getIndex()+u.getTime()))<0?a=l-1:r=l+1}return e.splice(r,0,t),t}return{statics:{insert:e,expand:function(t){for(var n=t.slice(),i=t.length-1;i>=0;i--)e(n,t[i]._intersection,!1);return n}}}}),O=b.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,n,i;if(r.isPlainObject(e)?(n=e.segments,t=e.pathData):Array.isArray(e)?n=e:"string"==typeof e&&(t=e),n){var a=n[0];i=a&&Array.isArray(a[0])}else t&&(i=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));return new(i?L:N)(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t,n,i,r=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),a=!1,s=new h,o=new h;function l(e,n){var i=+t[e];return a&&(i+=s[n]),i}function u(e){return new h(l(e,"x"),l(e+1,"y"))}this.clear();for(var c=0,d=r&&r.length;c<d;c++){var f=r[c],m=f[0],g=m.toLowerCase(),v=(t=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&t.length;switch(a=m===g,"z"!==n||/[mz]/.test(g)||this.moveTo(s),g){case"m":case"l":for(var _="m"===g,y=0;y<v;y+=2)this[_?"moveTo":"lineTo"](s=u(y)),_&&(o=s,_=!1);i=s;break;case"h":case"v":var w="h"===g?"x":"y";for(s=s.clone(),y=0;y<v;y++)s[w]=l(y,w),this.lineTo(s);i=s;break;case"c":for(y=0;y<v;y+=6)this.cubicCurveTo(u(y),i=u(y+2),s=u(y+4));break;case"s":for(y=0;y<v;y+=4)this.cubicCurveTo(/[cs]/.test(n)?s.multiply(2).subtract(i):s,i=u(y),s=u(y+2)),n=g;break;case"q":for(y=0;y<v;y+=4)this.quadraticCurveTo(i=u(y),s=u(y+2));break;case"t":for(y=0;y<v;y+=2)this.quadraticCurveTo(i=/[qt]/.test(n)?s.multiply(2).subtract(i):s,s=u(y)),n=g;break;case"a":for(y=0;y<v;y+=7)this.arcTo(s=u(y+5),new p(+t[y],+t[y+1]),+t[y+2],+t[y+4],+t[y+3]);break;case"z":this.closePath(1e-12),s=o}n=g}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!("evenodd"===this.getFillRule()?1&t.windingL||1&t.windingR:t.winding)},getIntersections:function(e,t,n,i){var r=this===e||!e,a=this._matrix._orNullIfIdentity(),s=r?a:(n||e._matrix)._orNullIfIdentity();return r||this.getBounds(a).intersects(e.getBounds(s),1e-12)?A.getIntersections(this.getCurves(),!r&&e.getCurves(),t,a,s,i):[]},getCrossings:function(e){return this.getIntersections(e,(function(e){return e.isCrossing()}))},getNearestLocation:function(){for(var e=h.read(arguments),t=this.getCurves(),n=1/0,i=null,r=0,a=t.length;r<a;r++){var s=t[r].getNearestLocation(e);s._distance<n&&(n=s._distance,i=s)}return i},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e},interpolate:function(e,t,n){var i=!this._children,r=i?"_segments":"_children",a=e[r],s=t[r],o=this[r];if(!a||!s||a.length!==s.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var l=o.length,u=s.length;if(l<u)for(var c=i?T:N,d=l;d<u;d++)this.add(new c);else l>u&&this[i?"removeSegments":"removeChildren"](u,l);for(d=0;d<u;d++)o[d].interpolate(a[d],s[d],n);i&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var n=this._children||[this],i=e._children?e._children.slice():[e],r=n.length,a=i.length,s=[],o=0;t=!0;for(var u=l.findItemBoundsCollisions(n,i,c.GEOMETRIC_EPSILON),d=r-1;d>=0&&t;d--){var h=n[d];t=!1;var f=u[d];if(f)for(var p=f.length-1;p>=0&&!t;p--)h.compare(i[f[p]])&&(s[f[p]]||(s[f[p]]=!0,o++),t=!0)}t=t&&o===a}return t}}),N=O.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var n=arguments,i=Array.isArray(e)?"object"==typeof e[0]?e:n:!e||e.size!==t||e.x===t&&e.point===t?null:n;i&&i.length>0?this.setSegments(i):(this._curves=t,this._segmentSelection=0,i||"string"!=typeof e||(this.setPathData(e),e=null)),this._initialize(!i&&e)},_equals:function(e){return this._closed===e._closed&&r.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(n){if(e.base.call(this,n),8&n){if(this._length=this._area=t,32&n)this._version++;else if(this._curves)for(var i=0,r=this._curves.length;i<r;i++)this._curves[i]._changed()}else 64&n&&(this._bounds=t)},getStyle:function(){var e=this._parent;return(e instanceof L?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var n=this.isFullySelected(),i=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=t,i){var r=e[i-1];"boolean"==typeof r&&(this.setClosed(r),i--),this._add(T.readList(e,0,{},i))}n&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);for(var i=0;i<n;i++)e[i]=new A(this,t[i],t[i+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new A(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var n,i,r,a,s,o,l,c,d=this._segments,h=d.length,f=new u(t),p=new Array(6),m=!0,g=[];function v(t,u){if(t._transformCoordinates(e,p),n=p[0],i=p[1],m)g.push("M"+f.pair(n,i)),m=!1;else if(s=p[2],o=p[3],s===n&&o===i&&l===r&&c===a){if(!u){var d=n-r,h=i-a;g.push(0===d?"v"+f.number(h):0===h?"h"+f.number(d):"l"+f.pair(d,h))}}else g.push("c"+f.pair(l-r,c-a)+" "+f.pair(s-r,o-a)+" "+f.pair(n-r,i-a));r=n,a=i,l=p[4],c=p[5]}if(!h)return"";for(var _=0;_<h;_++)v(d[_]);return this._closed&&h>0&&(v(d[0],!0),g.push("z")),g.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,n=new Array(6),i=0,r=t.length;i<r;i++)t[i]._transformCoordinates(e,n,!0);return!0},_add:function(e,t){for(var n=this._segments,i=this._curves,a=e.length,s=null==t,o=(t=s?n.length:t,0);o<a;o++){var l=e[o];l._path&&(l=e[o]=l.clone()),l._path=this,l._index=t+o,l._selection&&this._updateSelection(l,0,l._selection)}if(s)r.push(n,e);else{n.splice.apply(n,[t,0].concat(e)),o=t+a;for(var u=n.length;o<u;o++)n[o]._index=o}if(i){var c=this._countCurves(),d=t>0&&t+a-1===c?t-1:t,h=d,f=Math.min(d+a,c);for(e._curves&&(i.splice.apply(i,[d,0].concat(e._curves)),h+=e._curves.length),o=h;o<f;o++)i.splice(o,0,new A(this,null,null));this._adjustCurves(d,f)}return this._changed(41),e},_adjustCurves:function(e,t){for(var n,i=this._segments,r=this._curves,a=e;a<t;a++)(n=r[a])._path=this,n._segment1=i[a],n._segment2=i[a+1]||i[0],n._changed();(n=r[this._closed&&!e?i.length-1:e-1])&&(n._segment2=i[e]||i[0],n._changed()),(n=r[t])&&(n._segment1=i[t],n._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&"number"!=typeof e?this._add(T.readList(t)):this._add([T.read(t)])[0]},insert:function(e,t){var n=arguments;return n.length>2&&"number"!=typeof t?this._add(T.readList(n,1),e):this._add([T.read(n,1)],e)[0]},addSegment:function(){return this._add([T.read(arguments)])[0]},insertSegment:function(e){return this._add([T.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(T.readList(e))},insertSegments:function(e,t){return this._add(T.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,n){e=e||0,t=r.pick(t,this._segments.length);var i=this._segments,a=this._curves,s=i.length,o=i.splice(e,t-e),l=o.length;if(!l)return o;for(var u=0;u<l;u++){var c=o[u];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}u=e;for(var d=i.length;u<d;u++)i[u]._index=u;if(a){var h=e>0&&t===s+(this._closed?1:0)?e-1:e;for(u=(a=a.splice(h,l)).length-1;u>=0;u--)a[u]._path=null;n&&(o._curves=a.slice(1)),this._adjustCurves(h,h)}return this._changed(41),o},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)e[t].clearHandles()},getLength:function(){if(null==this._length){for(var e=this.getCurves(),t=0,n=0,i=e.length;n<i;n++)t+=e[n].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(null==e){var t=this._segments,n=this._closed;e=0;for(var i=0,r=t.length;i<r;i++){var a=i+1===r;e+=A.getArea(A.getValues(t[i],t[a?0:i+1],null,a&&!n))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===7*e},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){1&t||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,n=t.length,i=e?7:0;this._segmentSelection=i*n;for(var r=0;r<n;r++)t[r]._selection=i},_updateSelection:function(e,t,n){e._selection=n,(this._segmentSelection+=n-t)>0&&this.setSelected(!0)},divideAt:function(e){var t,n=this.getLocationAt(e);return n&&(t=n.getCurve().divideAt(n.getCurveOffset()))?t._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),n=t&&t.index,i=t&&t.time;i>.99999999&&(n++,i=0);var r=this.getCurves();if(n>=0&&n<r.length){i>=1e-8&&r[n++].divideAtTime(i);var a,s=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),a=this):((a=new N(b.NO_INSERT)).insertAbove(this),a.copyAttributes(this)),a._add(s,0),this.addSegment(s[0]),a}return null},split:function(e,n){var i,r=n===t?e:(i=this.getCurves()[e])&&i.getLocationAtTime(n);return null!=r?this.splitAt(r):null},join:function(e,t){var n=t||0;if(e&&e!==this){var i=e._segments,r=this.getLastSegment(),a=e.getLastSegment();if(!a)return this;r&&r._point.isClose(a._point,n)&&e.reverse();var s=e.getFirstSegment();if(r&&r._point.isClose(s._point,n))r.setHandleOut(s._handleOut),this._add(i.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(s._point,n)&&e.reverse(),a=e.getLastSegment(),o&&o._point.isClose(a._point,n)?(o.setHandleIn(a._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}e._closed&&this._add([i[0]]),e.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,n)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),n=e&&e.simplify,i=n?1e-7:0,r=t.length-1;r>=0;r--){var a=t[r];!a.hasHandles()&&(!a.hasLength(i)||n&&a.isCollinear(a.getNext()))&&a.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var n=this._segments[e],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new z(this,e||.25,256,!0).parts,n=t.length,i=[],r=0;r<n;r++)i.push(new T(t[r].curve.slice(0,2)));!this._closed&&n>0&&i.push(new T(t[n-1].curve.slice(6))),this.setSegments(i)},simplify:function(e){var t=new R(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var n=this,i=e||{},r=i.type||"asymmetric",a=this._segments,s=a.length,o=this._closed;function l(e,t){var i=e&&e.index;if(null!=i){var r=e.path;if(r&&r!==n)throw new Error(e._class+" "+i+" of "+r+" is not part of "+n);t&&e instanceof A&&i++}else i="number"==typeof e?e:t;return Math.min(i<0&&o?i%s:i<0?i+s:i,s-1)}var u=o&&i.from===t&&i.to===t,c=l(i.from,0),d=l(i.to,s-1);if(c>d)if(o)c-=s;else{var h=c;c=d,d=h}if(/^(?:asymmetric|continuous)$/.test(r)){var f="asymmetric"===r,p=Math.min,m=d-c+1,g=m-1,v=u?p(m,4):1,_=v,y=v,w=[];if(o||(_=p(1,c),y=p(1,s-d-1)),(g+=_+y)<=1)return;for(var b=0,x=c-_;b<=g;b++,x++)w[b]=a[(x<0?x+s:x)%s]._point;var M=w[0]._x+2*w[1]._x,k=w[0]._y+2*w[1]._y,C=2,S=g-1,E=[M],D=[k],T=[C],I=[],P=[];for(b=1;b<g;b++){var O=b<S,N=O?4:f?2:7,L=O?4:f?3:8,z=O?2:f?0:1,R=(O||f?1:2)/C;C=T[b]=N-R,M=E[b]=L*w[b]._x+z*w[b+1]._x-R*M,k=D[b]=L*w[b]._y+z*w[b+1]._y-R*k}for(I[S]=E[S]/T[S],P[S]=D[S]/T[S],b=g-2;b>=0;b--)I[b]=(E[b]-I[b+1])/T[b],P[b]=(D[b]-P[b+1])/T[b];I[g]=(3*w[g]._x-I[S])/2,P[g]=(3*w[g]._y-P[S])/2,b=_;var F=g-y;for(x=c;b<=F;b++,x++){var H=a[x<0?x+s:x],j=H._point,V=I[b]-j._x,B=P[b]-j._y;(u||b<F)&&H.setHandleOut(V,B),(u||b>_)&&H.setHandleIn(-V,-B)}}else for(b=c;b<=d;b++)a[b<0?b+s:b].smooth(i,!u&&b===c,!u&&b===d)},toShape:function(e){if(!this._closed)return null;var n,i,r,a,s,o,l,u=this._segments;function d(e,t){var n=u[e],i=n.getNext(),r=u[t],a=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&a._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(a._point.subtract(r._point))}function h(e){var t=u[e],n=t.getNext(),i=t._handleOut,r=n._handleIn,a=.5522847498307936;if(i.isOrthogonal(r)){var s=t._point,o=n._point,l=new y(s,i,!0).intersect(new y(o,r,!0),!0);return l&&c.isZero(i.getLength()/l.subtract(s).getLength()-a)&&c.isZero(r.getLength()/l.subtract(o).getLength()-a)}return!1}function f(e,t){return u[e]._point.getDistance(u[t]._point)}if(!this.hasHandles()&&4===u.length&&d(0,2)&&d(1,3)&&(s=u[1],o=s.getPrevious(),l=s.getNext(),o._handleOut.isZero()&&s._handleIn.isZero()&&s._handleOut.isZero()&&l._handleIn.isZero()&&s._point.subtract(o._point).isOrthogonal(l._point.subtract(s._point)))?(n=k.Rectangle,i=new p(f(0,3),f(0,1)),a=u[1]._point.add(u[2]._point).divide(2)):8===u.length&&h(0)&&h(2)&&h(4)&&h(6)&&d(1,5)&&d(3,7)?(n=k.Rectangle,r=(i=new p(f(1,6),f(0,3))).subtract(new p(f(0,7),f(1,2))).divide(2),a=u[3]._point.add(u[4]._point).divide(2)):4===u.length&&h(0)&&h(1)&&h(2)&&h(3)&&(c.isZero(f(0,2)-f(1,3))?(n=k.Circle,r=f(0,2)/2):(n=k.Ellipse,r=new p(f(2,0)/2,f(3,1)/2)),a=u[1]._point),n){var m=this.getPosition(!0),g=new n({center:m,size:i,radius:r,insert:!1});return g.copyAttributes(this,!0),g._matrix.prepend(this._matrix),g.rotate(a.subtract(m).getAngle()+90),(e===t||e)&&g.insertAbove(this),g}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof L)return e.base.call(this,t);var n=this.getCurves(),i=t.getCurves(),r=n.length,a=i.length;if(!r||!a)return r==a;for(var s,o,l=n[0].getValues(),u=[],c=0,d=0,h=0;h<a;h++){var f=i[h].getValues();if(u.push(f),g=A.getOverlaps(l,f)){s=!h&&g[0][0]>0?a-1:h,o=g[0][1];break}}var p,m=Math.abs;for(f=u[s];l&&f;){var g;if((g=A.getOverlaps(l,f))&&m(g[0][0]-d)<1e-8){1===(d=g[1][0])&&(l=++c<r?n[c].getValues():null,d=0);var v=g[0][1];if(m(v-o)<1e-8){if(p||(p=[s,v]),1===(o=g[1][1])&&(++s>=a&&(s=0),f=u[s]||i[s].getValues(),o=0),!l)return p[0]===s&&p[1]===o;continue}}break}return!1},_hitTestSelf:function(e,t,n,i){var r,a,s,o,l,u,c=this,d=this.getStyle(),h=this._segments,f=h.length,p=this._closed,m=t._tolerancePadding,g=m,v=t.stroke&&d.hasStroke(),_=t.fill&&d.hasFill(),y=t.curves,w=v?d.getStrokeWidth()/2:_&&t.tolerance>0||y?0:null;function b(t,n){return e.subtract(t).divide(n).length<=1}function x(e,n,i){if(!t.selected||n.isSelected()){var r=e._point;if(n!==r&&(n=n.add(r)),b(n,g))return new D(i,c,{segment:e,point:n})}}function M(e,n){return(n||t.segments)&&x(e,e._point,"segment")||!n&&t.handles&&(x(e,e._handleIn,"handle-in")||x(e,e._handleOut,"handle-out"))}function k(e){o.add(e)}function C(t){var n,l=p||t._index>0&&t._index<f-1;return"round"===(l?r:a)?b(t._point,g):(o=new N({internal:!0,closed:!0}),l?t.isSmooth()||N._addBevelJoin(t,r,w,s,null,i,k,!0):"square"===a&&N._addSquareCap(t,a,w,null,i,k,!0),o.isEmpty()?void 0:o.contains(e)||(n=o.getNearestLocation(e))&&b(n.getPoint(),m))}if(null!==w&&(w>0?(r=d.getStrokeJoin(),a=d.getStrokeCap(),s=d.getMiterLimit(),g=g.add(N._getStrokePadding(w,i))):r=a="round"),!t.ends||t.segments||p){if(t.segments||t.handles)for(var S=0;S<f;S++)if(u=M(h[S]))return u}else if(u=M(h[0],!0)||M(h[f-1],!0))return u;if(null!==w){if(l=this.getNearestLocation(e)){var E=l.getTime();0===E||1===E&&f>1?C(l.getSegment())||(l=null):b(l.getPoint(),g)||(l=null)}if(!l&&"miter"===r&&f>1)for(S=0;S<f;S++){var T=h[S];if(e.getDistance(T._point)<=s*w&&C(T)){l=T.getLocation();break}}}return!l&&_&&this._contains(e)||l&&!v&&!y?new D("fill",this):l?new D(v?"stroke":"curve",this,{location:l,point:l.getPoint()}):null}},r.each(A._evaluateMethods,(function(e){this[e+"At"]=function(t){var n=this.getLocationAt(t);return n&&n[e]()}}),{beans:!1,getLocationOf:function(){for(var e=h.read(arguments),t=this.getCurves(),n=0,i=t.length;n<i;n++){var r=t[n].getLocationOf(e);if(r)return r}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if("number"==typeof e){for(var t=this.getCurves(),n=0,i=0,r=t.length;i<r;i++){var a=n,s=t[i];if((n+=s.getLength())>e)return s.getLocationAt(e-a)}if(t.length>0&&e<=this.getLength())return new P(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=h.read(arguments);if(e.isZero())return[];for(var t=[],n=0,i=this.getCurves(),r=0,a=i.length;r<a;r++){for(var s=i[r],o=s.getTimesWithTangent(e),l=0,u=o.length;l<u;l++){var c=n+s.getOffsetAtTime(o[l]);t.indexOf(c)<0&&t.push(c)}n+=s.length}return t}}),new function(){function e(e,t,n){var i,r,a,s,o,l,u,c,d=t._segments,h=d.length,f=new Array(6),p=!0;function m(t){if(n)t._transformCoordinates(n,f),i=f[0],r=f[1];else{var d=t._point;i=d._x,r=d._y}if(p)e.moveTo(i,r),p=!1;else{if(n)o=f[2],l=f[3];else{var h=t._handleIn;o=i+h._x,l=r+h._y}o===i&&l===r&&u===a&&c===s?e.lineTo(i,r):e.bezierCurveTo(u,c,o,l,i,r)}a=i,s=r,n?(u=f[4],c=f[5]):(h=t._handleOut,u=a+h._x,c=s+h._y)}for(var g=0;g<h;g++)m(d[g]);t._closed&&h>0&&m(d[0])}return{_draw:function(t,n,i,r){var a=n.dontStart,s=n.dontFinish||n.clip,o=this.getStyle(),l=o.hasFill(),u=o.hasStroke(),c=o.getDashArray(),d=!se.support.nativeDash&&u&&c&&c.length;function h(e){return c[(e%d+d)%d]}if(a||t.beginPath(),(l||u&&!d||s)&&(e(t,this,r),this._closed&&t.closePath()),!s&&(l||u)&&(this._setStyles(t,n,i),l&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),u)){if(d){a||t.beginPath();for(var f,p=new z(this,.25,32,!1,r),m=p.length,g=-o.getDashOffset(),v=0;g>0;)g-=h(v--)+h(v--);for(;g<m;)f=g+h(v++),(g>0||f>0)&&p.drawPart(t,Math.max(g,0),Math.max(f,0)),g=f+h(v++)}t.stroke()}},_drawSelected:function(t,n){t.beginPath(),e(t,this,n),t.stroke(),function(e,t,n,i){if(!(i<=0))for(var r,a,s=i/2,o=i-2,l=s-1,u=new Array(6),c=0,d=t.length;c<d;c++){var h=t[c],f=h._selection;if(h._transformCoordinates(n,u),r=u[0],a=u[1],2&f&&m(2),4&f&&m(4),e.fillRect(r-s,a-s,i,i),o>0&&!(1&f)){var p=e.fillStyle;e.fillStyle="#ffffff",e.fillRect(r-l,a-l,o,o),e.fillStyle=p}}function m(t){var n=u[t],i=u[t+1];r==n&&a==i||(e.beginPath(),e.moveTo(r,a),e.lineTo(n,i),e.stroke(),e.beginPath(),e.arc(n,i,s,0,2*Math.PI,!0),e.fill())}}(t,this._segments,n,se.settings.handleSize)}}},new function(){function e(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;1===e.length&&this.removeSegment(0),e.length||this._add([new T(h.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new T(h.read(arguments))])},cubicCurveTo:function(){var t=arguments,n=h.read(t),i=h.read(t),r=h.read(t),a=e(this);a.setHandleOut(n.subtract(a._point)),this._add([new T(r,i.subtract(r))])},quadraticCurveTo:function(){var t=arguments,n=h.read(t),i=h.read(t),r=e(this)._point;this.cubicCurveTo(n.add(r.subtract(n).multiply(1/3)),n.add(i.subtract(n).multiply(1/3)),i)},curveTo:function(){var t=arguments,n=h.read(t),i=h.read(t),a=r.pick(r.read(t),.5),s=1-a,o=e(this)._point,l=n.subtract(o.multiply(s*s)).subtract(i.multiply(a*a)).divide(2*a*s);if(l.isNaN())throw new Error("Cannot put a curve through points with parameter = "+a);this.quadraticCurveTo(l,i)},arcTo:function(){var t,n,i,a,s=arguments,o=Math.abs,l=Math.sqrt,u=e(this),d=u._point,f=h.read(s),m=r.peek(s);if("boolean"==typeof(x=r.pick(m,!0)))var g=(k=d.add(f).divide(2)).add(k.subtract(d).rotate(x?-90:90));else if(r.remain(s)<=2)g=f,f=h.read(s);else if(!d.equals(f)){var v=p.read(s),w=c.isZero;if(w(v.width)||w(v.height))return this.lineTo(f);var b=r.read(s),x=!!r.read(s),M=!!r.read(s),k=d.add(f).divide(2),C=(q=d.subtract(k).rotate(-b)).x,S=q.y,E=o(v.width),D=o(v.height),I=E*E,A=D*D,P=C*C,O=S*S,N=l(P/I+O/A);if(N>1&&(I=(E*=N)*E,A=(D*=N)*D),o(N=(I*A-I*O-A*P)/(I*O+A*P))<1e-12&&(N=0),N<0)throw new Error("Cannot create an arc with the given arguments");t=new h(E*S/D,-D*C/E).multiply((M===x?-1:1)*l(N)).rotate(b).add(k),n=(i=(a=(new _).translate(t).rotate(b).scale(E,D))._inverseTransform(d)).getDirectedAngle(a._inverseTransform(f)),!x&&n>0?n-=360:x&&n<0&&(n+=360)}if(g){var L=new y(d.add(g).divide(2),g.subtract(d).rotate(90),!0),z=new y(g.add(f).divide(2),f.subtract(g).rotate(90),!0),R=new y(d,f),F=R.getSide(g);if(!(t=L.intersect(z,!0))){if(!F)return this.lineTo(f);throw new Error("Cannot create an arc with the given arguments")}n=(i=d.subtract(t)).getDirectedAngle(f.subtract(t));var H=R.getSide(t,!0);0===H?n=F*o(n):F===H&&(n+=n<0?360:-360)}if(n){for(var j=1e-5,V=o(n),B=V>=360?4:Math.ceil((V-j)/90),U=n/B,W=U*Math.PI/360,$=4/3*Math.sin(W)/(1+Math.cos(W)),G=[],Y=0;Y<=B;Y++){var q=f,X=null;if(Y<B&&(X=i.rotate(90).multiply($),a?(q=a._transformPoint(i),X=a._transformPoint(i.add(X)).subtract(q)):q=t.add(i)),Y){var Z=i.rotate(-90).multiply($);a&&(Z=a._transformPoint(i.add(Z)).subtract(q)),G.push(new T(q,Z,X))}else u.setHandleOut(X);i=i.rotate(U)}this._add(G)}},lineBy:function(){var t=h.read(arguments),n=e(this)._point;this.lineTo(n.add(t))},curveBy:function(){var t=arguments,n=h.read(t),i=h.read(t),a=r.read(t),s=e(this)._point;this.curveTo(s.add(n),s.add(i),a)},cubicCurveBy:function(){var t=arguments,n=h.read(t),i=h.read(t),r=h.read(t),a=e(this)._point;this.cubicCurveTo(a.add(n),a.add(i),a.add(r))},quadraticCurveBy:function(){var t=arguments,n=h.read(t),i=h.read(t),r=e(this)._point;this.quadraticCurveTo(r.add(n),r.add(i))},arcBy:function(){var t=arguments,n=e(this)._point,i=n.add(h.read(t)),a=r.pick(r.peek(t),!0);"boolean"==typeof a?this.arcTo(i,a):this.arcTo(i,n.add(h.read(t)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(e,t){var n=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return N[n](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,n,i,r,a){var s=e[0];if(!s)return new g;var o=new Array(6),l=s._transformCoordinates(i,new Array(6)),u=l.slice(0,2),c=u.slice(),d=new Array(2);function h(e){e._transformCoordinates(i,o);for(var t=0;t<2;t++)A._addBounds(l[t],l[t+4],o[t+2],o[t],t,a?a[t]:0,u,c,d);var n=l;l=o,o=n}for(var f=1,p=e.length;f<p;f++)h(e[f]);return t&&h(s),new g(u[0],u[1],c[0]-u[0],c[1]-u[1])},getStrokeBounds:function(e,t,n,i,r){var a=n.getStyle(),s=a.hasStroke(),o=a.getStrokeWidth(),l=s&&n._getStrokeMatrix(i,r),u=s&&N._getStrokePadding(o,l),c=N.getBounds(e,t,n,i,r,u);if(!s)return c;var d=o/2,h=a.getStrokeJoin(),f=a.getStrokeCap(),m=a.getMiterLimit(),v=new g(new p(u));function _(e){c=c.include(e)}function y(e){c=c.unite(v.setCenter(e._point.transform(i)))}function w(e,t){"round"===t||e.isSmooth()?y(e):N._addBevelJoin(e,t,d,m,i,l,_)}function b(e,t){"round"===t?y(e):N._addSquareCap(e,t,d,i,l,_)}var x=e.length-(t?0:1);if(x>0){for(var M=1;M<x;M++)w(e[M],h);t?w(e[0],h):(b(e[0],f),b(e[e.length-1],f))}return c},_getStrokePadding:function(e,t){if(!t)return[e,e];var n=new h(e,0).transform(t),i=new h(0,e).transform(t),r=n.getAngleInRadians(),a=n.getLength(),s=i.getLength(),o=Math.sin(r),l=Math.cos(r),u=Math.tan(r),c=Math.atan2(s*u,a),d=Math.atan2(s,u*a);return[Math.abs(a*Math.cos(c)*l+s*Math.sin(c)*o),Math.abs(s*Math.sin(d)*l+a*Math.cos(d)*o)]},_addBevelJoin:function(e,t,n,i,r,a,s,o){var l=e.getCurve(),u=l.getPrevious(),c=l.getPoint1().transform(r),d=u.getNormalAtTime(1).multiply(n).transform(a),f=l.getNormalAtTime(0).multiply(n).transform(a),p=d.getDirectedAngle(f);if((p<0||p>=180)&&(d=d.negate(),f=f.negate()),o&&s(c),s(c.add(d)),"miter"===t){var m=new y(c.add(d),new h(-d.y,d.x),!0).intersect(new y(c.add(f),new h(-f.y,f.x),!0),!0);m&&c.getDistance(m)<=i*n&&s(m)}s(c.add(f))},_addSquareCap:function(e,t,n,i,r,a,s){var o=e._point.transform(i),l=e.getLocation(),u=l.getNormal().multiply(0===l.getTime()?n:-n).transform(r);"square"===t&&(s&&(a(o.subtract(u)),a(o.add(u))),o=o.add(u.rotate(-90))),a(o.add(u)),a(o.subtract(u))},getHandleBounds:function(e,t,n,i,r){var a,s,o=n.getStyle();if(r.stroke&&o.hasStroke()){var l=n._getStrokeMatrix(i,r),u=o.getStrokeWidth()/2,c=u;"miter"===o.getStrokeJoin()&&(c=u*o.getMiterLimit()),"square"===o.getStrokeCap()&&(c=Math.max(c,u*Math.SQRT2)),a=N._getStrokePadding(u,l),s=N._getStrokePadding(c,l)}for(var d=new Array(6),h=1/0,f=-h,p=h,m=f,v=0,_=e.length;v<_;v++){e[v]._transformCoordinates(i,d);for(var y=0;y<6;y+=2){var w=y?a:s,b=w?w[0]:0,x=w?w[1]:0,M=d[y],k=d[y+1],C=M-b,S=M+b,E=k-x,D=k+x;C<h&&(h=C),S>f&&(f=S),E<p&&(p=E),D>m&&(m=D)}}return new g(h,p,f-h,m-p)}}});N.inject({statics:new function(){var e=.5522847498307936,t=[new T([-1,0],[0,e],[0,-e]),new T([0,-1],[-e,0],[e,0]),new T([1,0],[0,-e],[0,e]),new T([0,1],[e,0],[-e,0])];function n(e,t,n){var i=r.getNamed(n),a=new N(i&&(1==i.insert?b.INSERT:0==i.insert?b.NO_INSERT:null));return a._add(e),a._closed=t,a.set(i,b.INSERT)}function i(e,i,r){for(var a=new Array(4),s=0;s<4;s++){var o=t[s];a[s]=new T(o._point.multiply(i).add(e),o._handleIn.multiply(i),o._handleOut.multiply(i))}return n(a,!0,r)}return{Line:function(){var e=arguments;return n([new T(h.readNamed(e,"from")),new T(h.readNamed(e,"to"))],!1,e)},Circle:function(){var e=arguments,t=h.readNamed(e,"center"),n=r.readNamed(e,"radius");return i(t,new p(n),e)},Rectangle:function(){var t,i=arguments,r=g.readNamed(i,"rectangle"),a=p.readNamed(i,"radius",0,{readNull:!0}),s=r.getBottomLeft(!0),o=r.getTopLeft(!0),l=r.getTopRight(!0),u=r.getBottomRight(!0);if(!a||a.isZero())t=[new T(s),new T(o),new T(l),new T(u)];else{var c=(a=p.min(a,r.getSize(!0).divide(2))).width,d=a.height,h=c*e,f=d*e;t=[new T(s.add(c,0),null,[-h,0]),new T(s.subtract(0,d),[0,f]),new T(o.add(0,d),null,[0,-f]),new T(o.add(c,0),[-h,0],null),new T(l.subtract(c,0),null,[h,0]),new T(l.add(0,d),[0,-f],null),new T(u.subtract(0,d),null,[0,f]),new T(u.subtract(c,0),[h,0])]}return n(t,!0,i)},RoundRectangle:"#Rectangle",Ellipse:function(){var e=arguments,t=k._readEllipse(e);return i(t.center,t.radius,e)},Oval:"#Ellipse",Arc:function(){var e=arguments,t=h.readNamed(e,"from"),n=h.readNamed(e,"through"),i=h.readNamed(e,"to"),a=r.getNamed(e),s=new N(a&&0==a.insert&&b.NO_INSERT);return s.moveTo(t),s.arcTo(n,i),s.set(a)},RegularPolygon:function(){for(var e=arguments,t=h.readNamed(e,"center"),i=r.readNamed(e,"sides"),a=r.readNamed(e,"radius"),s=360/i,o=i%3==0,l=new h(0,o?-a:a),u=o?-1:.5,c=new Array(i),d=0;d<i;d++)c[d]=new T(t.add(l.rotate((d+u)*s)));return n(c,!0,e)},Star:function(){for(var e=arguments,t=h.readNamed(e,"center"),i=2*r.readNamed(e,"points"),a=r.readNamed(e,"radius1"),s=r.readNamed(e,"radius2"),o=360/i,l=new h(0,-1),u=new Array(i),c=0;c<i;c++)u[c]=new T(t.add(l.rotate(o*c).multiply(c%2?s:a)));return n(u,!0,e)}}}});var L=O.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||("string"==typeof e?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function e(t,n){var i=n,a=i[0];a&&"number"==typeof a[0]&&(i=[i]);for(var s=n.length-1;s>=0;s--){var o=i[s];i!==n||o instanceof N||(i=r.slice(i)),Array.isArray(o)?i[s]=new N({segments:o,insert:!1}):o instanceof L&&(i.splice.apply(i,[s,1].concat(o.removeChildren())),o.remove())}return e.base.call(this,t,i)},reduce:function e(t){for(var n=this._children,i=n.length-1;i>=0;i--){var r;(r=n[i].reduce(t)).isEmpty()&&r.remove()}return n.length?e.base.call(this):((r=new N(b.NO_INSERT)).copyAttributes(this),r.insertAbove(this),this.remove(),r)},isClosed:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,n=0,i=t.length;n<i;n++)t[n].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],n=0,i=e.length;n<i;n++)r.push(t,e[n].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,n=0,i=e.length;n<i;n++)t+=e[n].getArea();return t},getLength:function(){for(var e=this._children,t=0,n=0,i=e.length;n<i;n++)t+=e[n].getLength();return t},getPathData:function(e,t){for(var n=this._children,i=[],r=0,a=n.length;r<a;r++){var s=n[r],o=s._matrix;i.push(s.getPathData(e&&!o.isIdentity()?e.appended(o):e,t))}return i.join("")},_hitTestChildren:function e(t,n,i){return e.base.call(this,t,n.class===N||"path"===n.type?n:r.set({},n,{fill:!1}),i)},_draw:function(e,t,n,i){var r=this._children;if(r.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var a=0,s=r.length;a<s;a++)r[a].draw(e,t,i);if(!t.clip){this._setStyles(e,t,n);var o=this._style;o.hasFill()&&(e.fill(o.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var i=this._children,r=0,a=i.length;r<a;r++){var s=i[r],o=s._matrix;n[s._id]||s._drawSelected(e,o.isIdentity()?t:t.appended(o))}}},new function(){function e(e,t){var n=e._children;if(t&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return r.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],(function(t){this[t]=function(){var n=e(this,!0);n[t].apply(n,arguments)}}),{moveTo:function(){var t=e(this),n=t&&t.isEmpty()?t:new N(b.NO_INSERT);n!==t&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var t=e(this,!0),n=t&&t.getLastSegment(),i=h.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(t){e(this,!0).closePath(t)}})},r.each(["reverse","flatten","simplify","smooth"],(function(e){this[e]=function(t){for(var n,i=this._children,r=0,a=i.length;r<a;r++)n=i[r][e](t)||n;return n}}),{}));O.inject(new function(){var e=Math.min,n=Math.max,i=Math.abs,a={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(e){return e._children||[e]}function o(e,t){var n=e.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(t){for(var i=s(n),r=0,a=i.length;r<a;r++)(e=i[r])._closed||e.isEmpty()||(e.closePath(1e-12),e.getFirstSegment().setHandleIn(0,0),e.getLastSegment().setHandleOut(0,0));n=n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0)}return n}function u(e,t,n,i,r){var a=new L(b.NO_INSERT);return a.addChildren(e,!0),a=a.reduce({simplify:t}),r&&0==r.insert||a.insertAbove(i&&n.isSibling(i)&&n.getIndex()<i.getIndex()?i:n),a.copyAttributes(n,!0),a}function d(e){return e.hasOverlap()||e.isCrossing()}function h(e,t,n,i){if(i&&(0==i.trace||i.stroke)&&/^(subtract|intersect)$/.test(n))return f(e,t,n);var c=o(e,!0),h=t&&e!==t&&o(t,!0),p=a[n];p[n]=!0,h&&(p.subtract||p.exclude)^h.isClockwise()^c.isClockwise()&&h.reverse();var m,_=v(P.expand(c.getIntersections(h,d))),b=s(c),x=h&&s(h),M=[],k=[];function C(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];r.push(M,i._segments),r.push(k,i.getCurves()),i._overlapsOnly=!0}}function S(e){for(var t=[],n=0,i=e&&e.length;n<i;n++)t.push(k[e[n]]);return t}if(_.length){C(b),x&&C(x);for(var E=new Array(k.length),D=0,T=k.length;D<T;D++)E[D]=k[D].getValues();var I=l.findCurveBoundsCollisions(E,E,0,!0),A={};for(D=0;D<k.length;D++){var O=k[D],N=O._path._id;(A[N]=A[N]||{})[O.getIndex()]={hor:S(I[D].hor),ver:S(I[D].ver)}}for(D=0,T=_.length;D<T;D++)y(_[D]._segment,c,h,A,p);for(D=0,T=M.length;D<T;D++){var L=M[D],z=L._intersection;L._winding||y(L,c,h,A,p),z&&z._overlap||(L._path._overlapsOnly=!1)}m=w(M,p)}else m=g(x?b.concat(x):b.slice(),(function(e){return!!p[e]}));return u(m,!0,e,t,i)}function f(e,t,n){var i=o(e),r=o(t),a=i.getIntersections(r,d),s="subtract"===n,l="divide"===n,c={},h=[];function f(e){if(!c[e._id]&&(l||r.contains(e.getPointAt(e.getLength()/2))^s))return h.unshift(e),c[e._id]=!0}for(var p=a.length-1;p>=0;p--){var m=a[p].split();m&&(f(m)&&m.getFirstSegment().setHandleIn(0,0),i.getLastSegment().setHandleOut(0,0))}return f(i),u(h,!1,e,t)}function p(e,t){for(var n=e;n;){if(n===t)return;n=n._previous}for(;e._next&&e._next!==t;)e=e._next;if(!e._next){for(;t._previous;)t=t._previous;e._next=t,t._previous=e}}function m(e){for(var t=e.length-1;t>=0;t--)e[t].clearHandles()}function g(e,t,n){var a=e&&e.length;if(a){var s=r.each(e,(function(e,t){this[e._id]={container:null,winding:e.isClockwise()?1:-1,index:t}}),{}),o=e.slice().sort((function(e,t){return i(t.getArea())-i(e.getArea())})),u=o[0],d=l.findItemBoundsCollisions(o,null,c.GEOMETRIC_EPSILON);null==n&&(n=u.isClockwise());for(var h=0;h<a;h++){var f=o[h],p=s[f._id],m=0,g=d[h];if(g)for(var v=null,_=g.length-1;_>=0;_--)if(g[_]<h){v=v||f.getInteriorPoint();var y=o[g[_]];if(y.contains(v)){var w=s[y._id];m=w.winding,p.winding+=m,p.container=w.exclude?w.container:y;break}}if(t(p.winding)===t(m))p.exclude=!0,e[p.index]=null;else{var b=p.container;f.setClockwise(b?!b.isClockwise():n)}}}return e}function v(e,t,n){var i,r,a,s=t&&[],o=1e-8,l=!1,u=n||[],c=n&&{};function d(e){return e._path._id+"."+e._segment1._index}for(var h=(n&&n.length)-1;h>=0;h--)(f=n[h])._path&&(c[d(f)]=!0);for(h=e.length-1;h>=0;h--){var f,g,v=e[h],_=v._time,y=_,w=t&&!t(v);if((f=v._curve)&&(f!==r?(l=!f.hasHandles()||c&&c[d(f)],i=[],a=null,r=f):a>=o&&(_/=a)),w)i&&i.push(v);else{if(t&&s.unshift(v),a=y,_<o)g=f._segment1;else if(_>.99999999)g=f._segment2;else{var b=f.divideAtTime(_,!0);l&&u.push(f,b),g=b._segment1;for(var x=i.length-1;x>=0;x--){var M=i[x];M._time=(M._time-_)/(1-_)}}v._setSegment(g);var k=g._intersection,C=v._intersection;if(k){p(k,C);for(var S=k;S;)p(S._intersection,k),S=S._next}else g._intersection=C}}return n||m(u),s||e}function _(t,r,a,s,o){var l,u,c=Array.isArray(r)?r:r[a?"hor":"ver"],d=a?1:0,h=1^d,f=[t.x,t.y],p=f[d],m=f[h],g=1e-6,v=p-1e-9,y=p+1e-9,w=0,b=0,x=0,M=0,k=!1,C=!1,S=1,E=[];function D(i){var u=i[h+0],c=i[h+6];if(!(m<e(u,c)||m>n(u,c))){var f=i[d+0],w=i[d+2],b=i[d+4],C=i[d+6];if(u!==c){var D=m===u?0:m===c||v>n(f,w,b,C)||y<e(f,w,b,C)?1:A.solveCubic(i,h,m,E,0,1)>0?E[0]:1,T=0===D?f:1===D?C:A.getPoint(i,D)[a?"y":"x"],I=u>c?1:-1,P=l[h]>l[h+6]?1:-1,O=l[d+6];return m!==u?(T<v?x+=I:T>y?M+=I:k=!0,T>p-g&&T<p+g&&(S/=2)):(I!==P?f<v?x+=I:f>y&&(M+=I):f!=O&&(O<y&&T>y?(M+=I,k=!0):O>v&&T<v&&(x+=I,k=!0)),S/=4),l=i,!o&&T>v&&T<y&&0===A.getTangent(i,D)[a?"x":"y"]&&_(t,r,!a,s,!0)}(f<y&&C>v||C<y&&f>v)&&(k=!0)}}function T(t){var i=t[h+0],r=t[h+2],s=t[h+4],o=t[h+6];if(m<=n(i,r,s,o)&&m>=e(i,r,s,o))for(var l,u=t[d+0],c=t[d+2],f=t[d+4],p=t[d+6],g=v>n(u,c,f,p)||y<e(u,c,f,p)?[t]:A.getMonoCurves(t,a),_=0,w=g.length;_<w;_++)if(l=D(g[_]))return l}for(var I=0,P=c.length;I<P;I++){var O,N=c[I],L=N._path,z=N.getValues();if(!(I&&c[I-1]._path===L||(l=null,L._closed||(u=A.getValues(L.getLastCurve().getSegment2(),N.getSegment1(),null,!s))[h]!==u[h+6]&&(l=u),l))){l=z;for(var R=L.getLastCurve();R&&R!==N;){var F=R.getValues();if(F[h]!==F[h+6]){l=F;break}R=R.getPrevious()}}if(O=T(z))return O;if(I+1===P||c[I+1]._path!==L){if(u&&(O=T(u)))return O;!k||x||M||(x=M=L.isClockwise(s)^a?1:-1),w+=x,b+=M,x=M=0,k&&(C=!0,k=!1),u=null}}return w=i(w),b=i(b),{winding:n(w,b),windingL:w,windingR:b,quality:S,onPath:C}}function y(e,t,n,r,a){var s=[],o=e,l=0;do{if(y=e.getCurve()){var u=y.getLength();s.push({segment:e,curve:y,length:u}),l+=u}e=e.getNext()}while(e&&!e._intersection&&e!==o);for(var d=[.5,.25,.75],h={winding:0,quality:-1},f=0;f<d.length&&h.quality<.5;f++){u=l*d[f];for(var p=0,m=s.length;p<m;p++){var g=s[p],v=g.length;if(u<=v){var y,w=(y=g.curve)._path,b=w._parent,x=b instanceof L?b:w,M=c.clamp(y.getTimeAt(u),.001,.999),k=y.getPointAtTime(M),C=i(y.getTangentAtTime(M).y)<Math.SQRT1_2,S=null;if(a.subtract&&n){var E=(x===t?n:t)._getWinding(k,C,!0);if(x===t&&E.winding||x===n&&!E.winding){if(E.quality<1)continue;S={winding:0,quality:1}}}(S=S||_(k,r[w._id][y.getIndex()],C,!0)).quality>h.quality&&(h=S);break}u-=v}}for(p=s.length-1;p>=0;p--)s[p].segment._winding=h}function w(e,t){var n,i=[];function r(e){var n;return!(!e||e._visited||t&&(!t[(n=e._winding||{}).winding]||t.unite&&2===n.winding&&n.windingL&&n.windingR))}function a(e){if(e)for(var t=0,i=n.length;t<i;t++)if(e===n[t])return!0;return!1}function s(e){for(var t=e._segments,n=0,i=t.length;n<i;n++)t[n]._visited=!0}function o(e,t){var i=e._intersection,s=i,o=[];function l(i,s){for(;i&&i!==s;){var l=i._segment,u=l&&l._path;if(u){var c=l.getNext()||u.getFirstSegment(),d=c._intersection;l!==e&&(a(l)||a(c)||c&&r(l)&&(r(c)||d&&r(d._segment)))&&o.push(l),t&&n.push(l)}i=i._next}}if(t&&(n=[e]),i){for(l(i);i&&i._previous;)i=i._previous;l(i,s)}return o}e.sort((function(e,t){var n=e._intersection,i=t._intersection,r=!(!n||!n._overlap),a=!(!i||!i._overlap),s=e._path,o=t._path;return r^a?r?1:-1:!n^!i?n?1:-1:s!==o?s._id-o._id:e._index-t._index}));for(var l=0,u=e.length;l<u;l++){var c,d,h,f=e[l],p=r(f),m=null,g=!1,v=!0,_=[];if(p&&f._path._overlapsOnly){var y=f._path,w=f._intersection._segment._path;y.compare(w)&&(y.getArea()&&i.push(y.clone(!1)),s(y),s(w),p=!1)}for(;p;){var x=!m,M=o(f,x),k=M.shift(),C=!(g=!x&&(a(f)||a(k)))&&k;if(x&&(m=new N(b.NO_INSERT),c=null),g){(f.isFirst()||f.isLast())&&(v=f._path._closed),f._visited=!0;break}if(C&&c&&(_.push(c),c=null),c||(C&&M.push(f),c={start:m._segments.length,crossings:M,visited:d=[],handleIn:h}),C&&(f=k),!r(f)){m.removeSegments(c.start);for(var S=0,E=d.length;S<E;S++)d[S]._visited=!1;d.length=0;do{(f=c&&c.crossings.shift())&&f._path||(f=null,(c=_.pop())&&(d=c.visited,h=c.handleIn))}while(c&&!r(f));if(!f)break}var D=f.getNext();m.add(new T(f._point,h,D&&f._handleOut)),f._visited=!0,d.push(f),f=D||f._path.getFirstSegment(),h=D&&D._handleIn}g&&(v&&(m.getFirstSegment().setHandleIn(h),m.setClosed(v)),0!==m.getArea()&&i.push(m))}return i}return{_getWinding:function(e,t,n){return _(e,this.getCurves(),t,n)},unite:function(e,t){return h(this,e,"unite",t)},intersect:function(e,t){return h(this,e,"intersect",t)},subtract:function(e,t){return h(this,e,"subtract",t)},exclude:function(e,t){return h(this,e,"exclude",t)},divide:function(e,t){return t&&(0==t.trace||t.stroke)?f(this,e,"divide"):u([this.subtract(e,t),this.intersect(e,t)],!0,this,e,t)},resolveCrossings:function(){var e=this._children,t=e||[this];function n(e,t){var n=e&&e._intersection;return n&&n._overlap&&n._path===t}var i=!1,a=!1,s=this.getIntersections(null,(function(e){return e.hasOverlap()&&(i=!0)||e.isCrossing()&&(a=!0)})),o=i&&a&&[];if(s=P.expand(s),i)for(var l=v(s,(function(e){return e.hasOverlap()}),o),u=l.length-1;u>=0;u--){var c=l[u],d=c._path,h=c._segment,f=h.getPrevious(),p=h.getNext();n(f,d)&&n(p,d)&&(h.remove(),f._handleOut._set(0,0),p._handleIn._set(0,0),f===h||f.getCurve().hasLength()||(p._handleIn.set(f._handleIn),f.remove()))}a&&(v(s,i&&function(e){var t=e.getCurve(),n=e.getSegment(),i=e._intersection,r=i._curve,a=i._segment;if(t&&r&&t._path&&r._path)return!0;n&&(n._intersection=null),a&&(a._intersection=null)},o),o&&m(o),t=w(r.each(t,(function(e){r.push(this,e._segments)}),[])));var g,_=t.length;return _>1&&e?(t!==e&&this.setChildren(t),g=this):1!==_||e||(t[0]!==this&&this.setSegments(t[0].removeSegments()),g=this),g||((g=new L(b.NO_INSERT)).addChildren(t),(g=g.reduce()).copyAttributes(this),this.replaceWith(g)),g},reorient:function(e,n){var i=this._children;return i&&i.length?this.setChildren(g(this.removeChildren(),(function(t){return!!(e?t:1&t)}),n)):n!==t&&this.setClockwise(n),this},getInteriorPoint:function(){var t=this.getBounds().getCenter(!0);if(!this.contains(t)){for(var i=this.getCurves(),r=t.y,a=[],s=[],o=0,l=i.length;o<l;o++){var u=i[o].getValues(),c=u[1],d=u[3],h=u[5],f=u[7];if(r>=e(c,d,h,f)&&r<=n(c,d,h,f))for(var p=A.getMonoCurves(u),m=0,g=p.length;m<g;m++){var v=p[m],_=v[1],y=v[7];if(_!==y&&(r>=_&&r<=y||r>=y&&r<=_)){var w=r===_?v[0]:r===y?v[6]:1===A.solveCubic(v,1,r,s,0,1)?A.getPoint(v,s[0]).x:(v[0]+v[6])/2;a.push(w)}}}a.length>1&&(a.sort((function(e,t){return e-t})),t.x=(a[0]+a[1])/2)}return t}}});var z=r.extend({_class:"PathFlattener",initialize:function(e,t,n,i,r){var a,s=[],o=[],l=0,u=1/(n||32),c=e._segments,d=c[0];function h(e,t){var n=A.getValues(e,t,r);s.push(n),f(n,e._index,0,1)}function f(e,n,r,a){if(!(a-r>u)||i&&A.isStraight(e)||A.isFlatEnough(e,t||.25)){var s=e[6]-e[0],c=e[7]-e[1],d=Math.sqrt(s*s+c*c);d>0&&(l+=d,o.push({offset:l,curve:e,index:n,time:a}))}else{var h=A.subdivide(e,.5),p=(r+a)/2;f(h[0],n,r,p),f(h[1],n,p,a)}}for(var p=1,m=c.length;p<m;p++)h(d,a=c[p]),d=a;e._closed&&h(a||d,c[0]),this.curves=s,this.parts=o,this.length=l,this.index=0},_get:function(e){for(var t,n=this.parts,i=n.length,r=this.index;t=r,r&&!(n[--r].offset<e););for(;t<i;t++){var a=n[t];if(a.offset>=e){this.index=t;var s=n[t-1],o=s&&s.index===a.index?s.time:0,l=s?s.offset:0;return{index:a.index,time:o+(a.time-o)*(e-l)/(a.offset-l)}}}return{index:n[i-1].index,time:1}},drawPart:function(e,t,n){for(var i=this._get(t),r=this._get(n),a=i.index,s=r.index;a<=s;a++){var o=A.getPart(this.curves[a],a===i.index?i.time:0,a===r.index?r.time:1);a===i.index&&e.moveTo(o[0],o[1]),e.bezierCurveTo.apply(e,o.slice(2))}}},r.each(A._evaluateMethods,(function(e){this[e+"At"]=function(t){var n=this._get(t);return A[e](this.curves[n.index],n.time)}}),{})),R=r.extend({initialize:function(e){for(var t,n=this.points=[],i=e._segments,r=e._closed,a=0,s=i.length;a<s;a++){var o=i[a].point;t&&t.equals(o)||n.push(t=o.clone())}r&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=r},fit:function(e){var t=this.points,n=t.length,i=null;return n>0&&(i=[new T(t[0])],n>1&&(this.fitCubic(i,e,0,n-1,t[1].subtract(t[0]),t[n-2].subtract(t[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(e,t,n,i,r,a){var s=this.points;if(i-n!=1){for(var o,l=this.chordLengthParameterize(n,i),u=Math.max(t,t*t),c=!0,d=0;d<=4;d++){var h=this.generateBezier(n,i,l,r,a),f=this.findMaxError(n,i,h,l);if(f.error<t&&c)return void this.addCurve(e,h);if(o=f.index,f.error>=u)break;c=this.reparameterize(n,i,l,h),u=f.error}var p=s[o-1].subtract(s[o+1]);this.fitCubic(e,t,n,o,r,p),this.fitCubic(e,t,o,i,p.negate(),a)}else{var m=s[n],g=s[i],v=m.getDistance(g)/3;this.addCurve(e,[m,m.add(r.normalize(v)),g.add(a.normalize(v)),g])}},addCurve:function(e,t){e[e.length-1].setHandleOut(t[1].subtract(t[0])),e.push(new T(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,n,i,r){for(var a=1e-12,s=Math.abs,o=this.points,l=o[e],u=o[t],c=[[0,0],[0,0]],d=[0,0],h=0,f=t-e+1;h<f;h++){var p=n[h],m=1-p,g=3*p*m,v=m*m*m,_=g*m,y=g*p,w=p*p*p,b=i.normalize(_),x=r.normalize(y),M=o[e+h].subtract(l.multiply(v+_)).subtract(u.multiply(y+w));c[0][0]+=b.dot(b),c[0][1]+=b.dot(x),c[1][0]=c[0][1],c[1][1]+=x.dot(x),d[0]+=b.dot(M),d[1]+=x.dot(M)}var k,C,S=c[0][0]*c[1][1]-c[1][0]*c[0][1];if(s(S)>a){var E=c[0][0]*d[1]-c[1][0]*d[0];k=(d[0]*c[1][1]-d[1]*c[0][1])/S,C=E/S}else{var D=c[0][0]+c[0][1],T=c[1][0]+c[1][1];k=C=s(D)>a?d[0]/D:s(T)>a?d[1]/T:0}var I,A,P=u.getDistance(l),O=a*P;if(k<O||C<O)k=C=P/3;else{var N=u.subtract(l);I=i.normalize(k),A=r.normalize(C),I.dot(N)-A.dot(N)>P*P&&(k=C=P/3,I=A=null)}return[l,l.add(I||i.normalize(k)),u.add(A||r.normalize(C)),u]},reparameterize:function(e,t,n,i){for(var r=e;r<=t;r++)n[r-e]=this.findRoot(i,this.points[r],n[r-e]);r=1;for(var a=n.length;r<a;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(e,t,n){for(var i=[],r=[],a=0;a<=2;a++)i[a]=e[a+1].subtract(e[a]).multiply(3);for(a=0;a<=1;a++)r[a]=i[a+1].subtract(i[a]).multiply(2);var s=this.evaluate(3,e,n),o=this.evaluate(2,i,n),l=this.evaluate(1,r,n),u=s.subtract(t),d=o.dot(o)+u.dot(l);return c.isMachineZero(d)?n:n-u.dot(o)/d},evaluate:function(e,t,n){for(var i=t.slice(),r=1;r<=e;r++)for(var a=0;a<=e-r;a++)i[a]=i[a].multiply(1-n).add(i[a+1].multiply(n));return i[0]},chordLengthParameterize:function(e,t){for(var n=[0],i=e+1;i<=t;i++)n[i-e]=n[i-e-1]+this.points[i].getDistance(this.points[i-1]);i=1;for(var r=t-e;i<=r;i++)n[i]/=n[r];return n},findMaxError:function(e,t,n,i){for(var r=Math.floor((t-e+1)/2),a=0,s=e+1;s<t;s++){var o=this.evaluate(3,n,i[s-e]).subtract(this.points[s]),l=o.x*o.x+o.y*o.y;l>=a&&(a=l,r=s)}return{error:a,index:r}}}),F=b.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var n=e&&r.isPlainObject(e)&&e.x===t&&e.y===t;this._initialize(n&&e,!n&&h.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),H=F.extend({_class:"PointText",initialize:function(){F.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new f(e.x,e.y,this,"setPoint")},setPoint:function(){var e=h.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,n){if(this._content){this._setStyles(e,t,n);var i=this._lines,r=this._style,a=r.hasFill(),s=r.hasStroke(),o=r.getLeading(),l=e.shadowColor;e.font=r.getFontStyle(),e.textAlign=r.getJustification();for(var u=0,c=i.length;u<c;u++){e.shadowColor=l;var d=i[u];a&&(e.fillText(d,0,0),e.shadowColor="rgba(0,0,0,0)"),s&&e.strokeText(d,0,0),e.translate(0,o)}}},_getBounds:function(e,t){var n=this._style,i=this._lines,r=i.length,a=n.getJustification(),s=n.getLeading(),o=this.getView().getTextWidth(n.getFontStyle(),i),l=0;"left"!==a&&(l-=o/("center"===a?2:1));var u=new g(l,r?-.75*s:0,o,r*s);return e?e._transformBounds(u,u):u}}),j=r.extend(new function(){var e,t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},a={transparent:[0,0,0,0]};function s(t){var i,r=t.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||t.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),s="rgb";if(r){var o=r[4]?4:3;i=new Array(o);for(var l=0;l<o;l++){var u=r[l+1];i[l]=parseInt(1==u.length?u+u:u,16)/255}}else if(r=t.match(/^(rgb|hsl)a?\((.*)\)$/)){s=r[1],i=r[2].trim().split(/[,\s]+/g);for(var c="hsl"===s,d=(l=0,Math.min(i.length,4));l<d;l++){var h=i[l];if(u=parseFloat(h),c)if(0===l){var f=h.match(/([a-z]*)$/)[1];u*={turn:360,rad:180/Math.PI,grad:.9}[f]||1}else l<3&&(u/=100);else l<3&&(u/=/%$/.test(h)?100:255);i[l]=u}}else{var p=a[t];if(!p)if(n){e||((e=ne.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var m=e.getImageData(0,0,1,1).data;p=a[t]=[m[0]/255,m[1]/255,m[2]/255]}else p=[0,0,0];i=p.slice()}return[s,i]}var o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(e,t,n){var i=Math.max(e,t,n),r=i-Math.min(e,t,n);return[0===r?0:60*(i==e?(t-n)/r+(t<n?6:0):i==t?(n-e)/r+2:(e-t)/r+4),0===i?0:r/i,i]},"hsb-rgb":function(e,t,n){var i,r=(e=(e/60%6+6)%6)-(i=Math.floor(e)),a=[n,n*(1-t),n*(1-t*r),n*(1-t*(1-r))];return[a[(i=o[i])[0]],a[i[1]],a[i[2]]]},"rgb-hsl":function(e,t,n){var i=Math.max(e,t,n),r=Math.min(e,t,n),a=i-r,s=0===a,o=(i+r)/2;return[s?0:60*(i==e?(t-n)/a+(t<n?6:0):i==t?(n-e)/a+2:(e-t)/a+4),s?0:o<.5?a/(i+r):a/(2-i-r),o]},"hsl-rgb":function(e,t,n){if(0===t)return[n,n,n];for(var i=[(e=(e/360%1+1)%1)+1/3,e,e-1/3],r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,s=[],o=0;o<3;o++){var l=i[o];l<0&&(l+=1),l>1&&(l-=1),s[o]=6*l<1?a+6*(r-a)*l:2*l<1?r:3*l<2?a+(r-a)*(2/3-l)*6:a}return s},"rgb-gray":function(e,t,n){return[.2989*e+.587*t+.114*n]},"gray-rgb":function(e){return[e,e,e]},"gray-hsb":function(e){return[0,0,e]},"gray-hsl":function(e){return[0,0,e]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return r.each(t,(function(e,n){i[n]=[],r.each(e,(function(e,a){var s=r.capitalize(e),o=/^(hue|saturation)$/.test(e),l=i[n][a]="gradient"===n?"gradient"===e?function(e){var t=this._components[0];return t!==(e=V.read(Array.isArray(e)?e:arguments,0,{readNull:!0}))&&(t&&t._removeOwner(this),e&&e._addOwner(this)),e}:function(){return h.read(arguments,0,{readNull:"highlight"===e,clone:!0})}:function(e){return null==e||isNaN(e)?0:+e};this["get"+s]=function(){return this._type===n||o&&/^hs[bl]$/.test(this._type)?this._components[a]:this._convert(n)[a]},this["set"+s]=function(e){this._type===n||o&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(n),this._properties=t[n],this._type=n),this._components[a]=l.call(this,e),this._changed()}}),this)}),{_class:"Color",_readIndex:!0,initialize:function e(n){var a,o,l,u,c=arguments,d=this.__read,h=0;Array.isArray(n)&&(n=(c=n)[0]);var f=null!=n&&typeof n;if("string"===f&&n in t&&(a=n,n=c[1],Array.isArray(n)?(o=n,l=c[2]):(d&&(h=1),c=r.slice(c,1),f=typeof n)),!o){if(u="number"===f?c:"object"===f&&null!=n.length?n:null){a||(a=u.length>=3?"rgb":"gray");var p=t[a].length;l=u[p],d&&(h+=u===arguments?p+(null!=l?1:0):1),u.length>p&&(u=r.slice(u,0,p))}else if("string"===f){var m=s(n);a=m[0],4===(o=m[1]).length&&(l=o[3],o.length--)}else if("object"===f)if(n.constructor===e){if(a=n._type,o=n._components.slice(),l=n._alpha,"gradient"===a)for(var g=1,v=o.length;g<v;g++){var _=o[g];_&&(o[g]=_.clone())}}else if(n.constructor===V)a="gradient",u=c;else{var y=t[a="hue"in n?"lightness"in n?"hsl":"hsb":"gradient"in n||"stops"in n||"radial"in n?"gradient":"gray"in n?"gray":"rgb"],w=i[a];for(this._components=o=[],g=0,v=y.length;g<v;g++)null==(b=n[y[g]])&&!g&&"gradient"===a&&"stops"in n&&(b={stops:n.stops,radial:n.radial}),null!=(b=w[g].call(this,b))&&(o[g]=b);l=n.alpha}d&&a&&(h=1)}if(this._type=a||"rgb",!o)for(this._components=o=[],g=0,v=(w=i[this._type]).length;g<v;g++){var b;null!=(b=w[g].call(this,u&&u[g]))&&(o[g]=b)}return this._components=o,this._properties=t[this._type],this._alpha=l,d&&(this.__read=h),this},set:"#initialize",_serialize:function(e,t){var n=this.getComponents();return r.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),e,!0,t)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(e){var t;return this._type===e?this._components.slice():(t=l[this._type+"-"+e])?t.apply(this,this._components):l["rgb-"+e].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(e){return new j(e,this._convert(e),this._alpha)},getType:function(){return this._type},setType:function(e){this._components=this._convert(e),this._properties=t[e],this._type=e},getComponents:function(){var e=this._components.slice();return null!=this._alpha&&e.push(this._alpha),e},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(e){this._alpha=null==e?null:Math.min(Math.max(e,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(e){var t=r.isPlainValue(e,!0)?j.read(arguments):e;return t===this||t&&this._class===t._class&&this._type===t._type&&this.getAlpha()===t.getAlpha()&&r.equals(this._components,t._components)||!1},toString:function(){for(var e=this._properties,t=[],n="gradient"===this._type,i=u.instance,r=0,a=e.length;r<a;r++){var s=this._components[r];null!=s&&t.push(e[r]+": "+(n?s:i.number(s)))}return null!=this._alpha&&t.push("alpha: "+i.number(this._alpha)),"{ "+t.join(", ")+" }"},toCSS:function(e){var t=this._convert("rgb"),n=e||null==this._alpha?1:this._alpha;function i(e){return Math.round(255*(e<0?0:e>1?1:e))}return t=[i(t[0]),i(t[1]),i(t[2])],n<1&&t.push(n<0?0:n),e?"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+t[2]).toString(16).slice(1):(4==t.length?"rgba(":"rgb(")+t.join(",")+")"},toCanvasStyle:function(e,t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,i=this._components,r=i[0],a=r._stops,s=i[1],o=i[2],l=i[3],u=t&&t.inverted();if(u&&(s=u._transformPoint(s),o=u._transformPoint(o),l&&(l=u._transformPoint(l))),r._radial){var c=o.getDistance(s);if(l){var d=l.subtract(s);d.getLength()>c&&(l=s.add(d.normalize(c-.1)))}var h=l||s;n=e.createRadialGradient(h.x,h.y,0,s.x,s.y,c)}else n=e.createLinearGradient(s.x,s.y,o.x,o.y);for(var f=0,p=a.length;f<p;f++){var m=a[f],g=m._offset;n.addColorStop(null==g?f/(p-1):g,m._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(e){if("gradient"===this._type){for(var t=this._components,n=1,i=t.length;n<i;n++){var r=t[n];e._transformPoint(r,r,!0)}this._changed()}},statics:{_types:t,random:function(){var e=Math.random;return new j(e(),e(),e())},_setOwner:function(e,t,n){return e&&(e._owner&&t&&e._owner!==t&&(e=e.clone()),!e._owner^!t&&(e._owner=t||null,e._setter=n||null)),e}}})},new function(){return r.each({add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}},(function(e,t){this[t]=function(t){t=j.read(arguments);for(var n=this._type,i=this._components,r=t._convert(n),a=0,s=i.length;a<s;a++)r[a]=e(i[a],r[a]);return new j(n,r,null!=this._alpha?e(this._alpha,t.getAlpha()):null)}}),{})}),V=r.extend({_class:"Gradient",initialize:function(e,t){this._id=d.get(),e&&r.isPlainObject(e)&&(this.set(e),e=t=null),null==this._stops&&this.setStops(e||["white","black"]),null==this._radial&&this.setRadial("string"==typeof t&&"radial"===t||t||!1)},_serialize:function(e,t){return t.add(this,(function(){return r.serialize([this._stops,this._radial],e,!0,t)}))},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var n=this._owners?this._owners.indexOf(e):-1;-1!=n&&(this._owners.splice(n,1),this._owners.length||(this._owners=t))},clone:function(){for(var e=[],t=0,n=this._stops.length;t<n;t++)e[t]=this._stops[t].clone();return new V(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var n=this._stops;if(n)for(var i=0,r=n.length;i<r;i++)n[i]._owner=t;for(i=0,r=(n=this._stops=B.readList(e,0,{clone:!0})).length;i<r;i++)n[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,n=e._stops,i=t.length;if(i===n.length){for(var r=0;r<i;r++)if(!t[r].equals(n[r]))return!1;return!0}}return!1}}),B=r.extend({_class:"GradientStop",initialize:function(e,n){var i=e,r=n;"object"==typeof e&&n===t&&(Array.isArray(e)&&"number"!=typeof e[0]?(i=e[0],r=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(i=e.color,r=e.offset||e.rampPoint||0)),this.setColor(i),this.setOffset(r)},clone:function(){return new B(this._color.clone(),this._offset)},_serialize:function(e,t){var n=this._color,i=this._offset;return r.serialize(null==i?[n]:[n,i],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){j._setOwner(this._color,null),this._color=j._setOwner(j.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),U=r.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new h,selectedColor:null},n=r.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=r.set({},n,{fillColor:new j}),a={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},o={_class:"Style",beans:!0,initialize:function(t,r,a){this._values={},this._owner=r,this._project=r&&r._project||a||se.project,this._defaults=!r||r instanceof x?n:r instanceof F?i:e,t&&this.set(t)}};return r.each(n,(function(e,n){var i=/Color$/.test(n),l="shadowOffset"===n,u=r.capitalize(n),c=a[n],d="set"+u,f="get"+u;o[d]=function(e){var t=this._owner,r=t&&t._children,a=r&&r.length>0&&!(t instanceof L);if(a)for(var s=0,o=r.length;s<o;s++)r[s]._style[d](e);if(("selectedColor"===n||!a)&&n in this._defaults){var l=this._values[n];l!==e&&(i&&(l&&(j._setOwner(l,null),l._canvasStyle=null),e&&e.constructor===j&&(e=j._setOwner(e,t,a&&d))),this._values[n]=e,t&&t._changed(c||129))}},o[f]=function(e){var a=this._owner,s=a&&a._children,o=s&&s.length>0&&!(a instanceof L);if(o&&!e)for(var u=0,c=s.length;u<c;u++){var p=s[u]._style[f]();if(u){if(!r.equals(m,p))return t}else m=p}else if(n in this._defaults){var m;if((m=this._values[n])===t)(m=this._defaults[n])&&m.clone&&(m=m.clone());else{var g=i?j:l?h:null;!g||m&&m.constructor===g||(this._values[n]=m=g.read([m],0,{readNull:!0,clone:!0}))}}return m&&i&&(m=j._setOwner(m,a,o&&d)),m},s[f]=function(e){return this._style[f](e)},s[d]=function(e){this._style[d](e)}})),r.each({Font:"FontFamily",WindingRule:"FillRule"},(function(e,t){var n="get"+t,i="set"+t;o[n]=s[n]="#get"+e,o[i]=s[i]="#set"+e})),b.inject(s),o},{set:function(e){var t=e instanceof U,n=t?e._values:e;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&t&&r.clone?r.clone():r}},equals:function(e){function n(e,n,i){var a=e._values,s=n._values,o=n._defaults;for(var l in a){var u=a[l],c=s[l];if(!(i&&l in s||r.equals(u,c===t?o[l]:c)))return!1}return!0}return e===this||e&&this._class===e._class&&n(this,e)&&n(e,this,!0)||!1},_dispose:function(){var e;(e=this.getFillColor())&&(e._canvasStyle=null),(e=this.getStrokeColor())&&(e._canvasStyle=null),(e=this.getShadowColor())&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=t?t:1.2*n}}),W=new function(){function e(e,t,n,i){for(var r=["","webkit","moz","Moz","ms","o"],a=t[0].toUpperCase()+t.substring(1),s=0;s<6;s++){var o=r[s],l=o?o+a:t;if(l in e){if(!n)return e[l];e[l]=i;break}}}return{getStyles:function(e){var t=e&&9!==e.nodeType?e.ownerDocument:e,n=t&&t.defaultView;return n&&n.getComputedStyle(e,"")},getBounds:function(e,t){var n,i=e.ownerDocument,r=i.body,a=i.documentElement;try{n=e.getBoundingClientRect()}catch(u){n={left:0,top:0,width:0,height:0}}var s=n.left-(a.clientLeft||r.clientLeft||0),o=n.top-(a.clientTop||r.clientTop||0);if(!t){var l=i.defaultView;s+=l.pageXOffset||a.scrollLeft||r.scrollLeft,o+=l.pageYOffset||a.scrollTop||r.scrollTop}return new g(s,o,n.width,n.height)},getViewportBounds:function(e){var t=e.ownerDocument,n=t.defaultView,i=t.documentElement;return new g(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(e,t){return W.getBounds(e,t).getPoint()},getSize:function(e){return W.getBounds(e,!0).getSize()},isInvisible:function(e){return W.getSize(e).equals(new p(0,0))},isInView:function(e){return!W.isInvisible(e)&&W.getViewportBounds(e).intersects(W.getBounds(e,!0))},isInserted:function(e){return i.body.contains(e)},getPrefixed:function(t,n){return t&&e(t,n)},setPrefixed:function(t,n,i){if("object"==typeof n)for(var r in n)e(t,r,!0,n[r]);else e(t,n,!0,i)}}},$={add:function(e,t){if(e)for(var n in t)for(var r=t[n],a=n.split(/[\s,]+/g),s=0,o=a.length;s<o;s++){var l=a[s],u=e===i&&("touchstart"===l||"touchmove"===l)&&{passive:!1};e.addEventListener(l,r,u)}},remove:function(e,t){if(e)for(var n in t)for(var i=t[n],r=n.split(/[\s,]+/g),a=0,s=r.length;a<s;a++)e.removeEventListener(r[a],i,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new h(t.pageX||t.clientX+i.documentElement.scrollLeft,t.pageY||t.clientY+i.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return $.getPoint(e).subtract(W.getOffset(t||$.getTarget(e)))}};$.requestAnimationFrame=new function(){var e,t=W.getPrefixed(n,"requestAnimationFrame"),i=!1,r=[];function a(){var e=r;r=[];for(var n=0,s=e.length;n<s;n++)e[n]();(i=t&&r.length)&&t(a)}return function(n){r.push(n),t?i||(t(a),i=!0):e||(e=setInterval(a,1e3/60))}};var G=r.extend(a,{_class:"View",initialize:function e(t,r){function a(e){return r[e]||parseInt(r.getAttribute(e),10)}function o(){var e=W.getSize(r);return e.isNaN()||e.isZero()?new p(a("width"),a("height")):e}var l;if(n&&r){this._id=r.getAttribute("id"),null==this._id&&r.setAttribute("id",this._id="paper-view-"+e._id++),$.add(r,this._viewEvents);var u="none";if(W.setPrefixed(r.style,{userDrag:u,userSelect:u,touchCallout:u,contentZooming:u,tapHighlightColor:"rgba(0,0,0,0)"}),s.hasAttribute(r,"resize")){var c=this;$.add(n,this._windowEvents={resize:function(){c.setViewSize(o())}})}if(l=o(),s.hasAttribute(r,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var d=this._stats.domElement,h=d.style,f=W.getOffset(r);h.position="absolute",h.left=f.x+"px",h.top=f.y+"px",i.body.appendChild(d)}}else l=new p(r),r=null;this._project=t,this._scope=t._scope,this._element=r,this._pixelRatio||(this._pixelRatio=n&&n.devicePixelRatio||1),this._setElementSize(l.width,l.height),this._viewSize=l,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new _)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!se.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;G._focused===this&&(G._focused=null),G._views.splice(G._views.indexOf(this),1),delete G._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),$.remove(this._element,this._viewEvents),$.remove(n,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:r.each(b._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),(function(e){this[e]={}}),{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;$.requestAnimationFrame((function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;W.getPrefixed(i,"hidden")&&"true"!==s.getAttribute(t,"keepalive")||!W.isInView(t)||e._handleFrame()}e._autoUpdate&&e.update()})),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){se=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new r({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[e._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var n=this._frameItems[t];n.item.emit("frame",new r(e,{time:n.time+=e.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=t},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var e=this._viewSize;return new m(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=p.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var n=this._element;n&&(n.width!==e&&(n.width=e),n.height!==t&&(n.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new g(new h,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return W.isInView(this._element)},isInserted:function(){return W.isInserted(this._element)},getPixelSize:function(e){var t,n=this._element;if(n){var r=n.parentNode,a=i.createElement("div");a.style.fontSize=e,r.appendChild(a),t=parseFloat(W.getStyles(a).fontSize),r.removeChild(a)}else t=parseFloat(t);return t},getTextWidth:function(e,t){return 0}},r.each(["rotate","scale","shear","skew"],(function(e){var t="rotate"===e;this[e]=function(){var n=arguments,i=(t?r:h).read(n),a=h.read(n,0,{readNull:!0});return this.transform((new _)[e](i,a||this.getCenter(!0)))}}),{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new _;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=h.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform((new _).scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();null!=t&&null!=e&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new f(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=h.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(h.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(h.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(h.read(arguments))},getEventPoint:function(e){return this.viewToProject($.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){return i&&"string"==typeof t&&(t=i.getElementById(t)),new(n?Y:G)(e,t)}}},new function(){if(n){var e,t,r,a,s,o=!1,l=!1,u=n.navigator;u.pointerEnabled||u.msPointerEnabled?(r="pointerdown MSPointerDown",a="pointermove MSPointerMove",s="pointerup pointercancel MSPointerUp MSPointerCancel"):(r="touchstart",a="touchmove",s="touchend touchcancel","ontouchstart"in n&&u.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(r+=" mousedown",a+=" mousemove",s+=" mouseup"));var c={},d={mouseout:function(e){var t=G._focused,n=$.getRelatedTarget(e);if(t&&(!n||"HTML"===n.nodeName)){var i=$.getOffset(e,t._element),r=i.x,a=Math.abs,s=a(r),o=s-(1<<25);i.x=a(o)<s?o*(r<0?-1:1):r,E(t,e,t.viewToProject(i))}},scroll:S};c[r]=function(e){var t=G._focused=C(e);o||(o=!0,t._handleMouseEvent("mousedown",e))},d[a]=function(n){var i=G._focused;if(!l){var r=C(n);r?i!==r&&(i&&E(i,n),e||(e=i),i=G._focused=t=r):t&&t===i&&(e&&!e.isInserted()&&(e=null),i=G._focused=e,e=null,S())}i&&E(i,n)},d[r]=function(){l=!0},d[s]=function(e){var t=G._focused;t&&o&&t._handleMouseEvent("mouseup",e),l=o=!1},$.add(i,d),$.add(n,{load:S});var h,f,p,m,g,v,_,y,w=!1,b=!1,x={doubleclick:"click",mousedrag:"mousemove"},M=!1,k={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:c,_handleMouseEvent:function(e,t,n){var i=this._itemEvents,r=i.native[e],a="mousemove"===e,s=this._scope.tool,l=this;function u(e){return i.virtual[e]||l.responds(e)||s&&s.responds(e)}a&&o&&u("mousedrag")&&(e="mousedrag"),n||(n=this.getEventPoint(t));var c=this.getBounds().contains(n),d=r&&c&&l._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),x=d&&d.item||null,k=!1,C={};if(C[e.substr(5)]=!0,r&&x!==m&&(m&&D(m,null,"mouseleave",t,n),x&&D(x,null,"mouseenter",t,n),m=x),M^c&&(D(this,null,c?"mouseenter":"mouseleave",t,n),k=!0),!c&&!C.drag||n.equals(f)||(T(this,x,a?e:"mousemove",t,n,f),k=!0),M=c,C.down&&c||C.up&&h){if(T(this,x,e,t,n,h),C.down){if(y=x===v&&Date.now()-_<300,p=v=x,!b&&x){for(var S=x;S&&!S.responds("mousedrag");)S=S._parent;S&&(g=x)}h=n}else C.up&&(b||x!==p||(_=Date.now(),T(this,x,y?"doubleclick":"click",t,n,h),y=!1),p=g=null);M=!1,k=!0}f=n,k&&s&&(w=s._handleMouseEvent(e,t,n,C)||w),!1!==t.cancelable&&(w&&!C.move||C.down&&u("mouseup"))&&t.preventDefault()},_handleKeyEvent:function(e,t,n,i){var r,a=this._scope,s=a.tool;function o(s){s.responds(e)&&(se=a,s.emit(e,r=r||new X(e,t,n,i)))}this.isVisible()&&(o(this),s&&s.responds(e)&&o(s))},_countItemEvent:function(e,t){var n=this._itemEvents,i=n.native,r=n.virtual;for(var a in k)i[a]=(i[a]||0)+(k[a][e]||0)*t;r[e]=(r[e]||0)+t},statics:{updateFocus:S,_resetState:function(){o=l=w=M=!1,e=t=h=f=p=m=g=v=_=y=null}}}}function C(e){var t=$.getTarget(e);return t.getAttribute&&G._viewsById[t.getAttribute("id")]}function S(){var e=G._focused;if(!e||!e.isVisible())for(var n=0,i=G._views.length;n<i;n++)if((e=G._views[n]).isVisible()){G._focused=t=e;break}}function E(e,t,n){e._handleMouseEvent("mousemove",t,n)}function D(e,t,n,i,r,a,s){var o,l=!1;function u(e,n){if(e.responds(n)){if(o||(o=new J(n,i,r,t||e,a?r.subtract(a):null)),e.emit(n,o)&&(w=!0,o.prevented&&(b=!0),o.stopped))return l=!0}else{var s=x[n];if(s)return u(e,s)}}for(;e&&e!==s&&!u(e,n);)e=e._parent;return l}function T(e,t,n,i,r,a){return e._project.removeOn(n),b=w=!1,g&&D(g,null,n,i,r,a)||t&&t!==g&&!t.isDescendant(g)&&D(t,null,"mousedrag"===n?"mousemove":n,i,r,a,g)||D(e,g||t||e,n,i,r,a)}}),Y=G.extend({_class:"CanvasView",initialize:function(e,t){if(!(t instanceof n.HTMLCanvasElement)){var i=p.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+r.slice(arguments,1));t=ne.getCanvas(i)}var a=this._context=t.getContext("2d");if(a.save(),this._pixelRatio=1,!/^off|false$/.test(s.getAttribute(t,"hidpi"))){var o=n.devicePixelRatio||1,l=W.getPrefixed(a,"backingStorePixelRatio")||1;this._pixelRatio=o/l}G.call(this,e,t),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,n){var i=this._pixelRatio;if(e.base.call(this,t*i,n*i),1!==i){var r=this._element,a=this._context;if(!s.hasAttribute(r,"resize")){var o=r.style;o.width=t+"px",o.height=n+"px"}a.restore(),a.save(),a.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function e(t){var n,i=se.agent;if(i&&i.firefox)n=e.base.call(this,t);else{var r=this._context,a=r.font;r.font=t+" serif",n=parseFloat(r.font),r.font=a}return n},getTextWidth:function(e,t){var n=this._context,i=n.font,r=0;n.font=e;for(var a=0,s=t.length;a<s;a++)r=Math.max(r,n.measureText(t[a]).width);return n.font=i,r},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,n=this._viewSize;return t.clearRect(0,0,n.width+1,n.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),q=r.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Z.modifiers}}),X=q.extend({_class:"KeyEvent",initialize:function(e,t,n,i){this.type=e,this.event=t,this.key=n,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Z=new function(){var e,a,s={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},o={tab:"\t",space:" ",enter:"\r"},l={},u={},c=new r({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var e=se&&se.agent;return e&&e.mac?this.meta:this.control}}});function d(e){var n=e.key||e.keyIdentifier;return n=/^U\+/.test(n)?String.fromCharCode(parseInt(n.substr(2),16)):/^Arrow[A-Z]/.test(n)?n.substr(5):"Unidentified"===n||n===t?String.fromCharCode(e.keyCode):n,s[n]||(n.length>1?r.hyphenate(n):n.toLowerCase())}function h(t,n,i,a){var s,o=G._focused;if(l[n]=t,t?u[n]=i:delete u[n],n.length>1&&(s=r.camelize(n))in c){c[s]=t;var d=se&&se.agent;if("meta"===s&&d&&d.mac)if(t)e={};else{for(var f in e)f in u&&h(!1,f,e[f],a);e=null}}else t&&e&&(e[n]=i);o&&o._handleKeyEvent(t?"keydown":"keyup",a,n,i)}return $.add(i,{keydown:function(e){var t=d(e),n=se&&se.agent;t.length>1||n&&n.chrome&&(e.altKey||n.mac&&e.metaKey||!n.mac&&e.ctrlKey)?h(!0,t,o[t]||(t.length>1?"":t),e):a=t},keypress:function(e){if(a){var t=d(e),n=e.charCode,i=n>=32?String.fromCharCode(n):t.length>1?"":t;t!==a&&(t=i.toLowerCase()),h(!0,t,i,e),a=null}},keyup:function(e){var t=d(e);t in u&&h(!1,t,u[t],e)}}),$.add(n,{blur:function(e){for(var t in u)h(!1,t,u[t],e)}}),{modifiers:c,isDown:function(e){return!!l[e]}}},J=q.extend({_class:"MouseEvent",initialize:function(e,t,n,i,r){this.type=e,this.event=t,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),K=q.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,n){this.tool=e,this.type=t,this.event=n},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)t=n,n=n._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Q=o.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){o.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,null!=e&&null!=this._maxDistance&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,null!=this._minDistance&&null!=e&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,n,i){se=this._scope,i.drag&&!this.responds(e)&&(e="mousemove");var r=i.move||i.drag,a=this.responds(e),s=!1,o=this;function l(e,t){var a=n,s=r?o._point:o._downPoint||a;if(r){if(o._moveCount>=0&&a.equals(s))return!1;if(s&&(null!=e||null!=t)){var l=a.subtract(s),u=l.getLength();if(u<(e||0))return!1;t&&(a=s.add(l.normalize(Math.min(u,t))))}o._moveCount++}return o._point=a,o._lastPoint=s||a,i.down&&(o._moveCount=-1,o._downPoint=a,o._downCount++),!0}function u(){a&&(s=o.emit(e,new K(o,e,t))||s)}if(i.down)l(),u();else if(i.up)l(null,this._maxDistance),u();else if(a)for(;l(this._minDistance,this._maxDistance);)u();return s}}),ee=r.extend(a,{_class:"Tween",statics:{easings:new r({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:2*(2-e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,n,i,r,a,s){this.object=t;var o=typeof a,l="function"===o;this.type=l?o:"string"===o?a:"linear",this.easing=l?a:e.easings[this.type],this.duration=r,this.running=!1,this._then=null,this._startTime=null;var u=n||i;this._keys=u?Object.keys(u):[],this._parsedKeys=this._parseKeys(this._keys),this._from=u&&this._getState(n),this._to=u&&this._getState(i),!1!==s&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),n=this._keys,i=function(n){return"function"==typeof n?n(t,e):n},a=0,s=n&&n.length;a<s;a++){var o=n[a],l=i(this._from[o]),u=i(this._to[o]),c=l&&u&&l.__add&&u.__add?u.__subtract(l).__multiply(t).__add(l):(u-l)*t+l;this._setProperty(this._parsedKeys[o],c)}this.responds("update")&&this.emit("update",new r({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,n=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(n)},_getState:function(e){for(var t=this._keys,n={},i=0,r=t.length;i<r;i++){var a,s=t[i],o=this._parsedKeys[s],l=this._getProperty(o);if(e){var u=this._resolveValue(l,e[s]);this._setProperty(o,u),a=(a=this._getProperty(o))&&a.clone?a.clone():a,this._setProperty(o,l)}else a=l&&l.clone?l.clone():l;n[s]=a}return n},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&2===t.length){var n=t[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(e,n[0],t[1]):t}if("string"==typeof t){var i=t.match(/^[+\-*/]=(.*)/);if(i){var r=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],r)}}}return t},_calculate:function(e,t,n){return se.PaperScript.calculateBinary(e,t,n)},_parseKeys:function(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n],a=r.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[r]=a.split("/")}return t},_getProperty:function(e,t){for(var n=this.object,i=0,r=e.length-(t||0);i<r&&n;i++)n=n[e[i]];return n},_setProperty:function(e,t){var n=this._getProperty(e,1);n&&(n[e[e.length-1]]=t)}}),te=function(t){var n=new e.XMLHttpRequest;return n.open((t.method||"get").toUpperCase(),t.url,r.pick(t.async,!0)),t.mimeType&&n.overrideMimeType(t.mimeType),n.onload=function(){var e=n.status;0===e||200===e?t.onLoad&&t.onLoad.call(n,n.responseText):n.onerror()},n.onerror=function(){var e=n.status,i='Could not load "'+t.url+'" (Status: '+e+")";if(!t.onError)throw new Error(i);t.onError(i,e)},n.send(null)},ne=r.exports.CanvasProvider={canvases:[],getCanvas:function(e,t,r){if(!n)return null;var a,s=!0;"object"==typeof e&&(t=e.height,e=e.width),this.canvases.length?a=this.canvases.pop():(a=i.createElement("canvas"),s=!1);var o=a.getContext("2d",r||{});if(!o)throw new Error("Canvas "+a+" is unable to provide a 2D context.");return a.width===e&&a.height===t?s&&o.clearRect(0,0,e+1,t+1):(a.width=e,a.height=t),o.save(),a},getContext:function(e,t,n){var i=this.getCanvas(e,t,n);return i?i.getContext("2d",n||{}):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},ie=new function(){var e,t,n,i,a,s,o,l,u,c,d,h=Math.min,f=Math.max,p=Math.abs;function m(e,t,n){return.2989*e+.587*t+.114*n}function g(e,t,n,i){var r=i-m(e,t,n),a=(i=m(u=e+r,c=t+r,d=n+r),h(u,c,d)),s=f(u,c,d);if(a<0){var o=i-a;u=i+(u-i)*i/o,c=i+(c-i)*i/o,d=i+(d-i)*i/o}if(s>255){var l=255-i,p=s-i;u=i+(u-i)*l/p,c=i+(c-i)*l/p,d=i+(d-i)*l/p}}function v(e,t,n){return f(e,t,n)-h(e,t,n)}function _(e,t,n,i){var r,a=[e,t,n],s=f(e,t,n),o=h(e,t,n);r=0===h(o=o===e?0:o===t?1:2,s=s===e?0:s===t?1:2)?1===f(o,s)?2:1:0,a[s]>a[o]?(a[r]=(a[r]-a[o])*i/(a[s]-a[o]),a[s]=i):a[r]=a[s]=0,a[o]=0,u=a[0],c=a[1],d=a[2]}var y={multiply:function(){u=a*e/255,c=s*t/255,d=o*n/255},screen:function(){u=a+e-a*e/255,c=s+t-s*t/255,d=o+n-o*n/255},overlay:function(){u=a<128?2*a*e/255:255-2*(255-a)*(255-e)/255,c=s<128?2*s*t/255:255-2*(255-s)*(255-t)/255,d=o<128?2*o*n/255:255-2*(255-o)*(255-n)/255},"soft-light":function(){var i=e*a/255;u=i+a*(255-(255-a)*(255-e)/255-i)/255,c=(i=t*s/255)+s*(255-(255-s)*(255-t)/255-i)/255,d=(i=n*o/255)+o*(255-(255-o)*(255-n)/255-i)/255},"hard-light":function(){u=e<128?2*e*a/255:255-2*(255-e)*(255-a)/255,c=t<128?2*t*s/255:255-2*(255-t)*(255-s)/255,d=n<128?2*n*o/255:255-2*(255-n)*(255-o)/255},"color-dodge":function(){u=0===a?0:255===e?255:h(255,255*a/(255-e)),c=0===s?0:255===t?255:h(255,255*s/(255-t)),d=0===o?0:255===n?255:h(255,255*o/(255-n))},"color-burn":function(){u=255===a?255:0===e?0:f(0,255-255*(255-a)/e),c=255===s?255:0===t?0:f(0,255-255*(255-s)/t),d=255===o?255:0===n?0:f(0,255-255*(255-o)/n)},darken:function(){u=a<e?a:e,c=s<t?s:t,d=o<n?o:n},lighten:function(){u=a>e?a:e,c=s>t?s:t,d=o>n?o:n},difference:function(){(u=a-e)<0&&(u=-u),(c=s-t)<0&&(c=-c),(d=o-n)<0&&(d=-d)},exclusion:function(){u=a+e*(255-a-a)/255,c=s+t*(255-s-s)/255,d=o+n*(255-o-o)/255},hue:function(){_(e,t,n,v(a,s,o)),g(u,c,d,m(a,s,o))},saturation:function(){_(a,s,o,v(e,t,n)),g(u,c,d,m(a,s,o))},luminosity:function(){g(a,s,o,m(e,t,n))},color:function(){g(e,t,n,m(a,s,o))},add:function(){u=h(a+e,255),c=h(s+t,255),d=h(o+n,255)},subtract:function(){u=f(a-e,0),c=f(s-t,0),d=f(o-n,0)},average:function(){u=(a+e)/2,c=(s+t)/2,d=(o+n)/2},negation:function(){u=255-p(255-e-a),c=255-p(255-t-s),d=255-p(255-n-o)}},w=this.nativeModes=r.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],(function(e){this[e]=!0}),{}),b=ne.getContext(1,1,{willReadFrequently:!0});b&&(r.each(y,(function(e,t){var n="darken"===t,i=!1;b.save();try{b.fillStyle=n?"#300":"#a00",b.fillRect(0,0,1,1),b.globalCompositeOperation=t,b.globalCompositeOperation===t&&(b.fillStyle=n?"#a00":"#300",b.fillRect(0,0,1,1),i=b.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(r){}b.restore(),w[t]=i})),ne.release(b)),this.process=function(r,h,f,p,m){var g=h.canvas,v="normal"===r;if(v||w[r])f.save(),f.setTransform(1,0,0,1,0,0),f.globalAlpha=p,v||(f.globalCompositeOperation=r),f.drawImage(g,m.x,m.y),f.restore();else{var _=y[r];if(!_)return;for(var b=f.getImageData(m.x,m.y,g.width,g.height),x=b.data,M=h.getImageData(0,0,g.width,g.height).data,k=0,C=x.length;k<C;k+=4){e=M[k],a=x[k],t=M[k+1],s=x[k+1],n=M[k+2],o=x[k+2],i=M[k+3],l=x[k+3],_();var S=i*p/255,E=1-S;x[k]=S*u+E*a,x[k+1]=S*c+E*s,x[k+2]=S*d+E*o,x[k+3]=i*p+E*l}f.putImageData(b,m.x,m.y)}}},re=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",r={href:n,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function a(e,t,n){for(var i in t){var a=t[i],s=r[i];"number"==typeof a&&n&&(a=n.number(a)),s?e.setAttributeNS(s,i,a):e.setAttribute(i,a)}return e}return{svg:e,xmlns:t,xlink:n,create:function(t,n,r){return a(i.createElementNS(e,t),n,r)},get:function(e,t){var n=r[t],i=n?e.getAttributeNS(n,t):e.getAttribute(t);return"null"===i?null:i},set:a}},ae=r.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof O||e instanceof k||e instanceof F)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},(function(e,t){var n=r.capitalize(t),i=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:i,fromSVG:i&&r.each(i,(function(e,t){this[e]=t}),{}),exportFilter:e[3],get:"get"+n,set:"set"+n}}),{});new function(){var t;function n(e,n,i){var a,s=new r,o=e.getTranslation();if(n&&(e.isInvertible()?(a=(e=e._shiftless())._inverseTransform(o),o=null):a=new h,s[i?"cx":"x"]=a.x,s[i?"cy":"y"]=a.y),!e.isIdentity()){var l=e.decompose();if(l){var u=[],d=l.rotation,f=l.scaling,p=l.skewing;o&&!o.isZero()&&u.push("translate("+t.point(o)+")"),d&&u.push("rotate("+t.number(d)+")"),c.isZero(f.x-1)&&c.isZero(f.y-1)||u.push("scale("+t.point(f)+")"),p.x&&u.push("skewX("+t.number(p.x)+")"),p.y&&u.push("skewY("+t.number(p.y)+")"),s.transform=u.join(" ")}else s.transform="matrix("+e.getValues().join(",")+")"}return s}function i(e,i){for(var r=n(e._matrix),a=e._children,s=re.create("g",r,t),o=0,l=a.length;o<l;o++){var u=a[o],c=v(u,i);if(c)if(u.isClipMask()){var d=re.create("clipPath");d.appendChild(c),p(u,d,"clip"),re.set(s,{"clip-path":"url(#"+d.id+")"})}else s.appendChild(c)}return s}function a(e){var i=e._type,r=e._radius,a=n(e._matrix,!0,"rectangle"!==i);if("rectangle"===i){i="rect";var s=e._size,o=s.width,l=s.height;a.x-=o/2,a.y-=l/2,a.width=o,a.height=l,r.isZero()&&(r=null)}return r&&("circle"===i?a.r=r:(a.rx=r.width,a.ry=r.height)),re.create(i,a,t)}var s,o={Group:i,Layer:i,Raster:function(e,i){var r=n(e._matrix,!0),a=e.getSize(),s=e.getImage();return r.x-=a.width/2,r.y-=a.height/2,r.width=a.width,r.height=a.height,r.href=0==i.embedImages&&s&&s.src||e.toDataURL(),re.create("image",r,t)},Path:function(e,i){var r=i.matchShapes;if(r){var s=e.toShape(!1);if(s)return a(s)}var o,l=e._segments,u=l.length,c=n(e._matrix);if(r&&u>=2&&!e.hasHandles())if(u>2){o=e._closed?"polygon":"polyline";for(var d=[],h=0;h<u;h++)d.push(t.point(l[h]._point));c.points=d.join(" ")}else{o="line";var f=l[0]._point,p=l[1]._point;c.set({x1:f.x,y1:f.y,x2:p.x,y2:p.y})}else o="path",c.d=e.getPathData(null,i.precision);return re.create(o,c,t)},Shape:a,CompoundPath:function(e,i){var r=n(e._matrix),a=e.getPathData(null,i.precision);return a&&(r.d=a),re.create("path",r,t)},SymbolItem:function(e,i){var r=n(e._matrix,!0),a=e._definition,s=f(a,"symbol"),o=a._item,l=o.getStrokeBounds();return s||((s=re.create("symbol",{viewBox:t.rectangle(l)})).appendChild(v(o,i)),p(a,s,"symbol")),r.href="#"+s.id,r.x+=l.x,r.y+=l.y,r.width=l.width,r.height=l.height,r.overflow="visible",re.create("use",r,t)},PointText:function(e){var i=re.create("text",n(e._matrix,!0),t);return i.textContent=e._content,i}};function l(e,n,i,a){var s={},o=!a&&e.getParent(),l=[];return null!=e._name&&(s.id=e._name),r.each(ae,(function(n){var a=n.get,u=n.type,c=e[a]();if(n.exportFilter?n.exportFilter(e,c):0==i.reduceAttributes||!o||!r.equals(o[a](),c)){if("color"===u&&null!=c){var d=c.getAlpha();d<1&&(s[n.attribute+"-opacity"]=d)}"style"===u?l.push(n.attribute+": "+c):s[n.attribute]=null==c?"none":"color"===u?c.gradient?function(e){var n=f(e,"color");if(!n){var i,r=e.getGradient(),a=r._radial,s=e.getOrigin(),o=e.getDestination();if(a){i={cx:s.x,cy:s.y,r:s.getDistance(o)};var l=e.getHighlight();l&&(i.fx=l.x,i.fy=l.y)}else i={x1:s.x,y1:s.y,x2:o.x,y2:o.y};i.gradientUnits="userSpaceOnUse",n=re.create((a?"radial":"linear")+"Gradient",i,t);for(var u=r._stops,c=0,d=u.length;c<d;c++){var h=u[c],m=h._color,g=m.getAlpha(),v=h._offset;i={offset:null==v?c/(d-1):v},m&&(i["stop-color"]=m.toCSS(!0)),g<1&&(i["stop-opacity"]=g),n.appendChild(re.create("stop",i,t))}p(e,n,"color")}return"url(#"+n.id+")"}(c):c.toCSS(!0):"array"===u?c.join(","):"lookup"===u?n.toSVG[c]:c}})),l.length&&(s.style=l.join(";")),1===s.opacity&&delete s.opacity,e._visible||(s.visibility="hidden"),re.set(n,s,t)}function f(e,t){return s||(s={ids:{},svgs:{}}),e&&s.svgs[t+"-"+(e._id||e.__id||(e.__id=d.get("svg")))]}function p(e,t,n){s||f();var i=s.ids[n]=(s.ids[n]||0)+1;t.id=n+"-"+i,s.svgs[n+"-"+(e._id||e.__id)]=t}function m(t,n){var i=t,r=null;if(s){for(var a in i="svg"===t.nodeName.toLowerCase()&&t,s.svgs)r||(i||(i=re.create("svg")).appendChild(t),r=i.insertBefore(re.create("defs"),i.firstChild)),r.appendChild(s.svgs[a]);s=null}return n.asString?(new e.XMLSerializer).serializeToString(i):i}function v(e,t,n){var i=o[e._class],r=i&&i(e,t);if(r){var a=t.onExport;a&&(r=a(e,r,t)||r);var s=JSON.stringify(e._data);s&&"{}"!==s&&"null"!==s&&r.setAttribute("data-paper-data",s)}return r&&l(e,r,t,n)}function y(e){return e||(e={}),t=new u(e.precision),e}b.inject({exportSVG:function(e){return m(v(this,e=y(e),!0),e)}}),w.inject({exportSVG:function(e){e=y(e);var i=this._children,a=this.getView(),s=r.pick(e.bounds,"view"),o=e.matrix||"view"===s&&a._matrix,l=o&&_.read([o]),u="view"===s?new g([0,0],a.getViewSize()):"content"===s?b._getBounds(i,l,{stroke:!0}).rect:g.read([s],0,{readNull:!0}),c={version:"1.1",xmlns:re.svg,"xmlns:xlink":re.xlink};u&&(c.width=u.width,c.height=u.height,(u.x||0===u.x||u.y||0===u.y)&&(c.viewBox=t.rectangle(u)));var d=re.create("svg",c,t),h=d;l&&!l.isIdentity()&&(h=d.appendChild(re.create("g",n(l),t)));for(var f=0,p=i.length;f<p;f++)h.appendChild(v(i[f],e,!0));return m(d,e)}})},new function(){var a,s={};function o(e,t,n,i,r,s){var o=re.get(e,t)||s,l=null==o?i?null:n?"":0:n?o:parseFloat(o);return/%\s*$/.test(o)?l/100*(r?1:a[/x|^width/.test(t)?"width":"height"]):l}function l(e,t,n,i,r,a,s){return t=o(e,t||"x",!1,i,r,a),n=o(e,n||"y",!1,i,r,s),!i||null!=t&&null!=n?new h(t,n):null}function u(e,t,n,i,r){return t=o(e,t||"width",!1,i,r),n=o(e,n||"height",!1,i,r),!i||null!=t&&null!=n?new p(t,n):null}function c(e,t,n){return"none"===e?null:"number"===t?parseFloat(e):"array"===t?e?e.split(/[\s,]+/g).map(parseFloat):[]:"color"===t?I(e)||e:"lookup"===t?n[e]:e}function d(e,t,n,i){var r=e.childNodes,a="clippath"===t,s="defs"===t,o=new x,l=o._project,u=l._currentStyle,c=[];if(a||s||(o=T(o,e,i),l._currentStyle=o._style.clone()),i)for(var d=e.querySelectorAll("defs"),h=0,f=d.length;h<f;h++)A(d[h],n,!1);for(h=0,f=r.length;h<f;h++){var p,m=r[h];1!==m.nodeType||/^defs$/i.test(m.nodeName)||!(p=A(m,n,!1))||p instanceof E||c.push(p)}return o.addChildren(c),a&&(o=T(o.reduce(),e,i)),l._currentStyle=u,(a||s)&&(o.remove(),o=null),o}function f(e,t){for(var n=e.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,a=n.length;r<a;r+=2)i.push(new h(parseFloat(n[r]),parseFloat(n[r+1])));var s=new N(i);return"polygon"===t&&s.closePath(),s}function m(e,t){var n,i=(o(e,"href",!0)||"").substring(1),r="radialgradient"===t;if(i)(n=s[i].getGradient())._radial^r&&((n=n.clone())._radial=r);else{for(var a=e.childNodes,u=[],c=0,d=a.length;c<d;c++){var h=a[c];1===h.nodeType&&u.push(T(new B,h))}n=new V(u,r)}var f,p,m,g="userSpaceOnUse"!==o(e,"gradientUnits",!0);return r?(p=(f=l(e,"cx","cy",!1,g,"50%","50%")).add(o(e,"r",!1,!1,g,"50%"),0),m=l(e,"fx","fy",!0,g)):(f=l(e,"x1","y1",!1,g,"0%","0%"),p=l(e,"x2","y2",!1,g,"100%","0%")),T(new j(n,f,p,m),e)._scaleToBounds=g,null}var v={"#document":function(e,t,n,i){for(var r=e.childNodes,a=0,s=r.length;a<s;a++){var o=r[a];if(1===o.nodeType)return A(o,n,i)}},g:d,svg:d,clippath:d,polygon:f,polyline:f,path:function(e){return O.create(e.getAttribute("d"))},lineargradient:m,radialgradient:m,image:function(e){var t=new C(o(e,"href",!0));return t.on("load",(function(){var t=u(e);this.setSize(t);var n=l(e).add(t.divide(2));this._matrix.append((new _).translate(n))})),t},symbol:function(e,t,n,i){return new E(d(e,t,n,i),!0)},defs:d,use:function(e){var t=(o(e,"href",!0)||"").substring(1),n=s[t],i=l(e);return n?n instanceof E?n.place(i):n.clone().translate(i):null},circle:function(e){return new k.Circle(l(e,"cx","cy"),o(e,"r"))},ellipse:function(e){return new k.Ellipse({center:l(e,"cx","cy"),radius:u(e,"rx","ry")})},rect:function(e){return new k.Rectangle(new g(l(e),u(e)),u(e,"rx","ry"))},line:function(e){return new N.Line(l(e,"x1","y1"),l(e,"x2","y2"))},text:function(e){var t=new H(l(e).add(l(e,"dx","dy")));return t.setContent(e.textContent.trim()||""),t},switch:d};function y(e,t,n,i){if(e.transform){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),a=new _,s=0,o=r.length;s<o;s++){var l=r[s];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0].trim(),d=u[1].split(/[\s,]+/g),h=0,f=d.length;h<f;h++)d[h]=parseFloat(d[h]);switch(c){case"matrix":a.append(new _(d[0],d[1],d[2],d[3],d[4],d[5]));break;case"rotate":a.rotate(d[0],d[1]||0,d[2]||0);break;case"translate":a.translate(d[0],d[1]||0);break;case"scale":a.scale(d);break;case"skewX":a.skew(d[0],0);break;case"skewY":a.skew(0,d[0])}}e.transform(a)}}function M(e,t,n){var i="fill-opacity"===n?"getFillColor":"getStrokeColor",r=e[i]&&e[i]();r&&r.setAlpha(parseFloat(t))}var S=r.set(r.each(ae,(function(e){this[e.attribute]=function(t,n){if(t[e.set]&&(t[e.set](c(n,e.type,e.fromSVG)),"color"===e.type)){var i=t[e.get]();if(i&&i._scaleToBounds){var r=t.getBounds();i.transform((new _).translate(r.getPoint()).scale(r.getSize()))}}}}),{}),{id:function(e,t){s[t]=e,e.setName&&e.setName(t)},"clip-path":function(e,t){var n=I(t);if(n){if((n=n.clone()).setClipMask(!0),!(e instanceof x))return new x(n,e);e.insertChild(0,n)}},gradientTransform:y,transform:y,"fill-opacity":M,"stroke-opacity":M,visibility:function(e,t){e.setVisible&&e.setVisible("visible"===t)},display:function(e,t){e.setVisible&&e.setVisible(null!==t)},"stop-color":function(e,t){e.setColor&&e.setColor(t)},"stop-opacity":function(e,t){e._color&&e._color.setAlpha(parseFloat(t))},offset:function(e,t){if(e.setOffset){var n=t.match(/(.*)%$/);e.setOffset(n?n[1]/100:parseFloat(t))}},viewBox:function(e,t,n,i,r){var a,s=new g(c(t,"array")),o=u(i,null,null,!0);if(e instanceof x){var l=o?o.divide(s.getSize()):1,d=(new _).scale(l).translate(s.getPoint().negate());a=e}else e instanceof E&&(o&&s.setSize(o),a=e._item);if(a){if("visible"!==D(i,"overflow",r)){var h=new k.Rectangle(s);h.setClipMask(!0),a.addChild(h)}d&&a.transform(d)}}});function D(e,n,i){var a=e.attributes[n],s=a&&a.value;if(!s&&e.style){var o=r.camelize(n);(s=e.style[o])||i.node[o]===i.parent[o]||(s=i.node[o])}return s?"none"===s?null:s:t}function T(e,n,i){var a=n.parentNode,s={node:W.getStyles(n)||{},parent:!i&&!/^defs$/i.test(a.tagName)&&W.getStyles(a)||{}};return r.each(S,(function(i,r){var a=D(n,r,s);e=a!==t&&i(e,a,r,n,s)||e})),e}function I(e){var t=e&&e.match(/\((?:["'#]*)([^"')]+)/),i=t&&t[1],r=i&&s[n?i.replace(n.location.href.split("#")[0]+"#",""):i];return r&&r._scaleToBounds&&((r=r.clone())._scaleToBounds=!0),r}function A(e,t,n){var o,l,c,d=e.nodeName.toLowerCase(),h="#document"!==d,f=i.body;n&&h&&(a=se.getView().getSize(),a=u(e,null,null,!0)||a,o=re.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),l=e.parentNode,c=e.nextSibling,o.appendChild(e),f.appendChild(o));var p=se.settings,m=p.applyMatrix,g=p.insertItems;p.applyMatrix=!1,p.insertItems=!1;var _=v[d],y=_&&_(e,d,t,n)||null;if(p.insertItems=g,p.applyMatrix=m,y){!h||y instanceof x||(y=T(y,e,n));var w=t.onImport,b=h&&e.getAttribute("data-paper-data");w&&(y=w(e,y,t)||y),t.expandShapes&&y instanceof k&&(y.remove(),y=y.toPath()),b&&(y._data=JSON.parse(b))}return o&&(f.removeChild(o),l&&(c?l.insertBefore(e,c):l.appendChild(e))),n&&(s={},y&&r.pick(t.applyMatrix,m)&&y.matrix.apply(!0,!0)),y}function P(n,r,a){if(!n)return null;r="function"==typeof r?{onLoad:r}:r||{};var s=se,o=null;function l(i){try{var l="object"==typeof i?i:(new e.DOMParser).parseFromString(i.trim(),"image/svg+xml");if(!l.nodeName)throw l=null,new Error("Unsupported SVG source: "+n);se=s,o=A(l,r,!0),r&&!1===r.insert||a._insertItem(t,o);var c=r.onLoad;c&&c(o,i)}catch(d){u(d)}}function u(e,t){var n=r.onError;if(!n)throw new Error(e);n(e,t)}if("string"!=typeof n||/^[\s\S]*</.test(n)){if("undefined"!=typeof File&&n instanceof File){var c=new FileReader;return c.onload=function(){l(c.result)},c.onerror=function(){u(c.error)},c.readAsText(n)}l(n)}else{var d=i.getElementById(n);d?l(d):te({url:n,async:!0,onLoad:l,onError:u})}return o}b.inject({importSVG:function(e,t){return P(e,t,this)}}),w.inject({importSVG:function(e,t){return this.activate(),P(e,t,this)}})},r.exports.PaperScript=function(){var a,o,l,u,c=this,d=c.acorn;if(!d&&void 0!==Yt)try{d=require("acorn")}catch(k){}function f(e,t){return(c.acorn||d).parse(e,t)}d||(d=a=o={},l=this,u=function(e){var t,n,i,r;e.version="0.5.0",e.parse=function(e,r){return n=String(e),i=n.length,s(r),Ye(),function(e){v=_=o,t.locations&&(y=new Ge),w=x=null,b=[],Qe();var n=e||dt(),i=!0;for(e||(n.body=[]);h!==A;){var r=Mt();n.body.push(r),i&&pt(r)&&lt(!0),i=!1}return ft(n,"Program")}(t.program)};var a=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function s(e){for(var n in t=e||{},a)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=a[n]);r=t.sourceFile||null}var o,l,u,c,d,h,f,p,m,g,v,_,y,w,b,x,M=e.getLineInfo=function(e,t){for(var n=1,i=0;;){Ue.lastIndex=i;var r=Ue.exec(e);if(!(r&&r.index<t))break;++n,i=r.index+r[0].length}return{line:n,column:t-i}};function C(e,t){var i=M(n,e);t+=" ("+i.line+":"+i.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=i,r.raisedAt=o,r}e.tokenize=function(e,r){n=String(e),i=n.length,s(r),Ye();var a={};function v(e){return _=u,Qe(e),a.start=l,a.end=u,a.startLoc=c,a.endLoc=d,a.type=h,a.value=f,a}return v.jumpTo=function(e,i){var r;if(o=e,t.locations)for(m=1,g=Ue.lastIndex=0;(r=Ue.exec(n))&&r.index<e;)++m,g=r.index+r[0].length;p=i,Je()},v};var S=[],E={type:"num"},D={type:"regexp"},T={type:"string"},I={type:"name"},A={type:"eof"},P={keyword:"break"},O={keyword:"case",beforeExpr:!0},N={keyword:"catch"},L={keyword:"continue"},z={keyword:"debugger"},R={keyword:"default"},F={keyword:"do",isLoop:!0},H={keyword:"else",beforeExpr:!0},j={keyword:"finally"},V={keyword:"for",isLoop:!0},B={keyword:"function"},U={keyword:"if"},W={keyword:"return",beforeExpr:!0},$={keyword:"switch"},G={keyword:"throw",beforeExpr:!0},Y={keyword:"try"},q={keyword:"var"},X={keyword:"while",isLoop:!0},Z={keyword:"with"},J={keyword:"new",beforeExpr:!0},K={keyword:"this"},Q={keyword:"null",atomValue:null},ee={keyword:"true",atomValue:!0},te={keyword:"false",atomValue:!1},ne={keyword:"in",binop:7,beforeExpr:!0},ie={break:P,case:O,catch:N,continue:L,debugger:z,default:R,do:F,else:H,finally:j,for:V,function:B,if:U,return:W,switch:$,throw:G,try:Y,var:q,while:X,with:Z,null:Q,true:ee,false:te,new:J,in:ne,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:K,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},re={type:"[",beforeExpr:!0},ae={type:"]"},se={type:"{",beforeExpr:!0},oe={type:"}"},le={type:"(",beforeExpr:!0},ue={type:")"},ce={type:",",beforeExpr:!0},de={type:";",beforeExpr:!0},he={type:":",beforeExpr:!0},fe={type:"."},pe={type:"?",beforeExpr:!0},me={binop:10,beforeExpr:!0},ge={isAssign:!0,beforeExpr:!0},ve={isAssign:!0,beforeExpr:!0},_e={postfix:!0,prefix:!0,isUpdate:!0},ye={prefix:!0,beforeExpr:!0},we={binop:1,beforeExpr:!0},be={binop:2,beforeExpr:!0},xe={binop:3,beforeExpr:!0},Me={binop:4,beforeExpr:!0},ke={binop:5,beforeExpr:!0},Ce={binop:6,beforeExpr:!0},Se={binop:7,beforeExpr:!0},Ee={binop:8,beforeExpr:!0},De={binop:9,prefix:!0,beforeExpr:!0},Te={binop:10,beforeExpr:!0};for(var Ie in e.tokTypes={bracketL:re,bracketR:ae,braceL:se,braceR:oe,parenL:le,parenR:ue,comma:ce,semi:de,colon:he,dot:fe,question:pe,slash:me,eq:ge,name:I,eof:A,num:E,regexp:D,string:T},ie)e.tokTypes["_"+Ie]=ie[Ie];function Ae(e){e=e.split(" ");var t="",n=[];e:for(var i=0;i<e.length;++i){for(var r=0;r<n.length;++r)if(n[r][0].length==e[i].length){n[r].push(e[i]);continue e}n.push([e[i]])}function a(e){if(1==e.length)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+JSON.stringify(e[n])+":";t+="return true}return false;"}if(n.length>3){for(n.sort((function(e,t){return t.length-e.length})),t+="switch(str.length){",i=0;i<n.length;++i){var s=n[i];t+="case "+s[0].length+":",a(s)}t+="}"}else a(e);return new Function("str",t)}var Pe,Oe=Ae("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ne=Ae("class enum extends super const export import"),Le=Ae("implements interface let package private protected public static yield"),ze=Ae("eval arguments"),Re=Ae("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Fe=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,He="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",je=new RegExp("["+He+"]"),Ve=new RegExp("["+He+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),Be=/[\n\r\u2028\u2029]/,Ue=/\r\n|[\n\r\u2028\u2029]/g,We=e.isIdentifierStart=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||e>=170&&je.test(String.fromCharCode(e)))},$e=e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&Ve.test(String.fromCharCode(e))))};function Ge(){this.line=m,this.column=o-g}function Ye(){m=1,o=g=0,p=!0,Je()}function qe(e,n){u=o,t.locations&&(d=new Ge),h=e,Je(),f=n,p=e.beforeExpr}function Xe(){var e,i=t.onComment&&t.locations&&new Ge,r=o,a=n.indexOf("*/",o+=2);if(-1===a&&C(o-2,"Unterminated comment"),o=a+2,t.locations)for(Ue.lastIndex=r;(e=Ue.exec(n))&&e.index<o;)++m,g=e.index+e[0].length;t.onComment&&t.onComment(!0,n.slice(r+2,a),r,o,i,t.locations&&new Ge)}function Ze(){for(var e=o,r=t.onComment&&t.locations&&new Ge,a=n.charCodeAt(o+=2);o<i&&10!==a&&13!==a&&8232!==a&&8233!==a;)++o,a=n.charCodeAt(o);t.onComment&&t.onComment(!1,n.slice(e+2,o),e,o,r,t.locations&&new Ge)}function Je(){for(;o<i;){var e=n.charCodeAt(o);if(32===e)++o;else if(13===e)++o,10===(r=n.charCodeAt(o))&&++o,t.locations&&(++m,g=o);else if(10===e||8232===e||8233===e)++o,t.locations&&(++m,g=o);else if(e>8&&e<14)++o;else if(47===e){var r;if(42===(r=n.charCodeAt(o+1)))Xe();else{if(47!==r)break;Ze()}}else if(160===e)++o;else{if(!(e>=5760&&Fe.test(String.fromCharCode(e))))break;++o}}}function Ke(e){switch(e){case 46:return function(){var e=n.charCodeAt(o+1);return e>=48&&e<=57?it(!0):(++o,qe(fe))}();case 40:return++o,qe(le);case 41:return++o,qe(ue);case 59:return++o,qe(de);case 44:return++o,qe(ce);case 91:return++o,qe(re);case 93:return++o,qe(ae);case 123:return++o,qe(se);case 125:return++o,qe(oe);case 58:return++o,qe(he);case 63:return++o,qe(pe);case 48:var r=n.charCodeAt(o+1);if(120===r||88===r)return function(){o+=2;var e=nt(16);return null==e&&C(l+2,"Expected hexadecimal number"),We(n.charCodeAt(o))&&C(o,"Identifier directly after number"),qe(E,e)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return it(!1);case 34:case 39:return function(e){o++;for(var r="";;){o>=i&&C(l,"Unterminated string constant");var a=n.charCodeAt(o);if(a===e)return++o,qe(T,r);if(92===a){a=n.charCodeAt(++o);var s=/^[0-7]+/.exec(n.slice(o,o+3));for(s&&(s=s[0]);s&&parseInt(s,8)>255;)s=s.slice(0,-1);if("0"===s&&(s=null),++o,s)x&&C(o-2,"Octal literal in strict mode"),r+=String.fromCharCode(parseInt(s,8)),o+=s.length-1;else switch(a){case 110:r+="\n";break;case 114:r+="\r";break;case 120:r+=String.fromCharCode(rt(2));break;case 117:r+=String.fromCharCode(rt(4));break;case 85:r+=String.fromCharCode(rt(8));break;case 116:r+="\t";break;case 98:r+="\b";break;case 118:r+="\v";break;case 102:r+="\f";break;case 48:r+="\0";break;case 13:10===n.charCodeAt(o)&&++o;case 10:t.locations&&(g=o,++m);break;default:r+=String.fromCharCode(a)}}else 13!==a&&10!==a&&8232!==a&&8233!==a||C(l,"Unterminated string constant"),r+=String.fromCharCode(a),++o}}(e);case 47:return function(){var e=n.charCodeAt(o+1);return p?(++o,tt()):61===e?et(ve,2):et(me,1)}();case 37:case 42:return 61===n.charCodeAt(o+1)?et(ve,2):et(Te,1);case 124:case 38:return function(e){var t=n.charCodeAt(o+1);return t===e?et(124===e?we:be,2):61===t?et(ve,2):et(124===e?xe:ke,1)}(e);case 94:return 61===n.charCodeAt(o+1)?et(ve,2):et(Me,1);case 43:case 45:return function(e){var t=n.charCodeAt(o+1);return t===e?45==t&&62==n.charCodeAt(o+2)&&Be.test(n.slice(_,o))?(o+=3,Ze(),Je(),Qe()):et(_e,2):61===t?et(ve,2):et(De,1)}(e);case 60:case 62:return function(e){var t=n.charCodeAt(o+1),i=1;return t===e?(i=62===e&&62===n.charCodeAt(o+2)?3:2,61===n.charCodeAt(o+i)?et(ve,i+1):et(Ee,i)):33==t&&60==e&&45==n.charCodeAt(o+2)&&45==n.charCodeAt(o+3)?(o+=4,Ze(),Je(),Qe()):(61===t&&(i=61===n.charCodeAt(o+2)?3:2),et(Se,i))}(e);case 61:case 33:return function(e){return 61===n.charCodeAt(o+1)?et(Ce,61===n.charCodeAt(o+2)?3:2):et(61===e?ge:ye,1)}(e);case 126:return et(ye,1)}return!1}function Qe(e){if(e?o=l+1:l=o,t.locations&&(c=new Ge),e)return tt();if(o>=i)return qe(A);var r=n.charCodeAt(o);if(We(r)||92===r)return st();var a=Ke(r);if(!1===a){var s=String.fromCharCode(r);if("\\"===s||je.test(s))return st();C(o,"Unexpected character '"+s+"'")}return a}function et(e,t){var i=n.slice(o,o+t);o+=t,qe(e,i)}function tt(){for(var e,t,r=o;;){o>=i&&C(r,"Unterminated regular expression");var a=n.charAt(o);if(Be.test(a)&&C(r,"Unterminated regular expression"),e)e=!1;else{if("["===a)t=!0;else if("]"===a&&t)t=!1;else if("/"===a&&!t)break;e="\\"===a}++o}var s=n.slice(r,o);++o;var l=at();l&&!/^[gmsiy]*$/.test(l)&&C(r,"Invalid regexp flag");try{var u=new RegExp(s,l)}catch(k){k instanceof SyntaxError&&C(r,k.message),C(k)}return qe(D,u)}function nt(e,t){for(var i=o,r=0,a=0,s=null==t?1/0:t;a<s;++a){var l,u=n.charCodeAt(o);if((l=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0)>=e)break;++o,r=r*e+l}return o===i||null!=t&&o-i!==t?null:r}function it(e){var t=o,i=!1,r=48===n.charCodeAt(o);e||null!==nt(10)||C(t,"Invalid number"),46===n.charCodeAt(o)&&(++o,nt(10),i=!0);var a=n.charCodeAt(o);69!==a&&101!==a||(43!==(a=n.charCodeAt(++o))&&45!==a||++o,null===nt(10)&&C(t,"Invalid number"),i=!0),We(n.charCodeAt(o))&&C(o,"Identifier directly after number");var s,l=n.slice(t,o);return i?s=parseFloat(l):r&&1!==l.length?/[89]/.test(l)||x?C(t,"Invalid number"):s=parseInt(l,8):s=parseInt(l,10),qe(E,s)}function rt(e){var t=nt(16,e);return null===t&&C(l,"Bad character escape sequence"),t}function at(){Pe=!1;for(var e,t=!0,i=o;;){var r=n.charCodeAt(o);if($e(r))Pe&&(e+=n.charAt(o)),++o;else{if(92!==r)break;Pe||(e=n.slice(i,o)),Pe=!0,117!=n.charCodeAt(++o)&&C(o,"Expecting Unicode escape sequence \\uXXXX"),++o;var a=rt(4),s=String.fromCharCode(a);s||C(o-1,"Invalid Unicode escape"),(t?We(a):$e(a))||C(o-4,"Invalid Unicode escape"),e+=s}t=!1}return Pe?e:n.slice(i,o)}function st(){var e=at(),t=I;return!Pe&&Re(e)&&(t=ie[e]),qe(t,e)}function ot(){v=l,_=u,y=d,Qe()}function lt(e){if(x=e,o=l,t.locations)for(;o<g;)g=n.lastIndexOf("\n",g-2)+1,--m;Je(),Qe()}function ut(){this.type=null,this.start=l,this.end=null}function ct(){this.start=c,this.end=null,null!==r&&(this.source=r)}function dt(){var e=new ut;return t.locations&&(e.loc=new ct),t.directSourceFile&&(e.sourceFile=t.directSourceFile),t.ranges&&(e.range=[l,0]),e}function ht(e){var n=new ut;return n.start=e.start,t.locations&&(n.loc=new ct,n.loc.start=e.loc.start),t.ranges&&(n.range=[e.range[0],0]),n}function ft(e,n){return e.type=n,e.end=_,t.locations&&(e.loc.end=y),t.ranges&&(e.range[1]=_),e}function pt(e){return t.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function mt(e){if(h===e)return ot(),!0}function gt(){return!t.strictSemicolons&&(h===A||h===oe||Be.test(n.slice(_,l)))}function vt(){mt(de)||gt()||yt()}function _t(e){h===e?ot():yt()}function yt(){C(l,"Unexpected token")}function wt(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&C(e.start,"Assigning to rvalue"),x&&"Identifier"===e.type&&ze(e.name)&&C(e.start,"Assigning to "+e.name+" in strict mode")}var bt={kind:"loop"},xt={kind:"switch"};function Mt(){(h===me||h===ve&&"/="==f)&&Qe(!0);var e=h,i=dt();switch(e){case P:case L:ot();var r=e===P;mt(de)||gt()?i.label=null:h!==I?yt():(i.label=Ft(),vt());for(var a=0;a<b.length;++a){var s=b[a];if(null==i.label||s.name===i.label.name){if(null!=s.kind&&(r||"loop"===s.kind))break;if(i.label&&r)break}}return a===b.length&&C(i.start,"Unsyntactic "+e.keyword),ft(i,r?"BreakStatement":"ContinueStatement");case z:return ot(),vt(),ft(i,"DebuggerStatement");case F:return ot(),b.push(bt),i.body=Mt(),b.pop(),_t(X),i.test=kt(),vt(),ft(i,"DoWhileStatement");case V:if(ot(),b.push(bt),_t(le),h===de)return St(i,null);if(h===q){var o=dt();return ot(),Dt(o,!0),ft(o,"VariableDeclaration"),1===o.declarations.length&&mt(ne)?Et(i,o):St(i,o)}return o=Tt(!1,!0),mt(ne)?(wt(o),Et(i,o)):St(i,o);case B:return ot(),zt(i,!0);case U:return ot(),i.test=kt(),i.consequent=Mt(),i.alternate=mt(H)?Mt():null,ft(i,"IfStatement");case W:return w||t.allowReturnOutsideFunction||C(l,"'return' outside of function"),ot(),mt(de)||gt()?i.argument=null:(i.argument=Tt(),vt()),ft(i,"ReturnStatement");case $:ot(),i.discriminant=kt(),i.cases=[],_t(se),b.push(xt);for(var u,c;h!=oe;)if(h===O||h===R){var d=h===O;u&&ft(u,"SwitchCase"),i.cases.push(u=dt()),u.consequent=[],ot(),d?u.test=Tt():(c&&C(v,"Multiple default clauses"),c=!0,u.test=null),_t(he)}else u||yt(),u.consequent.push(Mt());return u&&ft(u,"SwitchCase"),ot(),b.pop(),ft(i,"SwitchStatement");case G:return ot(),Be.test(n.slice(_,l))&&C(_,"Illegal newline after throw"),i.argument=Tt(),vt(),ft(i,"ThrowStatement");case Y:if(ot(),i.block=Ct(),i.handler=null,h===N){var p=dt();ot(),_t(le),p.param=Ft(),x&&ze(p.param.name)&&C(p.param.start,"Binding "+p.param.name+" in strict mode"),_t(ue),p.guard=null,p.body=Ct(),i.handler=ft(p,"CatchClause")}return i.guardedHandlers=S,i.finalizer=mt(j)?Ct():null,i.handler||i.finalizer||C(i.start,"Missing catch or finally clause"),ft(i,"TryStatement");case q:return ot(),Dt(i),vt(),ft(i,"VariableDeclaration");case X:return ot(),i.test=kt(),b.push(bt),i.body=Mt(),b.pop(),ft(i,"WhileStatement");case Z:return x&&C(l,"'with' in strict mode"),ot(),i.object=kt(),i.body=Mt(),ft(i,"WithStatement");case se:return Ct();case de:return ot(),ft(i,"EmptyStatement");default:var m=f,g=Tt();if(e===I&&"Identifier"===g.type&&mt(he)){for(a=0;a<b.length;++a)b[a].name===m&&C(g.start,"Label '"+m+"' is already declared");var y=h.isLoop?"loop":h===$?"switch":null;return b.push({name:m,kind:y}),i.body=Mt(),b.pop(),i.label=g,ft(i,"LabeledStatement")}return i.expression=g,vt(),ft(i,"ExpressionStatement")}}function kt(){_t(le);var e=Tt();return _t(ue),e}function Ct(e){var t,n=dt(),i=!0,r=!1;for(n.body=[],_t(se);!mt(oe);){var a=Mt();n.body.push(a),i&&e&&pt(a)&&(t=r,lt(r=!0)),i=!1}return r&&!t&&lt(!1),ft(n,"BlockStatement")}function St(e,t){return e.init=t,_t(de),e.test=h===de?null:Tt(),_t(de),e.update=h===ue?null:Tt(),_t(ue),e.body=Mt(),b.pop(),ft(e,"ForStatement")}function Et(e,t){return e.left=t,e.right=Tt(),_t(ue),e.body=Mt(),b.pop(),ft(e,"ForInStatement")}function Dt(e,t){for(e.declarations=[],e.kind="var";;){var n=dt();if(n.id=Ft(),x&&ze(n.id.name)&&C(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=mt(ge)?Tt(!0,t):null,e.declarations.push(ft(n,"VariableDeclarator")),!mt(ce))break}return e}function Tt(e,t){var n=It(t);if(!e&&h===ce){var i=ht(n);for(i.expressions=[n];mt(ce);)i.expressions.push(It(t));return ft(i,"SequenceExpression")}return n}function It(e){var t=function(e){var t=function(e){return At(Pt(),-1,e)}(e);if(mt(pe)){var n=ht(t);return n.test=t,n.consequent=Tt(!0),_t(he),n.alternate=Tt(!0,e),ft(n,"ConditionalExpression")}return t}(e);if(h.isAssign){var n=ht(t);return n.operator=f,n.left=t,ot(),n.right=It(e),wt(t),ft(n,"AssignmentExpression")}return t}function At(e,t,n){var i=h.binop;if(null!=i&&(!n||h!==ne)&&i>t){var r=ht(e);r.left=e,r.operator=f;var a=h;return ot(),r.right=At(Pt(),i,n),At(ft(r,a===we||a===be?"LogicalExpression":"BinaryExpression"),t,n)}return e}function Pt(){if(h.prefix){var e=dt(),t=h.isUpdate;return e.operator=f,e.prefix=!0,p=!0,ot(),e.argument=Pt(),t?wt(e.argument):x&&"delete"===e.operator&&"Identifier"===e.argument.type&&C(e.start,"Deleting local variable in strict mode"),ft(e,t?"UpdateExpression":"UnaryExpression")}for(var n=Ot(Nt());h.postfix&&!gt();)(e=ht(n)).operator=f,e.prefix=!1,e.argument=n,wt(n),ot(),n=ft(e,"UpdateExpression");return n}function Ot(e,t){var n;return mt(fe)?((n=ht(e)).object=e,n.property=Ft(!0),n.computed=!1,Ot(ft(n,"MemberExpression"),t)):mt(re)?((n=ht(e)).object=e,n.property=Tt(),n.computed=!0,_t(ae),Ot(ft(n,"MemberExpression"),t)):!t&&mt(le)?((n=ht(e)).callee=e,n.arguments=Rt(ue,!1),Ot(ft(n,"CallExpression"),t)):e}function Nt(){switch(h){case K:var e=dt();return ot(),ft(e,"ThisExpression");case I:return Ft();case E:case T:case D:return(e=dt()).value=f,e.raw=n.slice(l,u),ot(),ft(e,"Literal");case Q:case ee:case te:return(e=dt()).value=h.atomValue,e.raw=h.keyword,ot(),ft(e,"Literal");case le:var i=c,r=l;ot();var a=Tt();return a.start=r,a.end=u,t.locations&&(a.loc.start=i,a.loc.end=d),t.ranges&&(a.range=[r,u]),_t(ue),a;case re:return e=dt(),ot(),e.elements=Rt(ae,!0,!0),ft(e,"ArrayExpression");case se:return function(){var e=dt(),n=!0,i=!1;for(e.properties=[],ot();!mt(oe);){if(n)n=!1;else if(_t(ce),t.allowTrailingCommas&&mt(oe))break;var r,a={key:Lt()},s=!1;if(mt(he)?(a.value=Tt(!0),r=a.kind="init"):t.ecmaVersion>=5&&"Identifier"===a.key.type&&("get"===a.key.name||"set"===a.key.name)?(s=i=!0,r=a.kind=a.key.name,a.key=Lt(),h!==le&&yt(),a.value=zt(dt(),!1)):yt(),"Identifier"===a.key.type&&(x||i))for(var o=0;o<e.properties.length;++o){var l=e.properties[o];if(l.key.name===a.key.name){var u=r==l.kind||s&&"init"===l.kind||"init"===r&&("get"===l.kind||"set"===l.kind);u&&!x&&"init"===r&&"init"===l.kind&&(u=!1),u&&C(a.key.start,"Redefinition of property")}}e.properties.push(a)}return ft(e,"ObjectExpression")}();case B:return e=dt(),ot(),zt(e,!1);case J:return function(){var e=dt();return ot(),e.callee=Ot(Nt(),!0),mt(le)?e.arguments=Rt(ue,!1):e.arguments=S,ft(e,"NewExpression")}();default:yt()}}function Lt(){return h===E||h===T?Nt():Ft(!0)}function zt(e,t){h===I?e.id=Ft():t?yt():e.id=null,e.params=[];var n=!0;for(_t(le);!mt(ue);)n?n=!1:_t(ce),e.params.push(Ft());var i=w,r=b;if(w=!0,b=[],e.body=Ct(!0),w=i,b=r,x||e.body.body.length&&pt(e.body.body[0]))for(var a=e.id?-1:0;a<e.params.length;++a){var s=a<0?e.id:e.params[a];if((Le(s.name)||ze(s.name))&&C(s.start,"Defining '"+s.name+"' in strict mode"),a>=0)for(var o=0;o<a;++o)s.name===e.params[o].name&&C(s.start,"Argument name clash in strict mode")}return ft(e,t?"FunctionDeclaration":"FunctionExpression")}function Rt(e,n,i){for(var r=[],a=!0;!mt(e);){if(a)a=!1;else if(_t(ce),n&&t.allowTrailingCommas&&mt(e))break;i&&h===ce?r.push(null):r.push(Tt(!0))}return r}function Ft(e){var i=dt();return e&&"everywhere"==t.forbidReserved&&(e=!1),h===I?(!e&&(t.forbidReserved&&(3===t.ecmaVersion?Oe:Ne)(f)||x&&Le(f))&&-1==n.slice(l,u).indexOf("\\")&&C(l,"The keyword '"+f+"' is reserved"),i.name=f):e&&h.keyword?i.name=h.keyword:yt(),p=!1,ot(),ft(i,"Identifier")}},"object"==typeof a&&"object"==typeof o?u(a):"function"==typeof t&&t.amd?t(["exports"],u):u(l.acorn||(l.acorn={})),d.version||(d=null));var m={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},g={"-":"__negate","+":"__self"},v=r.each(["add","subtract","multiply","divide","modulo","equals","negate"],(function(e){this["__"+e]="#"+e}),{__self:function(){return this}});function _(e,t,n){var i=m[t];if(e&&e[i]){var r=e[i](n);return"!="===t?!r:r}switch(t){case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return e/n;case"%":return e%n;case"==":return e==n;case"!=":return e!=n}}function y(e,t){var n=g[e];if(t&&t[n])return t[n]();switch(e){case"+":return+t;case"-":return-t}}function w(t,r){if(!t)return"";var a=[];function s(e){for(var t=0,n=a.length;t<n;t++){var i=a[t];if(i[0]>=e)break;e+=i[1]}return e}function o(e){return t.substring(s(e.range[0]),s(e.range[1]))}function l(e,n){for(var i=s(e.range[0]),r=s(e.range[1]),o=0,l=a.length-1;l>=0;l--)if(i>a[l][0]){o=l+1;break}a.splice(o,0,[i,n.length-r+i]),t=t.substring(0,i)+n+t.substring(r)}function u(e,n){switch(e.type){case"UnaryExpression":if(e.operator in g&&"Literal"!==e.argument.type){var i=o(e.argument);l(e,'$__("'+e.operator+'", '+i+")")}break;case"BinaryExpression":if(e.operator in m&&"Literal"!==e.left.type){var r=o(e.left),a=o(e.right),u=function(e,n){return t.substring(s(e.range[1]),s(n.range[0]))}(e.left,e.right),c=e.operator;l(e,"__$__("+r+","+u.replace(new RegExp("\\"+c),'"'+c+'"')+", "+a+")")}break;case"UpdateExpression":case"AssignmentExpression":var d=n&&n.type;if(!("ForStatement"===d||"BinaryExpression"===d&&/^[=!<>]/.test(n.operator)||"MemberExpression"===d&&n.computed))if("UpdateExpression"===e.type){var h=(i=o(e.argument))+" = "+(f="__$__("+i+', "'+e.operator[0]+'", 1)');e.prefix?h="("+h+")":"AssignmentExpression"!==d&&"VariableDeclarator"!==d&&"BinaryExpression"!==d||(o(n.left||n.id)===i&&(h=f),h=i+"; "+h),l(e,h)}else if(/^.=$/.test(e.operator)&&"Literal"!==e.left.type){r=o(e.left),a=o(e.right);var f=r+" = __$__("+r+', "'+e.operator[0]+'", '+a+")";l(e,/^\(.*\)$/.test(o(e))?"("+f+")":f)}}}var c,d=(r=r||{}).url||"",h=r.sourceMaps,p=r.paperFeatures||{},v=r.source||t,_=r.offset||0,y=se.agent,w=y.versionNumber,b=!1,x=/\r\n|\n|\r/gm;if(h&&(y.chrome&&w>=30||y.webkit&&w>=537.76||y.firefox&&w>=23||y.node)){if(y.node)_-=2;else if(n&&d&&!n.location.href.indexOf(d)){var M=i.getElementsByTagName("html")[0].innerHTML;_=M.substr(0,M.indexOf(t)+1).match(x).length+1}var k=["AA"+function(e){var t="";for(e=(Math.abs(e)<<1)+(e<0?1:0);e||!t;){var n=31&e;(e>>=5)&&(n|=32),t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n]}return t}((b=_>0&&!(y.chrome&&w>=36||y.safari&&w>=600||y.firefox&&w>=40||y.node))?0:_)+"A"];k.length=(t.match(x)||[]).length+1+(b?_:0),c={version:3,file:d,names:[],mappings:k.join(";AACA"),sourceRoot:"",sources:[d],sourcesContent:[v]}}return!1===p.operatorOverloading&&!1===p.moduleExports||function e(t,n,i){if(t){for(var r in t)if("range"!==r&&"loc"!==r){var a=t[r];if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++)e(a[s],t,i);else a&&"object"==typeof a&&e(a,t,i)}!1!==i.operatorOverloading&&u(t,n),!1!==i.moduleExports&&function(e){switch(e.type){case"ExportDefaultDeclaration":l({range:[e.start,e.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var t=e.declaration,n=e.specifiers;if(t){var i=t.declarations;i&&(i.forEach((function(e){l(e,"module.exports."+o(e))})),l({range:[e.start,t.start+t.kind.length]},""))}else if(n){var r=n.map((function(e){var t=o(e);return"module.exports."+t+" = "+t+"; "})).join("");r&&l(e,r)}}}(t)}}(f(t,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,p),c&&(b&&(t=new Array(_+1).join("\n")+t),/^(inline|both)$/.test(h)&&(t+="\n//# sourceMappingURL=data:application/json;base64,"+e.btoa(unescape(encodeURIComponent(JSON.stringify(c))))),t+="\n//# sourceURL="+(d||"paperscript")),{url:d,source:v,code:t,map:c}}function b(e,t,n){se=t;var a,s=t.getView(),o=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(e)&&!/\bnew\s+Tool\b/.test(e)?new Q:null,l=o?o._events:[],u=["onFrame","onResize"].concat(l),c=[],d=[],f="object"==typeof e?e:w(e,n);function p(t,n){for(var i in t)!n&&/^_/.test(i)||!new RegExp("([\\b\\s\\W]|^)"+i.replace(/\$/g,"\\$")+"\\b").test(e)||(c.push(i),d.push(t[i]))}e=f.code,p({__$__:_,$__:y,paper:t,tool:o},!0),p(t),e="var module = { exports: {} }; "+e,(b=r.each(u,(function(t){new RegExp("\\s+"+t+"\\b").test(e)&&(c.push(t),this.push("module.exports."+t+" = "+t+";"))}),[]).join("\n"))&&(e+="\n"+b),e+="\nreturn module.exports;";var m=se.agent;if(i&&(m.chrome||m.firefox&&m.versionNumber<40)){var g=i.createElement("script"),v=i.head||i.getElementsByTagName("head")[0];m.firefox&&(e="\n"+e),g.appendChild(i.createTextNode("document.__paperscript__ = function("+c+") {"+e+"\n}")),v.appendChild(g),a=i.__paperscript__,delete i.__paperscript__,v.removeChild(g)}else a=Function(c,e);var b,x=(b=a&&a.apply(t,d))||{};return r.each(l,(function(e){var t=x[e];t&&(o[e]=t)})),s&&(x.onResize&&s.setOnResize(x.onResize),s.emit("resize",{size:s.size,delta:new h}),x.onFrame&&s.setOnFrame(x.onFrame),s.requestUpdate()),b}function x(e){if(/^text\/(?:x-|)paperscript$/.test(e.type)&&"true"!==s.getAttribute(e,"ignore")){var t=s.getAttribute(e,"canvas"),n=i.getElementById(t),r=e.src||e.getAttribute("data-src"),a=s.hasAttribute(e,"async"),o="data-paper-scope";if(!n)throw new Error('Unable to find canvas with id "'+t+'"');var l=s.get(n.getAttribute(o))||(new s).setup(n);return n.setAttribute(o,l._id),r?te({url:r,async:a,mimeType:"text/plain",onLoad:function(e){b(e,l,r)}}):b(e.innerHTML,l,e.baseURI),e.setAttribute("data-paper-ignore","true"),l}}function M(){r.each(i&&i.getElementsByTagName("script"),x)}return h.inject(v),p.inject(v),j.inject(v),n&&("complete"===i.readyState?setTimeout(M):$.add(n,{load:M})),{compile:w,execute:b,load:function(e){return e?x(e):M()},parse:f,calculateBinary:_,calculateUnary:y}}.call(this);var se=new(s.inject(r.exports,{Base:r,Numerical:c,Key:Z,DomEvent:$,DomElement:W,document:i,window:n,Symbol:E,PlacedSymbol:S}));return se.agent.node&&nr(se),"function"==typeof t&&t.amd?t("paper",se):Qi&&(Qi.exports=se),se}.call(qt,"object"==typeof self?self:null);var ir=tr.exports;const rr=i({name:"CanvasType",components:{},props:{item:{type:Object,required:!0},showArrows:{type:Boolean,default:!1}},emits:["autoManualToggle","objectClicked","changeValue","updateWeldModel"],setup(e,{emit:t}){const n=R((()=>{var t;return Wt.getEntryRange(null==(t=e.item)?void 0:t.t3Entry)})),i=R((()=>{var t;if(!e.item.t3Entry)return"";const n=Wt.getEntryRange(e.item.t3Entry);if("value"===e.item.settings.t3EntryDisplayField||"control"===e.item.settings.t3EntryDisplayField){if(void 0!==e.item.t3Entry.value&&e.item.t3Entry.range>100){const i=null==(t=n.options)?void 0:t.find((t=>1e3*t.value===e.item.t3Entry.value));return null==i?void 0:i.name}if(void 0!==e.item.t3Entry.value&&1===e.item.t3Entry.digital_analog)return e.item.t3Entry.value/1e3+" "+n.unit;if(void 0!==e.item.t3Entry.control&&0===e.item.t3Entry.digital_analog)return e.item.t3Entry.control?n.on:n.off}return e.item.t3Entry[e.item.settings.t3EntryDisplayField]||""})),r=R((()=>{const t=e.item;return["Gauge","Dial"].includes(t.type)?"Gauge"===t.type?t.settings.colors.map((e=>[e.offset/100,e.color])):t.settings.colors.map(((e,n)=>({from:n?t.settings.colors[n-1].offset:0,to:e.offset,color:[e.color]}))):null}));const a=s(null);const l=s(null);ir.settings.insertItems=!1;return o((()=>{ir.setup(l.value),ir.view.onResize=function(e){},new ir.Path.Circle({center:[80,50],radius:30,fillColor:"red"}),ir.view.draw()})),{range:n,dispalyText:i,processedColors:r,changeValue:function(n){var i,r;if(0===e.item.t3Entry.auto_manual)return;let a=!1,s=e.item.t3Entry.value;const o=Wt.getEntryRange(null==(i=e.item)?void 0:i.t3Entry);if(void 0!==e.item.t3Entry.value&&e.item.t3Entry.range>100){const t=null==(r=o.options)?void 0:r.filter((e=>1===e.status)),i=t.findIndex((t=>1e3*t.value===e.item.t3Entry.value));if("decrease"===n&&i<t.length-1)s=1e3*t[i+1].value;else{if(!("increase"===n&&i>0))return;s=1e3*t[i-1].value}}else if(void 0!==e.item.t3Entry.value&&1===e.item.t3Entry.digital_analog)s="increase"===n?e.item.t3Entry.value+1e3:e.item.t3Entry.value-1e3;else if(void 0!==e.item.t3Entry.control&&0===e.item.t3Entry.digital_analog)if(a=!0,"decrease"===n&&0===e.item.t3Entry.control)s=1;else{if("increase"!==n||1!==e.item.t3Entry.control)return;s=0}t("changeValue",e.item,s,a)},refresh:function(){var t;a.value&&"Duct"===(null==(t=e.item)?void 0:t.type)&&a.value.refresh()},objectRef:a,updateWeldModel:(e,n)=>{t("updateWeldModel",e,n)},canvas:l}}}),ar=()=>{N((e=>({a14d127a:e.item.width+"px",f344836c:e.item.height+"px","88bbbf4c":e.item.settings.titleColor,b6b48fe2:e.item.settings.bgColor,add3d032:e.item.settings.textColor,"039e8ae4":e.item.settings.fontSize+"px",ec404690:e.item.settings.justifyContent})))},sr=rr.setup;rr.setup=sr?(e,t)=>(ar(),sr(e,t)):ar;const or={ref:"canvasContainer",class:"canvas-container"},lr=["id"];var ur=At({name:"CanvasShape",props:{item:{type:Object,required:!0}},emits:["updateWeldModel"],setup(e,{emit:t}){const n=s(null),i=s(null),r=s(null),a=()=>{var t;const n=document.getElementById(`canvas${e.item.id}`);r.value=new ir.Project(n),null==(t=null==r?void 0:r.value)||t.clear(),ir.settings.insertItems=!1,l()},l=()=>{const t=i.value;if(t){const{width:n,height:i}=e.item;t.width=n,t.height=i,t.style.width=`${n}px`,t.style.height=`${i}px`,r.value.view.viewSize=new ir.Size(t.width,t.height),T()}},u=(e,t,n,i,r)=>{const{settings:a,rotate:s}=t,o="weld"==e?8:4,l=new ir.Path.Rectangle({point:r,size:[n-o,i-o],strokeColor:a.bgColor||"#000",strokeWidth:2,fillColor:a.fillColor});return"weld"==e&&s&&l.rotate(s),l},c=(e,t,n,i,r)=>{const{settings:a,rotate:s}=t,o="weld"==e?8:4,l=n/2+r[0],u=i/2+r[1];return new ir.Path.Circle({center:[l,u],radius:Math.min(n-o,i-o)/2,strokeColor:a.bgColor||"#000",strokeWidth:2,fillColor:a.fillColor})},d=(e,t,n,i,r)=>{const{settings:a,rotate:s}=t,o=`<svg\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 32 32"\n            height="${i}"\n            width="${n}"\n            version="1.1">\n            <path d="M 1.6 5.4 L 25.6 5.4 L 30.4 15 L 25.6 24.6 L 1.6 24.6 L 6.4 15 Z" fill="${a.fillColor}" stroke="${a.bgColor||"#000"}"\n              stroke-width="1" stroke-miterlimit="10"></path>\n          </svg>\n          `;return f(o)},h=(e,t,n,i,r)=>{const{settings:a,rotate:s}=t,o=`<svg\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 32 32"\n            height="${i}"\n            width="${n}"\n            version="1.1">\n            <path d="M 6.4 5.4 L 25.6 5.4 L 30.4 15 L 25.6 24.6 L 6.4 24.6 L 1.6 15 Z" fill="${a.fillColor}" stroke="${a.bgColor||"#000"}"\n              stroke-width="1" stroke-miterlimit="10">\n            </path>\n         </svg>\n        `;return f(o)},f=e=>ir.project.importSVG(e,{applyMatrix:!1}),p=s(e.item.width),m=s(e.item.height);s(e.item.settings.fillColor);const g=()=>({widthScale:e.item.width/p.value,heightScale:e.item.height/m.value,trsXScale:e.item.translate[0]/p.value,trsYScale:e.item.translate[1]/m.value}),v=s(0),_=s(0),y=(e,t)=>{let{width:n,height:i,cat:r,type:a,translate:s,rotate:o,overlap:l}=t,[u,c]=s;const{isStartOverlap:d,isEndOverlap:h}=l,f=Math.min(...e.map((e=>e.translate[0]))),p=Math.min(...e.map((e=>e.translate[1]))),m=g();let v=u-f+4,_=c-p+4;n*=m.widthScale,i*=m.heightScale,u*=m.widthScale,c*=m.heightScale,u-=f*m.widthScale,c-=p*m.heightScale,v=u+4,_=c+4;return{pathPoints:((e,t)=>{const r=[],a=(()=>{let e=25,t=25,i=0;return n>50&&(n<80?e=t=n/2:(e=40,t=40,i=n-80)),{startW:e,middle:i,endW:t}})(),s=[e,t];r.push(s);const o=[e+a.startW,t+i/2],l=[e,t+i];d||r.push(o),r.push(l);const u=[e+a.startW+a.middle,t+i],c=[e+n,t+i];h?r.push(c):r.push(u);const f=[e+n,t+i/2];h||r.push(f);const p=[e+n,t],m=[e+a.startW+a.middle,t];return h?r.push(p):r.push(m),r.push(s),r})(v,_),width:n,height:i,trsx:v,trsy:_}},w=e=>{const t=null==e?void 0:e.map(((t,n)=>{let i=null;const r=((e,t)=>{v.value=Math.min(...e.map((e=>e.translate[0]))),_.value=Math.min(...e.map((e=>e.translate[1])));const n=g();let{width:i,height:r,cat:a,type:s,translate:o}=t,[l,u]=o,c=l-v.value+4,d=u-_.value+4;return i*=n.widthScale,r*=n.heightScale,l*=n.widthScale,u*=n.heightScale,l-=v.value*n.widthScale,u-=_.value*n.heightScale,c=l+4,d=u+4,{width:i,height:r,trsx:c,trsy:d}})(e,t);switch(t.type){case"G_Rectangle":i=u("weld",t,r.width,r.height,[r.trsx,r.trsy]);break;case"G_Circle":i=c("weld",t,r.width,r.height,[r.trsx,r.trsy]);break;case"G_Step":i=d(0,t,r.width,r.height);break;case"G_Hexagon":i=h(0,t,r.width,r.height);break;case"Duct":i=((e,t,n,i,r,a)=>{const{settings:s,rotate:o}=t,l=new ir.Path({segments:n,closed:!0,strokeColor:"#000",strokeWidth:2,fillColor:"#659dc5"});return o&&l.rotate(o),l})(0,t,y(e,t).pathPoints)}return{type:t.type,pathItem:i,item:t,newPos:{width:r.width,height:r.height,trsx:r.trsx-4,trsy:r.trsy-4}}}));return t},b=e=>{let t=[];return e instanceof ir.Path||e instanceof ir.CompoundPath||e instanceof ir.Path.Circle?t.push(e):e instanceof ir.Group?e.children.forEach((e=>{t=t.concat(b(e))})):(null==e?void 0:e.children)&&(null==e||e.children.forEach((e=>{t=t.concat(b(e))}))),t},x=(e,t,n,i,r)=>{const a=e.startPoint,s=e.endPoint,o=e.path;function l(e){null!==i&&(i.segments[n].point=a.position,i.segments[n+1].point=s.position,n+2==i.segments.length&&(i.segments[0].point=s.position),0==n&&(i.segments[i.segments.length-1].point=a.position))}function u(){o.segments[0].point=a.position,o.segments[1].point=s.position}function c(t){if(null===r)return;const{crossStartIndex:n,crossEndIndex:i}=e.crossPathIndex,{crossedStartIndex:o,crossedEndIndex:l}=e.crossedPathIndex;r.forEach(((e,t)=>{const{crossPath:r,crossLinePoints:u}=e;null!==r.segments[n]&&void 0!==r.segments[n]&&(r.segments[n].point=a.position),null!==r.segments[i]&&void 0!==r.segments[i]&&(r.segments[i].point=s.position),r.segments[r.segments.length-1].point=r.segments[0].point,null!==u[o]&&void 0!==u[o]&&(u[o].startPoint.position=a.position,u[o].path.segments[0].point=a.position),null!==u[l]&&void 0!==u[l]&&(u[l].endPoint.position=s.position,u[l].path.segments[1].point=s.position),null!=u[o-1]&&null!=u[o-1]&&(u[o-1].endPoint.position=a.position,u[o-1].path.segments[1].point=a.position),-1!==i&&null!=u[l+1]&&null!=u[l+1]&&(u[l+1].startPoint.position=s.position),null!==u[u.length-1]&&void 0!==u[u.length-1]&&(u[u.length-1].endPoint.position=u[0].startPoint.position)}))}a.onMouseDrag=function(e){this.position=this.position.add(e.delta),u(),l((this.position.x,this.position.y)),function(){if(n>0){const e=t[n-1];e.endPoint.position=a.position,e.path.segments[1].point=a.position}else{const e=t[t.length-1];e.endPoint.position=a.position,e.path.segments[1].point=a.position}}(),c()},s.onMouseDrag=function(e){this.position=this.position.add(e.delta),u(),l((this.position.x,this.position.y)),function(){if(n===t.length-1){const e=t[0];e.startPoint.position=s.position,e.path.segments[0].point=s.position}else{const e=t[n+1];e.startPoint.position=s.position,e.path.segments[0].point=s.position}}(),c()},o.onMouseDrag=function(e){const i=e.delta;a.position=a.position.add(i),s.position=s.position.add(i),u(),l((a.position.x,a.position.y,s.position.x,s.position.y)),function(e){if(n>0){const i=t[n-1];i.endPoint.position=e,i.path.segments[1].point=e}else{const n=t[t.length-1];n.endPoint.position=e,n.path.segments[1].point=e}}(a.position),function(e){if(n===t.length-1){const n=t[0];n.startPoint.position=e,n.path.segments[0].point=e}else{const i=t[n+1];i.startPoint.position=e,i.path.segments[0].point=e}}(s.position),c()}},M=(e,t,n,i,r,a)=>{function s(e){null!==r&&(r.segments[n].point=l.position,r.segments[n+1].point=u.position,n+2==r.segments.length&&(r.segments[0].point=u.position),0==n&&(r.segments[r.segments.length-1].point=l.position))}function o(){c.segments[0].point=l.position,c.segments[1].point=u.position}const l=e.startPoint,u=e.endPoint,c=e.path;l.onMouseDrag=function(e){this.position=this.position.add(e.delta),o(),s((this.position.x,this.position.y)),function(){if(n>0){const e=t[n-1];e.endPoint.position=l.position,e.path.segments[1].point=l.position}else{const e=t[t.length-1];e.endPoint.position=l.position,e.path.segments[1].point=l.position}}()},u.onMouseDrag=function(e){this.position=this.position.add(e.delta),o(),s((this.position.x,this.position.y)),function(){if(n===t.length-1){const e=t[0];e.startPoint.position=u.position,e.path.segments[0].point=u.position}else{const e=t[n+1];e.startPoint.position=u.position,e.path.segments[0].point=u.position}}()},c.onMouseDrag=function(e){const i=e.delta;l.position=l.position.add(i),u.position=u.position.add(i),o(),s((l.position.x,l.position.y,u.position.x,u.position.y)),function(e){if(n>0){const i=t[n-1];i.endPoint.position=e,i.path.segments[1].point=e}else{const n=t[t.length-1];n.endPoint.position=e,n.path.segments[1].point=e}}(l.position),function(e){if(n===t.length-1){const n=t[0];n.startPoint.position=e,n.path.segments[0].point=e}else{const i=t[n+1];i.startPoint.position=e,i.path.segments[0].point=e}}(u.position)},r.onMouseDrag=function(e){const n=e.delta;r.position.x+=n.x,t.map(((e,t)=>{e.startPoint.position.x+=n.x,e.endPoint.position.x+=n.x,e.path.segments[0].point.x=e.startPoint.position.x,e.path.segments[1].point.x=e.endPoint.position.x;const{weldStartIndex:r,weldEndIndex:s}=e.weldPathIndex,{weldedStartIndex:o,weldedEndIndex:l}=e.weldedPathIndex;null!==i.segments[r]&&void 0!==i.segments[r]&&(i.segments[r].point=e.startPoint.position),null!==i.segments[s]&&void 0!==i.segments[s]&&(i.segments[s].point=e.endPoint.position),null!==a[o]&&void 0!==a[o]&&(a[o].startPoint.position=e.startPoint.position,a[o].path.segments[0].point=e.startPoint.position),null!==a[l]&&void 0!==a[l]&&(a[l].endPoint.position=e.endPoint.position,a[l].path.segments[1].point=e.endPoint.position)}))}},k=(e,t)=>{if(!(null!==e&&null!=e&&e.length>0))return;const n=new ir.Path({segments:e,closed:!0,fillColor:"#659dc5"}),i=(e=>{let t=[];return e.slice(0,-1).map(((n,i)=>{const r=n,a=e[i+1],s=new ir.Path.Circle({center:r,radius:4,fillColor:"#4af"}),o=new ir.Path.Circle({center:a,radius:4,fillColor:"#4af"}),l=new ir.Path.Line({from:r,to:a,strokeColor:"#000",strokeWidth:2,fillColor:"#f36dc5"});t.push({name:`Path Line ${i+1}`,path:l,startPoint:s,endPoint:o})})),t})(e),a=t.map(((e,t)=>{const r=new ir.Path({segments:e.pts,closed:!0,fillColor:"#659dc5"}),a=(e=>{let t=[];return e.slice(0,-1).map(((n,i)=>{const r=n,a=e[i+1],s=new ir.Path.Circle({center:r,radius:4,fillColor:"#4af"}),o=new ir.Path.Circle({center:a,radius:4,fillColor:"#4af"}),l=new ir.Path.Line({from:r,to:a,strokeColor:"#000",strokeWidth:2,fillColor:"green"});t.push({name:`Cross Path Line ${i+1}`,path:l,startPoint:s,endPoint:o})})),t})(e.pts);return((e,t,n,i)=>{e.map(((e,i)=>{const r=e.startPoint,a=e.endPoint,s=n.segments.findIndex((e=>e.point.x.toFixed(4)===r.position.x.toFixed(4)&&e.point.y.toFixed(4)===r.position.y.toFixed(4))),o=n.segments.findIndex((e=>e.point.x.toFixed(4)===a.position.x.toFixed(4)&&e.point.y.toFixed(4)===a.position.y.toFixed(4))),l=t.findIndex((e=>e.startPoint.position.x.toFixed(4)===r.position.x.toFixed(4)&&e.startPoint.position.y.toFixed(4)===r.position.y.toFixed(4))),u=t.findIndex((e=>e.endPoint.position.x.toFixed(4)===a.position.x.toFixed(4)&&e.endPoint.position.y.toFixed(4)===a.position.y.toFixed(4)));e.weldPathIndex={weldStartIndex:s,weldEndIndex:o},e.weldedPathIndex={weldedStartIndex:l,weldedEndIndex:u}})),t.map(((t,n)=>{const r=t.startPoint,a=t.endPoint,s=i.segments.findIndex((e=>e.point.x.toFixed(4)===r.position.x.toFixed(4)&&e.point.y.toFixed(4)===r.position.y.toFixed(4))),o=i.segments.findIndex((e=>e.point.x.toFixed(4)===a.position.x.toFixed(4)&&e.point.y.toFixed(4)===a.position.y.toFixed(4))),l=e.findIndex((e=>e.startPoint.position.x.toFixed(4)===r.position.x.toFixed(4)&&e.startPoint.position.y.toFixed(4)===r.position.y.toFixed(4))),u=e.findIndex((e=>e.endPoint.position.x.toFixed(4)===a.position.x.toFixed(4)&&e.endPoint.position.y.toFixed(4)===a.position.y.toFixed(4)));t.crossPathIndex={crossStartIndex:s,crossEndIndex:o},t.crossedPathIndex={crossedStartIndex:l,crossedEndIndex:u}}))})(a,i,n,r),a.map(((e,t)=>{M(e,a,t,n,r,i)})),{crossPath:r,crossLinePoints:a}}));i.map(((e,t)=>{x(e,i,t,n,a)})),r.value.activeLayer.addChild(n),a.map(((e,t)=>{var n,i;null==(i=null==(n=null==r?void 0:r.value)?void 0:n.activeLayer)||i.addChild(e.crossPath)})),i.map(((e,t)=>{var n,i,a,s,o,l;null==(i=null==(n=null==r?void 0:r.value)?void 0:n.activeLayer)||i.addChild(e.path),null==(s=null==(a=null==r?void 0:r.value)?void 0:a.activeLayer)||s.addChild(e.startPoint),null==(l=null==(o=null==r?void 0:r.value)?void 0:o.activeLayer)||l.addChild(e.endPoint)}))},C=()=>{var n;const{weldItems:i}=e.item,a=w(i);t("updateWeldModel",e.item,a),p.value=e.item.width,m.value=e.item.height,v.value=Math.min(...e.item.weldItems.map((e=>e.translate[0]))),_.value=Math.min(...e.item.weldItems.map((e=>e.translate[1])));const s=(e=>e.flatMap((e=>{const t=b(e.pathItem).flatMap((e=>e.segments.map((e=>e.point)))).map((e=>new ir.Point(e)));return t.push(t[0]),{type:e.type,points:t}})))(a),o=(e=>{let t=-1/0,n=-1/0;for(const i of e){const e=Math.min(...i.points.map((e=>null==e?void 0:e.x))),r=Math.min(...i.points.map((e=>null==e?void 0:e.y)));if(!(e>t||r>n))return!0;t=Math.max(...i.points.map((e=>null==e?void 0:e.x))),n=Math.max(...i.points.map((e=>null==e?void 0:e.y)))}return!1})(s);if(!o)return void a.map(((e,t)=>{r.value.activeLayer.addChild(e.pathItem)}));const l=(e=>e.map(((e,t)=>new ir.Path({segments:e.points,closed:!0,strokeColor:"#000",fillColor:"#f36dc5"}))))(s),u=E("union",l),c=null==(n=null==u?void 0:u.segments)?void 0:n.map((e=>e.point));null==c||c.push(c[0]);const d=S(l,c);k(c,d)},S=(e,t)=>{const n=(e=>{const t=[];for(let n=0;n<e.length;n++)for(let i=n+1;i<e.length;i++){e[n].getIntersections(e[i]).forEach((e=>{t.push(e.point)}))}return t})(e),i=(r=t,n.map((e=>{const t=r.findIndex((t=>(null==t?void 0:t.x.toFixed(4))===(null==e?void 0:e.x.toFixed(4))&&(null==t?void 0:t.y.toFixed(4))===(null==e?void 0:e.y.toFixed(4))));return{crossPoint:e,index:t}})).sort(((e,t)=>t.index-e.index)));var r;const a=[];for(let s=i.length-1;s>0;s-=2){const e=i[s].index,n=i[s-1].index,r=[];for(let i=e;i<=n;i++)r.push(t[i]);r.push(r[0]),a.push({idx:`${e}-${n}`,pts:r})}return a},E=(e,t)=>{if(0===t.length)return[];if(t.length<2)return t[0];let n=t[0];for(let i=1;i<t.length;i++)switch(e){case"union":n=n.unite(t[i]);break;case"difference":n=n.subtract(t[i]);break;case"xor":n=n.exclude(t[i]);break;case"intersection":n=n.intersect(t[i]);break;default:throw new Error("Invalid boolean operation")}return n},T=()=>{var t;const{width:n,height:i,weldModel:a,cat:s,type:o,settings:l}=e.item;var f;null==(t=null==r?void 0:r.value)||t.clear(),"Weld_General"===o||"Weld_Duct"===o?C():null==(f=[e.item])||f.map(((e,t)=>{const{width:n,height:i,weldModel:a,cat:s,type:o,settings:l}=e,f=[];switch(o){case"G_Rectangle":f.push(u("",e,n,i,[2,2]));break;case"G_Circle":f.push(c("",e,n,i,[2,2]));break;case"G_Step":f.push(d(0,e,n,i));break;case"G_Hexagon":f.push(h(0,e,n,i))}null==f||f.map(((e,t)=>{r.value.activeLayer.addChild(e)}))}))};return o((()=>{a(),D((()=>[e.item.width,e.item.height,e.item.settings]),l,{deep:!0}),window.addEventListener("resize",l)})),F((()=>{var e;null==(e=r.value)||e.clear(),window.removeEventListener("resize",l)})),{canvasContainer:n,canvas:i,initCanvas:a,resizeCanvas:l,draw:T,loadSvgString:f,booleanOperation:E}}},[["render",function(e,t,n,i,s,o){return r(),a("div",or,[p("canvas",{id:`canvas${n.item.id}`,ref:"canvas",resize:"",stats:"",class:"canvas-normal"},null,8,lr)],512)}],["__scopeId","data-v-4f06304a"]]);const cr=i({name:"HRuler",props:{bgColor:{type:String,default:"black"},documentArea:{type:Object,default:()=>{}}},setup:e=>(o((()=>{})),{})}),dr=["width","height"];var hr=At(cr,[["render",function(e,t,n,i,s,o){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/1999/xlink",style:{position:"relative",overflow:"hidden"},width:e.documentArea.hRuler.width,height:e.documentArea.hRuler.height},[...t[0]||(t[0]=[p("defs",null,null,-1),p("g",{transform:"scale(1,1) translate(0,0)","no-export":"1",opacity:"0"},null,-1),p("g",{transform:"scale(1,1) translate(0,0)",fill:"#000",stroke:"#000"},[p("path",{d:"M0,20v-15M8,20v-5M16,20v-5M24,20v-5M32,20v-5M40,20v-5M48,20v-10M56,20v-5M64,20v-5M72,20v-5M80,20v-5M88,20v-5M96,20v-15M104,20v-5M112,20v-5M120,20v-5M128,20v-5M136,20v-5M144,20v-10M152,20v-5M160,20v-5M168,20v-5M176,20v-5M184,20v-5M192,20v-15M200,20v-5M208,20v-5M216,20v-5M224,20v-5M232,20v-5M240,20v-10M248,20v-5M256,20v-5M264,20v-5M272,20v-5M280,20v-5M288,20v-15M296,20v-5M304,20v-5M312,20v-5M320,20v-5M328,20v-5M336,20v-10M344,20v-5M352,20v-5M360,20v-5M368,20v-5M376,20v-5M384,20v-15M392,20v-5M400,20v-5M408,20v-5M416,20v-5M424,20v-5M432,20v-10M440,20v-5M448,20v-5M456,20v-5M464,20v-5M472,20v-5M480,20v-15M488,20v-5M496,20v-5M504,20v-5M512,20v-5M520,20v-5M528,20v-10M536,20v-5M544,20v-5M552,20v-5M560,20v-5M568,20v-5M576,20v-15M584,20v-5M592,20v-5M600,20v-5M608,20v-5M616,20v-5M624,20v-10M632,20v-5M640,20v-5M648,20v-5M656,20v-5M664,20v-5M672,20v-15M680,20v-5M688,20v-5M696,20v-5M704,20v-5M712,20v-5M720,20v-10M728,20v-5M736,20v-5M744,20v-5M752,20v-5M760,20v-5M768,20v-15M776,20v-5M784,20v-5M792,20v-5M800,20v-5M808,20v-5M816,20v-10M824,20v-5M832,20v-5M840,20v-5M848,20v-5M856,20v-5M864,20v-15M872,20v-5M880,20v-5M888,20v-5M896,20v-5M904,20v-5M912,20v-10M920,20v-5M928,20v-5M936,20v-5M944,20v-5M952,20v-5M960,20v-15M968,20v-5M976,20v-5M984,20v-5M992,20v-5M1000,20v-5M1008,20v-10M1016,20v-5M1024,20v-5M1032,20v-5M1040,20v-5M1048,20v-5M1056,20v-15M1064,20v-5M1072,20v-5M1080,20v-5M1088,20v-5M1096,20v-5M1104,20v-10M1112,20v-5M1120,20v-5M1128,20v-5M1136,20v-5M1144,20v-5M1152,20v-15M1160,20v-5M1168,20v-5M1176,20v-5M1184,20v-5M1192,20v-5M1200,20v-10M1208,20v-5M1216,20v-5M1224,20v-5M1232,20v-5M1240,20v-5M1248,20v-15M1256,20v-5M1264,20v-5M1272,20v-5M1280,20v-5M1288,20v-5M1296,20v-10M1304,20v-5M1312,20v-5M1320,20v-5M1328,20v-5M1336,20v-5M1344,20v-15M1352,20v-5M1360,20v-5M1368,20v-5M1376,20v-5M1384,20v-5M1392,20v-10M1400,20v-5M1408,20v-5M1416,20v-5M1424,20v-5M1432,20v-5M1440,20v-15M1448,20v-5M1456,20v-5M1464,20v-5M1472,20v-5M1480,20v-5M1488,20v-10M1496,20v-5M1504,20v-5M1512,20v-5M1520,20v-5M1528,20v-5M1536,20v-15M1544,20v-5M1552,20v-5M1560,20v-5M1568,20v-5M1576,20v-5M1584,20v-10M1592,20v-5M1600,20v-5M1608,20v-5M1616,20v-5M1624,20v-5M1632,20v-15M1640,20v-5M1648,20v-5M1656,20v-5M1664,20v-5M1672,20v-5M1680,20v-10M1688,20v-5M1696,20v-5M1704,20v-5M1712,20v-5M1720,20v-5M1728,20v-15M1736,20v-5M1744,20v-5M1752,20v-5M1760,20v-5M1768,20v-5M1776,20v-10M1784,20v-5M1792,20v-5M1800,20v-5M1808,20v-5M1816,20v-5M1824,20v-15M1832,20v-5M1840,20v-5M1848,20v-5M1856,20v-5M1864,20v-5M1872,20v-10M1880,20v-5M1888,20v-5M1896,20v-5M1904,20v-5M1912,20v-5M1920,20v-15M1928,20v-5M1936,20v-5M1944,20v-5M1952,20v-5M1960,20v-5M1968,20v-10M1976,20v-5M1984,20v-5M1992,20v-5M2000,20v-5M2008,20v-5M2016,20v-15M2024,20v-5M2032,20v-5M2040,20v-5M2048,20v-5M2056,20v-5M2064,20v-10M2072,20v-5M2080,20v-5M2088,20v-5M2096,20v-5M2104,20v-5M2112,20v-15M2120,20v-5M2128,20v-5M2136,20v-5M2144,20v-5M2152,20v-5M2160,20v-10M2168,20v-5M2176,20v-5M2184,20v-5M2192,20v-5M2200,20v-5M2208,20v-15M2216,20v-5M2224,20v-5M2232,20v-5M2240,20v-5M2248,20v-5M2256,20v-10M2264,20v-5M2272,20v-5M2280,20v-5M2288,20v-5M2296,20v-5M2304,20v-15M2312,20v-5M2320,20v-5M2328,20v-5M2336,20v-5M2344,20v-5M2352,20v-10M2360,20v-5M2368,20v-5M2376,20v-5M2384,20v-5M2392,20v-5M2400,20v-15M2408,20v-5M2416,20v-5M2424,20v-5M2432,20v-5M2440,20v-5M2448,20v-10M2456,20v-5M2464,20v-5M2472,20v-5M2480,20v-5M2488,20v-5M2496,20v-15M2504,20v-5M2512,20v-5M2520,20v-5M2528,20v-5M2536,20v-5M2544,20v-10M2552,20v-5M2560,20v-5M2568,20v-5M2576,20v-5M2584,20v-5M2592,20v-15M2600,20v-5M2608,20v-5M2616,20v-5M2624,20v-5M2632,20v-5M2640,20v-10M2648,20v-5M2656,20v-5M2664,20v-5M2672,20v-5M2680,20v-5M2688,20v-15M2696,20v-5M2704,20v-5M2712,20v-5M2720,20v-5M2728,20v-5M2736,20v-10M2744,20v-5M2752,20v-5M2760,20v-5M2768,20v-5M2776,20v-5M2784,20v-15M2792,20v-5M2800,20v-5M2808,20v-5M2816,20v-5M2824,20v-5M2832,20v-10M2840,20v-5M2848,20v-5M2856,20v-5M2864,20v-5M2872,20v-5M2880,20v-15M2888,20v-5M2896,20v-5M2904,20v-5M2912,20v-5M2920,20v-5M2928,20v-10M2936,20v-5M2944,20v-5M2952,20v-5M2960,20v-5M2968,20v-5M2976,20v-15M2984,20v-5M2992,20v-5M3000,20v-5M3008,20v-5M3016,20v-5M3024,20v-10M3032,20v-5M3040,20v-5M3048,20v-5M3056,20v-5M3064,20v-5M3072,20v-15M3080,20v-5M3088,20v-5M3096,20v-5M3104,20v-5M3112,20v-5M3120,20v-10M3128,20v-5M3136,20v-5M3144,20v-5M3152,20v-5M3160,20v-5M3168,20v-15M3176,20v-5M3184,20v-5M3192,20v-5M3200,20v-5M3208,20v-5M3216,20v-10M3224,20v-5M3232,20v-5M3240,20v-5M3248,20v-5M3256,20v-5M3264,20v-15M3272,20v-5M3280,20v-5M3288,20v-5M3296,20v-5M3304,20v-5M3312,20v-10M3320,20v-5M3328,20v-5M3336,20v-5M3344,20v-5M3352,20v-5M3360,20v-15M3368,20v-5M3376,20v-5M3384,20v-5M3392,20v-5M3400,20v-5M3408,20v-10M3416,20v-5M3424,20v-5M3432,20v-5M3440,20v-5M3448,20v-5M3456,20v-15M3464,20v-5M3472,20v-5M3480,20v-5M3488,20v-5M3496,20v-5M3504,20v-10M3512,20v-5M3520,20v-5M3528,20v-5M3536,20v-5M3544,20v-5M3552,20v-15M3560,20v-5M3568,20v-5M3576,20v-5M3584,20v-5M3592,20v-5M3600,20v-10M3608,20v-5M3616,20v-5M3624,20v-5M3632,20v-5M3640,20v-5M3648,20v-15M3656,20v-5M3664,20v-5M3672,20v-5M3680,20v-5M3688,20v-5M3696,20v-10M3704,20v-5M3712,20v-5M3720,20v-5M3728,20v-5M3736,20v-5M3744,20v-15M3752,20v-5M3760,20v-5M3768,20v-5M3776,20v-5M3784,20v-5M3792,20v-10M3800,20v-5M3808,20v-5M3816,20v-5M3824,20v-5M3832,20v-5M3840,20v-15M3848,20v-5M3856,20v-5M3864,20v-5M3872,20v-5M3880,20v-5M3888,20v-10M3896,20v-5M3904,20v-5M3912,20v-5M3920,20v-5M3928,20v-5",fill:"none","stroke-width":"0.5","stroke-dasharray":"none"}),p("g",null,[p("g",{"stroke-dasharray":"none"},[p("path",{d:"M-0.5,19.5L0.5,19.5L0.5,20.5L-0.5,20.5z","stroke-width":"0",fill:"none"})])])],-1),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(2,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),p("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"0")]),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(98,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),p("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"4")]),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(194,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),p("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"8")]),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(290,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"12")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(386,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"16")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(482,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"20")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(578,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"24")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(674,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"28")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(770,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"32")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(866,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"36")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(962,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"40")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1058,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"44")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1154,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"48")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1250,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"52")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1346,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"56")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1442,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"60")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1538,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"64")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1634,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"68")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1730,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"72")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1826,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"76")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(1922,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"80")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(2018,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"84")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(2114,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"88")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(2210,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"92")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(2306,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"96")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(2402,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"100")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(2498,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"104")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(2594,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"108")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(2690,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"14.633333206176758",height:"11.199999809265137"}),p("text",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"14.633333206176758"},"112")]),p("g",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(2786,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"14.633333206176758",height:"11.199999809265137"}),p("text",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"14.633333206176758"},"116")]),p("g",{width:"14.633333206176758",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(2882,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"120")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(2978,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"124")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3074,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"128")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3170,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"132")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3266,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"136")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3362,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"140")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3458,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"144")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3554,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"148")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3650,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"152")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3746,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"156")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(3842,1)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"15",height:"11.199999809265137"}),p("text",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"15"},"160")]),p("g",{width:"15",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1)])],8,dr)}]]);const fr=i({name:"VRuler",props:{bgColor:{type:String,default:"black"},documentArea:{type:Object,default:()=>{}}},setup:e=>(o((()=>{})),{})}),pr=["width","height"];var mr=At(fr,[["render",function(e,t,n,i,s,o){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/1999/xlink",style:{position:"relative",overflow:"hidden"},width:e.documentArea.vRuler.width,height:e.documentArea.vRuler.height},[...t[0]||(t[0]=[p("defs",null,null,-1),p("g",{transform:"scale(1,1) translate(0,0)","no-export":"1",opacity:"0"},null,-1),p("g",{transform:"scale(1,1) translate(0,0)",fill:"#000",stroke:"#000"},[p("path",{d:"M20,0h-15M20,8h-5M20,16h-5M20,24h-5M20,32h-5M20,40h-5M20,48h-10M20,56h-5M20,64h-5M20,72h-5M20,80h-5M20,88h-5M20,96h-15M20,104h-5M20,112h-5M20,120h-5M20,128h-5M20,136h-5M20,144h-10M20,152h-5M20,160h-5M20,168h-5M20,176h-5M20,184h-5M20,192h-15M20,200h-5M20,208h-5M20,216h-5M20,224h-5M20,232h-5M20,240h-10M20,248h-5M20,256h-5M20,264h-5M20,272h-5M20,280h-5M20,288h-15M20,296h-5M20,304h-5M20,312h-5M20,320h-5M20,328h-5M20,336h-10M20,344h-5M20,352h-5M20,360h-5M20,368h-5M20,376h-5M20,384h-15M20,392h-5M20,400h-5M20,408h-5M20,416h-5M20,424h-5M20,432h-10M20,440h-5M20,448h-5M20,456h-5M20,464h-5M20,472h-5M20,480h-15M20,488h-5M20,496h-5M20,504h-5M20,512h-5M20,520h-5M20,528h-10M20,536h-5M20,544h-5M20,552h-5M20,560h-5M20,568h-5M20,576h-15M20,584h-5M20,592h-5M20,600h-5M20,608h-5M20,616h-5M20,624h-10M20,632h-5M20,640h-5M20,648h-5M20,656h-5M20,664h-5M20,672h-15M20,680h-5M20,688h-5M20,696h-5M20,704h-5M20,712h-5M20,720h-10M20,728h-5M20,736h-5M20,744h-5M20,752h-5M20,760h-5M20,768h-15M20,776h-5M20,784h-5M20,792h-5M20,800h-5M20,808h-5M20,816h-10M20,824h-5M20,832h-5M20,840h-5M20,848h-5M20,856h-5M20,864h-15M20,872h-5M20,880h-5M20,888h-5M20,896h-5M20,904h-5M20,912h-10M20,920h-5M20,928h-5M20,936h-5M20,944h-5M20,952h-5M20,960h-15M20,968h-5M20,976h-5M20,984h-5M20,992h-5M20,1000h-5M20,1008h-10M20,1016h-5M20,1024h-5M20,1032h-5M20,1040h-5M20,1048h-5M20,1056h-15M20,1064h-5M20,1072h-5M20,1080h-5M20,1088h-5M20,1096h-5M20,1104h-10M20,1112h-5M20,1120h-5M20,1128h-5M20,1136h-5M20,1144h-5M20,1152h-15M20,1160h-5M20,1168h-5M20,1176h-5M20,1184h-5M20,1192h-5M20,1200h-10M20,1208h-5M20,1216h-5M20,1224h-5M20,1232h-5M20,1240h-5M20,1248h-15M20,1256h-5M20,1264h-5M20,1272h-5M20,1280h-5M20,1288h-5M20,1296h-10M20,1304h-5M20,1312h-5M20,1320h-5M20,1328h-5M20,1336h-5M20,1344h-15M20,1352h-5M20,1360h-5M20,1368h-5M20,1376h-5M20,1384h-5M20,1392h-10M20,1400h-5M20,1408h-5M20,1416h-5M20,1424h-5M20,1432h-5M20,1440h-15M20,1448h-5M20,1456h-5M20,1464h-5M20,1472h-5M20,1480h-5M20,1488h-10M20,1496h-5M20,1504h-5M20,1512h-5M20,1520h-5M20,1528h-5",fill:"none","stroke-width":"0.5","stroke-dasharray":"none"}),p("g",null,[p("g",{"stroke-dasharray":"none"},[p("path",{d:"M19.5,-0.5L20.5,-0.5L20.5,0.5L19.5,0.5z","stroke-width":"0",fill:"none"})])])],-1),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(3,2)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),p("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"0")]),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(3,98)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),p("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"2")]),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(3,194)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),p("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"4")]),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(3,290)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),p("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"6")]),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(3,386)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"5",height:"11.199999809265137"}),p("text",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"5"},"8")]),p("g",{width:"5",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,482)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"10")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,578)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"12")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,674)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"14")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,770)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"16")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,866)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"18")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,962)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"20")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,1058)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"22")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,1154)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"24")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,1250)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"26")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,1346)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"28")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(3,1442)"},[p("rect",{"stroke-width":"0",fill:"none",visibility:"hidden","no-export":"1",transform:"scale(1,1) translate(0,0)",width:"10",height:"11.199999809265137"}),p("text",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)","xml:space":"preserve"},[p("tspan",{"xml:space":"preserve","text-rendering":"optimizeSpeed",style:{"font-family":'"Arial", "Helvetica Neue", Helvetica, sans-serif'},"font-size":"10","font-weight":"normal","font-style":"normal","text-decoration":"none",fill:"#000",opacity:"1",x:"0","text-anchor":"start",y:"8.8",textLength:"10"},"30")]),p("g",{width:"10",height:"11.199999809265137",transform:"scale(1,1) translate(0,0)"})],-1)])],8,pr)}]]);const gr=i({name:"HVGrid",props:{bgColor:{type:String,default:"black"},documentArea:{type:Object,default:()=>{}}},setup:e=>(o((()=>{})),{})}),vr=["width","height"];var _r=At(gr,[["render",function(e,t,n,i,s,o){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/1999/xlink",style:{position:"relative",overflow:"hidden"},width:e.documentArea.hvGrid.width,height:e.documentArea.hvGrid.height},[...t[0]||(t[0]=[p("defs",null,null,-1),p("g",{transform:"scale(0.96,0.96) translate(0,0)","no-export":"1",opacity:"0"},null,-1),p("g",{transform:"scale(0.96,0.96) translate(0,0)","hvac-background":"1"},[p("g",{transform:"scale(1,1) translate(0,0)","stroke-width":"0","stroke-dasharray":"none",stroke:"none",fill:"none","no-export":"1",width:"1000",height:"750"},[p("rect",{width:"1000",height:"750"})])],-1),p("g",{transform:"scale(1,1) translate(0,0)","no-export":"1","hvac-grid":"1",style:{},"pointer-events":"none"},[p("g",{transform:"scale(1,1) translate(0,0)",fill:"#000",stroke:"#000","stroke-opacity":".2"},[p("path",{d:"M-1048,-768v2256M-1040,-768v2256M-1032,-768v2256M-1024,-768v2256M-1016,-768v2256M-1008,-768v2256M-1000,-768v2256M-992,-768v2256M-984,-768v2256M-976,-768v2256M-968,-768v2256M-952,-768v2256M-944,-768v2256M-936,-768v2256M-928,-768v2256M-920,-768v2256M-912,-768v2256M-904,-768v2256M-896,-768v2256M-888,-768v2256M-880,-768v2256M-872,-768v2256M-856,-768v2256M-848,-768v2256M-840,-768v2256M-832,-768v2256M-824,-768v2256M-816,-768v2256M-808,-768v2256M-800,-768v2256M-792,-768v2256M-784,-768v2256M-776,-768v2256M-760,-768v2256M-752,-768v2256M-744,-768v2256M-736,-768v2256M-728,-768v2256M-720,-768v2256M-712,-768v2256M-704,-768v2256M-696,-768v2256M-688,-768v2256M-680,-768v2256M-664,-768v2256M-656,-768v2256M-648,-768v2256M-640,-768v2256M-632,-768v2256M-624,-768v2256M-616,-768v2256M-608,-768v2256M-600,-768v2256M-592,-768v2256M-584,-768v2256M-568,-768v2256M-560,-768v2256M-552,-768v2256M-544,-768v2256M-536,-768v2256M-528,-768v2256M-520,-768v2256M-512,-768v2256M-504,-768v2256M-496,-768v2256M-488,-768v2256M-472,-768v2256M-464,-768v2256M-456,-768v2256M-448,-768v2256M-440,-768v2256M-432,-768v2256M-424,-768v2256M-416,-768v2256M-408,-768v2256M-400,-768v2256M-392,-768v2256M-376,-768v2256M-368,-768v2256M-360,-768v2256M-352,-768v2256M-344,-768v2256M-336,-768v2256M-328,-768v2256M-320,-768v2256M-312,-768v2256M-304,-768v2256M-296,-768v2256M-280,-768v2256M-272,-768v2256M-264,-768v2256M-256,-768v2256M-248,-768v2256M-240,-768v2256M-232,-768v2256M-224,-768v2256M-216,-768v2256M-208,-768v2256M-200,-768v2256M-184,-768v2256M-176,-768v2256M-168,-768v2256M-160,-768v2256M-152,-768v2256M-144,-768v2256M-136,-768v2256M-128,-768v2256M-120,-768v2256M-112,-768v2256M-104,-768v2256M-88,-768v2256M-80,-768v2256M-72,-768v2256M-64,-768v2256M-56,-768v2256M-48,-768v2256M-40,-768v2256M-32,-768v2256M-24,-768v2256M-16,-768v2256M-8,-768v2256M8,-768v2256M16,-768v2256M24,-768v2256M32,-768v2256M40,-768v2256M48,-768v2256M56,-768v2256M64,-768v2256M72,-768v2256M80,-768v2256M88,-768v2256M104,-768v2256M112,-768v2256M120,-768v2256M128,-768v2256M136,-768v2256M144,-768v2256M152,-768v2256M160,-768v2256M168,-768v2256M176,-768v2256M184,-768v2256M200,-768v2256M208,-768v2256M216,-768v2256M224,-768v2256M232,-768v2256M240,-768v2256M248,-768v2256M256,-768v2256M264,-768v2256M272,-768v2256M280,-768v2256M296,-768v2256M304,-768v2256M312,-768v2256M320,-768v2256M328,-768v2256M336,-768v2256M344,-768v2256M352,-768v2256M360,-768v2256M368,-768v2256M376,-768v2256M392,-768v2256M400,-768v2256M408,-768v2256M416,-768v2256M424,-768v2256M432,-768v2256M440,-768v2256M448,-768v2256M456,-768v2256M464,-768v2256M472,-768v2256M488,-768v2256M496,-768v2256M504,-768v2256M512,-768v2256M520,-768v2256M528,-768v2256M536,-768v2256M544,-768v2256M552,-768v2256M560,-768v2256M568,-768v2256M584,-768v2256M592,-768v2256M600,-768v2256M608,-768v2256M616,-768v2256M624,-768v2256M632,-768v2256M640,-768v2256M648,-768v2256M656,-768v2256M664,-768v2256M680,-768v2256M688,-768v2256M696,-768v2256M704,-768v2256M712,-768v2256M720,-768v2256M728,-768v2256M736,-768v2256M744,-768v2256M752,-768v2256M760,-768v2256M776,-768v2256M784,-768v2256M792,-768v2256M800,-768v2256M808,-768v2256M816,-768v2256M824,-768v2256M832,-768v2256M840,-768v2256M848,-768v2256M856,-768v2256M872,-768v2256M880,-768v2256M888,-768v2256M896,-768v2256M904,-768v2256M912,-768v2256M920,-768v2256M928,-768v2256M936,-768v2256M944,-768v2256M952,-768v2256M968,-768v2256M976,-768v2256M984,-768v2256M992,-768v2256M1000,-768v2256M1008,-768v2256M1016,-768v2256M1024,-768v2256M1032,-768v2256M1040,-768v2256M1048,-768v2256M1064,-768v2256M1072,-768v2256M1080,-768v2256M1088,-768v2256M1096,-768v2256M1104,-768v2256M1112,-768v2256M1120,-768v2256M1128,-768v2256M1136,-768v2256M1144,-768v2256M1160,-768v2256M1168,-768v2256M1176,-768v2256M1184,-768v2256M1192,-768v2256M1200,-768v2256M1208,-768v2256M1216,-768v2256M1224,-768v2256M1232,-768v2256M1240,-768v2256M1256,-768v2256M1264,-768v2256M1272,-768v2256M1280,-768v2256M1288,-768v2256M1296,-768v2256M1304,-768v2256M1312,-768v2256M1320,-768v2256M1328,-768v2256M1336,-768v2256M1352,-768v2256M1360,-768v2256M1368,-768v2256M1376,-768v2256M1384,-768v2256M1392,-768v2256M1400,-768v2256M1408,-768v2256M1416,-768v2256M1424,-768v2256M1432,-768v2256M1448,-768v2256M1456,-768v2256M1464,-768v2256M1472,-768v2256M1480,-768v2256M1488,-768v2256M1496,-768v2256M1504,-768v2256M1512,-768v2256M1520,-768v2256M1528,-768v2256M1544,-768v2256M1552,-768v2256M1560,-768v2256M1568,-768v2256M1576,-768v2256M1584,-768v2256M1592,-768v2256M1600,-768v2256M1608,-768v2256M1616,-768v2256M1624,-768v2256M1640,-768v2256M1648,-768v2256M1656,-768v2256M1664,-768v2256M1672,-768v2256M1680,-768v2256M1688,-768v2256M1696,-768v2256M1704,-768v2256M1712,-768v2256M1720,-768v2256M1736,-768v2256M1744,-768v2256M1752,-768v2256M1760,-768v2256M1768,-768v2256M1776,-768v2256M1784,-768v2256M1792,-768v2256M1800,-768v2256M1808,-768v2256M1816,-768v2256M1832,-768v2256M1840,-768v2256M1848,-768v2256M1856,-768v2256M1864,-768v2256M1872,-768v2256M1880,-768v2256M1888,-768v2256M1896,-768v2256M1904,-768v2256M1912,-768v2256M1928,-768v2256M1936,-768v2256M1944,-768v2256M1952,-768v2256M1960,-768v2256M1968,-768v2256M-1008,-760h2976M-1008,-752h2976M-1008,-744h2976M-1008,-736h2976M-1008,-728h2976M-1008,-720h2976M-1008,-712h2976M-1008,-704h2976M-1008,-696h2976M-1008,-688h2976M-1008,-680h2976M-1008,-664h2976M-1008,-656h2976M-1008,-648h2976M-1008,-640h2976M-1008,-632h2976M-1008,-624h2976M-1008,-616h2976M-1008,-608h2976M-1008,-600h2976M-1008,-592h2976M-1008,-584h2976M-1008,-568h2976M-1008,-560h2976M-1008,-552h2976M-1008,-544h2976M-1008,-536h2976M-1008,-528h2976M-1008,-520h2976M-1008,-512h2976M-1008,-504h2976M-1008,-496h2976M-1008,-488h2976M-1008,-472h2976M-1008,-464h2976M-1008,-456h2976M-1008,-448h2976M-1008,-440h2976M-1008,-432h2976M-1008,-424h2976M-1008,-416h2976M-1008,-408h2976M-1008,-400h2976M-1008,-392h2976M-1008,-376h2976M-1008,-368h2976M-1008,-360h2976M-1008,-352h2976M-1008,-344h2976M-1008,-336h2976M-1008,-328h2976M-1008,-320h2976M-1008,-312h2976M-1008,-304h2976M-1008,-296h2976M-1008,-280h2976M-1008,-272h2976M-1008,-264h2976M-1008,-256h2976M-1008,-248h2976M-1008,-240h2976M-1008,-232h2976M-1008,-224h2976M-1008,-216h2976M-1008,-208h2976M-1008,-200h2976M-1008,-184h2976M-1008,-176h2976M-1008,-168h2976M-1008,-160h2976M-1008,-152h2976M-1008,-144h2976M-1008,-136h2976M-1008,-128h2976M-1008,-120h2976M-1008,-112h2976M-1008,-104h2976M-1008,-88h2976M-1008,-80h2976M-1008,-72h2976M-1008,-64h2976M-1008,-56h2976M-1008,-48h2976M-1008,-40h2976M-1008,-32h2976M-1008,-24h2976M-1008,-16h2976M-1008,-8h2976M-1008,8h2976M-1008,16h2976M-1008,24h2976M-1008,32h2976M-1008,40h2976M-1008,48h2976M-1008,56h2976M-1008,64h2976M-1008,72h2976M-1008,80h2976M-1008,88h2976M-1008,104h2976M-1008,112h2976M-1008,120h2976M-1008,128h2976M-1008,136h2976M-1008,144h2976M-1008,152h2976M-1008,160h2976M-1008,168h2976M-1008,176h2976M-1008,184h2976M-1008,200h2976M-1008,208h2976M-1008,216h2976M-1008,224h2976M-1008,232h2976M-1008,240h2976M-1008,248h2976M-1008,256h2976M-1008,264h2976M-1008,272h2976M-1008,280h2976M-1008,296h2976M-1008,304h2976M-1008,312h2976M-1008,320h2976M-1008,328h2976M-1008,336h2976M-1008,344h2976M-1008,352h2976M-1008,360h2976M-1008,368h2976M-1008,376h2976M-1008,392h2976M-1008,400h2976M-1008,408h2976M-1008,416h2976M-1008,424h2976M-1008,432h2976M-1008,440h2976M-1008,448h2976M-1008,456h2976M-1008,464h2976M-1008,472h2976M-1008,488h2976M-1008,496h2976M-1008,504h2976M-1008,512h2976M-1008,520h2976M-1008,528h2976M-1008,536h2976M-1008,544h2976M-1008,552h2976M-1008,560h2976M-1008,568h2976M-1008,584h2976M-1008,592h2976M-1008,600h2976M-1008,608h2976M-1008,616h2976M-1008,624h2976M-1008,632h2976M-1008,640h2976M-1008,648h2976M-1008,656h2976M-1008,664h2976M-1008,680h2976M-1008,688h2976M-1008,696h2976M-1008,704h2976M-1008,712h2976M-1008,720h2976M-1008,728h2976M-1008,736h2976M-1008,744h2976M-1008,752h2976M-1008,760h2976M-1008,776h2976M-1008,784h2976M-1008,792h2976M-1008,800h2976M-1008,808h2976M-1008,816h2976M-1008,824h2976M-1008,832h2976M-1008,840h2976M-1008,848h2976M-1008,856h2976M-1008,872h2976M-1008,880h2976M-1008,888h2976M-1008,896h2976M-1008,904h2976M-1008,912h2976M-1008,920h2976M-1008,928h2976M-1008,936h2976M-1008,944h2976M-1008,952h2976M-1008,968h2976M-1008,976h2976M-1008,984h2976M-1008,992h2976M-1008,1000h2976M-1008,1008h2976M-1008,1016h2976M-1008,1024h2976M-1008,1032h2976M-1008,1040h2976M-1008,1048h2976M-1008,1064h2976M-1008,1072h2976M-1008,1080h2976M-1008,1088h2976M-1008,1096h2976M-1008,1104h2976M-1008,1112h2976M-1008,1120h2976M-1008,1128h2976M-1008,1136h2976M-1008,1144h2976M-1008,1160h2976M-1008,1168h2976M-1008,1176h2976M-1008,1184h2976M-1008,1192h2976M-1008,1200h2976M-1008,1208h2976M-1008,1216h2976M-1008,1224h2976M-1008,1232h2976M-1008,1240h2976M-1008,1256h2976M-1008,1264h2976M-1008,1272h2976M-1008,1280h2976M-1008,1288h2976M-1008,1296h2976M-1008,1304h2976M-1008,1312h2976M-1008,1320h2976M-1008,1328h2976M-1008,1336h2976M-1008,1352h2976M-1008,1360h2976M-1008,1368h2976M-1008,1376h2976M-1008,1384h2976M-1008,1392h2976M-1008,1400h2976M-1008,1408h2976M-1008,1416h2976M-1008,1424h2976M-1008,1432h2976M-1008,1448h2976M-1008,1456h2976M-1008,1464h2976M-1008,1472h2976M-1008,1480h2976M-1008,1488h2976",fill:"none","stroke-width":"0.5","stroke-dasharray":"none"}),p("g",null,[p("g",{"stroke-dasharray":"none"},[p("path",{d:"M-1048.5,-768.5L-1047.5,-768.5L-1047.5,-767.5L-1048.5,-767.5z","stroke-width":"0",fill:"none"})])])]),p("g",{transform:"scale(1,1) translate(0,0)",fill:"#000",stroke:"#000","stroke-opacity":".4"},[p("path",{d:"M-1056,-768v2256M-960,-768v2256M-864,-768v2256M-768,-768v2256M-672,-768v2256M-576,-768v2256M-480,-768v2256M-384,-768v2256M-288,-768v2256M-192,-768v2256M-96,-768v2256M0,-768v2256M96,-768v2256M192,-768v2256M288,-768v2256M384,-768v2256M480,-768v2256M576,-768v2256M672,-768v2256M768,-768v2256M864,-768v2256M960,-768v2256M1056,-768v2256M1152,-768v2256M1248,-768v2256M1344,-768v2256M1440,-768v2256M1536,-768v2256M1632,-768v2256M1728,-768v2256M1824,-768v2256M1920,-768v2256M-1008,-768h2976M-1008,-672h2976M-1008,-576h2976M-1008,-480h2976M-1008,-384h2976M-1008,-288h2976M-1008,-192h2976M-1008,-96h2976M-1008,0h2976M-1008,96h2976M-1008,192h2976M-1008,288h2976M-1008,384h2976M-1008,480h2976M-1008,576h2976M-1008,672h2976M-1008,768h2976M-1008,864h2976M-1008,960h2976M-1008,1056h2976M-1008,1152h2976M-1008,1248h2976M-1008,1344h2976M-1008,1440h2976",fill:"none","stroke-width":"0.5","stroke-dasharray":"none"}),p("g",null,[p("g",{"stroke-dasharray":"none"},[p("path",{d:"M-1056.5,-768.5L-1055.5,-768.5L-1055.5,-767.5L-1056.5,-767.5z","stroke-width":"0",fill:"none"})])])])],-1),p("g",{transform:"scale(1,1) translate(0,0)","no-export":"1",style:{display:"none"}},[p("g",{transform:"scale(1,1) translate(0,0)",fill:"#000088",stroke:"#000088","stroke-opacity":".6"},[p("path",{d:"M0,0",fill:"none","stroke-dasharray":"5,2","stroke-width":"0.5"}),p("g")])],-1),p("g",{transform:"scale(0.96,0.96) translate(0,0)"},null,-1),p("g",{transform:"scale(0.96,0.96) translate(0,0)","no-export":"1"},null,-1),p("g",{transform:"scale(0.96,0.96) translate(0,0)","no-export":"1"},null,-1),p("g",{transform:"scale(0.96,0.96) translate(0,0)","no-export":"1"},null,-1)])],8,vr)}]]);const yr={},wr=[];function br(e,t){if(Array.isArray(e))for(const n of e)br(n,t);else if("object"!=typeof e)Mr(Object.getOwnPropertyNames(t)),yr[e]=Object.assign(yr[e]||{},t);else for(const n in e)br(n,e[n])}function xr(e){return yr[e]||{}}function Mr(e){wr.push(...e)}function kr(e,t){let n;const i=e.length,r=[];for(n=0;n<i;n++)r.push(t(e[n]));return r}function Cr(e,t){let n;const i=e.length,r=[];for(n=0;n<i;n++)t(e[n])&&r.push(e[n]);return r}function Sr(e){return e%360*Math.PI/180}function Er(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Dr(e,t,n,i){return null!=t&&null!=n||(i=i||e.bbox(),null==t?t=i.width/i.height*n:null==n&&(n=i.height/i.width*t)),{width:t,height:n}}function Tr(e,t){const n=e.origin;let i=null!=e.ox?e.ox:null!=e.originX?e.originX:"center",r=null!=e.oy?e.oy:null!=e.originY?e.originY:"center";null!=n&&([i,r]=Array.isArray(n)?n:"object"==typeof n?[n.x,n.y]:[n,n]);const a="string"==typeof i,s="string"==typeof r;if(a||s){const{height:e,width:n,x:o,y:l}=t.bbox();a&&(i=i.includes("left")?o:i.includes("right")?o+n:o+n/2),s&&(r=r.includes("top")?l:r.includes("bottom")?l+e:l+e/2)}return[i,r]}const Ir=new Set(["desc","metadata","title"]),Ar=e=>Ir.has(e.nodeName),Pr=(e,t,n={})=>{const i={...t};for(const r in i)i[r].valueOf()===n[r]&&delete i[r];Object.keys(i).length?e.node.setAttribute("data-svgjs",JSON.stringify(i)):(e.node.removeAttribute("data-svgjs"),e.node.removeAttribute("svgjs:data"))},Or="http://www.w3.org/2000/svg",Nr="http://www.w3.org/2000/xmlns/",Lr="http://www.w3.org/1999/xlink",zr={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class Rr{}const Fr={},Hr="___SYMBOL___ROOT___";function jr(e,t=Or){return zr.document.createElementNS(t,e)}function Vr(e,t=!1){if(e instanceof Rr)return e;if("object"==typeof e)return Wr(e);if(null==e)return new Fr[Hr];if("string"==typeof e&&"<"!==e.charAt(0))return Wr(zr.document.querySelector(e));const n=t?zr.document.createElement("div"):jr("svg");return n.innerHTML=e,e=Wr(n.firstChild),n.removeChild(n.firstChild),e}function Br(e,t){return t&&(t instanceof zr.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:jr(e)}function Ur(e){if(!e)return null;if(e.instance instanceof Rr)return e.instance;if("#document-fragment"===e.nodeName)return new Fr.Fragment(e);let t=Er(e.nodeName||"Dom");return"LinearGradient"===t||"RadialGradient"===t?t="Gradient":Fr[t]||(t="Dom"),new Fr[t](e)}let Wr=Ur;function $r(e,t=e.name,n=!1){return Fr[t]=e,n&&(Fr[Hr]=e),Mr(Object.getOwnPropertyNames(e.prototype)),e}let Gr=1e3;function Yr(e){return"Svgjs"+Er(e)+Gr++}function qr(e){for(let t=e.children.length-1;t>=0;t--)qr(e.children[t]);return e.id?(e.id=Yr(e.nodeName),e):e}function Xr(e,t){let n,i;for(i=(e=Array.isArray(e)?e:[e]).length-1;i>=0;i--)for(n in t)e[i].prototype[n]=t[n]}function Zr(e){return function(...t){const n=t[t.length-1];return!n||n.constructor!==Object||n instanceof Array?e.apply(this,t):e.apply(this,t.slice(0,-1)).attr(n)}}br("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const e=this.position();return this.parent().add(this.remove(),e+1),this},backward:function(){const e=this.position();return this.parent().add(this.remove(),e?e-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(e){(e=Vr(e)).remove();const t=this.position();return this.parent().add(e,t),this},after:function(e){(e=Vr(e)).remove();const t=this.position();return this.parent().add(e,t+1),this},insertBefore:function(e){return(e=Vr(e)).before(this),this},insertAfter:function(e){return(e=Vr(e)).after(this),this}});const Jr=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Kr=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Qr=/rgb\((\d+),(\d+),(\d+)\)/,ea=/(#[a-z_][a-z0-9\-_]*)/i,ta=/\)\s*,?\s*/,na=/\s/g,ia=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ra=/^rgb\(/,aa=/^(\s+)?$/,sa=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oa=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,la=/[\s,]+/,ua=/[MLHVCSQTAZ]/i;function ca(e){const t=Math.round(e),n=Math.max(0,Math.min(255,t)).toString(16);return 1===n.length?"0"+n:n}function da(e,t){for(let n=t.length;n--;)if(null==e[t[n]])return!1;return!0}function ha(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}br("Dom",{classes:function(){const e=this.attr("class");return null==e?[]:e.trim().split(la)},hasClass:function(e){return-1!==this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){const t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter((function(t){return t!==e})).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}}),br("Dom",{css:function(e,t){const n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(e){return!!e.length})).forEach((function(e){const t=e.split(/\s*:\s*/);n[t[0]]=t[1]})),n;if(arguments.length<2){if(Array.isArray(e)){for(const t of e){const e=t;n[t]=this.node.style.getPropertyValue(e)}return n}if("string"==typeof e)return this.node.style.getPropertyValue(e);if("object"==typeof e)for(const t in e)this.node.style.setProperty(t,null==e[t]||aa.test(e[t])?"":e[t])}return 2===arguments.length&&this.node.style.setProperty(e,null==t||aa.test(t)?"":t),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),br("Dom",{data:function(e,t,n){if(null==e)return this.data(kr(Cr(this.node.attributes,(e=>0===e.nodeName.indexOf("data-"))),(e=>e.nodeName.slice(5))));if(e instanceof Array){const t={};for(const n of e)t[n]=this.data(n);return t}if("object"==typeof e)for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch(i){return this.attr("data-"+e)}else this.attr("data-"+e,null===t?null:!0===n||"string"==typeof t||"number"==typeof t?t:JSON.stringify(t));return this}}),br("Dom",{remember:function(e,t){if("object"==typeof arguments[0])for(const n in e)this.remember(n,e[n]);else{if(1===arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory=this._memory||{}}});class fa{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof fa||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b}static random(e="vibrant",t){const{random:n,round:i,sin:r,PI:a}=Math;if("vibrant"===e){const e=24*n()+57,t=38*n()+45,i=360*n();return new fa(e,t,i,"lch")}if("sine"===e){const e=i(80*r(2*a*(t=null==t?n():t)/.5+.01)+150),s=i(50*r(2*a*t/.5+4.6)+200),o=i(100*r(2*a*t/.5+2.3)+150);return new fa(e,s,o)}if("pastel"===e){const e=8*n()+86,t=17*n()+9,i=360*n();return new fa(e,t,i,"lch")}if("dark"===e){const e=10+10*n(),t=50*n()+86,i=360*n();return new fa(e,t,i,"lch")}if("rgb"===e){const e=255*n(),t=255*n(),i=255*n();return new fa(e,t,i)}if("lab"===e){const e=100*n(),t=256*n()-128,i=256*n()-128;return new fa(e,t,i,"lab")}if("grey"===e){const e=255*n();return new fa(e,e,e)}throw new Error("Unsupported random color mode")}static test(e){return"string"==typeof e&&(ia.test(e)||ra.test(e))}cmyk(){const{_a:e,_b:t,_c:n}=this.rgb(),[i,r,a]=[e,t,n].map((e=>e/255)),s=Math.min(1-i,1-r,1-a);if(1===s)return new fa(0,0,0,1,"cmyk");return new fa((1-i-s)/(1-s),(1-r-s)/(1-s),(1-a-s)/(1-s),s,"cmyk")}hsl(){const{_a:e,_b:t,_c:n}=this.rgb(),[i,r,a]=[e,t,n].map((e=>e/255)),s=Math.max(i,r,a),o=Math.min(i,r,a),l=(s+o)/2,u=s===o,c=s-o;return new fa(360*(u?0:s===i?((r-a)/c+(r<a?6:0))/6:s===r?((a-i)/c+2)/6:s===a?((i-r)/c+4)/6:0),100*(u?0:l>.5?c/(2-s-o):c/(s+o)),100*l,"hsl")}init(e=0,t=0,n=0,i=0,r="rgb"){if(e=e||0,this.space)for(const d in this.space)delete this[this.space[d]];if("number"==typeof e)r="string"==typeof i?i:r,i="string"==typeof i?0:i,Object.assign(this,{_a:e,_b:t,_c:n,_d:i,space:r});else if(e instanceof Array)this.space=t||("string"==typeof e[3]?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const n=function(e,t){const n=da(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:da(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:da(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:da(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:da(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:da(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}(e,t);Object.assign(this,n)}else if("string"==typeof e)if(ra.test(e)){const t=e.replace(na,""),[n,i,r]=Qr.exec(t).slice(1,4).map((e=>parseInt(e)));Object.assign(this,{_a:n,_b:i,_c:r,_d:0,space:"rgb"})}else{if(!ia.test(e))throw Error("Unsupported string format, can't construct Color");{const t=e=>parseInt(e,16),[,n,i,r]=Kr.exec((a=e,4===a.length?["#",a.substring(1,2),a.substring(1,2),a.substring(2,3),a.substring(2,3),a.substring(3,4),a.substring(3,4)].join(""):a)).map(t);Object.assign(this,{_a:n,_b:i,_c:r,_d:0,space:"rgb"})}}var a;const{_a:s,_b:o,_c:l,_d:u}=this,c="rgb"===this.space?{r:s,g:o,b:l}:"xyz"===this.space?{x:s,y:o,z:l}:"hsl"===this.space?{h:s,s:o,l:l}:"lab"===this.space?{l:s,a:o,b:l}:"lch"===this.space?{l:s,c:o,h:l}:"cmyk"===this.space?{c:s,m:o,y:l,k:u}:{};Object.assign(this,c)}lab(){const{x:e,y:t,z:n}=this.xyz();return new fa(116*t-16,500*(e-t),200*(t-n),"lab")}lch(){const{l:e,a:t,b:n}=this.lab(),i=Math.sqrt(t**2+n**2);let r=180*Math.atan2(n,t)/Math.PI;r<0&&(r*=-1,r=360-r);return new fa(e,i,r,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(e=this.space)||"xyz"===e||"lch"===e){let{x:e,y:t,z:n}=this;if("lab"===this.space||"lch"===this.space){let{l:i,a:r,b:a}=this;if("lch"===this.space){const{c:e,h:t}=this,n=Math.PI/180;r=e*Math.cos(n*t),a=e*Math.sin(n*t)}const s=(i+16)/116,o=r/500+s,l=s-a/200,u=16/116,c=.008856,d=7.787;e=.95047*(o**3>c?o**3:(o-u)/d),t=1*(s**3>c?s**3:(s-u)/d),n=1.08883*(l**3>c?l**3:(l-u)/d)}const i=3.2406*e+-1.5372*t+-.4986*n,r=-.9689*e+1.8758*t+.0415*n,a=.0557*e+-.204*t+1.057*n,s=Math.pow,o=.0031308,l=i>o?1.055*s(i,1/2.4)-.055:12.92*i,u=r>o?1.055*s(r,1/2.4)-.055:12.92*r,c=a>o?1.055*s(a,1/2.4)-.055:12.92*a;return new fa(255*l,255*u,255*c)}if("hsl"===this.space){let{h:e,s:t,l:n}=this;if(e/=360,t/=100,n/=100,0===t){n*=255;return new fa(n,n,n)}const i=n<.5?n*(1+t):n+t-n*t,r=2*n-i,a=255*ha(r,i,e+1/3),s=255*ha(r,i,e),o=255*ha(r,i,e-1/3);return new fa(a,s,o)}if("cmyk"===this.space){const{c:e,m:t,y:n,k:i}=this,r=255*(1-Math.min(1,e*(1-i)+i)),a=255*(1-Math.min(1,t*(1-i)+i)),s=255*(1-Math.min(1,n*(1-i)+i));return new fa(r,a,s)}return this;var e}toArray(){const{_a:e,_b:t,_c:n,_d:i,space:r}=this;return[e,t,n,i,r]}toHex(){const[e,t,n]=this._clamped().map(ca);return`#${e}${t}${n}`}toRgb(){const[e,t,n]=this._clamped();return`rgb(${e},${t},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:n}=this.rgb(),[i,r,a]=[e,t,n].map((e=>e/255)),s=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,o=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,u=(.4124*s+.3576*o+.1805*l)/.95047,c=(.2126*s+.7152*o+.0722*l)/1,d=(.0193*s+.1192*o+.9505*l)/1.08883,h=u>.008856?Math.pow(u,1/3):7.787*u+16/116,f=c>.008856?Math.pow(c,1/3):7.787*c+16/116,p=d>.008856?Math.pow(d,1/3):7.787*d+16/116;return new fa(h,f,p,"xyz")}_clamped(){const{_a:e,_b:t,_c:n}=this.rgb(),{max:i,min:r,round:a}=Math;return[e,t,n].map((e=>i(0,r(a(e),255))))}}class pa{constructor(...e){this.init(...e)}clone(){return new pa(this)}init(e,t){const n=0,i=0,r=Array.isArray(e)?{x:e[0],y:e[1]}:"object"==typeof e?{x:e.x,y:e.y}:{x:e,y:t};return this.x=null==r.x?n:r.x,this.y=null==r.y?i:r.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){ga.isMatrixLike(e)||(e=new ga(e));const{x:t,y:n}=this;return this.x=e.a*t+e.c*n+e.e,this.y=e.b*t+e.d*n+e.f,this}}function ma(e,t,n){return Math.abs(t-e)<(n||1e-6)}class ga{constructor(...e){this.init(...e)}static formatTransforms(e){const t="both"===e.flip||!0===e.flip,n=e.flip&&(t||"x"===e.flip)?-1:1,i=e.flip&&(t||"y"===e.flip)?-1:1,r=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,a=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,s=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,o=e.scale&&e.scale.length?e.scale[1]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleY)?e.scaleY*i:i,l=e.shear||0,u=e.rotate||e.theta||0,c=new pa(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),d=c.x,h=c.y,f=new pa(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),p=f.x,m=f.y,g=new pa(e.translate||e.tx||e.translateX,e.ty||e.translateY),v=g.x,_=g.y,y=new pa(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:s,scaleY:o,skewX:r,skewY:a,shear:l,theta:u,rx:y.x,ry:y.y,tx:v,ty:_,ox:d,oy:h,px:p,py:m}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return null!=e.a||null!=e.b||null!=e.c||null!=e.d||null!=e.e||null!=e.f}static matrixMultiply(e,t,n){const i=e.a*t.a+e.c*t.b,r=e.b*t.a+e.d*t.b,a=e.a*t.c+e.c*t.d,s=e.b*t.c+e.d*t.d,o=e.e+e.a*t.e+e.c*t.f,l=e.f+e.b*t.e+e.d*t.f;return n.a=i,n.b=r,n.c=a,n.d=s,n.e=o,n.f=l,n}around(e,t,n){return this.clone().aroundO(e,t,n)}aroundO(e,t,n){const i=e||0,r=t||0;return this.translateO(-i,-r).lmultiplyO(n).translateO(i,r)}clone(){return new ga(this)}decompose(e=0,t=0){const n=this.a,i=this.b,r=this.c,a=this.d,s=this.e,o=this.f,l=n*a-i*r,u=l>0?1:-1,c=u*Math.sqrt(n*n+i*i),d=Math.atan2(u*i,u*n),h=180/Math.PI*d,f=Math.cos(d),p=Math.sin(d),m=(n*r+i*a)/l,g=r*c/(m*n-i)||a*c/(m*i+n);return{scaleX:c,scaleY:g,shear:m,rotate:h,translateX:s-e+e*f*c+t*(m*f*c-p*g),translateY:o-t+e*p*c+t*(m*p*c+f*g),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new ga(e);return ma(this.a,t.a)&&ma(this.b,t.b)&&ma(this.c,t.c)&&ma(this.d,t.d)&&ma(this.e,t.e)&&ma(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return"x"===e?this.scaleO(-1,1,t,0):"y"===e?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=ga.fromArray([1,0,0,1,0,0]);return e=e instanceof Va?e.matrixify():"string"==typeof e?ga.fromArray(e.split(la).map(parseFloat)):Array.isArray(e)?ga.fromArray(e):"object"==typeof e&&ga.isMatrixLike(e)?e:"object"==typeof e?(new ga).transform(e):6===arguments.length?ga.fromArray([].slice.call(arguments)):t,this.a=null!=e.a?e.a:t.a,this.b=null!=e.b?e.b:t.b,this.c=null!=e.c?e.c:t.c,this.d=null!=e.d?e.d:t.d,this.e=null!=e.e?e.e:t.e,this.f=null!=e.f?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,n=this.c,i=this.d,r=this.e,a=this.f,s=e*i-t*n;if(!s)throw new Error("Cannot invert "+this);const o=i/s,l=-t/s,u=-n/s,c=e/s,d=-(o*r+u*a),h=-(l*r+c*a);return this.a=o,this.b=l,this.c=u,this.d=c,this.e=d,this.f=h,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof ga?e:new ga(e);return ga.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof ga?e:new ga(e);return ga.matrixMultiply(this,t,this)}rotate(e,t,n){return this.clone().rotateO(e,t,n)}rotateO(e,t=0,n=0){e=Sr(e);const i=Math.cos(e),r=Math.sin(e),{a:a,b:s,c:o,d:l,e:u,f:c}=this;return this.a=a*i-s*r,this.b=s*i+a*r,this.c=o*i-l*r,this.d=l*i+o*r,this.e=u*i-c*r+n*r-t*i+t,this.f=c*i+u*r-t*r-n*i+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,n=0,i=0){3===arguments.length&&(i=n,n=t,t=e);const{a:r,b:a,c:s,d:o,e:l,f:u}=this;return this.a=r*e,this.b=a*t,this.c=s*e,this.d=o*t,this.e=l*e-n*e+n,this.f=u*t-i*t+i,this}shear(e,t,n){return this.clone().shearO(e,t,n)}shearO(e,t=0,n=0){const{a:i,b:r,c:a,d:s,e:o,f:l}=this;return this.a=i+r*e,this.c=a+s*e,this.e=o+l*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,n=0,i=0){3===arguments.length&&(i=n,n=t,t=e),e=Sr(e),t=Sr(t);const r=Math.tan(e),a=Math.tan(t),{a:s,b:o,c:l,d:u,e:c,f:d}=this;return this.a=s+o*r,this.b=o+s*a,this.c=l+u*r,this.d=u+l*a,this.e=c+d*r-i*r,this.f=d+c*a-n*a,this}skewX(e,t,n){return this.skew(e,0,t,n)}skewY(e,t,n){return this.skew(0,e,t,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(ga.isMatrixLike(e)){return new ga(e).multiplyO(this)}const t=ga.formatTransforms(e),{x:n,y:i}=new pa(t.ox,t.oy).transform(this),r=(new ga).translateO(t.rx,t.ry).lmultiplyO(this).translateO(-n,-i).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(n,i);if(isFinite(t.px)||isFinite(t.py)){const e=new pa(n,i).transform(r),a=isFinite(t.px)?t.px-e.x:0,s=isFinite(t.py)?t.py-e.y:0;r.translateO(a,s)}return r.translateO(t.tx,t.ty),r}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function va(){if(!va.nodes){const e=Vr().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");const t=e.path().node;va.nodes={svg:e,path:t}}if(!va.nodes.svg.node.parentNode){const e=zr.document.body||zr.document.documentElement;va.nodes.svg.addTo(e)}return va.nodes}function _a(e){return!(e.width||e.height||e.x||e.y)}$r(ga,"Matrix");class ya{constructor(...e){this.init(...e)}addOffset(){return this.x+=zr.window.pageXOffset,this.y+=zr.window.pageYOffset,new ya(this)}init(e){return e="string"==typeof e?e.split(la).map(parseFloat):Array.isArray(e)?e:"object"==typeof e?[null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return _a(this)}merge(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-t,r=Math.max(this.y+this.height,e.y+e.height)-n;return new ya(t,n,i,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof ga||(e=new ga(e));let t=1/0,n=-1/0,i=1/0,r=-1/0;return[new pa(this.x,this.y),new pa(this.x2,this.y),new pa(this.x,this.y2),new pa(this.x2,this.y2)].forEach((function(a){a=a.transform(e),t=Math.min(t,a.x),n=Math.max(n,a.x),i=Math.min(i,a.y),r=Math.max(r,a.y)})),new ya(t,i,n-t,r-i)}}function wa(e,t,n){let i;try{if(i=t(e.node),_a(i)&&((r=e.node)!==zr.document&&!(zr.document.documentElement.contains||function(e){for(;e.parentNode;)e=e.parentNode;return e===zr.document}).call(zr.document.documentElement,r)))throw new Error("Element not in the dom")}catch(a){i=n(e)}var r;return i}br({viewbox:{viewbox(e,t,n,i){return null==e?new ya(this.attr("viewBox")):this.attr("viewBox",new ya(e,t,n,i))},zoom(e,t){let{width:n,height:i}=this.attr(["width","height"]);if((n||i)&&"string"!=typeof n&&"string"!=typeof i||(n=this.node.clientWidth,i=this.node.clientHeight),!n||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const r=this.viewbox(),a=n/r.width,s=i/r.height,o=Math.min(a,s);if(null==e)return o;let l=o/e;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),t=t||new pa(n/2/a+r.x,i/2/s+r.y);const u=new ya(r).transform(new ga({scale:l,origin:t}));return this.viewbox(u)}}}),$r(ya,"Box");class ba extends Array{constructor(e=[],...t){if(super(e,...t),"number"==typeof e)return this;this.length=0,this.push(...e)}}Xr([ba],{each(e,...t){return"function"==typeof e?this.map(((t,n,i)=>e.call(t,t,n,i))):this.map((n=>n[e](...t)))},toArray(){return Array.prototype.concat.apply([],this)}});const xa=["toArray","constructor","each"];function Ma(e,t){return new ba(kr((t||zr.document).querySelectorAll(e),(function(e){return Ur(e)})))}ba.extend=function(e){e=e.reduce(((e,t)=>(xa.includes(t)||"_"===t[0]||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...e){return this.each(t,...e)}),e)),{}),Xr([ba],e)};let ka=0;const Ca={};function Sa(e){let t=e.getEventHolder();return t===zr.window&&(t=Ca),t.events||(t.events={}),t.events}function Ea(e){return e.getEventTarget()}function Da(e,t,n,i,r){const a=n.bind(i||e),s=Vr(e),o=Sa(s),l=Ea(s);t=Array.isArray(t)?t:t.split(la),n._svgjsListenerId||(n._svgjsListenerId=++ka),t.forEach((function(e){const t=e.split(".")[0],i=e.split(".")[1]||"*";o[t]=o[t]||{},o[t][i]=o[t][i]||{},o[t][i][n._svgjsListenerId]=a,l.addEventListener(t,a,r||!1)}))}function Ta(e,t,n,i){const r=Vr(e),a=Sa(r),s=Ea(r);("function"!=typeof n||(n=n._svgjsListenerId))&&(t=Array.isArray(t)?t:(t||"").split(la)).forEach((function(e){const t=e&&e.split(".")[0],o=e&&e.split(".")[1];let l,u;if(n)a[t]&&a[t][o||"*"]&&(s.removeEventListener(t,a[t][o||"*"][n],i||!1),delete a[t][o||"*"][n]);else if(t&&o){if(a[t]&&a[t][o]){for(u in a[t][o])Ta(s,[t,o].join("."),u);delete a[t][o]}}else if(o)for(e in a)for(l in a[e])o===l&&Ta(s,[e,o].join("."));else if(t){if(a[t]){for(l in a[t])Ta(s,[t,l].join("."));delete a[t]}}else{for(e in a)Ta(s,e);!function(e){let t=e.getEventHolder();t===zr.window&&(t=Ca),t.events&&(t.events={})}(r)}}))}class Ia extends Rr{addEventListener(){}dispatch(e,t,n){return function(e,t,n,i){const r=Ea(e);return t instanceof zr.window.Event||(t=new zr.window.CustomEvent(t,{detail:n,cancelable:!0,...i})),r.dispatchEvent(t),t}(this,e,t,n)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const n=t[e.type];for(const i in n)for(const t in n[i])n[i][t](e);return!e.defaultPrevented}fire(e,t,n){return this.dispatch(e,t,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,n){return Ta(this,e,t,n),this}on(e,t,n,i){return Da(this,e,t,n,i),this}removeEventListener(){}}function Aa(){}$r(Ia,"EventTarget");const Pa=400,Oa=">",Na=0,La={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class za extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return"number"==typeof e||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(la).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class Ra{constructor(...e){this.init(...e)}convert(e){return new Ra(this.value,e)}divide(e){return e=new Ra(e),new Ra(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(Jr))&&(this.value=parseFloat(t[1]),"%"===t[5]?this.value/=100:"s"===t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof Ra&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Ra(e),new Ra(this-e,this.unit||e.unit)}plus(e){return e=new Ra(e),new Ra(this+e,this.unit||e.unit)}times(e){return e=new Ra(e),new Ra(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Fa=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Ha=[];class ja extends Ia{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=Vr(e)).removeNamespace&&this.node instanceof zr.window.SVGElement&&e.removeNamespace(),null==t?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return Vr(e).put(this,t)}children(){return new ba(kr(this.node.children,(function(e){return Ur(e)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return t&&(n=qr(n)),new this.constructor(n)}each(e,t){const n=this.children();let i,r;for(i=0,r=n.length;i<r;i++)e.apply(n[i],[i,n]),t&&n[i].each(e,t);return this}element(e,t){return this.put(new ja(jr(e),t))}first(){return Ur(this.node.firstChild)}get(e){return Ur(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return void 0!==e||this.node.id||(this.node.id=Yr(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Ur(this.node.lastChild)}matches(e){const t=this.node,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return n&&n.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Ur(t.node.parentNode),!e)return t;do{if("string"==typeof e?t.matches(e):t instanceof e)return t}while(t=Ur(t.node.parentNode));return t}put(e,t){return e=Vr(e),this.add(e,t),e}putIn(e,t){return Vr(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=Vr(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const n=10**e,i=this.attr(t);for(const r in i)"number"==typeof i[r]&&(i[r]=Math.round(i[r]*n)/n);return this.attr(i),this}svg(e,t){return this.xml(e,t,Or)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const n=t.index(this);return t.put(e,n).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(e,t,n){if("boolean"==typeof e&&(n=t,t=e,e=null),null==e||"function"==typeof e){t=null==t||t,this.writeDataToDom();let n=this;if(null!=e){if(n=Ur(n.node.cloneNode(!0)),t){const t=e(n);if(n=t||n,!1===t)return""}n.each((function(){const t=e(this),n=t||this;!1===t?this.remove():t&&this!==n&&this.replace(n)}),!0)}return t?n.node.outerHTML:n.node.innerHTML}t=null!=t&&t;const i=jr("wrapper",n),r=zr.document.createDocumentFragment();i.innerHTML=e;for(let s=i.children.length;s--;)r.appendChild(i.firstElementChild);const a=this.parent();return t?this.replace(r)&&a:this.add(r)}}Xr(ja,{attr:function(e,t,n){if(null==e){e={},t=this.node.attributes;for(const n of t)e[n.nodeName]=sa.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return e}if(e instanceof Array)return e.reduce(((e,t)=>(e[t]=this.attr(t),e)),{});if("object"==typeof e&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?La[e]:sa.test(t)?parseFloat(t):t;"number"==typeof(t=Ha.reduce(((t,n)=>n(e,t,this)),t))?t=new Ra(t):Fa.has(e)&&fa.isColor(t)?t=new fa(t):t.constructor===Array&&(t=new za(t)),"leading"===e?this.leading&&this.leading(t):"string"==typeof n?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!==e&&"x"!==e||this.rebuild()}return this},find:function(e){return Ma(e,this.node)},findOne:function(e){return Ur(this.node.querySelector(e))}}),$r(ja,"Dom");class Va extends ja{constructor(e,t){var n,i;super(e,t),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(null!=(i=null!=(n=JSON.parse(e.getAttribute("data-svgjs")))?n:JSON.parse(e.getAttribute("svgjs:data")))?i:{})}center(e,t){return this.cx(e).cy(t)}cx(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){const e=this.root();return e&&e.defs()}dmove(e,t){return this.dx(e).dy(t)}dx(e=0){return this.x(new Ra(e).plus(this.x()))}dy(e=0){return this.y(new Ra(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,t){return this.x(e).y(t)}parents(e=this.root()){const t="string"==typeof e;t||(e=Vr(e));const n=new ba;let i=this;for(;(i=i.parent())&&i.node!==zr.document&&"#document-fragment"!==i.nodeName&&(n.push(i),t||i.node!==e.node)&&(!t||!i.matches(e));)if(i.node===this.root().node)return null;return n}reference(e){if(!(e=this.attr(e)))return null;const t=(e+"").match(ea);return t?Vr(t[1]):null}root(){const e=this.parent(Fr[Hr]);return e&&e.root()}setData(e){return this.dom=e,this}size(e,t){const n=Dr(this,e,t);return this.width(new Ra(n.width)).height(new Ra(n.height))}width(e){return this.attr("width",e)}writeDataToDom(){return Pr(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}}Xr(Va,{bbox:function(){const e=wa(this,(e=>e.getBBox()),(e=>{try{const t=e.clone().addTo(va().svg).show(),n=t.node.getBBox();return t.remove(),n}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}}));return new ya(e)},rbox:function(e){const t=wa(this,(e=>e.getBoundingClientRect()),(e=>{throw new Error(`Getting rbox of element "${e.node.nodeName}" is not possible`)})),n=new ya(t);return e?n.transform(e.screenCTM().inverseO()):n.addOffset()},inside:function(e,t){const n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height},point:function(e,t){return new pa(e,t).transformO(this.screenCTM().inverseO())},ctm:function(){return new ga(this.node.getCTM())},screenCTM:function(){try{if("function"==typeof this.isRoot&&!this.isRoot()){const e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new ga(t)}return new ga(this.node.getScreenCTM())}catch(e){return new ga}}}),$r(Va,"Element");const Ba={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"===t?e:e+"-"+t}};["fill","stroke"].forEach((function(e){const t={};let n;t[e]=function(t){if(void 0===t)return this.attr(e);if("string"==typeof t||t instanceof fa||fa.isRgb(t)||t instanceof Va)this.attr(e,t);else for(n=Ba[e].length-1;n>=0;n--)null!=t[Ba[e][n]]&&this.attr(Ba.prefix(e,Ba[e][n]),t[Ba[e][n]]);return this},br(["Element","Runner"],t)})),br(["Element","Runner"],{matrix:function(e,t,n,i,r,a){return null==e?new ga(this):this.attr("transform",new ga(e,t,n,i,r,a))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,i){return 1===arguments.length||3===arguments.length?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:i},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,i){return 1===arguments.length||3===arguments.length?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:i},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return-1==="xybothtrue".indexOf(e)&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}}),br("radius",{radius:function(e,t=e){return"radialGradient"===(this._element||this).type?this.attr("r",new Ra(e)):this.rx(e).ry(t)}}),br("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new pa(this.node.getPointAtLength(e))}}),br(["Element","Runner"],{font:function(e,t){if("object"==typeof e){for(t in e)this.font(t,e[t]);return this}return"leading"===e?this.leading(t):"anchor"===e?this.attr("text-anchor",t):"size"===e||"family"===e||"weight"===e||"stretch"===e||"variant"===e||"style"===e?this.attr("font-"+e,t):this.attr(e,t)}});br("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce((function(e,t){return e[t]=function(e){return null===e?this.off(t):this.on(t,e),this},e}),{})),br("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(ta).slice(0,-1).map((function(e){const t=e.trim().split("(");return[t[0],t[1].split(la).map((function(e){return parseFloat(e)}))]})).reverse().reduce((function(e,t){return"matrix"===t[0]?e.lmultiply(ga.fromArray(t[1])):e[t[0]].apply(e,t[1])}),new ga)},toParent:function(e,t){if(this===e)return this;if(Ar(this.node))return this.addTo(e,t);const n=this.screenCTM(),i=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(i.multiply(n)),this},toRoot:function(e){return this.toParent(this.root(),e)},transform:function(e,t){if(null==e||"string"==typeof e){const t=new ga(this).decompose();return null==e?t:t[e]}ga.isMatrixLike(e)||(e={...e,origin:Tr(e,this)});const n=new ga(!0===t?this:t||!1).transform(e);return this.attr("transform",n)}});class Ua extends Va{flatten(){return this.each((function(){if(this instanceof Ua)return this.flatten().ungroup()})),this}ungroup(e=this.parent(),t=e.index(this)){return t=-1===t?e.children().length:t,this.each((function(n,i){return i[i.length-n-1].toParent(e,t)})),this.remove()}}$r(Ua,"Container");class Wa extends Ua{constructor(e,t=e){super(Br("defs",e),t)}flatten(){return this}ungroup(){return this}}$r(Wa,"Defs");class $a extends Va{}function Ga(e){return this.attr("rx",e)}function Ya(e){return this.attr("ry",e)}function qa(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())}function Xa(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())}function Za(e){return this.attr("cx",e)}function Ja(e){return this.attr("cy",e)}function Ka(e){return null==e?2*this.rx():this.rx(new Ra(e).divide(2))}function Qa(e){return null==e?2*this.ry():this.ry(new Ra(e).divide(2))}$r($a,"Shape");var es=Object.freeze(Object.defineProperty({__proto__:null,rx:Ga,ry:Ya,x:qa,y:Xa,cx:Za,cy:Ja,width:Ka,height:Qa},Symbol.toStringTag,{value:"Module"}));class ts extends $a{constructor(e,t=e){super(Br("ellipse",e),t)}size(e,t){const n=Dr(this,e,t);return this.rx(new Ra(n.width).divide(2)).ry(new Ra(n.height).divide(2))}}Xr(ts,es),br("Container",{ellipse:Zr((function(e=0,t=e){return this.put(new ts).size(e,t).move(0,0)}))}),$r(ts,"Ellipse");class ns extends ja{constructor(e=zr.document.createDocumentFragment()){super(e)}xml(e,t,n){if("boolean"==typeof e&&(n=t,t=e,e=null),null==e||"function"==typeof e){const e=new ja(jr("wrapper",n));return e.add(this.node.cloneNode(!0)),e.xml(!1,n)}return super.xml(e,!1,n)}}function is(e,t){return"radialGradient"===(this._element||this).type?this.attr({fx:new Ra(e),fy:new Ra(t)}):this.attr({x1:new Ra(e),y1:new Ra(t)})}function rs(e,t){return"radialGradient"===(this._element||this).type?this.attr({cx:new Ra(e),cy:new Ra(t)}):this.attr({x2:new Ra(e),y2:new Ra(t)})}$r(ns,"Fragment");var as,ss=Object.freeze(Object.defineProperty({__proto__:null,from:is,to:rs},Symbol.toStringTag,{value:"Module"}));class os extends Ua{constructor(e,t){super(Br(e+"Gradient","string"==typeof e?null:e),t)}attr(e,t,n){return"transform"===e&&(e="gradientTransform"),super.attr(e,t,n)}bbox(){return new ya}targets(){return Ma("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Xr(os,ss),br({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:Zr((function(e,t){return this.put(new os(e)).update(t)}))}}),$r(os,"Gradient");class ls extends Ua{constructor(e,t=e){super(Br("pattern",e),t)}attr(e,t,n){return"transform"===e&&(e="patternTransform"),super.attr(e,t,n)}bbox(){return new ya}targets(){return Ma("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}br({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:Zr((function(e,t,n){return this.put(new ls).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}))}}),$r(ls,"Pattern");class us extends $a{constructor(e,t=e){super(Br("image",e),t)}load(e,t){if(!e)return this;const n=new zr.window.Image;return Da(n,"load",(function(e){const i=this.parent(ls);0===this.width()&&0===this.height()&&this.size(n.width,n.height),i instanceof ls&&0===i.width()&&0===i.height()&&i.size(this.width(),this.height()),"function"==typeof t&&t.call(this,e)}),this),Da(n,"load error",(function(){Ta(n)})),this.attr("href",n.src=e,Lr)}}as=function(e,t,n){return"fill"!==e&&"stroke"!==e||oa.test(t)&&(t=n.root().defs().image(t)),t instanceof us&&(t=n.root().defs().pattern(0,0,(e=>{e.add(t)}))),t},Ha.push(as),br({Container:{image:Zr((function(e,t){return this.put(new us).size(0,0).load(e,t)}))}}),$r(us,"Image");class cs extends za{bbox(){let e=-1/0,t=-1/0,n=1/0,i=1/0;return this.forEach((function(r){e=Math.max(r[0],e),t=Math.max(r[1],t),n=Math.min(r[0],n),i=Math.min(r[1],i)})),new ya(n,i,e-n,t-i)}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+e,this[i][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(la).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,i=e.length;n<i;n+=2)t.push([e[n],e[n+1]]);return t}size(e,t){let n;const i=this.bbox();for(n=this.length-1;n>=0;n--)i.width&&(this[n][0]=(this[n][0]-i.x)*e/i.width+i.x),i.height&&(this[n][1]=(this[n][1]-i.y)*t/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,n=this.length;t<n;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){ga.isMatrixLike(e)||(e=new ga(e));for(let t=this.length;t--;){const[n,i]=this[t];this[t][0]=e.a*n+e.c*i+e.e,this[t][1]=e.b*n+e.d*i+e.f}return this}}const ds=cs;var hs=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:ds,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){const t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){const t=this.bbox();return null==e?t.height:this.size(t.width,e)}},Symbol.toStringTag,{value:"Module"}));class fs extends $a{constructor(e,t=e){super(Br("line",e),t)}array(){return new cs([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(e,t){return this.attr(this.array().move(e,t).toLine())}plot(e,t,n,i){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:n,y2:i}:new cs(e).toLine(),this.attr(e))}size(e,t){const n=Dr(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}}Xr(fs,hs),br({Container:{line:Zr((function(...e){return fs.prototype.plot.apply(this.put(new fs),null!=e[0]?e:[0,0,0,0])}))}}),$r(fs,"Line");class ps extends Ua{constructor(e,t=e){super(Br("marker",e),t)}height(e){return this.attr("markerHeight",e)}orient(e){return this.attr("orient",e)}ref(e,t){return this.attr("refX",e).attr("refY",t)}toString(){return"url(#"+this.id()+")"}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}width(e){return this.attr("markerWidth",e)}}function ms(e,t){return function(n){return null==n?this[e]:(this[e]=n,t&&t.call(this),this)}}br({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:Zr((function(e,t,n){return this.put(new ps).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)}))},marker:{marker(e,t,n,i){let r=["marker"];return"all"!==e&&r.push(e),r=r.join("-"),e=arguments[1]instanceof ps?arguments[1]:this.defs().marker(t,n,i),this.attr(r,e)}}}),$r(ps,"Marker");const gs={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)},bezier:function(e,t,n,i){return function(r){return r<0?e>0?t/e*r:n>0?i/n*r:0:r>1?n<1?(1-i)/(1-n)*r+(i-n)/(1-n):e<1?(1-t)/(1-e)*r+(t-e)/(1-e):1:3*r*(1-r)**2*t+3*r**2*(1-r)*i+r**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let n=e;return"none"===t?--n:"both"===t&&++n,(i,r=!1)=>{let a=Math.floor(i*e);const s=i*a%1==0;return"start"!==t&&"both"!==t||++a,r&&s&&--a,i>=0&&a<0&&(a=0),i<=1&&a>n&&(a=n),a/n}}};class vs{done(){return!1}}class _s extends vs{constructor(e=Oa){super(),this.ease=gs[e]||e}step(e,t,n){return"number"!=typeof e?n<1?e:t:e+(t-e)*this.ease(n)}}class ys extends vs{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,n,i){return this.stepper(e,t,n,i)}}function ws(){const e=(this._duration||500)/1e3,t=this._overshoot||0,n=Math.PI,i=Math.log(t/100+1e-10),r=-i/Math.sqrt(n*n+i*i),a=3.9/(r*e);this.d=2*r*a,this.k=a*a}Xr(class extends ys{constructor(e=500,t=0){super(),this.duration(e).overshoot(t)}step(e,t,n,i){if("string"==typeof e)return e;if(i.done=n===1/0,n===1/0)return t;if(0===n)return e;n>100&&(n=16),n/=1e3;const r=i.velocity||0,a=-this.d*r-this.k*(e-t),s=e+r*n+a*n*n/2;return i.velocity=r+a*n,i.done=Math.abs(t-s)+Math.abs(r)<.002,i.done?t:s}},{duration:ms("_duration",ws),overshoot:ms("_overshoot",ws)});Xr(class extends ys{constructor(e=.1,t=.01,n=0,i=1e3){super(),this.p(e).i(t).d(n).windup(i)}step(e,t,n,i){if("string"==typeof e)return e;if(i.done=n===1/0,n===1/0)return t;if(0===n)return e;const r=t-e;let a=(i.integral||0)+r*n;const s=(r-(i.error||0))/n,o=this._windup;return!1!==o&&(a=Math.max(-o,Math.min(a,o))),i.error=r,i.integral=a,i.done=Math.abs(r)<.001,i.done?t:e+(this.P*r+this.I*a+this.D*s)}},{windup:ms("_windup"),p:ms("P"),i:ms("I"),d:ms("D")});const bs={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},xs={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},Ms="mlhvqtcsaz".split("");for(let Xy=0,Zy=Ms.length;Xy<Zy;++Xy)xs[Ms[Xy]]=function(e){return function(t,n,i){if("H"===e)t[0]=t[0]+n.x;else if("V"===e)t[0]=t[0]+n.y;else if("A"===e)t[5]=t[5]+n.x,t[6]=t[6]+n.y;else for(let e=0,r=t.length;e<r;++e)t[e]=t[e]+(e%2?n.y:n.x);return xs[e](t,n,i)}}(Ms[Xy].toUpperCase());function ks(e){return e.segment.length&&e.segment.length-1===bs[e.segment[0].toUpperCase()]}function Cs(e,t){e.inNumber&&Ss(e,!1);const n=ua.test(t);if(n)e.segment=[t];else{const t=e.lastCommand,n=t.toLowerCase(),i=t===n;e.segment=["m"===n?i?"l":"L":t]}return e.inSegment=!0,e.lastCommand=e.segment[0],n}function Ss(e,t){if(!e.inNumber)throw new Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,ks(e)&&Es(e)}function Es(e){e.inSegment=!1,e.absolute&&(e.segment=function(e){const t=e.segment[0];return xs[t](e.segment.slice(1),e.p,e.p0)}(e)),e.segments.push(e.segment)}function Ds(e){if(!e.segment.length)return!1;const t="A"===e.segment[0].toUpperCase(),n=e.segment.length;return t&&(4===n||5===n)}function Ts(e){return"E"===e.lastToken.toUpperCase()}const Is=new Set([" ",",","\t","\n","\r","\f"]);class As extends za{bbox(){return va().path.setAttribute("d",this.toString()),new ya(va.nodes.path.getBBox())}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let i,r=this.length-1;r>=0;r--)i=this[r][0],"M"===i||"L"===i||"T"===i?(this[r][1]+=e,this[r][2]+=t):"H"===i?this[r][1]+=e:"V"===i?this[r][1]+=t:"C"===i||"S"===i||"Q"===i?(this[r][1]+=e,this[r][2]+=t,this[r][3]+=e,this[r][4]+=t,"C"===i&&(this[r][5]+=e,this[r][6]+=t)):"A"===i&&(this[r][6]+=e,this[r][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(e,t=!0){let n=0,i="";const r={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new pa,p:new pa};for(;r.lastToken=i,i=e.charAt(n++);)if(r.inSegment||!Cs(r,i))if("."!==i)if(isNaN(parseInt(i)))if(Is.has(i))r.inNumber&&Ss(r,!1);else if("-"!==i&&"+"!==i)if("E"!==i.toUpperCase()){if(ua.test(i)){if(r.inNumber)Ss(r,!1);else{if(!ks(r))throw new Error("parser Error");Es(r)}--n}}else r.number+=i,r.hasExponent=!0;else{if(r.inNumber&&!Ts(r)){Ss(r,!1),--n;continue}r.number+=i,r.inNumber=!0}else{if("0"===r.number||Ds(r)){r.inNumber=!0,r.number=i,Ss(r,!0);continue}r.inNumber=!0,r.number+=i}else{if(r.pointSeen||r.hasExponent){Ss(r,!1),--n;continue}r.inNumber=!0,r.pointSeen=!0,r.number+=i}return r.inNumber&&Ss(r,!1),r.inSegment&&ks(r)&&Es(r),r.segments}(e)}size(e,t){const n=this.bbox();let i,r;for(n.width=0===n.width?1:n.width,n.height=0===n.height?1:n.height,i=this.length-1;i>=0;i--)r=this[i][0],"M"===r||"L"===r||"T"===r?(this[i][1]=(this[i][1]-n.x)*e/n.width+n.x,this[i][2]=(this[i][2]-n.y)*t/n.height+n.y):"H"===r?this[i][1]=(this[i][1]-n.x)*e/n.width+n.x:"V"===r?this[i][1]=(this[i][1]-n.y)*t/n.height+n.y:"C"===r||"S"===r||"Q"===r?(this[i][1]=(this[i][1]-n.x)*e/n.width+n.x,this[i][2]=(this[i][2]-n.y)*t/n.height+n.y,this[i][3]=(this[i][3]-n.x)*e/n.width+n.x,this[i][4]=(this[i][4]-n.y)*t/n.height+n.y,"C"===r&&(this[i][5]=(this[i][5]-n.x)*e/n.width+n.x,this[i][6]=(this[i][6]-n.y)*t/n.height+n.y)):"A"===r&&(this[i][1]=this[i][1]*e/n.width,this[i][2]=this[i][2]*t/n.height,this[i][6]=(this[i][6]-n.x)*e/n.width+n.x,this[i][7]=(this[i][7]-n.y)*t/n.height+n.y);return this}toString(){return function(e){let t="";for(let n=0,i=e.length;n<i;n++)t+=e[n][0],null!=e[n][1]&&(t+=e[n][1],null!=e[n][2]&&(t+=" ",t+=e[n][2],null!=e[n][3]&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],null!=e[n][5]&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],null!=e[n][7]&&(t+=" ",t+=e[n][7])))));return t+" "}(this)}}const Ps=e=>{const t=typeof e;return"number"===t?Ra:"string"===t?fa.isColor(e)?fa:la.test(e)?ua.test(e)?As:za:Jr.test(e)?Ra:Ns:Fs.indexOf(e.constructor)>-1?e.constructor:Array.isArray(e)?za:"object"===t?Rs:Ns};class Os{constructor(e){this._stepper=e||new _s("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(e,t){return e&&t}),!0)}from(e){return null==e?this._from:(this._from=this._set(e),this)}stepper(e){return null==e?this._stepper:(this._stepper=e,this)}to(e){return null==e?this._to:(this._to=this._set(e),this)}type(e){return null==e?this._type:(this._type=e,this)}_set(e){this._type||this.type(Ps(e));let t=new this._type(e);return this._type===fa&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===Rs&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map((function(e){return e.done=!0,e})),t}}class Ns{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Ls{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Ls.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Ls.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const zs=(e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0;class Rs{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let n=0,i=t.length;n<i;++n){if(t[n+1]===e[n+1]){if(t[n+1]===fa&&e[n+7]!==t[n+7]){const t=e[n+7],i=new fa(this.values.splice(n+3,5))[t]().toArray();this.values.splice(n+3,0,...i)}n+=t[n+2]+2;continue}if(!e[n+1])return this;const i=(new e[n+1]).toArray(),r=t[n+2]+3;t.splice(n,r,e[n],e[n+1],e[n+2],...i),n+=t[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const n in e){const i=Ps(e[n]),r=new i(e[n]).toArray();t.push([n,i,r.length,...r])}return t.sort(zs),this.values=t.reduce(((e,t)=>e.concat(t)),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const n=t.shift(),i=t.shift(),r=t.shift(),a=t.splice(0,r);e[n]=new i(a)}return e}}const Fs=[Ns,Ls,Rs];class Hs extends $a{constructor(e,t=e){super(Br("path",e),t)}array(){return this._array||(this._array=new As(this.attr("d")))}clear(){return delete this._array,this}height(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new As(e))}size(e,t){const n=Dr(this,e,t);return this.attr("d",this.array().size(n.width,n.height))}width(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)}x(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)}y(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)}}Hs.prototype.MorphArray=As,br({Container:{path:Zr((function(e){return this.put(new Hs).plot(e||new As)}))}}),$r(Hs,"Path");var js=Object.freeze(Object.defineProperty({__proto__:null,array:function(){return this._array||(this._array=new cs(this.attr("points")))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new cs(e))},size:function(e,t){const n=Dr(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}},Symbol.toStringTag,{value:"Module"}));class Vs extends $a{constructor(e,t=e){super(Br("polygon",e),t)}}br({Container:{polygon:Zr((function(e){return this.put(new Vs).plot(e||new cs)}))}}),Xr(Vs,hs),Xr(Vs,js),$r(Vs,"Polygon");class Bs extends $a{constructor(e,t=e){super(Br("polyline",e),t)}}br({Container:{polyline:Zr((function(e){return this.put(new Bs).plot(e||new cs)}))}}),Xr(Bs,hs),Xr(Bs,js),$r(Bs,"Polyline");class Us extends $a{constructor(e,t=e){super(Br("rect",e),t)}}Xr(Us,{rx:Ga,ry:Ya}),br({Container:{rect:Zr((function(e,t){return this.put(new Us).size(e,t)}))}}),$r(Us,"Rect");class Ws{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=void 0!==e.next?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const $s={nextDraw:null,frames:new Ws,timeouts:new Ws,immediates:new Ws,timer:()=>zr.window.performance||zr.window.Date,transforms:[],frame(e){const t=$s.frames.push({run:e});return null===$s.nextDraw&&($s.nextDraw=zr.window.requestAnimationFrame($s._draw)),t},timeout(e,t){t=t||0;const n=$s.timer().now()+t,i=$s.timeouts.push({run:e,time:n});return null===$s.nextDraw&&($s.nextDraw=zr.window.requestAnimationFrame($s._draw)),i},immediate(e){const t=$s.immediates.push(e);return null===$s.nextDraw&&($s.nextDraw=zr.window.requestAnimationFrame($s._draw)),t},cancelFrame(e){null!=e&&$s.frames.remove(e)},clearTimeout(e){null!=e&&$s.timeouts.remove(e)},cancelImmediate(e){null!=e&&$s.immediates.remove(e)},_draw(e){let t=null;const n=$s.timeouts.last();for(;(t=$s.timeouts.shift())&&(e>=t.time?t.run():$s.timeouts.push(t),t!==n););let i=null;const r=$s.frames.last();for(;i!==r&&(i=$s.frames.shift());)i.run(e);let a=null;for(;a=$s.immediates.shift();)a();$s.nextDraw=$s.timeouts.first()||$s.frames.first()?zr.window.requestAnimationFrame($s._draw):null}},Gs=function(e){const t=e.start,n=e.runner.duration();return{start:t,duration:n,end:t+n,runner:e.runner}},Ys=function(){const e=zr.window;return(e.performance||e.Date).now()};class qs extends Ia{constructor(e=Ys){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map((e=>e.start+e.runner.duration()));return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return null==e?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(null==e)return this.speed(-t);const n=Math.abs(t);return this.speed(e?-n:n)}schedule(e,t,n){if(null==e)return this._runners.map(Gs);let i=0;const r=this.getEndTime();if(t=t||0,null==n||"last"===n||"after"===n)i=r;else if("absolute"===n||"start"===n)i=t,t=0;else if("now"===n)i=this._time;else if("relative"===n){const n=this.getRunnerInfoById(e.id);n&&(i=n.start+t,t=0)}else{if("with-last"!==n)throw new Error('Invalid value for the "when" parameter');{const e=this.getLastRunnerInfo();i=e?e.start:this._time}}e.unschedule(),e.timeline(this);const a=e.persist(),s={persist:null===a?this._persist:a,start:i+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(s),this._runners.sort(((e,t)=>e.start-t.start)),this._runnerIds=this._runners.map((e=>e.runner.id)),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return null==e?this._timeSource:(this._timeSource=e,this)}speed(e){return null==e?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return null==e?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return $s.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=$s.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let n=t-this._lastSourceTime;e&&(n=0);const i=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let a=this._runners.length;a--;){const e=this._runners[a],t=e.runner;this._time-e.start<=0&&t.reset()}let r=!1;for(let a=0,s=this._runners.length;a<s;a++){const e=this._runners[a],t=e.runner;let n=i;const o=this._time-e.start;if(o<=0){r=!0;continue}if(o<n&&(n=o),!t.active())continue;if(t.step(n).done){if(!0!==e.persist){t.duration()-t.time()+this._time+e.persist<this._time&&(t.unschedule(),--a,--s)}}else r=!0}return r&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}br({Element:{timeline:function(e){return null==e?(this._timeline=this._timeline||new qs,this._timeline):(this._timeline=e,this)}}});class Xs extends Ia{constructor(e){super(),this.id=Xs.id++,e="function"==typeof(e=null==e?Pa:e)?new ys(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof e&&e,this._isDeclarative=e instanceof ys,this._stepper=this._isDeclarative?e:new _s,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new ga,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,n){var i,r,a,s,o;let l=1,u=!1,c=0;return t=null!=t?t:Na,n=n||"last","object"!=typeof(e=null!=e?e:Pa)||e instanceof vs||(t=null!=(i=e.delay)?i:t,n=null!=(r=e.when)?r:n,u=e.swing||u,l=null!=(a=e.times)?a:l,c=null!=(s=e.wait)?s:c,e=null!=(o=e.duration)?o:Pa),{duration:e,delay:t,swing:u,times:l,wait:c,when:n}}active(e){return null==e?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,n){const i=Xs.sanitise(e,t,n),r=new Xs(i.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new ga,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((e=>!e.isTransform)))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new _s(e),this}element(e){return null==e?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,n){return"object"==typeof e&&(t=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(null==e){const e=Math.floor(this._time/t),n=(this._time-e*t)/this._duration;return Math.min(e+n,this._times)}const n=e%1,i=t*Math.floor(e)+this._duration*n;return this.time(i)}persist(e){return null==e?this._persist:(this._persist=e,this)}position(e){const t=this._time,n=this._duration,i=this._wait,r=this._times,a=this._swing,s=this._reverse;let o;if(null==e){const e=function(e){const t=a*Math.floor(e%(2*(i+n))/(i+n)),r=t&&!s||!t&&s,o=Math.pow(-1,r)*(e%(i+n))/n+r;return Math.max(Math.min(o,1),0)},l=r*(i+n)-i;return o=t<=0?Math.round(e(1e-5)):t<l?e(t):Math.round(e(l-1e-5)),o}const l=Math.floor(this.loops()),u=a&&l%2==0;return o=l+(u&&!s||s&&u?e:1-e),this.loops(o)}progress(e){return null==e?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,n,i){this._queue.push({initialiser:e||Aa,runner:t||Aa,retarget:n,isTransform:i,initialised:!1,finished:!1});return this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=null==e?!this._reverse:e,this}schedule(e,t,n){if(e instanceof qs||(n=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,n),this}step(e){if(!this.enabled)return this;e=null==e?16:e,this._time+=e;const t=this.position(),n=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const i=this.duration(),r=this._lastTime<=0&&this._time>0,a=this._lastTime<i&&this._time>=i;this._lastTime=this._time,r&&this.fire("start",this);const s=this._isDeclarative;this.done=!s&&!a&&this._time>=i,this._reseted=!1;let o=!1;return(n||s)&&(this._initialise(n),this.transforms=new ga,o=this._run(s?e:t),this.fire("step",this)),this.done=this.done||o&&s,a&&this.fire("finished",this),this}time(e){if(null==e)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return void 0===e?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,n=this._queue.length;t<n;++t){const n=this._queue[t],i=this._isDeclarative||!n.initialised&&e;e=!n.finished,i&&e&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const e=this.timeline();e&&e.play()}}_run(e){let t=!0;for(let n=0,i=this._queue.length;n<i;++n){const i=this._queue[n],r=i.runner.call(this,e);i.finished=i.finished||!0===r,t=t&&i.finished}return t}_tryRetarget(e,t,n){if(this._history[e]){if(!this._history[e].caller.initialised){const t=this._queue.indexOf(this._history[e].caller);return this._queue.splice(t,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,n):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}Xs.id=0;class Zs{constructor(e=new ga,t=-1,n=!0){this.transforms=e,this.id=t,this.done=n}clearTransformsFromQueue(){}}Xr([Xs,Zs],{mergeWith(e){return new Zs(e.transforms.lmultiply(this.transforms),e.id)}});const Js=(e,t)=>e.lmultiplyO(t),Ks=e=>e.transforms;function Qs(){const e=this._transformationRunners.runners.map(Ks).reduce(Js,new ga);this.transform(e),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class eo{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Zs).forEach((e=>e.clearTransformsFromQueue())),this}edit(e,t){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const n=this.runners[t];if(e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(n.id);const i=n.mergeWith(e);this.edit(e.id,i),e=i,--t}else e=n}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}br({Element:{animate(e,t,n){const i=Xs.sanitise(e,t,n),r=this.timeline();return new Xs(i.duration).loop(i).element(this).timeline(r.play()).schedule(i.delay,i.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter((t=>t.id<=e.id)).map(Ks).reduce(Js,new ga)},_addRunner(e){this._transformationRunners.add(e),$s.cancelImmediate(this._frameId),this._frameId=$s.immediate(Qs.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new eo).add(new Zs(new ga(this))))}}});Xr(Xs,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,n){if("string"==typeof t)return this.styleAttr(e,{[t]:n});let i=t;if(this._tryRetarget(e,i))return this;let r=new Os(this._stepper).to(i),a=Object.keys(i);return this.queue((function(){r=r.from(this.element()[e](a))}),(function(t){return this.element()[e](r.at(t).valueOf()),r.done()}),(function(t){const n=Object.keys(t),s=(o=a,n.filter((e=>!o.includes(e))));var o;if(s.length){const t=this.element()[e](s),n=new Rs(r.from()).valueOf();Object.assign(n,t),r.from(n)}const l=new Rs(r.to()).valueOf();Object.assign(l,t),r.to(l),a=n,i=t})),this._rememberMorpher(e,r),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let n=new Os(this._stepper).to(new Ra(e));return this.queue((function(){n=n.from(this.element().zoom())}),(function(e){return this.element().zoom(n.at(e),t),n.done()}),(function(e,i){t=i,n.to(e)})),this._rememberMorpher("zoom",n),this},transform(e,t,n){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;const i=ga.isMatrixLike(e);n=null!=e.affine?e.affine:null!=n?n:!i;const r=new Os(this._stepper).type(n?Ls:ga);let a,s,o,l,u;return this.queue((function(){s=s||this.element(),a=a||Tr(e,s),u=new ga(t?void 0:s),s._addRunner(this),t||s._clearTransformRunnersBefore(this)}),(function(c){t||this.clearTransform();const{x:d,y:h}=new pa(a).transform(s._currentTransform(this));let f=new ga({...e,origin:[d,h]}),p=this._isDeclarative&&o?o:u;if(n){f=f.decompose(d,h),p=p.decompose(d,h);const e=f.rotate,t=p.rotate,n=[e-360,e,e+360],i=n.map((e=>Math.abs(e-t))),r=Math.min(...i),a=i.indexOf(r);f.rotate=n[a]}t&&(i||(f.rotate=e.rotate||0),this._isDeclarative&&l&&(p.rotate=l)),r.from(p),r.to(f);const m=r.at(c);return l=m.rotate,o=new ga(m),this.addTransform(o),s._addRunner(this),r.done()}),(function(t){(t.origin||"center").toString()!==(e.origin||"center").toString()&&(a=Tr(t,s)),e={...t,origin:a}}),!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(e){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},ax(e){return this._queueNumber("ax",e)},ay(e){return this._queueNumber("ay",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new Ra(t),this._tryRetarget(e,t))return this;const n=new Os(this._stepper).to(t);let i=null;return this.queue((function(){i=this.element()[e](),n.from(i),n.to(i+t)}),(function(t){return this.element()[e](n.at(t)),n.done()}),(function(e){n.to(i+new Ra(e))})),this._rememberMorpher(e,n),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;const n=new Os(this._stepper).to(t);return this.queue((function(){n.from(this.element()[e]())}),(function(t){return this.element()[e](n.at(t)),n.done()})),this._rememberMorpher(e,n),this},_queueNumber(e,t){return this._queueObject(e,new Ra(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},amove(e,t){return this.ax(e).ay(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let n;return e&&t||(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,n,i){if(4===arguments.length)return this.plot([e,t,n,i]);if(this._tryRetarget("plot",e))return this;const r=new Os(this._stepper).type(this._element.MorphArray).to(e);return this.queue((function(){r.from(this._element.array())}),(function(e){return this._element.plot(r.at(e)),r.done()})),this._rememberMorpher("plot",r),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,n,i){return this._queueObject("viewbox",new ya(e,t,n,i))},update(e){return"object"!=typeof e?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset),this)}}),Xr(Xs,{rx:Ga,ry:Ya,from:is,to:rs}),$r(Xs,"Runner");class to extends Ua{constructor(e,t=e){super(Br("svg",e),t),this.namespace()}defs(){return this.isRoot()?Ur(this.node.querySelector("defs"))||this.put(new Wa):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof zr.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:Or,version:"1.1"}).attr("xmlns:xlink",Lr,Nr):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Nr).attr("xmlns:svgjs",null,Nr)}root(){return this.isRoot()?this:super.root()}}br({Container:{nested:Zr((function(){return this.put(new to)}))}}),$r(to,"Svg",!0);class no extends Ua{constructor(e,t=e){super(Br("symbol",e),t)}}br({Container:{symbol:Zr((function(){return this.put(new no)}))}}),$r(no,"Symbol");var io=Object.freeze(Object.defineProperty({__proto__:null,plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(zr.document.createTextNode(e)),this},length:function(){return this.node.getComputedTextLength()},x:function(e,t=this.bbox()){return null==e?t.x:this.attr("x",this.attr("x")+e-t.x)},y:function(e,t=this.bbox()){return null==e?t.y:this.attr("y",this.attr("y")+e-t.y)},move:function(e,t,n=this.bbox()){return this.x(e,n).y(t,n)},cx:function(e,t=this.bbox()){return null==e?t.cx:this.attr("x",this.attr("x")+e-t.cx)},cy:function(e,t=this.bbox()){return null==e?t.cy:this.attr("y",this.attr("y")+e-t.cy)},center:function(e,t,n=this.bbox()){return this.cx(e,n).cy(t,n)},ax:function(e){return this.attr("x",e)},ay:function(e){return this.attr("y",e)},amove:function(e,t){return this.ax(e).ay(t)},build:function(e){return this._build=!!e,this}},Symbol.toStringTag,{value:"Module"}));class ro extends $a{constructor(e,t=e){var n;super(Br("text",e),t),this.dom.leading=null!=(n=this.dom.leading)?n:new Ra(1.3),this._rebuild=!0,this._build=!1}leading(e){return null==e?this.dom.leading:(this.dom.leading=new Ra(e),this.rebuild())}rebuild(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){const e=this;let t=0;const n=this.dom.leading;this.each((function(i){if(Ar(this.node))return;const r=zr.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=n*new Ra(r);this.dom.newLined&&(this.attr("x",e.attr("x")),"\n"===this.text()?t+=a:(this.attr("dy",i?a+t:0),t=0))})),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Ra(e.leading||1.3),this}writeDataToDom(){return Pr(this,this.dom,{leading:1.3}),this}text(e){if(void 0===e){const t=this.node.childNodes;let n=0;e="";for(let i=0,r=t.length;i<r;++i)"textPath"===t[i].nodeName||Ar(t[i])?0===i&&(n=i+1):(i!==n&&3!==t[i].nodeType&&!0===Ur(t[i]).dom.newLined&&(e+="\n"),e+=t[i].textContent);return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else for(let t=0,n=(e=(e+"").split("\n")).length;t<n;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}Xr(ro,io),br({Container:{text:Zr((function(e=""){return this.put(new ro).text(e)})),plain:Zr((function(e=""){return this.put(new ro).plain(e)}))}}),$r(ro,"Text");class ao extends $a{constructor(e,t=e){super(Br("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof ro))return this;const t=e.index(this),n=zr.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=e.dom.leading*new Ra(n);return this.dy(t?i:0).attr("x",e.x())}text(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}Xr(ao,io),br({Tspan:{tspan:Zr((function(e=""){const t=new ao;return this._build||this.clear(),this.put(t).text(e)}))},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}}),$r(ao,"Tspan");class so extends $a{constructor(e,t=e){super(Br("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Ra(e).divide(2))}}Xr(so,{x:qa,y:Xa,cx:Za,cy:Ja,width:Ka,height:Qa}),br({Container:{circle:Zr((function(e=0){return this.put(new so).size(e).move(0,0)}))}}),$r(so,"Circle");class oo extends Ua{constructor(e,t=e){super(Br("clipPath",e),t)}remove(){return this.targets().forEach((function(e){e.unclip()})),super.remove()}targets(){return Ma("svg [clip-path*="+this.id()+"]")}}br({Container:{clip:Zr((function(){return this.defs().put(new oo)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(e){const t=e instanceof oo?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}}),$r(oo,"ClipPath");class lo extends Va{constructor(e,t=e){super(Br("foreignObject",e),t)}}br({Container:{foreignObject:Zr((function(e,t){return this.put(new lo).size(e,t)}))}}),$r(lo,"ForeignObject");var uo=Object.freeze(Object.defineProperty({__proto__:null,dmove:function(e,t){return this.children().forEach((n=>{let i;try{i=n.node instanceof zr.window.SVGSVGElement?new ya(n.attr(["x","y","width","height"])):n.bbox()}catch(o){return}const r=new ga(n),a=r.translate(e,t).transform(r.inverse()),s=new pa(i.x,i.y).transform(a);n.move(s.x,s.y)})),this},dx:function(e){return this.dmove(e,0)},dy:function(e){return this.dmove(0,e)},height:function(e,t=this.bbox()){return null==e?t.height:this.size(t.width,e,t)},move:function(e=0,t=0,n=this.bbox()){const i=e-n.x,r=t-n.y;return this.dmove(i,r)},size:function(e,t,n=this.bbox()){const i=Dr(this,e,t,n),r=i.width/n.width,a=i.height/n.height;return this.children().forEach((e=>{const t=new pa(n).transform(new ga(e).inverse());e.scale(r,a,t.x,t.y)})),this},width:function(e,t=this.bbox()){return null==e?t.width:this.size(e,t.height,t)},x:function(e,t=this.bbox()){return null==e?t.x:this.move(e,t.y,t)},y:function(e,t=this.bbox()){return null==e?t.y:this.move(t.x,e,t)}},Symbol.toStringTag,{value:"Module"}));class co extends Ua{constructor(e,t=e){super(Br("g",e),t)}}Xr(co,uo),br({Container:{group:Zr((function(){return this.put(new co)}))}}),$r(co,"G");class ho extends Ua{constructor(e,t=e){super(Br("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Lr)}}Xr(ho,uo),br({Container:{link:Zr((function(e){return this.put(new ho).to(e)}))},Element:{unlink(){const e=this.linker();if(!e)return this;const t=e.parent();if(!t)return this.remove();const n=t.index(e);return t.add(this,n),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new ho,this.wrap(t)),"function"==typeof e?e.call(t,t):t.to(e),this},linker(){const e=this.parent();return e&&"a"===e.node.nodeName.toLowerCase()?e:null}}}),$r(ho,"A");class fo extends Ua{constructor(e,t=e){super(Br("mask",e),t)}remove(){return this.targets().forEach((function(e){e.unmask()})),super.remove()}targets(){return Ma("svg [mask*="+this.id()+"]")}}br({Container:{mask:Zr((function(){return this.defs().put(new fo)}))},Element:{masker(){return this.reference("mask")},maskWith(e){const t=e instanceof fo?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}}),$r(fo,"Mask");class po extends Va{constructor(e,t=e){super(Br("stop",e),t)}update(e){return("number"==typeof e||e instanceof Ra)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new Ra(e.offset)),this}}br({Gradient:{stop:function(e,t,n){return this.put(new po).update(e,t,n)}}}),$r(po,"Stop");class mo extends Va{constructor(e,t=e){super(Br("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,n={}){return this.rule("@font-face",{fontFamily:e,src:t,...n})}rule(e,t){return this.addText(function(e,t){if(!e)return"";if(!t)return e;let n=e+"{";for(const i in t)n+=i.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))+":"+t[i]+";";return n+="}",n}(e,t))}}br("Dom",{style(e,t){return this.put(new mo).rule(e,t)},fontface(e,t,n){return this.put(new mo).font(e,t,n)}}),$r(mo,"Style");class go extends ro{constructor(e,t=e){super(Br("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let n=null;return t&&(n=t.plot(e)),null==e?n:this}track(){return this.reference("href")}}br({Container:{textPath:Zr((function(e,t){return e instanceof ro||(e=this.text(e)),e.path(t)}))},Text:{path:Zr((function(e,t=!0){const n=new go;let i;if(e instanceof Hs||(e=this.defs().path(e)),n.attr("href","#"+e,Lr),t)for(;i=this.node.firstChild;)n.node.appendChild(i);return this.put(n)})),textPath(){return this.findOne("textPath")}},Path:{text:Zr((function(e){return e instanceof ro||(e=(new ro).addTo(this.parent()).text(e)),e.path(this)})),targets(){return Ma("svg textPath").filter((e=>(e.attr("href")||"").includes(this.id())))}}}),go.prototype.MorphArray=As,$r(go,"TextPath");class vo extends $a{constructor(e,t=e){super(Br("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Lr)}}br({Container:{use:Zr((function(e,t){return this.put(new vo).use(e,t)}))}}),$r(vo,"Use");const _o=Vr;Xr([to,no,us,ls,ps],xr("viewbox")),Xr([fs,Bs,Vs,Hs],xr("marker")),Xr(ro,xr("Text")),Xr(Hs,xr("Path")),Xr(Wa,xr("Defs")),Xr([ro,ao],xr("Tspan")),Xr([Us,ts,os,Xs],xr("radius")),Xr(Ia,xr("EventTarget")),Xr(ja,xr("Dom")),Xr(Va,xr("Element")),Xr($a,xr("Shape")),Xr([Ua,ns],xr("Container")),Xr(os,xr("Gradient")),Xr(Xs,xr("Runner")),ba.extend([...new Set(wr)]),function(e=[]){Fs.push(...[].concat(e))}([Ra,fa,ya,ga,za,cs,As,pa]),Xr(Fs,{to(e){return(new Os).type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,n,i,r){return this.fromArray(e.map((function(e,a){return i.step(e,t[a],n,r[a],r)})))}});const yo=i({name:"WallExteriorEl",props:{item:{type:Object,default:()=>{}}},emits:["updateWeldModel"],setup(e,{emit:t}){const n=R((()=>{let t=e.item.width,n=e.item.height,i=e.item.translate[0],r=e.item.translate[1],a=e.item.height+60,s=e.item.width,o=e.item.height+60,l=e.item.settings.strokeWidth,u=e.item.rotate;return e.item.showDimensions,{width:t,height:n,trsX:i,trsY:r,Mx:0,My:a,Lx:s,Ly:o,path:`M0,${a} L${s},${o}`,strokeWidth:l,rotate:u}})),i=()=>({width:e.item.width,height:71,margin:-60}),r=R((()=>i().margin+"px"));return o((()=>{const t=s(null),r=i();t.value=_o().addTo(`#wall_${e.item.id}`).size(r.width,r.height);const a=n=>{const i=t.value.group(),r=i.group(),a=i.group(),s=i.group();r.path(n.path).fill("none").stroke({color:"#000",width:n.strokeWidth});e.item.showDimensions&&(()=>{const t=e.item.height+5,i=n.width/2-20-5<5?5:n.width/2-20-5,r=n.width/2-5+60>n.width-5?n.width-5:n.width/2-5+60;let o=`M5,${n.My-t} L5,${n.My-t-35} L${i},${n.My-t-35}\n                        M${r},${n.My-t-35} L${n.width-5},${n.My-t-35} L${n.width-5},${n.My-t}`;a.path(o).fill("none").stroke({color:"#848687",width:1}).fill("none").stroke({width:1,color:"#848687"});const l=(n.width-10-20)/2,u=n.My-t-40;s.rect(80,12).move(l,u).fill("none").stroke({width:0}).attr({visibility:"hidden","no-export":1});let c=`${n.width.toFixed(2)}' ${n.rotate.toFixed(2)}"`;s.text(c).font({family:"Arial",size:10,anchor:"start",fill:"#000"}).move(l,u)})()};a(n.value),D(n,(e=>{(e=>{t.value.clear();const n=i();t.value.size(n.width,n.height),a(e)})(e)}),{deep:!0})})),{svgData:n,getNewWidthHeight:i,margin:r}}}),wo=()=>{N((e=>{var t,n,i;return{"0a13f0da":null==(i=null==(n=null==(t=e.props)?void 0:t.item)?void 0:n.settings)?void 0:i.bgColor,c982fed4:e.margin}}))},bo=yo.setup;yo.setup=bo?(e,t)=>(wo(),bo(e,t)):wo;const xo=["id","width","height"];var Mo=At(yo,[["render",function(e,t,n,i,s,o){return r(),a("div",{id:`wall_${e.item.id}`,class:V(["wall-exterior",{"flex flex-col flex-nowrap":!0,[e.item.type]:e.item.type,"with-bg":e.item.settings.bgColor}]),width:e.getNewWidthHeight().width,height:e.getNewWidthHeight().height},null,10,xo)}],["__scopeId","data-v-58dbf6de"]]);i({name:"NewTopBar",props:{locked:{type:Boolean,default:!1},grpNav:{type:Array,default:()=>[]}},emits:["navGoBack","lockToggle"],setup(e,{emit:t}){const n=B(),i=U();return{tab:s("home"),navGoBack:()=>{t("navGoBack")},lockToggle:()=>{t("lockToggle")},navigateToLogin:()=>{n.push({path:"/login",query:{redirect:i.path}})}}}});const ko=i({name:"DeviceInfo",props:{deviceModel:{type:Object}},emits:["updateDeviceModel","testSendMsg"],data:()=>({treeData:[{id:1,name:"Node 1",children:[{id:2,name:"Child 1"},{id:3,name:"Child 2"}]},{id:4,name:"Node 2",children:[{id:5,name:"Child 3"}]}],listData:[{id:1,name:"Item 1"},{id:2,name:"Item 2"},{id:3,name:"Item 3"}]}),setup(e,{emit:t}){var n,i,r;const a=ye(),l=s(""),u=s(null),c=s(""),d=s([""]),h=s(["All Devices"]),f=ft.deviceList,p=ft.graphicList,m=s({device:"",deviceId:-1,serialNumber:-1,graphic:-1,graphicFull:{id:-1,fullLabel:"",label:"",elementCount:""}}),g=()=>{m.value.graphic=-1,m.value.graphicFull={id:-1,fullLabel:"",label:"",elementCount:""}},v=e=>{const t=(e,n)=>{for(const i of e){if(i.label===n)return null==i?void 0:i.pl;if(i.children){const e=t(i.children,n);if(e)return e}}return null};return t(f.value,e)};o((()=>{const e=tt.DeviceOpt.getCurrentDevice();null!==e&&(m.value=e,tt.DeviceOpt.setDeviceAndGraphicDefaultData(e),c.value=e.device);if(0===f.value.length||0===p.value.length){const e="Can not load the device data. Please check whether the T3000 is running or not.";tt.QuasarUtil.setGlobalMsg("error",e,!0,"get_panel_list_data",null)}else tt.QuasarUtil.clearGlobalMsg("get_panel_list_data")}));const _=s(null!=(r=null==(i=null==(n=ht)?void 0:n.value)?void 0:i.find((e=>"get_panel_list_data"===e.msgType)))?r:{});return D(ht,(e=>{var t;_.value=null!=(t=null==e?void 0:e.find((e=>"get_panel_list_data"===e.msgType)))?t:{}}),{deep:!0}),D([f,p],(([e,t])=>{e.length>0&&t.length>0&&tt.QuasarUtil.clearGlobalMsg("get_panel_list_data")}),{deep:!0}),{filter:l,filterRef:u,selected:c,ticked:d,expanded:h,dvList:f,myFilterMethod:(e,t)=>{if(!t)return!0;const n=t.toLowerCase(),i=e.label;return!(!i||"string"!=typeof i)&&i.toLowerCase().indexOf(n)>-1},resetFilter:()=>{l.value="",u.value.focus()},graphicList:p,currentDevice:m,clearGraphicSelection:g,treeSelected:e=>{var t,n;const i=e=>{e.forEach((e=>{"All Devices"===e.label?e.icon="devices":void 0===e.icon||null===e.icon||(e.icon="horizontal_rule"),e.children&&i(e.children)}))},r=(e,t)=>{for(const n of e){if(n.label===t)return n;if(n.children){const e=r(n.children,t);if(e)return e}}return null};i(f.value);const a=r(f.value,e);if(a){a.icon="check",m.value.device=a.label;const e=v(a.label);m.value.deviceId=null!=(t=null==e?void 0:e.panel_number)?t:-1,m.value.serialNumber=null!=(n=null==e?void 0:e.serial_number)?n:-1}else null===e&&(m.value.device="",m.value.deviceId=-1,m.value.serialNumber=-1);if(g(),""!==m.value.device){const e=m.value.deviceId,t=m.value.graphic;if(tt.WsClient.GetPanelData(e),t<=0)return;tt.WsClient.GetInitialData(e,t,!1)}},updateGraphicSelection:e=>{const t=null!=e?Number(e):-1;m.value.graphic=t;const n=p.value.find((t=>t.id===e));n&&(m.value.graphicFull.id=n.id,m.value.graphicFull.fullLabel=n.fullLabel,m.value.graphicFull.label=n.label,m.value.graphicFull.elementCount=n.elementCount);m.value.deviceId},saveCurrentSelection:()=>{if(W.Debug("= Dvi: saveCurrentSelection / currentDevice:",[m.value.device,m.value.graphic]),""!==m.value.device&&-1!==m.value.graphic)try{tt.WsClient.clearInitialDataInterval(),tt.DeviceOpt.saveCurrentDevice(m.value),W.Debug("= Dvi: saveCurrentSelection / currentDevice saved:",[m.value.device,m.value.graphic]),tt.DeviceOpt.addPresetsData(),tt.WsClient.GetInitialData(m.value.deviceId,m.value.graphic,!0),W.Debug("= Dvi: saveCurrentSelection / GetInitialData called:",[m.value.device,m.value.graphic]),t("updateDeviceModel",!1,m.value)}catch(e){return void a.notify({type:"negative",message:"= Dev test "+e})}else a.notify({type:"negative",message:"Please select a device and a graphic"})},testSendMsg:e=>{t("testSendMsg",e)},noNodesLabel:"No devices available",reloadPanelsData:()=>{tt.WsClient.GetPanelsList()},glMsg:_}}}),Co={class:".dvcontainer"},So={key:0,class:"q-pa-sm row"},Eo={class:"q-pa-sm row"},Do={class:"text-weight-medium select-text"},To={class:"text-weight-medium select-text"},Io={class:"text-weight-medium select-text"},Ao={class:"text-weight-medium select-text"},Po={class:"q-pa-sm row",style:{"margin-top":"-8px"}},Oo={class:"col-12 col-sm-4"},No={class:"col-12 col-sm-8",style:{"padding-left":"5px"}};var Lo=At(ko,[["render",function(e,t,i,s,o,l){const h=E("q-link");return r(),a("div",Co,[e.glMsg.isShow?(r(),a("div",So,[d(me,{"inline-actions":"",class:"text-white bg-purple",style:{width:"100%"}},{action:c((()=>[d(v,{flat:"",caption:"",color:"white",label:"Reload data",onClick:e.reloadPanelsData},null,8,["onClick"])])),default:c((()=>[I(m(e.glMsg.message)+" ",1)])),_:1})])):w("",!0),p("div",Eo,[d(ie,{bordered:"",class:"rounded-borders col-12",style:{height:"50px"}},{default:c((()=>[d(Q,null,{default:c((()=>[d(ee,{top:"",class:"col-1"},{default:c((()=>[d(te,{class:"q-mt-sm text-weight-medium",style:{"font-size":"13px"}},{default:c((()=>[...t[4]||(t[4]=[I("Current:",-1)])])),_:1})])),_:1}),d(ee,{top:"",class:"col-3"},{default:c((()=>[d(te,{class:"q-mt-sm"},{default:c((()=>[I(m(e.currentDevice.device),1)])),_:1})])),_:1}),d(ee,{top:"",class:"col-1"},{default:c((()=>[d(te,{caption:"",class:"select-title"},{default:c((()=>[...t[5]||(t[5]=[I(" Graphic ",-1)])])),_:1}),d(te,null,{default:c((()=>[p("span",Do,m(-1===e.currentDevice.graphicFull.id?"":e.currentDevice.graphicFull.id),1)])),_:1})])),_:1}),d(ee,{top:"",class:"col-3"},{default:c((()=>[d(te,{caption:"",class:"select-title"},{default:c((()=>[...t[6]||(t[6]=[I(" Full label ",-1)])])),_:1}),d(te,null,{default:c((()=>[p("span",To,m(e.currentDevice.graphicFull.fullLabel),1)])),_:1})])),_:1}),d(ee,{top:""},{default:c((()=>[d(te,{caption:"",class:"select-title"},{default:c((()=>[...t[7]||(t[7]=[I(" Label ",-1)])])),_:1}),d(te,null,{default:c((()=>[p("span",Io,m(e.currentDevice.graphicFull.label),1)])),_:1})])),_:1}),d(ee,{top:""},{default:c((()=>[d(te,{caption:"",class:"select-title"},{default:c((()=>[...t[8]||(t[8]=[I(" Element ",-1)])])),_:1}),d(te,null,{default:c((()=>[p("span",Ao,m(e.currentDevice.graphicFull.elementCount),1)])),_:1})])),_:1}),d(ee,{avatar:"",top:""},{default:c((()=>[d(te,{caption:"",class:"select-title"},{default:c((()=>[...t[9]||(t[9]=[I(" Action ",-1)])])),_:1}),d(h,{class:"text-primary",style:{"font-size":"12px","margin-top":"2px",cursor:"pointer"},onClick:e.saveCurrentSelection},{default:c((()=>[t[11]||(t[11]=I("Confirm ",-1)),d(n,{anchor:"top middle",self:"center left"},{default:c((()=>[...t[10]||(t[10]=[I(" Confirm the current selection ",-1)])])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})]),p("div",Po,[p("div",Oo,[d(y,{ref:"filterRef",filled:"",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),placeholder:"Search here"},{append:c((()=>[""!==e.filter?(r(),u(A,{key:0,name:"clear",class:"cursor-pointer",onClick:e.resetFilter},null,8,["onClick"])):w("",!0),""===e.filter?(r(),u(A,{key:1,name:"search"})):w("",!0)])),_:1},8,["modelValue"]),d(_,{color:"grey",style:{"margin-top":"2px","margin-bottom":"2px"}}),d(ge,{nodes:e.dvList,noNodesLabel:e.noNodesLabel,"node-key":"label",selected:e.selected,"onUpdate:selected":[t[1]||(t[1]=t=>e.selected=t),e.treeSelected],ticked:e.ticked,"onUpdate:ticked":t[2]||(t[2]=t=>e.ticked=t),expanded:e.expanded,"onUpdate:expanded":t[3]||(t[3]=t=>e.expanded=t),filter:e.filter,"filter-method":e.myFilterMethod,accordion:!0,style:{"max-height":"326px","overflow-y":"auto"},"selected-color":"primary"},null,8,["nodes","noNodesLabel","selected","ticked","expanded","filter","filter-method","onUpdate:selected"])]),p("div",No,[d(ie,{style:{background:"#f0f0f0","font-weight":"600","font-size":"13px"}},{default:c((()=>[d(Q,{style:{padding:"0","min-height":"35px"}},{default:c((()=>[d(ee,{top:"",class:"col-1"},{default:c((()=>[d(te,{style:{"margin-left":"5px","margin-top":"2px"}},{default:c((()=>[d(v,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"remove",onClick:e.clearGraphicSelection},{default:c((()=>[d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[12]||(t[12]=[I(" Clear selection ",-1)])])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),d(ee,{top:"",class:"col-1"},{default:c((()=>[d(te,{class:"q-mt-sm header-title"},{default:c((()=>[...t[13]||(t[13]=[I("Graphic",-1)])])),_:1})])),_:1}),d(ee,{top:"",class:"col-4"},{default:c((()=>[d(te,{class:"q-mt-sm header-title"},{default:c((()=>[...t[14]||(t[14]=[I("Full Label",-1)])])),_:1})])),_:1}),d(ee,{top:"",class:"col-3"},{default:c((()=>[d(te,{class:"q-mt-sm header-title"},{default:c((()=>[...t[15]||(t[15]=[I("Label",-1)])])),_:1})])),_:1}),d(ee,{top:"",class:"col-2"},{default:c((()=>[d(te,{class:"q-mt-sm header-title"},{default:c((()=>[...t[16]||(t[16]=[I("Element",-1)])])),_:1})])),_:1})])),_:1})])),_:1}),d(_,{color:"grey",style:{"margin-top":"2px","margin-bottom":"2px"}}),(r(!0),a(b,null,x(e.graphicList,(t=>(r(),u(ie,{key:t.id},{default:c((()=>[d(Q,{tag:"label",style:{padding:"0px","min-height":"35px","border-bottom":"1px solid #f0f0f0","font-size":"13px"}},{default:c((()=>[d(ee,{top:"",class:"col-1"},{default:c((()=>[d($,{modelValue:e.currentDevice.graphic,"onUpdate:modelValue":[t=>e.currentDevice.graphic=t,e.updateGraphicSelection],val:t.id,color:"blue","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye"},null,8,["modelValue","onUpdate:modelValue","val"])])),_:2},1024),d(ee,{top:"",class:"col-1"},{default:c((()=>[d(te,{class:"graphic-label"},{default:c((()=>[I(m(t.id),1)])),_:2},1024)])),_:2},1024),d(ee,{top:"",class:"col-4"},{default:c((()=>[d(te,{class:"graphic-label"},{default:c((()=>[I(m(t.fullLabel),1)])),_:2},1024)])),_:2},1024),d(ee,{top:"",class:"col-3"},{default:c((()=>[d(te,{class:"graphic-label"},{default:c((()=>[I(m(t.label),1)])),_:2},1024)])),_:2},1024),d(ee,{top:"",class:"col-2"},{default:c((()=>[d(te,{class:"graphic-label"},{default:c((()=>[I(m(t.elementCount),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])])])}],["__scopeId","data-v-019f8d24"]]);const zo=i({name:"NewTopToolBar",props:{locked:{type:Boolean,default:!1},grpNav:{type:Array,default:()=>[]},object:{type:Object,required:!1},selectedCount:{type:Number,required:!0},disableUndo:{type:Boolean,required:!1},disableRedo:{type:Boolean,required:!1},disablePaste:{type:Boolean,required:!1},zoom:{type:Number,required:!0},rulersGridVisible:{type:Boolean,required:!1},deviceModel:{type:Object,required:!1}},emits:["navGoBack","lockToggle","menuAction","showMoreDevices"],setup(e,{emit:t}){const n=s(null),i=s("Device (-)"),r=B(),a=U(),l=ye();const u=s(e.rulersGridVisible?"Enable":"Disable");D((()=>e.rulersGridVisible),(e=>{u.value=e?"Enable":"Disable"}));return o((()=>{n.value=e.deviceModel,i.value=`Device (${e.deviceModel.data.device})`})),{tab:s("home"),navGoBack:()=>{t("navGoBack")},lockToggle:()=>{t("lockToggle")},menuActionEmit:function(e,n=null){t("menuAction",e,n)},logout:function(){l.cookies.remove("token"),ut.value=null,localStorage.removeItem("user")},tools:Ft,user:ut,showRulersGrid:u,showMoreDevices:()=>{t("showMoreDevices")},currentDevice:n,deviceTabTitle:i,devVersion:ct,navigateTo:e=>{r.push({path:e})},navigateToLogin:()=>{r.push({path:"/login",query:{redirect:a.path}})}}}}),Ro={class:"tool-bar-container"},Fo={class:"left-panel"},Ho={class:"tool-title"},jo={style:{"margin-left":"0px","font-size":"10px",color:"gray","z-index":"99",position:"absolute","margin-top":"0px"}},Vo={class:"tool-btns"},Bo={key:0},Uo={key:1},Wo={class:"right-panel"},$o={style:{"margin-left":"auto"}},Go={class:"container"},Yo={class:"sub-div"},qo={class:"button-row"},Xo={class:"button-row"},Zo={class:"sub-div"},Jo={class:"button-row"},Ko={class:"button-row"},Qo={class:"sub-div"},el={class:"button-row"},tl={class:"sub-div"},nl={class:"button-row"},il={class:"button-row"},rl={class:"sub-div"},al={class:"button-row"},sl={class:"button-row"},ol={class:"sub-div"},ll={class:"button-row"},ul={class:"sub-div"},cl={class:"button-row"},dl={class:"button-row"},hl={class:"sub-div"},fl={class:"button-row"},pl={class:"button-row"},ml={class:"sub-div"},gl={class:"button-row"},vl={class:"button-row"},_l={class:"sub-div"},yl={class:"button-row"},wl={class:"button-row"},bl={class:"sub-div"},xl={class:"button-row"},Ml={class:"button-row",style:{"margin-top":"-3px"}},kl={class:"flex items-center px-1",style:{"font-size":"12px"}},Cl=["value"],Sl={class:"container"},El={class:"sub-div"},Dl={class:"button-row"},Tl={class:"sub-div"},Il={class:"button-row"},Al={class:"sub-div"},Pl={class:"button-row"},Ol={class:"row device-row"},Nl={class:"text-weight-medium select-text"},Ll={class:"text-weight-medium select-text"},zl={class:"text-weight-medium select-text"},Rl={class:"text-weight-medium select-text"};var Fl=At(zo,[["render",function(e,t,i,s,o,l){var f;const y=E("q-link");return r(),a("div",Ro,[p("div",Fo,[p("div",Ho,[t[28]||(t[28]=p("p",{style:{"font-size":"12px"}},"T3000 Hvac",-1)),p("span",jo,m(e.devVersion),1)]),p("div",Vo,[d(v,{dense:"",flat:"",round:"",icon:"menu",size:"sm",onClick:e.lockToggle},null,8,["onClick"]),d(v,{icon:e.locked?"lock_outline":"lock_open",class:"lock-btn",flat:"",round:"",dense:"",size:"sm",color:e.locked?"primary":"normal",onClick:e.lockToggle},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[e.locked?(r(),a("strong",Uo,"Unlock")):(r(),a("strong",Bo,"Lock"))])),_:1})])),_:1},8,["icon","color","onClick"]),(null==(f=e.grpNav)?void 0:f.length)>=0?(r(),u(v,{key:0,icon:"arrow_back",class:"back-btn mr-2",dense:"",round:"",size:"sm",onClick:e.navGoBack},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[29]||(t[29]=[p("strong",null,"Go back",-1)])])),_:1})])),_:1},8,["onClick"])):w("",!0)])]),p("div",Wo,[d(h,{class:"right-panel-card"},{default:c((()=>[d(ce,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),dense:"",class:"right-tab text-white","active-color":"#fff","indicator-color":"#fff",align:"left","narrow-indicator":""},{default:c((()=>[d(de,{name:"home","no-caps":"",label:"Home"}),d(de,{name:"file","no-caps":"",label:"File"}),d(de,{name:"device","no-caps":"",label:`Device (${void 0===e.deviceModel.data.device?"-":e.deviceModel.data.device})`},null,8,["label"]),d(de,{name:"newui","no-caps":"",label:"New UI",onClick:t[0]||(t[0]=t=>e.navigateTo("hvac/t2"))}),p("div",$o,[d(v,{flat:"",color:"primary",label:"Login",onClick:e.navigateToLogin},null,8,["onClick"])])])),_:1},8,["modelValue"]),d(_),d(he,{modelValue:e.tab,"onUpdate:modelValue":t[27]||(t[27]=t=>e.tab=t),class:"tab-panel"},{default:c((()=>[d(fe,{name:"home",class:"home-panel"},{default:c((()=>[p("div",Go,[p("div",Yo,[p("div",qo,[d(v,{flat:"",size:"sm",icon:"content_copy","no-caps":"",onClick:t[2]||(t[2]=t=>e.menuActionEmit("copy")),disable:e.selectedCount<1},{default:c((()=>[t[31]||(t[31]=I("Copy ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[30]||(t[30]=[p("strong",null,"Copy",-1),p("em",null," (Ctrl + C)",-1)])])),_:1})])),_:1},8,["disable"])]),p("div",Xo,[d(v,{flat:"",size:"sm",icon:"content_paste","no-caps":"",onClick:t[3]||(t[3]=t=>e.menuActionEmit("paste")),disable:e.disablePaste},{default:c((()=>[t[33]||(t[33]=I("Paste ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[32]||(t[32]=[p("strong",null,"Copy",-1),p("em",null," (Ctrl + V)",-1)])])),_:1})])),_:1},8,["disable"])])]),p("div",Zo,[p("div",Jo,[d(v,{flat:"",size:"sm",icon:"undo","no-caps":"",onClick:t[4]||(t[4]=t=>e.menuActionEmit("undoAction")),disable:e.disableUndo},{default:c((()=>[t[35]||(t[35]=I("Undo ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[34]||(t[34]=[p("strong",null,"Undo",-1),p("em",null," (Ctrl + Z)",-1)])])),_:1})])),_:1},8,["disable"])]),p("div",Ko,[d(v,{flat:"",size:"sm",icon:"redo","no-caps":"",onClick:t[5]||(t[5]=t=>e.menuActionEmit("redoAction")),disable:e.disableRedo},{default:c((()=>[t[37]||(t[37]=I("Redo ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[36]||(t[36]=[p("strong",null,"Redo",-1),p("em",null," (Ctrl + Y)",-1)])])),_:1})])),_:1},8,["disable"])])]),p("div",Qo,[p("div",el,[d(v,{flat:"",size:"sm",icon:"delete","no-caps":"",onClick:t[6]||(t[6]=t=>e.menuActionEmit("deleteSelected")),disable:e.selectedCount<1},{default:c((()=>[t[39]||(t[39]=I("Delete ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[38]||(t[38]=[p("strong",null,"Delete selected",-1),p("em",null," (Delete)",-1)])])),_:1})])),_:1},8,["disable"])])]),d(_,{color:"white",inset:"",vertical:""}),p("div",tl,[p("div",nl,[d(v,{flat:"",size:"sm",icon:"join_full","no-caps":"",onClick:t[7]||(t[7]=t=>e.menuActionEmit("groupSelected")),disable:e.selectedCount<2},{default:c((()=>[t[41]||(t[41]=I("Group ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[40]||(t[40]=[p("strong",null,"Group selected",-1),p("em",null," (Ctrl + G)",-1)])])),_:1})])),_:1},8,["disable"])]),p("div",il,[d(v,{flat:"",size:"sm",icon:"join_inner","no-caps":"",onClick:t[8]||(t[8]=t=>e.menuActionEmit("ungroupSelected")),disable:e.selectedCount<2},{default:c((()=>[t[43]||(t[43]=I("Ungroup ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[42]||(t[42]=[p("strong",null,"Ungroup selected",-1),p("em",null," (Ctrl + Shift + G)",-1)])])),_:1})])),_:1},8,["disable"])])]),p("div",rl,[p("div",al,[d(v,{flat:"",size:"sm",icon:"library_books","no-caps":"",onClick:t[9]||(t[9]=t=>e.menuActionEmit("addToLibrary")),disable:e.selectedCount<2},{default:c((()=>[t[45]||(t[45]=I("Add to library ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[44]||(t[44]=[p("strong",null,"Add selected to library",-1),p("em",null," (Ctrl + L)",-1)])])),_:1})])),_:1},8,["disable"])]),p("div",sl,[d(v,{flat:"",size:"sm",icon:"file_copy","no-caps":"",onClick:t[10]||(t[10]=t=>e.menuActionEmit("duplicateSelected")),disable:e.selectedCount<1},{default:c((()=>[t[47]||(t[47]=I("Duplicate ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[46]||(t[46]=[p("strong",null,"Duplicate selected",-1),p("em",null," (Ctrl + D)",-1)])])),_:1})])),_:1},8,["disable"])])]),d(_,{color:"white",inset:"",vertical:""}),p("div",ol,[p("div",ll,[d(v,{flat:"",size:"sm",icon:"splitscreen","no-caps":"",onClick:t[11]||(t[11]=t=>e.menuActionEmit("weldSelected")),disable:!(e.selectedCount>=2)},{default:c((()=>[t[49]||(t[49]=I("Weld ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[48]||(t[48]=[p("strong",null,"Weld selected",-1),p("em",null," (Ctrl + B)",-1)])])),_:1})])),_:1},8,["disable"])])]),p("div",ul,[p("div",cl,[d(v,{flat:"",size:"sm",icon:"link","no-caps":"",onClick:t[12]||(t[12]=t=>e.menuActionEmit("link")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[t[51]||(t[51]=I("Link ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[50]||(t[50]=[p("strong",null,"Link",-1)])])),_:1})])),_:1},8,["disable"])]),p("div",dl,[d(v,{flat:"",size:"sm",icon:"transform","no-caps":"",disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[t[53]||(t[53]=I("Convert to ",-1)),d(re,{anchor:"top end",self:"top start","auto-close":""},{default:c((()=>[d(ie,null,{default:c((()=>[(r(!0),a(b,null,x(e.tools.filter((t=>t.name!==e.object.type&&!["Duct","Pointer","Text"].includes(t.name))),(t=>g((r(),u(Q,{key:t.name,dense:"",clickable:"",onClick:n=>e.menuActionEmit("convertObjectType",t.name)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:t.icon,color:"grey-7","text-color":"white"},null,8,["icon"])])),_:2},1024),d(ee,null,{default:c((()=>[I(m(t.name),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[_e]]))),128))])),_:1})])),_:1}),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[52]||(t[52]=[p("strong",null,"Convert to",-1)])])),_:1})])),_:1},8,["disable"])])]),d(_,{color:"white",inset:"",vertical:""}),p("div",hl,[p("div",fl,[d(v,{flat:"",size:"sm",icon:"autorenew","no-caps":"",onClick:t[13]||(t[13]=t=>e.menuActionEmit("rotate90")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[t[55]||(t[55]=I("Rotate 90° ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[54]||(t[54]=[p("strong",null,"Rotate 90°",-1)])])),_:1})])),_:1},8,["disable"])]),p("div",pl,[d(v,{flat:"",size:"sm",icon:"sync","no-caps":"",onClick:t[14]||(t[14]=t=>e.menuActionEmit("rotate-90")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[t[57]||(t[57]=I("Rotate -90° ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[56]||(t[56]=[p("strong",null,"Rotate -90°",-1)])])),_:1})])),_:1},8,["disable"])])]),p("div",ml,[p("div",gl,[d(v,{flat:"",size:"sm",icon:"flip","no-caps":"",onClick:t[15]||(t[15]=t=>e.menuActionEmit("flipH")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[t[59]||(t[59]=I("Flip horizontal ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[58]||(t[58]=[p("strong",null,"Flip horizontal",-1)])])),_:1})])),_:1},8,["disable"])]),p("div",vl,[d(v,{flat:"",size:"sm",icon:"flip","no-caps":"",onClick:t[16]||(t[16]=t=>e.menuActionEmit("flipV")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[t[61]||(t[61]=I("Flip vertical ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[60]||(t[60]=[p("strong",null,"Flip vertical",-1)])])),_:1})])),_:1},8,["disable"])])]),p("div",_l,[p("div",yl,[d(v,{flat:"",size:"sm",icon:"flip_to_front","no-caps":"",onClick:t[17]||(t[17]=t=>e.menuActionEmit("bringToFront")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[t[63]||(t[63]=I("Bring to front ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[62]||(t[62]=[p("strong",null,"Bring to front",-1)])])),_:1})])),_:1},8,["disable"])]),p("div",wl,[d(v,{flat:"",size:"sm",icon:"flip_to_back","no-caps":"",onClick:t[18]||(t[18]=t=>e.menuActionEmit("sendToBack")),disable:!e.selectedCount||e.selectedCount>1},{default:c((()=>[t[65]||(t[65]=I("Send to back ",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[64]||(t[64]=[p("strong",null,"Send to Back",-1)])])),_:1})])),_:1},8,["disable"])])]),d(_,{color:"white",inset:"",vertical:""}),p("div",bl,[p("div",xl,[d(P,{color:"blue","false-value":"Disable","true-value":"Enable",modelValue:e.showRulersGrid,"onUpdate:modelValue":[t[19]||(t[19]=t=>e.showRulersGrid=t),t[20]||(t[20]=t=>e.menuActionEmit("toggleRulersGrid",e.showRulersGrid))],size:"xs",style:{"margin-top":"-3px"}},{default:c((()=>[t[66]||(t[66]=p("span",{style:{"font-size":"11px"}},"Rulers & Grid",-1)),d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[I(" Show rulers and grid ("+m(e.showRulersGrid)+") ",1)])),_:1})])),_:1},8,["modelValue"])]),p("div",Ml,[d(v,{onClick:t[21]||(t[21]=t=>e.menuActionEmit("zoomOut")),disable:e.zoom<=10,dense:"",flat:"",size:"sm",icon:"zoom_out"},{default:c((()=>[d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[67]||(t[67]=[I(" Zoom out ",-1)])])),_:1})])),_:1},8,["disable"]),p("div",kl,[p("input",{class:"zoom-input",onKeydown:t[22]||(t[22]=O((t=>e.menuActionEmit("zoomSet",t.target.value)),["enter"])),value:e.zoom,type:"number"},null,40,Cl),t[68]||(t[68]=I("% ",-1))]),d(v,{onClick:t[23]||(t[23]=t=>e.menuActionEmit("zoomIn")),disable:e.zoom>=400,dense:"",flat:"",size:"sm",icon:"zoom_in"},{default:c((()=>[d(n,{anchor:"top middle",self:"center right"},{default:c((()=>[...t[69]||(t[69]=[I(" Zoom in ",-1)])])),_:1})])),_:1},8,["disable"])])])])])),_:1}),d(fe,{name:"file",class:"file-panel"},{default:c((()=>[p("div",Sl,[p("div",El,[p("div",Dl,[d(v,{flat:"",size:"sm",icon:"assignment","no-caps":"",label:"New Project",style:{"font-size":"11px"},onClick:t[24]||(t[24]=t=>e.menuActionEmit("newProject"))}),t[70]||(t[70]=p("span",{class:"file-short-cut"},"(Ctrl + R)",-1))])]),d(_,{color:"white",inset:"",vertical:""}),p("div",Tl,[p("div",Il,[d(v,{flat:"",size:"sm",icon:"file_open","no-caps":"",label:"Import",style:{"font-size":"11px"},onClick:t[25]||(t[25]=t=>e.menuActionEmit("importJsonAction"))})])]),p("div",Al,[p("div",Pl,[d(v,{flat:"",size:"sm",icon:"file_open","no-caps":"",label:"Export",style:{"font-size":"11px"},onClick:t[26]||(t[26]=t=>e.menuActionEmit("exportToJsonAction"))})])])])])),_:1}),d(fe,{name:"device",class:"device-panel"},{default:c((()=>[p("div",Ol,[d(ie,{class:"col-12",style:{height:"50px"}},{default:c((()=>[d(Q,null,{default:c((()=>[d(ee,{top:"",class:"col-3"},{default:c((()=>[d(te,{class:"q-mt-sm"},{default:c((()=>{var t,n;return[I("Current: "+m(null==(n=null==(t=e.currentDevice)?void 0:t.data)?void 0:n.device),1)]})),_:1})])),_:1}),d(ee,{top:"",class:"col-1"},{default:c((()=>[d(te,{caption:"",class:"select-title"},{default:c((()=>[...t[71]||(t[71]=[I(" Graphic ",-1)])])),_:1}),d(te,null,{default:c((()=>{var t,n,i;return[p("span",Nl,m(null==(i=null==(n=null==(t=e.currentDevice)?void 0:t.data)?void 0:n.graphicFull)?void 0:i.id),1)]})),_:1})])),_:1}),d(ee,{top:"",class:"col-2"},{default:c((()=>[d(te,{caption:"",class:"select-title"},{default:c((()=>[...t[72]||(t[72]=[I(" Full label ",-1)])])),_:1}),d(te,null,{default:c((()=>{var t,n,i;return[p("span",Ll,m(null==(i=null==(n=null==(t=e.currentDevice)?void 0:t.data)?void 0:n.graphicFull)?void 0:i.fullLabel),1)]})),_:1})])),_:1}),d(ee,{top:""},{default:c((()=>[d(te,{caption:"",class:"select-title"},{default:c((()=>[...t[73]||(t[73]=[I(" Label ",-1)])])),_:1}),d(te,null,{default:c((()=>{var t,n,i;return[p("span",zl,m(null==(i=null==(n=null==(t=e.currentDevice)?void 0:t.data)?void 0:n.graphicFull)?void 0:i.label),1)]})),_:1})])),_:1}),d(ee,{top:""},{default:c((()=>[d(te,{caption:"",class:"select-title"},{default:c((()=>[...t[74]||(t[74]=[I(" Element Count ",-1)])])),_:1}),d(te,null,{default:c((()=>{var t,n,i;return[p("span",Rl,m(null==(i=null==(n=null==(t=e.currentDevice)?void 0:t.data)?void 0:n.graphicFull)?void 0:i.elementCount),1)]})),_:1})])),_:1}),d(ee,{avatar:"",top:""},{default:c((()=>[d(te,{caption:"",class:"select-title"},{default:c((()=>[...t[75]||(t[75]=[I(" Action ",-1)])])),_:1}),d(y,{class:"text-primary",style:{"font-size":"12px","margin-top":"2px",cursor:"pointer"},onClick:e.showMoreDevices},{default:c((()=>[t[77]||(t[77]=I("Show more devices ",-1)),d(n,{anchor:"top middle",self:"center left"},{default:c((()=>[...t[76]||(t[76]=[I(" Save the current selection ",-1)])])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1},8,["modelValue"])])),_:1})])])}],["__scopeId","data-v-462c02a4"]]);const Hl={style:{display:"flex","justify-content":"flex-start",gap:"8px"}},jl=i({__name:"ScheduleModal",props:{visible:{type:Boolean,default:!1}},setup(e){(()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=15){const i=t.toString().padStart(2,"0"),r=n.toString().padStart(2,"0");e.push(`${i}:${r}`)}})();const t=s(Array.from({length:8},((e,t)=>({key:(t+1).toString(),status:t%2==0,monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:"",holiday1:"",holiday2:""})))),n=[{title:"On/Off",key:"status"},{title:"Monday",dataIndex:"monday",key:"monday"},{title:"Tuesday",dataIndex:"tuesday",key:"tuesday"},{title:"Wednesday",dataIndex:"wednesday",key:"wednesday"},{title:"Thursday",dataIndex:"thursday",key:"thursday"},{title:"Friday",dataIndex:"friday",key:"friday"},{title:"Saturday",dataIndex:"saturday",key:"saturday"},{title:"Sunday",dataIndex:"sunday",key:"sunday"},{title:"Holiday 1",dataIndex:"holiday1",key:"holiday1"},{title:"Holiday 2",dataIndex:"holiday2",key:"holiday2"}],i=()=>{t.value=t.value.map((e=>{const t=e.monday;return{...e,tuesday:t,wednesday:t,thursday:t,friday:t}}))},a=()=>{v()},l=()=>{t.value=t.value.map((e=>({...e,monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:"",holiday1:"",holiday2:""})))},h=()=>{Jt.value=!1},f=()=>{Jt.value=!1},m=s("Schedule full label test title"),g=s("T3-TB / Test Schedule / Panel 1 / Schedule 1");o((()=>{if(W.Debug("= ScheduleModal: onMounted scheduleItemData",Zt.value),Zt.value&&Zt.value.t3Entry){const{id:e,label:t,description:n}=Zt.value.t3Entry;m.value=[e,t,n].filter(Boolean).join(", ")}if(Zt.value&&Zt.value.t3Entry){const{command:e,control:t,description:n,id:i,label:r,type:a}=Zt.value.t3Entry;g.value=[e,t,n,i,r,a].filter(Boolean).join(" / ")}Zt.value&&Zt.value.t3Entry&&Zt.value.t3Entry.time&&W.Debug("= ScheduleModal: onMounted Schedule time:",JSON.stringify(Zt.value.t3Entry.time)),v()}));const v=()=>{var e;if(Zt.value&&Zt.value.t3Entry&&Array.isArray(Zt.value.t3Entry.time)){const n=["monday","tuesday","wednesday","thursday","friday","saturday","sunday","holiday1","holiday2"],i=Zt.value.t3Entry.time,r=(null==(e=i[0])?void 0:e.length)||0,a=Array.from({length:r},((e,t)=>{const r={key:(t+1).toString(),status:t%2==0};return n.forEach(((e,n)=>{var a;const s=null==(a=i[n])?void 0:a[t];if(s&&"number"==typeof s.hours&&"number"==typeof s.minutes){const t=s.hours.toString().padStart(2,"0"),n=s.minutes.toString().padStart(2,"0");r[e]=`${t}:${n}`}else r[e]=""})),r}));t.value=a,W.Debug("= ScheduleModal: loadDefaultData scheduleData",JSON.stringify(t.value),t.value)}};return(e,s)=>{const o=E("a-alert"),v=E("a-switch"),_=E("a-time-picker"),y=E("a-table"),b=E("a-button"),x=E("a-modal"),M=E("a-config-provider");return r(),u(M,{theme:{token:{colorPrimary:"#0064c8"}}},{default:c((()=>[d(x,{visible:L(Jt),"onUpdate:visible":s[0]||(s[0]=e=>G(Jt)?Jt.value=e:null),title:m.value,width:1e3,style:{"border-radius":"0px"},wrapClassName:"t3-modal",onOk:h,onCancel:f},{footer:c((()=>[p("div",Hl,[d(b,{class:"t3-btn",onClick:i,type:"primary"},{default:c((()=>[...s[1]||(s[1]=[I("Copy to Monday - Friday",-1)])])),_:1}),d(b,{class:"t3-btn",onClick:a},{default:c((()=>[...s[2]||(s[2]=[I("Refresh from T3000",-1)])])),_:1}),d(b,{class:"t3-btn",onClick:l},{default:c((()=>[...s[3]||(s[3]=[I("Clear All",-1)])])),_:1}),d(b,{class:"t3-btn",onClick:h},{default:c((()=>[...s[4]||(s[4]=[I("Save",-1)])])),_:1}),d(b,{class:"t3-btn",onClick:f},{default:c((()=>[...s[5]||(s[5]=[I("Cancel",-1)])])),_:1})])])),default:c((()=>[d(o,{message:g.value,type:"info","show-icon":"",class:"sch-alert"},null,8,["message"]),d(y,{dataSource:t.value,columns:n,pagination:!1,bordered:"",size:"small"},{bodyCell:c((({column:e,record:t})=>["status"===e.key?(r(),u(v,{key:0,checked:t.status,"checked-children":"On","un-checked-children":"Off",disabled:""},null,8,["checked"])):["monday","tuesday","wednesday","thursday","friday","saturday","sunday","holiday1","holiday2"].includes(e.key)?(r(),u(_,{key:1,value:t[e.key]?L(fn)(t[e.key],"HH:mm"):null,format:"HH:mm","minute-step":15,"show-second":!1,style:{width:"100%","border-radius":"0px"},size:"middle",placeholder:"",onChange:(n,i)=>((e,t,n)=>{e[t]=n&&"string"!=typeof n?n:"string"==typeof n?fn(n,"HH:mm"):null})(t,e.key,n)},null,8,["value","onChange"])):w("",!0)])),_:1},8,["dataSource"])])),_:1},8,["visible","title"])])),_:1})}}});"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Vl,Bl={exports:{}},Ul={exports:{}};window,Vl=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=20)}([function(e,t,n){var i=n(3);e.exports=function(e,t,n){var r,a;if(n=n||0,!i(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(a=t.length,r=n;n>=0&&r<a;r+=1)if(t[r]===e)return r;return-1}},function(e,t,n){e.exports=function(e,t,n){var i=0,r=e.length;for(n=n||null;i<r&&!1!==t.call(n,e[i],i,e);i+=1);}},function(e,t,n){e.exports=function(e,t){var n,i,r,a,s=Object.prototype.hasOwnProperty;for(r=1,a=arguments.length;r<a;r+=1)for(i in n=arguments[r])s.call(n,i)&&(e[i]=n[i]);return e}},function(e,t,n){e.exports=function(e){return e instanceof Array}},function(e,t,n){var i=n(3),r=n(1),a=n(16);e.exports=function(e,t,n){i(e)?r(e,t,n):a(e,t,n)}},function(e,t,n){e.exports=function(e){return void 0===e}},function(e,t,n){e.exports=function(e){return"string"==typeof e||e instanceof String}},function(e,t,n){var i=n(0),r=n(4),a=n(3),s=n(6),o=n(2),l=/{{\s?|\s?}}/g,u=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,c=/\[\s?|\s?\]/,d=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,f=/^["']\w+["']$/,p=/"|'/g,m=/^-?\d+\.?\d*$/,g={if:function(e,t,n){var i=function(e,t){var n=[e],i=[],a=0,s=0;return r(t,(function(e,r){0===e.indexOf("if")?a+=1:"/if"===e?a-=1:a||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),i.push(t.slice(s,r)),s=r+1)})),i.push(t.slice(s)),{exps:n,sourcesInsideIf:i}}(e,t),a=!1,s="";return r(i.exps,(function(e,t){return(a=w(e,n))&&(s=b(i.sourcesInsideIf[t],n)),!a})),s},each:function(e,t,n){var i=w(e,n),s=a(i)?"@index":"@key",l={},u="";return r(i,(function(e,i){l[s]=i,l["@this"]=e,o(n,l),u+=b(t.slice(),n)})),u},with:function(e,t,n){var r=i("as",e),a=e[r+1],s=w(e.slice(0,r),n),l={};return l[a]=s,b(t,o(n,l))||""}},v=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,i,r=[],a=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)i=n.index,r.push(e.slice(a,i)),a=i+n[0].length,n=t.exec(e);return r.push(e.slice(a)),r};function _(e,t){var n,i=t[e];return"true"===e?i=!0:"false"===e?i=!1:f.test(e)?i=e.replace(p,""):u.test(e)?i=_((n=e.split(c))[0],t)[_(n[1],t)]:d.test(e)?i=_((n=e.split(h))[0],t)[n[1]]:m.test(e)&&(i=parseFloat(e)),i}function y(e,t,n){for(var i,r,a,o,l=g[e],u=1,c=2,d=t[c];u&&s(d);)0===d.indexOf(e)?u+=1:0===d.indexOf("/"+e)&&(u-=1,i=c),d=t[c+=2];if(u)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=l(t[0].split(" ").slice(1),(r=0,a=i,(o=t.splice(r+1,a-r)).pop(),o),n),t}function w(e,t){var n=_(e[0],t);return n instanceof Function?function(e,t,n){var i=[];return r(t,(function(e){i.push(_(e,n))})),e.apply(null,i)}(n,e.slice(1),t):n}function b(e,t){for(var n,i,r,a=1,o=e[a];s(o);)i=(n=o.split(" "))[0],g[i]?(r=y(i,e.splice(a,e.length-a),t),e=e.concat(r)):e[a]=w(n,t),o=e[a+=2];return e.join("")}e.exports=function(e,t){return b(v(e,l),t)}},function(e,t,n){var i=n(2),r=n(23),a=n(6),s=n(25),o=n(3),l=n(26),u=n(4),c=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){i(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;r(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;r(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var i=this._safeEvent(e);this._memorizeContext(n),i.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var i=this;a(e)?(e=e.split(c),u(e,(function(e){i._bindEvent(e,t,n)}))):s(e)&&(n=t,u(e,(function(e,t){i.on(t,e,n)})))},d.prototype.once=function(e,t,n){var i=this;if(s(e))return n=t,void u(e,(function(e,t){i.once(t,e,n)}));this.on(e,(function r(){t.apply(n,arguments),i.off(e,r,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,i=0;if(o(e))for(n=e.length;i<n;i+=1)!0===t(e[i])&&(e.splice(i,1),n-=1,i-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var i=e===n.handler;return i&&t._forgetContext(n.context),i}},d.prototype._matchContext=function(e){var t=this;return function(n){var i=e===n.context;return i&&t._forgetContext(n.context),i}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(i){var r=e===i.handler,a=t===i.context,s=r&&a;return s&&n._forgetContext(i.context),s}},d.prototype._offByEventName=function(e,t){var n=this,i=l(t),r=n._matchHandler(t);e=e.split(c),u(e,(function(e){var t=n._safeEvent(e);i?n._spliceMatches(t,r):(u(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);u(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,i=this;this._indexOfContext(e)<0?u(e,(function(e,t){i.off(t,e)})):a(t)?(n=this._matchContext(e),i._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),u(this._safeEvent(),(function(e){i._spliceMatches(e,n)}))):(n=this._matchContext(e),u(this._safeEvent(),(function(e){i._spliceMatches(e,n)})))},d.prototype.off=function(e,t){a(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):s(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,i,r;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),i=0;t[i];){if(!1===(r=t[i]).handler.apply(r.context,n))return!1;i+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},function(e,t,n){var i=n(27),r=n(2);e.exports=function(e,t){var n;return t||(t=e,e=null),n=t.init||function(){},e&&i(n,e),t.hasOwnProperty("static")&&(r(n,t.static),delete t.static),r(n.prototype,t),n}},function(e,t,n){var i=n(6),r=n(4),a=n(17);function s(e,t,n,i){function s(t){n.call(i||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,s):"attachEvent"in e&&e.attachEvent("on"+t,s),function(e,t,n,i){var s=a(e,t),o=!1;r(s,(function(e){return e.handler!==n||(o=!0,!1)})),o||s.push({handler:n,wrappedHandler:i})}(e,t,n,s)}e.exports=function(e,t,n,a){i(t)?r(t.split(/\s+/g),(function(t){s(e,t,n,a)})):r(t,(function(t,i){s(e,i,t,n)}))}},function(e,t,n){var i=n(6),r=n(4),a=n(17);function s(e,t,n){var i,s=a(e,t);n?(r(s,(function(r,a){return n!==r.handler||(o(e,t,r.wrappedHandler),i=a,!1)})),s.splice(i,1)):(r(s,(function(n){o(e,t,n.wrappedHandler)})),s.splice(0,s.length))}function o(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){i(t)?r(t.split(/\s+/g),(function(t){s(e,t,n)})):r(t,(function(t,n){s(e,n,t)}))}},function(e,t,n){var i=n(30);e.exports=function(e,t){var n=e.parentNode;if(i(e,t))return e;for(;n&&n!==document;){if(i(n,t))return n;n=n.parentNode}return null}},function(e,t,n){e.exports=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,n){e.exports=function(e){return"object"==typeof HTMLElement?e&&(e instanceof HTMLElement||!!e.nodeType):!(!e||!e.nodeType)}},function(e,t,n){var i=n(0),r=n(1),a=n(35),s=0,o={getUniqueId:function(){return s+=1},formatTime:function(e,t){return e=String(e),i(t,["hh","mm"])>=0&&1===e.length?"0"+e:e},getMeridiemHour:function(e){return 0==(e%=12)&&(e=12),e},getRangeArr:function(e,t,n){var i,r=[];if(n=n||1,e>t)for(i=t;i>=e;i-=n)r.push(i);else for(i=e;i<=t;i+=n)r.push(i);return r},fill:function(e,t,n,i){var r,a=i||[],s=Math.min(a.length-1,t);for(r=e;r<=s;r+=1)a[r]=n;for(r=s;r<=t;r+=1)a.push(n);return a},getTarget:function(e){return e.target||e.srcElement},sendHostName:function(){a("time-picker","UA-129987462-1")},getDisabledMinuteArr:function(e,t){var n=this.fill(0,Math.floor(60/t)-2,!1);return r(e,function(e){var i=Math.ceil(e.begin/t),r=Math.floor(e.end/t);n=this.fill(i,r,!0,n)}.bind(this)),n},setDisabled:function(e,t){e.disabled=t}};e.exports=o},function(e,t,n){e.exports=function(e,t,n){var i;for(i in n=n||null,e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))break}},function(e,t,n){var i="_feEventKey";e.exports=function(e,t){var n,r=e[i];return r||(r=e[i]={}),(n=r[t])||(n=r[t]=[]),n}},function(e,t,n){var i=n(5);e.exports=function(e){return e&&e.className?i(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){var i=n(3),r=n(5);e.exports=function(e,t){t=(t=i(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),r(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){n(21),e.exports=n(22)},function(e,t,n){},function(e,t,n){var i=n(0),r=n(1),a=n(8),s=n(9),o=n(2),l=n(10),u=n(11),c=n(29),d=n(12),h=n(13),f=n(32),p=n(14),m=n(33),g=n(34),v=n(38),_=n(15),y=n(40),w=n(41),b=n(42),x=".tui-timepicker-meridiem",M="tui-hidden",k="tui-timepicker-meridiem-checked",C="spinbox",S="selectbox",E=s({static:{localeTexts:y},init:function(e,t){t=function(e){return o({language:"en",initialHour:0,initialMinute:0,showMeridiem:!0,inputType:"selectbox",hourStep:1,minuteStep:1,meridiemPosition:"right",format:"h:m",disabledHours:[],disabledMinutes:{},usageStatistics:!0},e)}(t),this.id=_.getUniqueId(),this.container=p(e)?e:document.querySelector(e),this.element=null,this.meridiemElement=null,this.amEl=null,this.pmEl=null,this.showMeridiem=t.showMeridiem,this.meridiemPosition=t.meridiemPosition,this.hourInput=null,this.minuteInput=null,this.hour=t.initialHour,this.minute=t.initialMinute,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.disabledHours=t.disabledHours,this.disabledMinutes=t.disabledMinutes,this.inputType=t.inputType,this.localeText=y[t.language],this.format=this.getValidTimeFormat(t.format),this.render(),this.setEvents(),t.usageStatistics&&_.sendHostName()},setEvents:function(){this.hourInput.on("change",this.onChangeTimeInput,this),this.minuteInput.on("change",this.onChangeTimeInput,this),this.showMeridiem&&(this.inputType===S?l(this.meridiemElement.querySelector("select"),"change",this.onChangeMeridiem,this):this.inputType===C&&l(this.meridiemElement,"click",this.onChangeMeridiem,this))},removeEvents:function(){this.off(),this.hourInput.destroy(),this.minuteInput.destroy(),this.showMeridiem&&(this.inputType===S?u(this.meridiemElement.querySelector("select"),"change",this.onChangeMeridiem,this):this.inputType===C&&u(this.meridiemElement,"click",this.onChangeMeridiem,this))},render:function(){var e={showMeridiem:this.showMeridiem,isSpinbox:"spinbox"===this.inputType};this.showMeridiem&&o(e,{meridiemElement:this.makeMeridiemHTML()}),this.element&&h(this.element),this.container.innerHTML=w(e),this.element=this.container.firstChild,this.renderTimeInputs(),this.showMeridiem&&this.setMeridiemElement()},setMeridiemElement:function(){"left"===this.meridiemPosition&&c(this.element,"tui-has-left"),this.meridiemElement=this.element.querySelector(x),this.amEl=this.meridiemElement.querySelector('[value="AM"]'),this.pmEl=this.meridiemElement.querySelector('[value="PM"]'),this.syncToMeridiemElements()},makeMeridiemHTML:function(){var e=this.localeText;return b({am:e.am,pm:e.pm,radioId:this.id,isSpinbox:"spinbox"===this.inputType})},renderTimeInputs:function(){var e=this.hour,t=this.showMeridiem,n=this.element.querySelector(".tui-timepicker-hour"),i=this.element.querySelector(".tui-timepicker-minute"),r="selectbox"===this.inputType.toLowerCase()?v:g,a=this.format.split(":"),s=this.getHourItems();t&&(e=_.getMeridiemHour(e)),this.hourInput=new r(n,{initialValue:e,items:s,format:a[0],disabledItems:this.makeDisabledStatItems(s)}),this.minuteInput=new r(i,{initialValue:this.minute,items:this.getMinuteItems(),format:a[1]})},makeDisabledStatItems:function(e){var t=[],n=this.disabledHours.slice();return this.showMeridiem&&(n=this.meridiemableTime(n)),r(e,(function(e){t.push(i(e,n)>=0)})),t},meridiemableTime:function(e){var t=0,n=0,i=11,a=[];return this.hour>=12&&(t=12,n=12,i=23),r(e,(function(e){e>=n&&e<=i&&a.push(e-t==0?12:e-t)})),a},getValidTimeFormat:function(e){return e.match(/^[h]{1,2}:[m]{1,2}$/i)?e.toLowerCase():"h:m"},syncToMeridiemElements:function(){var e=this.hour>=12?this.pmEl:this.amEl,t=e===this.pmEl?this.amEl:this.pmEl;e.setAttribute("selected",!0),e.setAttribute("checked",!0),c(e,k),t.removeAttribute("selected"),t.removeAttribute("checked"),f(t,k)},syncToInputs:function(){var e=this.hour,t=this.minute;this.showMeridiem&&(e=_.getMeridiemHour(e)),this.hourInput.setValue(e,!0),this.minuteInput.setValue(t,!0)},onChangeMeridiem:function(e){var t=this.hour,n=_.getTarget(e);n.value&&d(n,x)&&(t=this.to24Hour("PM"===n.value,t),this.setTime(t,this.minute),this.setDisabledHours(),this.setDisabledMinutes(t))},onChangeTimeInput:function(){var e=this.hourInput.getValue(),t=this.minuteInput.getValue(),n=this.hour>=12;this.showMeridiem&&(e=this.to24Hour(n,e)),this.setTime(e,t),this.setDisabledMinutes(e)},to24Hour:function(e,t){return t%=12,e&&(t+=12),t},setDisabledHours:function(){var e=this.getHourItems(),t=this.makeDisabledStatItems(e);this.hourInput.setDisabledItems(t)},setDisabledMinutes:function(e){var t;t=this.disabledMinutes[e]||[],this.minuteInput.setDisabledItems(t)},getHourItems:function(){var e=this.hourStep;return this.showMeridiem?_.getRangeArr(1,12,e):_.getRangeArr(0,23,e)},getMinuteItems:function(){return _.getRangeArr(0,59,this.minuteStep)},validItems:function(e,t){return!(!m(e)||!m(t))&&(this.showMeridiem&&(e=_.getMeridiemHour(e)),i(e,this.getHourItems())>-1&&i(t,this.getMinuteItems())>-1)},setHourStep:function(e){this.hourStep=e,this.hourInput.fire("changeItems",this.getHourItems())},getHourStep:function(){return this.hourStep},setMinuteStep:function(e){this.minuteStep=e,this.minuteInput.fire("changeItems",this.getMinuteItems())},getMinuteStep:function(){return this.minuteStep},show:function(){f(this.element,M)},hide:function(){c(this.element,M)},setHour:function(e){return this.setTime(e,this.minute)},setMinute:function(e){return this.setTime(this.hour,e)},setTime:function(e,t,n){this.validItems(e,t)&&(this.hour=e,this.minute=t,this.syncToInputs(),this.showMeridiem&&this.syncToMeridiemElements(),n||this.fire("change",{hour:this.hour,minute:this.minute}))},setRange:function(e,t){var n,i,r=e.hour,a=e.minute;this.isValidRange(e,t)&&(t&&(n=t.hour,i=t.minute),this.setRangeHour(r,n),this.setRangeMinute(r,a,n,i),this.applyRange(r,a,n))},setRangeHour:function(e,t){var n=_.getRangeArr(0,e-1);t&&(n=n.concat(_.getRangeArr(t+1,23))),this.disabledHours=n.slice()},setRangeMinute:function(e,t,n,i){var r=[];if(e||t){if(r.push({begin:0,end:t}),n&&i){if(r.push({begin:i,end:59}),e===n)return void(this.disabledMinutes[e]=_.getDisabledMinuteArr(r,this.minuteStep).slice());this.disabledMinutes[n]=_.getDisabledMinuteArr([r[1]],this.minuteStep).slice()}this.disabledMinutes[e]=_.getDisabledMinuteArr([r[0]],this.minuteStep).slice()}},applyRange:function(e,t,n){var i,r=Math.ceil(t/this.minuteStep),a=e,s=r*this.minuteStep;this.isLaterThanSetTime(e,t)&&(this.disabledMinutes[a][r]&&(s=(i=this.disabledMinutes[a].slice(r).findIndex((function(e){return!e}))*this.minuteStep)>=0?s+i:60),(1!==this.hourStep&&e%this.hourStep!=1||s>=60)&&(a=e+e%this.hourStep+1,s=0),this.setTime(a,s)),this.setDisabledHours(),this.setDisabledMinutes(this.hour),this.showMeridiem&&(this.syncToMeridiemElements(),_.setDisabled(this.amEl,e>=12),_.setDisabled(this.pmEl,n<12))},resetMinuteRange:function(){var e;for(this.disabledMinutes={},e=0;e<=23;e+=1)this.setDisabledMinutes(this.hour)},isValidRange:function(e,t){var n,i,r=e.hour,a=e.minute;return!!this.isValidTime(r,a)&&(!t||(n=t.hour,i=t.minute,this.isValidTime(n,i)&&this.compareTimes(e,t)>0))},isValidTime:function(e,t){return e>=0&&e<=23&&t>=0&&t<=59},isLaterThanSetTime:function(e,t){return e>this.hour||e===this.hour&&t>this.minute},compareTimes:function(e,t){var n=new Date(0),i=new Date(0);return n.setHours(e.hour,e.minute),i.setHours(t.hour,t.minute),i.getTime()-n.getTime()},getHour:function(){return this.hour},getMinute:function(){return this.minute},changeLanguage:function(e){this.localeText=y[e],this.render()},destroy:function(){this.removeEvents(),h(this.element),this.container=this.showMeridiem=this.hourInput=this.minuteInput=this.hour=this.minute=this.inputType=this.element=this.meridiemElement=this.amEl=this.pmEl=null}});a.mixin(E),e.exports=E},function(e,t,n){var i=n(5),r=n(24);e.exports=function(e){return!i(e)&&!r(e)}},function(e,t,n){e.exports=function(e){return null===e}},function(e,t,n){e.exports=function(e){return e===Object(e)}},function(e,t,n){e.exports=function(e){return e instanceof Function}},function(e,t,n){var i=n(28);e.exports=function(e,t){var n=i(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){var i=n(4),r=n(0),a=n(18),s=n(19);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),o=e.classList,l=[];o?i(n,(function(t){e.classList.add(t)})):((t=a(e))&&(n=[].concat(t.split(/\s+/),n)),i(n,(function(e){r(e,l)<0&&l.push(e)})),s(e,l))}},function(e,t,n){var i=n(0),r=n(31),a=Element.prototype,s=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return i(this,r(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return s.call(e,t)}},function(e,t,n){var i=n(1);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],i(e,(function(e){t.push(e)}))}return t}},function(e,t,n){var i=n(1),r=n(0),a=n(18),s=n(19);e.exports=function(e){var t,n,o=Array.prototype.slice.call(arguments,1),l=e.classList;l?i(o,(function(e){l.remove(e)})):(t=a(e).split(/\s+/),n=[],i(t,(function(e){r(e,o)<0&&n.push(e)})),s(e,n))}},function(e,t,n){e.exports=function(e){return"number"==typeof e||e instanceof Number}},function(e,t,n){var i=n(0),r=n(1),a=n(8),s=n(9),o=n(2),l=n(10),u=n(11),c=n(12),d=n(13),h=n(14),f=n(15),p=n(37),m=s({init:function(e,t){t=o({items:[]},t),this._container=h(e)?e:document.querySelector(e),this._element=null,this._inputElement=null,this._items=t.items,this._disabledItems=t.disabledItems||[],this._selectedIndex=Math.max(0,i(t.initialValue,this._items)),this._format=t.format,this._render(),this._setEvents()},_render:function(){var e,t=i(this.getValue(),this._items);this._disabledItems[t]&&(this._selectedIndex=this._findEnabledIndex()),e={maxLength:this._getMaxLength(),initialValue:this.getValue(),format:this._format,formatTime:f.formatTime},this._container.innerHTML=p(e),this._element=this._container.firstChild,this._inputElement=this._element.querySelector("input")},_findEnabledIndex:function(){return i(!1,this._disabledItems)},_getMaxLength:function(){var e=[];return r(this._items,(function(t){e.push(String(t).length)})),Math.max.apply(null,e)},setDisabledItems:function(e){this._disabledItems=e,this._changeToInputValue()},_setEvents:function(){l(this._container,"click",this._onClickHandler,this),l(this._inputElement,"keydown",this._onKeydownInputElement,this),l(this._inputElement,"change",this._onChangeHandler,this),this.on("changeItems",(function(e){this._items=e,this._render()}),this)},_removeEvents:function(){this.off(),u(this._container,"click",this._onClickHandler,this),u(this._inputElement,"keydown",this._onKeydownInputElement,this),u(this._inputElement,"change",this._onChangeHandler,this)},_onClickHandler:function(e){var t=f.getTarget(e);c(t,".tui-timepicker-btn-down")?this._setNextValue(!0):c(t,".tui-timepicker-btn-up")&&this._setNextValue(!1)},_setNextValue:function(e){var t=this._selectedIndex;t=e?t?t-1:this._items.length-1:t<this._items.length-1?t+1:0,this._disabledItems[t]?(this._selectedIndex=t,this._setNextValue(e)):this.setValue(this._items[t])},_onKeydownInputElement:function(e){var t,n=e.which||e.keyCode;if(c(f.getTarget(e),"input")){switch(n){case 38:t=!1;break;case 40:t=!0;break;default:return}this._setNextValue(t)}},_onChangeHandler:function(e){c(f.getTarget(e),"input")&&this._changeToInputValue()},_changeToInputValue:function(e){var t=Number(this._inputElement.value),n=i(t,this._items);if(this._disabledItems[n])n=this._findEnabledIndex(),t=this._items[n];else if(n===this._selectedIndex)return;-1===n?this.setValue(this._items[this._selectedIndex],e):(this._selectedIndex=n,e||this.fire("change",{value:t}))},setValue:function(e,t){this._inputElement.value=f.formatTime(e,this._format),this._changeToInputValue(t)},getValue:function(){return this._items[this._selectedIndex]},destroy:function(){this._removeEvents(),d(this._element),this._container=this._element=this._inputElement=this._items=this._selectedIndex=null}});a.mixin(m),e.exports=m},function(e,t,n){var i=n(5),r=n(36);e.exports=function(e,t){var n=location.hostname,a="TOAST UI "+e+" for "+n+": Statistics",s=window.localStorage.getItem(a);(i(window.tui)||!1!==window.tui.usageStatistics)&&(s&&!function(e){return(new Date).getTime()-e>6048e5}(s)||(window.localStorage.setItem(a,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||r("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){var i=n(16);e.exports=function(e,t){var n=document.createElement("img"),r="";return i(t,(function(e,t){r+="&"+t+"="+e})),r=r.substring(1),n.src=e+"?"+r,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){var i=n(7);e.exports=function(e){return i('<div class="tui-timepicker-btn-area">  <input type="text" class="tui-timepicker-spinbox-input"        maxlength="{{maxLength}}"        size="{{maxLength}}"        value="{{formatTime initialValue format}}"        aria-label="TimePicker spinbox value">  <button type="button" class="tui-timepicker-btn tui-timepicker-btn-up">    <span class="tui-ico-t-btn">Increase</span>  </button>  <button type="button" class="tui-timepicker-btn tui-timepicker-btn-down">    <span class="tui-ico-t-btn">Decrease</span>  </button></div>',e)}},function(e,t,n){var i=n(0),r=n(8),a=n(9),s=n(2),o=n(10),l=n(11),u=n(12),c=n(13),d=n(14),h=n(15),f=n(39),p=a({init:function(e,t){t=s({items:[]},t),this._container=d(e)?e:document.querySelector(e),this._items=t.items||[],this._disabledItems=t.disabledItems||[],this._selectedIndex=Math.max(0,i(t.initialValue,this._items)),this._format=t.format,this._element=null,this._render(),this._setEvents()},_render:function(){var e;this._changeEnabledIndex(),e={items:this._items,format:this._format,initialValue:this.getValue(),disabledItems:this._disabledItems,formatTime:h.formatTime,equals:function(e,t){return e===t}},this._element&&this._removeElement(),this._container.innerHTML=f(e),this._element=this._container.firstChild,o(this._element,"change",this._onChangeHandler,this)},_changeEnabledIndex:function(){var e=i(this.getValue(),this._items);this._disabledItems[e]&&(this._selectedIndex=i(!1,this._disabledItems))},setDisabledItems:function(e){this._disabledItems=e,this._render()},_setEvents:function(){this.on("changeItems",(function(e){this._items=e,this._render()}),this)},_removeEvents:function(){this.off()},_removeElement:function(){l(this._element,"change",this._onChangeHandler,this),c(this._element)},_onChangeHandler:function(e){u(h.getTarget(e),"select")&&this._setNewValue()},_setNewValue:function(e){var t=Number(this._element.value);this._selectedIndex=i(t,this._items),e||this.fire("change",{value:t})},getValue:function(){return this._items[this._selectedIndex]},setValue:function(e,t){var n=i(e,this._items);n>-1&&n!==this._selectedIndex&&(this._selectedIndex=n,this._element.value=e,this._setNewValue(t))},destroy:function(){this._removeEvents(),this._removeElement(),this._container=this._items=this._selectedIndex=this._element=null}});r.mixin(p),e.exports=p},function(e,t,n){var i=n(7);e.exports=function(e){return i('<select class="tui-timepicker-select" aria-label="Time">  {{each items}}    {{if equals initialValue @this}}      <option value="{{@this}}" selected {{if disabledItems[@index]}}disabled{{/if}}>{{formatTime @this format}}</option>    {{else}}      <option value="{{@this}}" {{if disabledItems[@index]}}disabled{{/if}}>{{formatTime @this format}}</option>    {{/if}}  {{/each}}</select>',e)}},function(e,t,n){e.exports={en:{am:"AM",pm:"PM"},ko:{am:"오전",pm:"오후"}}},function(e,t,n){var i=n(7);e.exports=function(e){return i('<div class="tui-timepicker">  <div class="tui-timepicker-body">    <div class="tui-timepicker-row">      {{if isSpinbox}}        <div class="tui-timepicker-column tui-timepicker-spinbox tui-timepicker-hour"></div>        <span class="tui-timepicker-column tui-timepicker-colon"><span class="tui-ico-colon">:</span></span>        <div class="tui-timepicker-column tui-timepicker-spinbox tui-timepicker-minute"></div>        {{if showMeridiem}}          {{meridiemElement}}        {{/if}}      {{else}}        <div class="tui-timepicker-column tui-timepicker-selectbox tui-timepicker-hour"></div>        <span class="tui-timepicker-column tui-timepicker-colon"><span class="tui-ico-colon">:</span></span>        <div class="tui-timepicker-column tui-timepicker-selectbox tui-timepicker-minute"></div>        {{if showMeridiem}}          {{meridiemElement}}        {{/if}}      {{/if}}    </div>  </div></div>',e)}},function(e,t,n){var i=n(7);e.exports=function(e){return i('{{if isSpinbox}}  <div class="tui-timepicker-column tui-timepicker-checkbox tui-timepicker-meridiem">    <div class="tui-timepicker-check-area">      <ul class="tui-timepicker-check-lst">        <li class="tui-timepicker-check">          <div class="tui-timepicker-radio">            <input type="radio"                  name="optionsRadios-{{radioId}}"                  value="AM"                  class="tui-timepicker-radio-am"                  id="tui-timepicker-radio-am-{{radioId}}">            <label for="tui-timepicker-radio-am-{{radioId}}" class="tui-timepicker-radio-label">              <span class="tui-timepicker-input-radio"></span>{{am}}            </label>          </div>        </li>        <li class="tui-timepicker-check">          <div class="tui-timepicker-radio">            <input type="radio"                  name="optionsRadios-{{radioId}}"                  value="PM"                  class="tui-timepicker-radio-pm"                  id="tui-timepicker-radio-pm-{{radioId}}">            <label for="tui-timepicker-radio-pm-{{radioId}}" class="tui-timepicker-radio-label">              <span class="tui-timepicker-input-radio"></span>{{pm}}            </label>          </div>        </li>      </ul>    </div>  </div>{{else}}  <div class="tui-timepicker-column tui-timepicker-selectbox tui-is-add-picker tui-timepicker-meridiem">    <select class="tui-timepicker-select" aria-label="AM/PM">      <option value="AM">{{am}}</option>      <option value="PM">{{pm}}</option>    </select>  </div>{{/if}}',e)}}])},Ul.exports=Vl(),
/*!
 * TOAST UI Date Picker
 * @version 4.3.3
 * @author NHN Cloud. FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
function(e,t){!function(t,n){e.exports=n(Ul.exports)}(window,(function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=34)}([function(e,t,n){var i=n(35),r=n(7);e.exports=function(e,t){var n;return t||(t=e,e=null),n=t.init||function(){},e&&i(n,e),t.hasOwnProperty("static")&&(r(n,t.static),delete t.static),r(n.prototype,t),n}},function(e,t,n){e.exports={TYPE_DATE:"date",TYPE_MONTH:"month",TYPE_YEAR:"year",TYPE_HOUR:"hour",TYPE_MINUTE:"minute",TYPE_MERIDIEM:"meridiem",MIN_DATE:new Date(1900,0,1),MAX_DATE:new Date(2999,11,31),DEFAULT_LANGUAGE_TYPE:"en",CLASS_NAME_SELECTED:"tui-is-selected",CLASS_NAME_PREV_MONTH_BTN:"tui-calendar-btn-prev-month",CLASS_NAME_PREV_YEAR_BTN:"tui-calendar-btn-prev-year",CLASS_NAME_NEXT_YEAR_BTN:"tui-calendar-btn-next-year",CLASS_NAME_NEXT_MONTH_BTN:"tui-calendar-btn-next-month",CLASS_NAME_TITLE_TODAY:"tui-calendar-title-today",DEFAULT_WEEK_START_DAY:"Sun",WEEK_START_DAY_MAP:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}}},function(e,t,n){e.exports=function(e,t,n){var i=0,r=e.length;for(n=n||null;i<r&&!1!==t.call(n,e[i],i,e);i+=1);}},function(e,t,n){var i=n(6);e.exports=function(e,t,n){var r,a;if(n=n||0,!i(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(a=t.length,r=n;n>=0&&r<a;r+=1)if(t[r]===e)return r;return-1}},function(e,t,n){var i=n(2),r=n(46),a=n(47),s=0,o={getTarget:function(e){return e.target||e.srcElement},getElement:function(e){return r(e)?e:document.querySelector(e)},getSelector:function(e){var t="";return e.id?t="#"+e.id:e.className&&(t="."+e.className.split(" ")[0]),t},generateId:function(){return s+=1},filter:function(e,t){var n=[];return i(e,(function(e){t(e)&&n.push(e)})),n},sendHostName:function(){a("date-picker","UA-129987462-1")}};e.exports=o},function(e,t,n){var i=n(28),r=n(15),a=n(1),s=a.TYPE_DATE,o=a.TYPE_MONTH,l=a.TYPE_YEAR,u={getWeeksCount:function(e,t){var n=u.getFirstDay(e,t),i=u.getLastDayInMonth(e,t);return Math.ceil((n+i)/7)},isValidDate:function(e){return i(e)&&!isNaN(e.getTime())},getFirstDay:function(e,t){return new Date(e,t-1,1).getDay()},getFirstDayTimestamp:function(e,t){return new Date(e,t,1).getTime()},getLastDayInMonth:function(e,t){return new Date(e,t,0).getDate()},prependLeadingZero:function(e){var t="";return e<10&&(t="0"),t+e},getMeridiemHour:function(e){return 0===(e%=12)&&(e=12),e},getSafeNumber:function(e,t){if(isNaN(t)||!r(t))throw Error("The defaultNumber must be a valid number.");return isNaN(e)?t:Number(e)},getDateOfWeek:function(e,t,n,i){var r=new Date(e,t-1).getDay();return new Date(e,t-1,7*n-(r-i-1))},getRangeArr:function(e,t){var n,i=[];if(e>t)for(n=t;n>=e;n-=1)i.push(n);else for(n=e;n<=t;n+=1)i.push(n);return i},cloneWithStartOf:function(e,t){switch(t=t||s,(e=new Date(e)).setHours(0,0,0,0),t){case s:break;case o:e.setDate(1);break;case l:e.setMonth(0,1);break;default:throw Error("Unsupported type: "+t)}return e},cloneWithEndOf:function(e,t){switch(t=t||s,(e=new Date(e)).setHours(23,59,59,999),t){case s:break;case o:e.setMonth(e.getMonth()+1,0);break;case l:e.setMonth(11,31);break;default:throw Error("Unsupported type: "+t)}return e},compare:function(e,t,n){var i,r;return u.isValidDate(e)&&u.isValidDate(t)?(n?(i=u.cloneWithStartOf(e,n).getTime(),r=u.cloneWithStartOf(t,n).getTime()):(i=e.getTime(),r=t.getTime()),i>r?1:i===r?0:-1):NaN},isSame:function(e,t,n){return 0===u.compare(e,t,n)},inRange:function(e,t,n,i){return u.compare(e,n,i)<1&&u.compare(t,n,i)>-1}};e.exports=u},function(e,t,n){e.exports=function(e){return e instanceof Array}},function(e,t,n){e.exports=function(e,t){var n,i,r,a,s=Object.prototype.hasOwnProperty;for(r=1,a=arguments.length;r<a;r+=1)for(i in n=arguments[r])s.call(n,i)&&(e[i]=n[i]);return e}},function(e,t,n){var i=n(7),r=n(37),a=n(13),s=n(22),o=n(6),l=n(39),u=n(9),c=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){i(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;r(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;r(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var i=this._safeEvent(e);this._memorizeContext(n),i.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var i=this;a(e)?(e=e.split(c),u(e,(function(e){i._bindEvent(e,t,n)}))):s(e)&&(n=t,u(e,(function(e,t){i.on(t,e,n)})))},d.prototype.once=function(e,t,n){var i=this;if(s(e))return n=t,void u(e,(function(e,t){i.once(t,e,n)}));this.on(e,(function r(){t.apply(n,arguments),i.off(e,r,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,i=0;if(o(e))for(n=e.length;i<n;i+=1)!0===t(e[i])&&(e.splice(i,1),n-=1,i-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var i=e===n.handler;return i&&t._forgetContext(n.context),i}},d.prototype._matchContext=function(e){var t=this;return function(n){var i=e===n.context;return i&&t._forgetContext(n.context),i}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(i){var r=e===i.handler,a=t===i.context,s=r&&a;return s&&n._forgetContext(i.context),s}},d.prototype._offByEventName=function(e,t){var n=this,i=l(t),r=n._matchHandler(t);e=e.split(c),u(e,(function(e){var t=n._safeEvent(e);i?n._spliceMatches(t,r):(u(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);u(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,i=this;this._indexOfContext(e)<0?u(e,(function(e,t){i.off(t,e)})):a(t)?(n=this._matchContext(e),i._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),u(this._safeEvent(),(function(e){i._spliceMatches(e,n)}))):(n=this._matchContext(e),u(this._safeEvent(),(function(e){i._spliceMatches(e,n)})))},d.prototype.off=function(e,t){a(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):s(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,i,r;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),i=0;t[i];){if(!1===(r=t[i]).handler.apply(r.context,n))return!1;i+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},function(e,t,n){var i=n(6),r=n(2),a=n(23);e.exports=function(e,t,n){i(e)?r(e,t,n):a(e,t,n)}},function(e,t,n){e.exports={en:{titles:{DD:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],D:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"]},titleFormat:"MMMM yyyy",todayFormat:"To\\d\\ay: DD, MMMM d, yyyy",time:"Time",date:"Date"},ko:{titles:{DD:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],D:["일","월","화","수","목","금","토"],MMM:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],MMMM:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},titleFormat:"yyyy.MM",todayFormat:"오늘: yyyy.MM.dd (D)",date:"날짜",time:"시간"}}},function(e,t,n){var i=n(3),r=n(9),a=n(6),s=n(13),o=n(7),l=/{{\s?|\s?}}/g,u=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,c=/\[\s?|\s?\]/,d=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,f=/^["']\w+["']$/,p=/"|'/g,m=/^-?\d+\.?\d*$/,g={if:function(e,t,n){var i=function(e,t){var n=[e],i=[],a=0,s=0;return r(t,(function(e,r){0===e.indexOf("if")?a+=1:"/if"===e?a-=1:a||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),i.push(t.slice(s,r)),s=r+1)})),i.push(t.slice(s)),{exps:n,sourcesInsideIf:i}}(e,t),a=!1,s="";return r(i.exps,(function(e,t){return(a=w(e,n))&&(s=b(i.sourcesInsideIf[t],n)),!a})),s},each:function(e,t,n){var i=w(e,n),s=a(i)?"@index":"@key",l={},u="";return r(i,(function(e,i){l[s]=i,l["@this"]=e,o(n,l),u+=b(t.slice(),n)})),u},with:function(e,t,n){var r=i("as",e),a=e[r+1],s=w(e.slice(0,r),n),l={};return l[a]=s,b(t,o(n,l))||""}},v=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,i,r=[],a=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)i=n.index,r.push(e.slice(a,i)),a=i+n[0].length,n=t.exec(e);return r.push(e.slice(a)),r};function _(e,t){var n,i=t[e];return"true"===e?i=!0:"false"===e?i=!1:f.test(e)?i=e.replace(p,""):u.test(e)?i=_((n=e.split(c))[0],t)[_(n[1],t)]:d.test(e)?i=_((n=e.split(h))[0],t)[n[1]]:m.test(e)&&(i=parseFloat(e)),i}function y(e,t,n){for(var i,r,a,o,l=g[e],u=1,c=2,d=t[c];u&&s(d);)0===d.indexOf(e)?u+=1:0===d.indexOf("/"+e)&&(u-=1,i=c),d=t[c+=2];if(u)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=l(t[0].split(" ").slice(1),(r=0,a=i,(o=t.splice(r+1,a-r)).pop(),o),n),t}function w(e,t){var n=_(e[0],t);return n instanceof Function?function(e,t,n){var i=[];return r(t,(function(e){i.push(_(e,n))})),e.apply(null,i)}(n,e.slice(1),t):n}function b(e,t){for(var n,i,r,a=1,o=e[a];s(o);)i=(n=o.split(" "))[0],g[i]?(r=y(i,e.splice(a,e.length-a),t),e=e.concat(r)):e[a]=w(n,t),o=e[a+=2];return e.join("")}e.exports=function(e,t){return b(v(e,l),t)}},function(e,t,n){e.exports=function(e){return void 0===e}},function(e,t,n){e.exports=function(e){return"string"==typeof e||e instanceof String}},function(e,t,n){e.exports=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,n){e.exports=function(e){return"number"==typeof e||e instanceof Number}},function(e,t,n){var i=n(9),r=n(3),a=n(17),s=n(24);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),o=e.classList,l=[];o?i(n,(function(t){e.classList.add(t)})):((t=a(e))&&(n=[].concat(t.split(/\s+/),n)),i(n,(function(e){r(e,l)<0&&l.push(e)})),s(e,l))}},function(e,t,n){var i=n(12);e.exports=function(e){return e&&e.className?i(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){var i=n(2),r=n(3),a=n(17),s=n(24);e.exports=function(e){var t,n,o=Array.prototype.slice.call(arguments,1),l=e.classList;l?i(o,(function(e){l.remove(e)})):(t=a(e).split(/\s+/),n=[],i(t,(function(e){r(e,o)<0&&n.push(e)})),s(e,n))}},function(e,t,n){var i=n(31),r=n(33),a={_isMobile:/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent),_getEventType:function(e){return this._isMobile&&("mousedown"===e?e="touchstart":"click"===e&&(e="touchend")),e},on:function(e,t,n,r){i(e,this._getEventType(t),n,r)},off:function(e,t,n){r(e,this._getEventType(t),n)}};e.exports=a},function(e,t,n){var i=n(0),r=n(14),a=n(10),s=n(1).DEFAULT_LANGUAGE_TYPE,o=i({init:function(e){e=e||s,this._element=null,this._localeText=a[e],this._type="base"},_makeContext:function(){l(this.getType(),"_makeContext")},render:function(){l(this.getType(),"render")},getDateElements:function(){l(this.getType(),"getDateElements")},getType:function(){return this._type},changeLanguage:function(e){this._localeText=a[e]},remove:function(){this._element&&r(this._element),this._element=null}});function l(e,t){throw new Error(e+' layer does not have the "'+t+'" method.')}e.exports=o},function(e,t,n){var i=n(3),r=n(2),a=n(0),s=n(8),o=n(16),l=n(25),u=n(26),c=n(27),d=n(18),h=n(14),f=n(7),p=n(6),m=n(28),g=n(15),v=n(22),_=n(43),y=n(29),w=n(56),b=n(1),x=n(10),M=n(5),k=n(4),C=n(19),S=n(58),E=n(59),D=b.DEFAULT_WEEK_START_DAY,T=b.DEFAULT_LANGUAGE_TYPE,I=b.TYPE_DATE,A=b.TYPE_MONTH,P=b.TYPE_YEAR,O=b.CLASS_NAME_NEXT_YEAR_BTN,N=b.CLASS_NAME_NEXT_MONTH_BTN,L=b.CLASS_NAME_PREV_YEAR_BTN,z=b.CLASS_NAME_PREV_MONTH_BTN,R=b.CLASS_NAME_SELECTED,F=b.CLASS_NAME_TITLE_TODAY,H="tui-is-selectable",j="tui-is-blocked",V="tui-is-checked",B="tui-datepicker-selector-button",U="tui-calendar-today",W="tui-hidden",$=a({static:{localeTexts:x},init:function(e,t){t=function(e){if((e=f({language:T,calendar:{},input:{element:null,format:null},timePicker:null,date:null,showAlways:!1,type:I,selectableRanges:null,openers:[],autoClose:!0,usageStatistics:!0,weekStartDay:D},e)).selectableRanges=e.selectableRanges||[[b.MIN_DATE,b.MAX_DATE]],!v(e.calendar))throw new Error("Calendar option must be an object");if(!v(e.input))throw new Error("Input option must be an object");if(!p(e.selectableRanges))throw new Error("Selectable-ranges must be a 2d-array");return e.localeText=x[e.language],e.calendar.language=e.language,e.calendar.type=e.type,e.timePicker=e.timePicker||e.timepicker,e}(t),this._language=t.language,this._container=k.getElement(e),this._container.innerHTML=S(f(t,{isTab:t.timePicker&&"tab"===t.timePicker.layoutType})),this._element=this._container.firstChild,this._calendar=new y(this._element.querySelector(".tui-calendar-container"),f(t.calendar,{usageStatistics:t.usageStatistics,weekStartDay:t.weekStartDay})),this._timePicker=null,this._datepickerInput=null,this._date=null,this._rangeModel=null,this._openers=[],this._isEnabled=!0,this._id="tui-datepicker-"+k.generateId(),this._type=t.type,this.showAlways=t.showAlways,this.autoClose=t.autoClose,this._initializeDatePicker(t)},_initializeDatePicker:function(e){this.setRanges(e.selectableRanges),this._setEvents(),this._initTimePicker(e.timePicker,e.usageStatistics),this.setInput(e.input.element),this.setDateFormat(e.input.format),this.setDate(e.date),r(e.openers,this.addOpener,this),this.showAlways||this._hide(),this.getType()===I&&o(this._element.querySelector(".tui-datepicker-body"),"tui-datepicker-type-date")},_setEvents:function(){C.on(this._element,"click",this._onClickHandler,this),this._calendar.on("draw",this._onDrawCalendar,this)},_removeEvents:function(){C.off(this._element,"click",this._onClickHandler,this),this._calendar.off()},_setDocumentEvents:function(){C.on(document,"mousedown",this._onMousedownDocument,this)},_removeDocumentEvents:function(){C.off(document,"mousedown",this._onMousedownDocument)},_setOpenerEvents:function(e){C.on(e,"click",this.toggle,this)},_removeOpenerEvents:function(e){C.off(e,"click",this.toggle)},_initTimePicker:function(e,t){var n;e&&(n=e.layoutType||"",v(e)?e.usageStatistics=t:e={usageStatistics:t},this._timePicker=new _(this._element.querySelector(".tui-timepicker-container"),e),"tab"===n.toLowerCase()&&this._timePicker.hide(),this._timePicker.on("change",(function(e){var t;this._date&&(t=new Date(this._date),this.setDate(t.setHours(e.hour,e.minute)))}),this))},_changePicker:function(e){var t=l(e,".tui-datepicker-selector-button");!!t.querySelector(".tui-ico-date")?(this._calendar.show(),this._timePicker.hide()):(this._calendar.hide(),this._timePicker.show()),d(this._element.querySelector(".tui-is-checked"),V),o(t,V)},_isOpener:function(e){var t=k.getElement(e);return i(t,this._openers)>-1},_setTodayClassName:function(e){this.getCalendarType()===I&&(Number(u(e,"timestamp"))===(new Date).setHours(0,0,0,0)?o(e,U):d(e,U))},_setSelectableClassName:function(e){var t=new Date(Number(u(e,"timestamp")));this._isSelectableOnCalendar(t)?(o(e,H),d(e,j)):(d(e,H),o(e,j))},_setSelectedClassName:function(e){var t=new Date(Number(u(e,"timestamp")));this._isSelectedOnCalendar(t)?o(e,R):d(e,R)},_isSelectableOnCalendar:function(e){var t=this.getCalendarType(),n=M.cloneWithStartOf(e,t).getTime(),i=M.cloneWithEndOf(e,t).getTime();return this._rangeModel.hasOverlap(n,i)},_isSelectedOnCalendar:function(e){var t=this.getDate(),n=this.getCalendarType();return t&&M.isSame(t,e,n)},_show:function(){d(this._element,W)},_hide:function(){o(this._element,W)},_syncToInput:function(){this._date&&this._datepickerInput.setDate(this._date)},_syncFromInput:function(e){var t,n=!1;try{t=this._datepickerInput.getDate(),this.isSelectable(t)?(this._timePicker&&this._timePicker.setTime(t.getHours(),t.getMinutes()),this.setDate(t)):n=!0}catch(i){this.fire("error",{type:"ParsingError",message:i.message}),n=!0}finally{n&&(e?this._syncToInput():this.setNull())}},_onMousedownDocument:function(e){var t=k.getTarget(e),n=k.getSelector(t),r=!!n&&this._element.querySelector(n),a=this._datepickerInput.is(t),s=i(t,this._openers)>-1;!(this.showAlways||a||r||s)&&this.close()},_onClickHandler:function(e){var t=k.getTarget(e);l(t,".tui-is-selectable")?(e.preventDefault(),this._updateDate(t)):l(t,"."+F)?(e.preventDefault(),this._updateDateToToday()):l(t,".tui-calendar-title")?this.drawUpperCalendar(this._date):l(t,"."+B)&&this._changePicker(t)},_updateDateToToday:function(){this.setDate(Date.now()),this.close()},_updateDate:function(e){var t=Number(u(e,"timestamp")),n=new Date(t),i=this._timePicker,r=this._date;this.getCalendarType()!==this.getType()?this.drawLowerCalendar(n):(i?n.setHours(i.getHour(),i.getMinute()):r&&n.setHours(r.getHours(),r.getMinutes()),this.setDate(n),!this.showAlways&&this.autoClose&&this.close())},_onDrawCalendar:function(e){r(e.dateElements,(function(e){this._setTodayClassName(e),this._setSelectableClassName(e),this._setSelectedClassName(e)}),this),this._setDisplayHeadButtons(),this.fire("draw",e)},_setDisplayHeadButtons:function(){var e,t,n,i,r=this._calendar.getNextYearDate(this.getCalendarType()===P?60:null),a=this._calendar.getPrevYearDate(this.getCalendarType()===P?-60:null),s=this._rangeModel.getMaximumValue(),o=this._rangeModel.getMinimumValue(),l=this._element.querySelector("."+O),u=this._element.querySelector("."+L);this.getCalendarType()===I?(e=M.cloneWithStartOf(this._calendar.getNextDate(),A),t=M.cloneWithEndOf(this._calendar.getPrevDate(),A),n=this._element.querySelector("."+N),i=this._element.querySelector("."+z),this._setDisplay(n,e.getTime()<=s),this._setDisplay(i,t.getTime()>=o),a.setDate(1),r.setDate(1)):(a.setMonth(12,0),r.setMonth(0,1)),this._setDisplay(l,r.getTime()<=s),this._setDisplay(u,a.getTime()>=o)},_setDisplay:function(e,t){e&&(t?d(e,W):o(e,W))},_onChangeInput:function(){this._syncFromInput(!0)},_isChanged:function(e){var t=this.getDate();return!t||e.getTime()!==t.getTime()},_refreshFromRanges:function(){this.isSelectable(this._date)?this._calendar.draw():this.setNull()},getCalendarType:function(){return this._calendar.getType()},getType:function(){return this._type},isSelectable:function(e){var t,n,i=this.getType();return!!M.isValidDate(e)&&(t=M.cloneWithStartOf(e,i).getTime(),n=M.cloneWithEndOf(e,i).getTime(),this._rangeModel.hasOverlap(t,n))},isSelected:function(e){return M.isValidDate(e)&&M.isSame(this._date,e,this.getType())},setRanges:function(e){var t=[];r(e,(function(e){var n=new Date(e[0]).getTime(),i=new Date(e[1]).getTime();t.push([n,i])})),this._rangeModel=new w(t),this._refreshFromRanges()},setType:function(e){this._type=e},addRange:function(e,t){e=new Date(e).getTime(),t=new Date(t).getTime(),this._rangeModel.add(e,t),this._refreshFromRanges()},removeRange:function(e,t,n){e=new Date(e),t=new Date(t),n&&(e=M.cloneWithStartOf(e,n),t=M.cloneWithEndOf(t,n)),this._rangeModel.exclude(e.getTime(),t.getTime()),this._refreshFromRanges()},addOpener:function(e){e=k.getElement(e),this._isOpener(e)||(this._openers.push(e),this._setOpenerEvents(e))},removeOpener:function(e){var t;e=k.getElement(e),(t=i(e,this._openers))>-1&&(this._removeOpenerEvents(e),this._openers.splice(t,1))},removeAllOpeners:function(){r(this._openers,(function(e){this._removeOpenerEvents(e)}),this),this._openers=[]},open:function(){!this.isOpened()&&this._isEnabled&&(this._calendar.draw({date:this._date,type:this._type}),this._show(),this.showAlways||this._setDocumentEvents(),this.fire("open"))},drawUpperCalendar:function(e){var t=this.getCalendarType();t===I?this._calendar.draw({date:e,type:A}):t===A&&this._calendar.draw({date:e,type:P})},drawLowerCalendar:function(e){var t=this.getCalendarType();t===this.getType()||(t===A?this._calendar.draw({date:e,type:I}):t===P&&this._calendar.draw({date:e,type:A}))},close:function(){this.isOpened()&&(this._removeDocumentEvents(),this._hide(),this.fire("close"))},toggle:function(){this.isOpened()?this.close():this.open()},getDate:function(){return this._date?new Date(this._date):null},setDate:function(e,t){var n,i;null!==e?(n=g(e)||m(e),i=new Date(e),n&&this._isChanged(i)&&this.isSelectable(i)&&(i=new Date(e),this._date=i,this._calendar.draw({date:i}),this._timePicker&&this._timePicker.setTime(i.getHours(),i.getMinutes(),!0),this._syncToInput(),t||this.fire("change"))):this.setNull()},setNull:function(){var e=this._calendar.getDate(),t=null!==this._date;this._date=null,this._datepickerInput&&this._datepickerInput.clearText(),this._timePicker&&this._timePicker.setTime(0,0),this.isSelectable(e)?this._calendar.draw():this._calendar.draw({date:new Date(this._rangeModel.getMinimumValue())}),t&&this.fire("change")},setDateFormat:function(e){this._datepickerInput.setFormat(e),this._syncToInput()},isOpened:function(){return!c(this._element,W)},getTimePicker:function(){return this._timePicker},getCalendar:function(){return this._calendar},getLocaleText:function(){return x[this._language]||x[T]},setInput:function(e,t){var n,i=this._datepickerInput,r=this.getLocaleText();t=t||{},i&&(n=i.getFormat(),i.destroy()),this._datepickerInput=new E(e,{format:t.format||n,id:this._id,localeText:r}),this._datepickerInput.on({change:this._onChangeInput,click:this.open},this),t.syncFromInput?this._syncFromInput():this._syncToInput()},enable:function(){this._isEnabled||(this._isEnabled=!0,this._datepickerInput.enable(),r(this._openers,(function(e){e.removeAttribute("disabled"),this._setOpenerEvents(e)}),this))},disable:function(){this._isEnabled&&(this._isEnabled=!1,this.close(),this._datepickerInput.disable(),r(this._openers,(function(e){e.setAttribute("disabled",!0),this._removeOpenerEvents(e)}),this))},isDisabled:function(){return!this._isEnabled},addCssClass:function(e){o(this._element,e)},removeCssClass:function(e){d(this._element,e)},getDateElements:function(){return this._calendar.getDateElements()},findOverlappedRange:function(e,t){var n=new Date(e).getTime(),i=new Date(t).getTime(),r=this._rangeModel.findOverlappedRange(n,i);return[new Date(r[0]),new Date(r[1])]},changeLanguage:function(e){this._language=e,this._calendar.changeLanguage(this._language),this._datepickerInput.changeLocaleTitles(this.getLocaleText().titles),this.setDateFormat(this._datepickerInput.getFormat()),this._timePicker&&this._timePicker.changeLanguage(this._language)},destroy:function(){this._removeDocumentEvents(),this._calendar.destroy(),this._timePicker&&this._timePicker.destroy(),this._datepickerInput&&this._datepickerInput.destroy(),this._removeEvents(),h(this._element),this.removeAllOpeners(),this._calendar=this._timePicker=this._datepickerInput=this._container=this._element=this._date=this._rangeModel=this._openers=this._isEnabled=this._id=null}});s.mixin($),e.exports=$},function(e,t,n){e.exports=function(e){return e===Object(e)}},function(e,t,n){e.exports=function(e,t,n){var i;for(i in n=n||null,e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))break}},function(e,t,n){var i=n(6),r=n(12);e.exports=function(e,t){t=(t=i(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),r(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){var i=n(40);e.exports=function(e,t){var n=e.parentNode;if(i(e,t))return e;for(;n&&n!==document;){if(i(n,t))return n;n=n.parentNode}return null}},function(e,t,n){var i=n(42);e.exports=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+i(t))}},function(e,t,n){var i=n(3),r=n(17);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=r(e).split(/\s+/),i(t,n)>-1)}},function(e,t,n){e.exports=function(e){return e instanceof Date}},function(e,t,n){var i=n(0),r=n(8),a=n(16),s=n(27),o=n(18),l=n(14),u=n(7),c=n(44),d=n(49),h=n(10),f=n(1),p=n(5),m=n(4),g=f.DEFAULT_WEEK_START_DAY,v=f.DEFAULT_LANGUAGE_TYPE,_=f.TYPE_DATE,y=f.TYPE_MONTH,w=f.TYPE_YEAR,b=f.CLASS_NAME_PREV_MONTH_BTN,x=f.CLASS_NAME_PREV_YEAR_BTN,M=f.CLASS_NAME_NEXT_YEAR_BTN,k=f.CLASS_NAME_NEXT_MONTH_BTN,C="tui-calendar-month",S="tui-calendar-year",E="tui-hidden",D=i({static:{localeTexts:h},init:function(e,t){t=u({language:v,showToday:!0,showJumpButtons:!1,date:new Date,type:_,usageStatistics:!0,weekStartDay:g},t),this._container=m.getElement(e),this._container.innerHTML='<div class="tui-calendar">    <div class="tui-calendar-header"></div>    <div class="tui-calendar-body"></div></div>',this._element=this._container.firstChild,this._date=null,this._type=null,this._header=null,this._body=null,this._initHeader(t),this._initBody(t),this.draw({date:t.date,type:t.type}),t.usageStatistics&&m.sendHostName()},_initHeader:function(e){var t=this._element.querySelector(".tui-calendar-header");this._header=new c(t,e),this._header.on("click",(function(e){var t=m.getTarget(e);s(t,b)?this.drawPrev():s(t,x)?this._onClickPrevYear():s(t,k)?this.drawNext():s(t,M)&&this._onClickNextYear()}),this)},_initBody:function(e){var t=this._element.querySelector(".tui-calendar-body");this._body=new d(t,e)},_onClickPrevYear:function(){this.getType()===_?this.draw({date:this._getRelativeDate(-12)}):this.drawPrev()},_onClickNextYear:function(){this.getType()===_?this.draw({date:this._getRelativeDate(12)}):this.drawNext()},_isValidType:function(e){return e===_||e===y||e===w},_shouldUpdate:function(e,t){var n=this._date;if(!p.isValidDate(e))throw new Error("Invalid date");if(!this._isValidType(t))throw new Error("Invalid layer type");return!n||n.getFullYear()!==e.getFullYear()||n.getMonth()!==e.getMonth()||this.getType()!==t},_render:function(){var e=this._date,t=this.getType();switch(this._header.render(e,t),this._body.render(e,t),o(this._element,C,S),t){case y:a(this._element,C);break;case w:a(this._element,S)}},_getRelativeDate:function(e){var t=this._date;return new Date(t.getFullYear(),t.getMonth()+e)},draw:function(e){var t,n;t=(e=e||{}).date||this._date,n=(e.type||this.getType()).toLowerCase(),this._shouldUpdate(t,n)&&(this._date=t,this._type=n,this._render()),this.fire("draw",{date:this._date,type:n,dateElements:this._body.getDateElements()})},show:function(){o(this._element,E)},hide:function(){a(this._element,E)},drawNext:function(){this.draw({date:this.getNextDate()})},drawPrev:function(){this.draw({date:this.getPrevDate()})},getNextDate:function(){return this.getType()===_?this._getRelativeDate(1):this.getNextYearDate()},getPrevDate:function(){return this.getType()===_?this._getRelativeDate(-1):this.getPrevYearDate()},getNextYearDate:function(e){if(e)return this._getRelativeDate(e);switch(this.getType()){case _:case y:return this._getRelativeDate(12);case w:return this._getRelativeDate(108);default:throw new Error("Unknown layer type")}},getPrevYearDate:function(e){if(e)return this._getRelativeDate(e);switch(this.getType()){case _:case y:return this._getRelativeDate(-12);case w:return this._getRelativeDate(-108);default:throw new Error("Unknown layer type")}},changeLanguage:function(e){this._header.changeLanguage(e),this._body.changeLanguage(e),this._render()},getDate:function(){return new Date(this._date)},getType:function(){return this._type},getDateElements:function(){return this._body.getDateElements()},addCssClass:function(e){a(this._element,e)},removeCssClass:function(e){o(this._element,e)},destroy:function(){this._header.destroy(),this._body.destroy(),l(this._element),this._type=this._date=this._container=this._element=this._header=this._body=null}});r.mixin(D),e.exports=D},function(e,t,n){var i=n(3),r=n(2),a=n(0),s=n(4),o=n(5),l=n(1),u=n(10),c=/\\?(yyyy|yy|mmmm|mmm|mm|m|dd|d|hh|h|a)/gi,d={yyyy:{expression:"(\\d{4}|\\d{2})",type:l.TYPE_YEAR},yy:{expression:"(\\d{4}|\\d{2})",type:l.TYPE_YEAR},y:{expression:"(\\d{4}|\\d{2})",type:l.TYPE_YEAR},M:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},MM:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},MMM:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},MMMM:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},mmm:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},mmmm:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},dd:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9])",type:l.TYPE_DATE},d:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9])",type:l.TYPE_DATE},D:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9])",type:l.TYPE_DATE},DD:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9])",type:l.TYPE_DATE},h:{expression:"(d{1}|0\\d{1}|1\\d{1}|2[0123])",type:l.TYPE_HOUR},hh:{expression:"(d{1}|[01]\\d{1}|2[0123])",type:l.TYPE_HOUR},H:{expression:"(d{1}|0\\d{1}|1\\d{1}|2[0123])",type:l.TYPE_HOUR},HH:{expression:"(d{1}|[01]\\d{1}|2[0123])",type:l.TYPE_HOUR},m:{expression:"(d{1}|[012345]\\d{1})",type:l.TYPE_MINUTE},mm:{expression:"(d{1}|[012345]\\d{1})",type:l.TYPE_MINUTE},a:{expression:"([ap]m)",type:l.TYPE_MERIDIEM},A:{expression:"([ap]m)",type:l.TYPE_MERIDIEM}},h=a({init:function(e,t){this._rawStr=e,this._keyOrder=null,this._regExp=null,this._titles=t||u.en.titles,this._parseFormat()},_parseFormat:function(){var e="^",t=this._rawStr.match(c),n=[];t=s.filter(t,(function(e){return"\\"!==e[0]})),r(t,(function(t,i){/m/i.test(t)||(t=t.toLowerCase()),e+=d[t].expression+"[\\D\\s]*",n[i]=d[t].type})),e+="$",this._keyOrder=n,this._regExp=new RegExp(e,"gi")},parse:function(e){var t,n={year:0,month:1,date:1,hour:0,minute:0},i=!1,a=!1;if(this._regExp.lastIndex=0,!(t=this._regExp.exec(e)))throw Error('DateTimeFormatter: Not matched - "'+e+'"');return r(this._keyOrder,(function(e,r){var s=t[r+1];if(e===l.TYPE_MERIDIEM&&/[ap]m/i.test(s))i=!0,a=/pm/i.test(s);else{if(0!==(s=Number(s))&&!s)throw Error("DateTimeFormatter: Unknown value - "+t[r+1]);e===l.TYPE_YEAR&&s<100&&(s+=2e3),n[e]=s}})),i&&(a=a||n.hour>12,n.hour%=12,a&&(n.hour+=12)),new Date(n.year,n.month-1,n.date,n.hour,n.minute)},getRawString:function(){return this._rawStr},format:function(e){var t,n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),s=e.getDay(),u=e.getHours(),d=e.getMinutes(),h="a";return i(l.TYPE_MERIDIEM,this._keyOrder)>-1&&(h=u>=12?"pm":"am",u=o.getMeridiemHour(u)),t={yyyy:n,yy:String(n).substr(2,2),M:r,MM:o.prependLeadingZero(r),MMM:this._titles.MMM[r-1],MMMM:this._titles.MMMM[r-1],d:a,dd:o.prependLeadingZero(a),D:this._titles.D[s],DD:this._titles.DD[s],hh:o.prependLeadingZero(u),h:u,mm:o.prependLeadingZero(d),m:d,A:h.toUpperCase(),a:h},this._rawStr.replace(c,(function(e){return"\\"===e[0]?e.substr(1):t[e]||t[e.toLowerCase()]||""}))}});e.exports=h},function(e,t,n){var i=n(13),r=n(9),a=n(32);function s(e,t,n,i){function s(t){n.call(i||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,s):"attachEvent"in e&&e.attachEvent("on"+t,s),function(e,t,n,i){var s=a(e,t),o=!1;r(s,(function(e){return e.handler!==n||(o=!0,!1)})),o||s.push({handler:n,wrappedHandler:i})}(e,t,n,s)}e.exports=function(e,t,n,a){i(t)?r(t.split(/\s+/g),(function(t){s(e,t,n,a)})):r(t,(function(t,i){s(e,i,t,n)}))}},function(e,t,n){var i="_feEventKey";e.exports=function(e,t){var n,r=e[i];return r||(r=e[i]={}),(n=r[t])||(n=r[t]=[]),n}},function(e,t,n){var i=n(13),r=n(9),a=n(32);function s(e,t,n){var i,s=a(e,t);n?(r(s,(function(r,a){return n!==r.handler||(o(e,t,r.wrappedHandler),i=a,!1)})),s.splice(i,1)):(r(s,(function(n){o(e,t,n.wrappedHandler)})),s.splice(0,s.length))}function o(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){i(t)?r(t.split(/\s+/g),(function(t){s(e,t,n)})):r(t,(function(t,n){s(e,n,t)}))}},function(e,t,n){var i=n(21),r=n(60),a=n(29);n(61),i.createCalendar=function(e,t){return new a(e,t)},i.createRangePicker=function(e){return new r(e)},e.exports=i},function(e,t,n){var i=n(36);e.exports=function(e,t){var n=i(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){var i=n(12),r=n(38);e.exports=function(e){return!i(e)&&!r(e)}},function(e,t,n){e.exports=function(e){return null===e}},function(e,t,n){e.exports=function(e){return e instanceof Function}},function(e,t,n){var i=n(3),r=n(41),a=Element.prototype,s=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return i(this,r(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return s.call(e,t)}},function(e,t,n){var i=n(2);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],i(e,(function(e){t.push(e)}))}return t}},function(e,t,n){e.exports=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}},function(t,n){t.exports=e},function(e,t,n){var i=n(0),r=n(8),a=n(25),s=n(14),o=n(10),l=n(45),u=n(30),c=n(1),d=n(4),h=n(19),f=c.TYPE_DATE,p=c.TYPE_MONTH,m=c.TYPE_YEAR,g=i({init:function(e,t){this._container=d.getElement(e),this._innerElement=null,this._infoElement=null,this._showToday=t.showToday,this._showJumpButtons=t.showJumpButtons,this._yearMonthTitleFormatter=null,this._yearTitleFormatter=null,this._todayFormatter=null,this._setFormatters(o[t.language]),this._setEvents(t)},_setFormatters:function(e){this._yearMonthTitleFormatter=new u(e.titleFormat,e.titles),this._yearTitleFormatter=new u("yyyy",e.titles),this._todayFormatter=new u(e.todayFormat,e.titles)},_setEvents:function(){h.on(this._container,"click",this._onClickHandler,this)},_removeEvents:function(){this.off(),h.off(this._container,"click",this._onClickHandler)},_onClickHandler:function(e){var t=d.getTarget(e);a(t,".tui-calendar-btn")&&this.fire("click",e)},_getTitleClass:function(e){switch(e){case f:return"tui-calendar-title-month";case p:return"tui-calendar-title-year";case m:return"tui-calendar-title-year-to-year";default:return""}},_getTitleText:function(e,t){var n,i,r;switch(t){case f:return this._yearMonthTitleFormatter.format(e);case p:return this._yearTitleFormatter.format(e);case m:return n=e.getFullYear(),i=new Date(n-4,0,1),r=new Date(n+4,0,1),this._yearTitleFormatter.format(i)+" - "+this._yearTitleFormatter.format(r);default:return""}},changeLanguage:function(e){this._setFormatters(o[e])},render:function(e,t){var n={showToday:this._showToday,showJumpButtons:this._showJumpButtons,todayText:this._todayFormatter.format(new Date),isDateCalendar:t===f,titleClass:this._getTitleClass(t),title:this._getTitleText(e,t)};this._container.innerHTML=l(n).replace(/^\s+|\s+$/g,""),this._innerElement=this._container.querySelector(".tui-calendar-header-inner"),n.showToday&&(this._infoElement=this._container.querySelector(".tui-calendar-header-info"))},destroy:function(){this._removeEvents(),s(this._innerElement),s(this._infoElement),this._container=this._showToday=this._showJumpButtons=this._yearMonthTitleFormatter=this._yearTitleFormatter=this._todayFormatter=this._innerElement=this._infoElement=null}});r.mixin(g),e.exports=g},function(e,t,n){var i=n(11);e.exports=function(e){return i('{{if isDateCalendar}}  {{if showJumpButtons}}    <div class="tui-calendar-header-inner tui-calendar-has-btns">      <button class="tui-calendar-btn tui-calendar-btn-prev-year">Prev year</button>      <button class="tui-calendar-btn tui-calendar-btn-prev-month">Prev month</button>      <em class="tui-calendar-title {{titleClass}}">{{title}}</em>      <button class="tui-calendar-btn tui-calendar-btn-next-month">Next month</button>      <button class="tui-calendar-btn tui-calendar-btn-next-year">Next year</button>    </div>  {{else}}    <div class="tui-calendar-header-inner">      <button class="tui-calendar-btn tui-calendar-btn-prev-month">Prev month</button>      <em class="tui-calendar-title {{titleClass}}">{{title}}</em>      <button class="tui-calendar-btn tui-calendar-btn-next-month">Next month</button>    </div>  {{/if}}{{else}}  <div class="tui-calendar-header-inner">    <button class="tui-calendar-btn tui-calendar-btn-prev-year">Prev year</button>    <em class="tui-calendar-title {{titleClass}}">{{title}}</em>    <button class="tui-calendar-btn tui-calendar-btn-next-year">Next year</button>  </div>{{/if}}{{if showToday}}  <div class="tui-calendar-header-info">    <p class="tui-calendar-title-today">{{todayText}}</p>  </div>{{/if}}',e)}},function(e,t,n){e.exports=function(e){return"object"==typeof HTMLElement?e&&(e instanceof HTMLElement||!!e.nodeType):!(!e||!e.nodeType)}},function(e,t,n){var i=n(12),r=n(48);e.exports=function(e,t){var n=location.hostname,a="TOAST UI "+e+" for "+n+": Statistics",s=window.localStorage.getItem(a);(i(window.tui)||!1!==window.tui.usageStatistics)&&(s&&!function(e){return(new Date).getTime()-e>6048e5}(s)||(window.localStorage.setItem(a,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||r("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){var i=n(23);e.exports=function(e,t){var n=document.createElement("img"),r="";return i(t,(function(e,t){r+="&"+t+"="+e})),r=r.substring(1),n.src=e+"?"+r,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){var i=n(2),r=n(0),a=n(50),s=n(52),o=n(54),l=n(1),u=l.TYPE_DATE,c=l.TYPE_MONTH,d=l.TYPE_YEAR,h=r({init:function(e,t){var n=t.language,i=t.weekStartDay;this._container=e,this._dateLayer=new a(n,i),this._monthLayer=new s(n),this._yearLayer=new o(n),this._currentLayer=this._dateLayer},_getLayer:function(e){switch(e){case u:return this._dateLayer;case c:return this._monthLayer;case d:return this._yearLayer;default:return this._currentLayer}},_eachLayer:function(e){i([this._dateLayer,this._monthLayer,this._yearLayer],e)},changeLanguage:function(e){this._eachLayer((function(t){t.changeLanguage(e)}))},render:function(e,t){var n=this._getLayer(t);this._currentLayer.remove(),n.render(e,this._container),this._currentLayer=n},getDateElements:function(){return this._currentLayer.getDateElements()},destroy:function(){this._eachLayer((function(e){e.remove()})),this._container=this._currentLayer=this._dateLayer=this._monthLayer=this._yearLayer=null}});e.exports=h},function(e,t,n){var i=n(0),r=n(5),a=n(51),s=n(20),o=n(1).TYPE_DATE,l=n(1).WEEK_START_DAY_MAP,u=i(s,{init:function(e,t){s.call(this,e),this.weekStartDay=l[String(t).toLowerCase()]||0},_type:o,_makeContext:function(e){var t,n,i,r,a=this._localeText.titles.D;if(t=(e=e||new Date).getFullYear(),n=e.getMonth()+1,this.weekStartDay){for(i=a.slice(),r=0;r<this.weekStartDay;r+=1)i.push(i.shift());a=i}return{Sun:a[0],Mon:a[1],Tue:a[2],Wed:a[3],Thu:a[4],Fri:a[5],Sat:a[6],year:t,month:n,weeks:this._getWeeks(t,n)}},_getWeeks:function(e,t){for(var n,i,a,s,o,l=0,u=6,c=[];l<u;){for(i=[],a=this.weekStartDay;a<7+this.weekStartDay;a+=1)i.push(r.getDateOfWeek(e,t,l,a));n=this._getWeek(e,t,i),!this.weekStartDay||(s=l,o=n[0].dayInMonth,s||1===o||o>7)||(c.push(this._getFirstWeek(e,t)),u-=1),c.push(n),l+=1}return c},_getWeek:function(e,t,n){for(var i,r,a=new Date(e,t-1,1),s=new Date(e,t,0),o=[],l=0,u=n.length;l<u;l+=1)r="tui-calendar-date",(i=n[l])<a&&(r+=" tui-calendar-prev-month"),i>s&&(r+=" tui-calendar-next-month"),0===i.getDay()?r+=" tui-calendar-sun":6===i.getDay()&&(r+=" tui-calendar-sat"),o.push({dayInMonth:i.getDate(),className:r,timestamp:i.getTime()});return o},render:function(e,t){var n=this._makeContext(e);t.innerHTML=a(n),this._element=t.firstChild},getDateElements:function(){return this._element.querySelectorAll(".tui-calendar-date")},_getFirstWeek:function(e,t){var n,i=[];for(n=this.weekStartDay;n<7+this.weekStartDay;n+=1)i.push(r.getDateOfWeek(e,t,-1,n));return this._getWeek(e,t,i)}});e.exports=u},function(e,t,n){var i=n(11);e.exports=function(e){return i('<table class="tui-calendar-body-inner" cellspacing="0" cellpadding="0">  <caption><span>Dates</span></caption>  <thead class="tui-calendar-body-header">    <tr>      <th class="tui-sun" scope="col">{{Sun}}</th>      <th scope="col">{{Mon}}</th>      <th scope="col">{{Tue}}</th>      <th scope="col">{{Wed}}</th>      <th scope="col">{{Thu}}</th>      <th scope="col">{{Fri}}</th>      <th class="tui-sat" scope="col">{{Sat}}</th>    </tr>  </thead>  <tbody>    {{each weeks}}    <tr class="tui-calendar-week">      {{each @this}}      <td class="{{@this["className"]}}" data-timestamp="{{@this["timestamp"]}}">{{@this["dayInMonth"]}}</td>      {{/each}}    </tr>    {{/each}}  </tbody></table>',e)}},function(e,t,n){var i=n(0),r=n(53),a=n(20),s=n(1).TYPE_MONTH,o=n(5),l=i(a,{init:function(e){a.call(this,e)},_type:s,_makeContext:function(e){var t=this._localeText.titles.MMM;return{year:e.getFullYear(),Jan:t[0],Feb:t[1],Mar:t[2],Apr:t[3],May:t[4],Jun:t[5],Jul:t[6],Aug:t[7],Sep:t[8],Oct:t[9],Nov:t[10],Dec:t[11],getFirstDayTimestamp:o.getFirstDayTimestamp}},render:function(e,t){var n=this._makeContext(e);t.innerHTML=r(n),this._element=t.firstChild},getDateElements:function(){return this._element.querySelectorAll(".tui-calendar-month")}});e.exports=l},function(e,t,n){var i=n(11);e.exports=function(e){return i('<table class="tui-calendar-body-inner">  <caption><span>Months</span></caption>  <tbody>    <tr class="tui-calendar-month-group">      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 0}}>{{Jan}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 1}}>{{Feb}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 2}}>{{Mar}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 3}}>{{Apr}}</td>    </tr>    <tr class="tui-calendar-month-group">      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 4}}>{{May}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 5}}>{{Jun}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 6}}>{{Jul}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 7}}>{{Aug}}</td>    </tr>    <tr class="tui-calendar-month-group">      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 8}}>{{Sep}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 9}}>{{Oct}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 10}}>{{Nov}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 11}}>{{Dec}}</td>    </tr>  </tbody></table>',e)}},function(e,t,n){var i=n(0),r=n(55),a=n(20),s=n(1).TYPE_YEAR,o=n(5),l=i(a,{init:function(e){a.call(this,e)},_type:s,_makeContext:function(e){var t=e.getFullYear();return{yearGroups:[o.getRangeArr(t-4,t-2),o.getRangeArr(t-1,t+1),o.getRangeArr(t+2,t+4)],getFirstDayTimestamp:o.getFirstDayTimestamp}},render:function(e,t){var n=this._makeContext(e);t.innerHTML=r(n),this._element=t.firstChild},getDateElements:function(){return this._element.querySelectorAll(".tui-calendar-year")}});e.exports=l},function(e,t,n){var i=n(11);e.exports=function(e){return i('<table class="tui-calendar-body-inner">  <caption><span>Years</span></caption>  <tbody>    {{each yearGroups}}    <tr class="tui-calendar-year-group">      {{each @this}}      <td class="tui-calendar-year" data-timestamp={{getFirstDayTimestamp @this 0}}>        {{@this}}      </td>      {{/each}}    </tr>    {{/each}}  </tbody></table>',e)}},function(e,t,n){var i=n(2),r=n(0),a=n(15),s=n(57),o=n(4),l=r({init:function(e){e=e||[],this._ranges=[],i(e,(function(e){this.add(e[0],e[1])}),this)},contains:function(e,t){for(var n=0,i=this._ranges.length;n<i;n+=1)if(this._ranges[n].contains(e,t))return!0;return!1},hasOverlap:function(e,t){for(var n=0,i=this._ranges.length;n<i;n+=1)if(this._ranges[n].isOverlapped(e,t))return!0;return!1},add:function(e,t){for(var n,i=!1,r=0,a=this._ranges.length;r<a;r+=1){if(i=(n=this._ranges[r]).isOverlapped(e,t)){n.merge(e,t);break}if(e<n.start)break}i||this._ranges.splice(r,0,new s(e,t))},getMinimumValue:function(){return this._ranges[0].start},getMaximumValue:function(){var e=this._ranges.length;return this._ranges[e-1].end},exclude:function(e,t){a(t)||(t=e),i(this._ranges,(function(n){var i;n.isOverlapped(e,t)&&(i=n.end,n.exclude(e,t),t+1<=i&&this.add(t+1,i))}),this),this._ranges=o.filter(this._ranges,(function(e){return!e.isEmpty()}))},findOverlappedRange:function(e,t){for(var n,i=0,r=this._ranges.length;i<r;i+=1)if((n=this._ranges[i]).isOverlapped(e,t))return[n.start,n.end];return null}});e.exports=l},function(e,t,n){var i=n(0),r=n(15),a=i({init:function(e,t){this.setRange(e,t)},setRange:function(e,t){r(t)||(t=e),this.start=Math.min(e,t),this.end=Math.max(e,t)},merge:function(e,t){r(e)&&r(t)&&this.isOverlapped(e,t)&&(this.start=Math.min(e,this.start),this.end=Math.max(t,this.end))},isEmpty:function(){return!r(this.start)||!r(this.end)},setEmpty:function(){this.start=this.end=null},contains:function(e,t){return r(t)||(t=e),this.start<=e&&t<=this.end},isOverlapped:function(e,t){return r(t)||(t=e),this.start<=t&&this.end>=e},exclude:function(e,t){e<=this.start&&t>=this.end?this.setEmpty():this.contains(e)?this.setRange(this.start,e-1):this.contains(t)&&this.setRange(t+1,this.end)}});e.exports=a},function(e,t,n){var i=n(11);e.exports=function(e){return i('<div class="tui-datepicker">  {{if timePicker}}    {{if isTab}}      <div class="tui-datepicker-selector">        <button type="button" class="tui-datepicker-selector-button tui-is-checked" aria-label="selected">          <span class="tui-ico-date"></span>{{localeText["date"]}}        </button>        <button type="button" class="tui-datepicker-selector-button">          <span class="tui-ico-time"></span>{{localeText["time"]}}        </button>      </div>      <div class="tui-datepicker-body">        <div class="tui-calendar-container"></div>        <div class="tui-timepicker-container"></div>      </div>    {{else}}      <div class="tui-datepicker-body">        <div class="tui-calendar-container"></div>      </div>      <div class="tui-datepicker-footer">        <div class="tui-timepicker-container"></div>      </div>    {{/if}}  {{else}}    <div class="tui-datepicker-body">      <div class="tui-calendar-container"></div>    </div>  {{/if}}</div>',e)}},function(e,t,n){var i=n(0),r=n(8),a=n(31),s=n(33),o=n(30),l=n(19),u=n(4),c=i({init:function(e,t){t.format=t.format||"yyyy-MM-dd",this._input=u.getElement(e),this._id=t.id,this._titles=t.localeText.titles,this._formatter=new o(t.format,this._titles),this._setEvents()},changeLocaleTitles:function(e){this._titles=e},_setEvents:function(){this._input&&(a(this._input,"change",this._onChangeHandler,this),l.on(this._input,"click",this._onClickHandler,this))},_removeEvents:function(){this.off(),this._input&&(s(this._input,"change",this._onChangeHandler),l.off(this._input,"click",this._onClickHandler))},_onChangeHandler:function(){this.fire("change")},_onClickHandler:function(){this.fire("click")},is:function(e){return this._input===e},enable:function(){this._input&&this._input.removeAttribute("disabled")},disable:function(){this._input&&this._input.setAttribute("disabled",!0)},getFormat:function(){return this._formatter.getRawString()},setFormat:function(e){e&&(this._formatter=new o(e,this._titles))},clearText:function(){this._input&&(this._input.value="")},setDate:function(e){this._input&&(this._input.value=this._formatter.format(e))},getDate:function(){var e="";return this._input&&(e=this._input.value),this._formatter.parse(e)},destroy:function(){this._removeEvents(),this._input=this._id=this._formatter=null}});r.mixin(c),e.exports=c},function(e,t,n){var i=n(2),r=n(0),a=n(8),s=n(16),o=n(26),l=n(18),u=n(7),c=n(21),d=n(5),h=n(1),f=n(4),p="tui-rangepicker",m=h.CLASS_NAME_SELECTED,g="tui-is-selected-range",v=r({init:function(e){var t,n;if(t=(e=e||{}).startpicker,n=e.endpicker,!t)throw new Error('The "startpicker" option is required.');if(!n)throw new Error('The "endpicker" option is required.');this._startpicker=null,this._endpicker=null,this._isRangeSet=!1,this._preEndPickerDate=(new Date).getDate(),this._initializePickers(e),this._syncRangesToEndpicker()},_initializePickers:function(e){var t=f.getElement(e.startpicker.container),n=f.getElement(e.endpicker.container),i=f.getElement(e.startpicker.input),r=f.getElement(e.endpicker.input),a=u({},e,{input:{element:i,format:e.format},date:e.startpicker.date,weekStartDay:e.startpicker.weekStartDay}),s=u({},e,{input:{element:r,format:e.format},date:e.endpicker.date,weekStartDay:e.endpicker.weekStartDay});this._startpicker=new c(t,a),this._startpicker.addCssClass(p),this._startpicker.on("change",this._onChangeStartpicker,this),this._startpicker.on("draw",this._onDrawPicker,this),this._endpicker=new c(n,s),this._endpicker.addCssClass(p),this._endpicker.on("change",this._onChangeEndpicker,this),this._endpicker.on("draw",this._onDrawPicker,this)},_onDrawPicker:function(e){var t=e.type,n=this._startpicker.getDate(),r=this._endpicker.getDate();n&&(r||(r=new Date(NaN)),i(e.dateElements,(function(e){var i=new Date(Number(o(e,"timestamp"))),a=d.inRange(n,r,i,t),s=d.isSame(n,i,t)||d.isSame(r,i,t);this._setRangeClass(e,a),this._setSelectedClass(e,s)}),this))},_setRangeClass:function(e,t){t?s(e,g):l(e,g)},_setSelectedClass:function(e,t){t?s(e,m):l(e,m)},_syncRangesToEndpicker:function(){var e,t=this._startpicker.getDate();t?(e=this._startpicker.findOverlappedRange(d.cloneWithStartOf(t).getTime(),d.cloneWithEndOf(t).getTime()),this._endpicker.enable(),this._endpicker.setRanges([[t.getTime(),e[1].getTime()]]),this._setTimeRangeOnEndPicker()):(this._endpicker.setNull(),this._endpicker.disable())},_onChangeStartpicker:function(){this._syncRangesToEndpicker(),this.fire("change:start")},_onChangeEndpicker:function(){var e,t=this._endpicker.getDate();t?(e=t.getDate(),this._preEndPickerDate!==e&&this._setTimeRangeOnEndPicker(),this._preEndPickerDate=e):this._preEndPickerDate=null,this.fire("change:end")},_isStartAndEndDateSame:function(){return!!this._endpicker.getDate()&&!!this._startpicker.getDate()&&0===d.compare(this._endpicker.getDate(),this._startpicker.getDate(),h.TYPE_DATE)},_setTimeRangeOnEndPicker:function(){var e,t,n,i=this._endpicker._timePicker;i&&(e=this._endpicker.getDate()||this._startpicker.getDate(),t=this._getTimeRangeFromStartPicker(),n=e&&t[e.getDate()],this._isStartAndEndDateSame()&&n?(i.setRange(n),this._isRangeSet=!0):this._isRangeSet&&(i.setRange({hour:0,minute:0}),i.resetMinuteRange(),this._isRangeSet=!1))},_getTimeRangeFromStartPicker:function(){var e=this._startpicker.getDate(),t={};return t[e.getDate()]={hour:e.getHours(),minute:e.getMinutes()},t},getStartpicker:function(){return this._startpicker},getEndpicker:function(){return this._endpicker},setStartDate:function(e){this._startpicker.setDate(e)},getStartDate:function(){return this._startpicker.getDate()},getEndDate:function(){return this._endpicker.getDate()},setEndDate:function(e){this._endpicker.setDate(e)},setRanges:function(e){this._startpicker.setRanges(e),this._syncRangesToEndpicker()},addRange:function(e,t){this._startpicker.addRange(e,t),this._syncRangesToEndpicker()},removeRange:function(e,t,n){this._startpicker.removeRange(e,t,n),this._syncRangesToEndpicker()},changeLanguage:function(e){this._startpicker.changeLanguage(e),this._endpicker.changeLanguage(e)},destroy:function(){this.off(),this._startpicker.destroy(),this._endpicker.destroy(),this._startpicker=this._endpicker=null}});a.mixin(v),e.exports=v},function(e,t,n){}])}))}(Bl);var Wl,$l,Gl,Yl,ql,Xl,Zl=Xt(Bl.exports),Jl=Object.defineProperty,Kl=Object.defineProperties,Ql=Object.getOwnPropertyDescriptors,eu=Object.getOwnPropertySymbols,tu=Object.prototype.hasOwnProperty,nu=Object.prototype.propertyIsEnumerable,iu=(e,t,n)=>t in e?Jl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ru=(e,t)=>{for(var n in t||(t={}))tu.call(t,n)&&iu(e,n,t[n]);if(eu)for(var n of eu(t))nu.call(t,n)&&iu(e,n,t[n]);return e},au=(e,t)=>Kl(e,Ql(t)),su=(e,t)=>{var n={};for(var i in e)tu.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&eu)for(var i of eu(e))t.indexOf(i)<0&&nu.call(e,i)&&(n[i]=e[i]);return n},ou={},lu=[],uu=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function cu(e,t){for(var n in t)e[n]=t[n];return e}function du(e){var t=e.parentNode;t&&t.removeChild(e)}function hu(e,t,n){var i,r,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?r=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?Wl.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return fu(e,s,i,r,null)}function fu(e,t,n,i,r){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++Gl:r};return null==r&&null!=$l.vnode&&$l.vnode(a),a}function pu(e){return e.children}function mu(e,t){this.props=e,this.context=t}function gu(e,t){if(null==t)return e.__?gu(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?gu(e):null}function vu(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return vu(e)}}function _u(e){(!e.__d&&(e.__d=!0)&&Yl.push(e)&&!yu.__r++||ql!==$l.debounceRendering)&&((ql=$l.debounceRendering)||setTimeout)(yu)}function yu(){for(var e;yu.__r=Yl.length;)e=Yl.sort((function(e,t){return e.__v.__b-t.__v.__b})),Yl=[],e.some((function(e){var t,n,i,r,a,s;e.__d&&(a=(r=(t=e).__v).__e,(s=t.__P)&&(n=[],(i=cu({},r)).__v=r.__v+1,Du(s,r,i,t.__n,void 0!==s.ownerSVGElement,null!=r.__h?[a]:null,n,null==a?gu(r):a,r.__h),Tu(n,r),r.__e!=a&&vu(r)))}))}function wu(e,t,n,i,r,a,s,o,l,u){var c,d,h,f,p,m,g,v=i&&i.__k||lu,_=v.length;for(n.__k=[],c=0;c<t.length;c++)if(null!=(f=n.__k[c]=null==(f=t[c])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?fu(null,f,null,null,f):Array.isArray(f)?fu(pu,{children:f},null,null,null):f.__b>0?fu(f.type,f.props,f.key,null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(h=v[c])||h&&f.key==h.key&&f.type===h.type)v[c]=void 0;else for(d=0;d<_;d++){if((h=v[d])&&f.key==h.key&&f.type===h.type){v[d]=void 0;break}h=null}Du(e,f,h=h||ou,r,a,s,o,l,u),p=f.__e,(d=f.ref)&&h.ref!=d&&(g||(g=[]),h.ref&&g.push(h.ref,null,f),g.push(d,f.__c||p,f)),null!=p?(null==m&&(m=p),"function"==typeof f.type&&f.__k===h.__k?f.__d=l=bu(f,l,e):l=Mu(e,f,h,v,p,l),"function"==typeof n.type&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=gu(h))}for(n.__e=m,c=_;c--;)null!=v[c]&&("function"==typeof n.type&&null!=v[c].__e&&v[c].__e==n.__d&&(n.__d=gu(i,c+1)),Au(v[c],v[c]));if(g)for(c=0;c<g.length;c++)Iu(g[c],g[++c],g[++c])}function bu(e,t,n){for(var i,r=e.__k,a=0;r&&a<r.length;a++)(i=r[a])&&(i.__=e,t="function"==typeof i.type?bu(i,t,n):Mu(n,i,i,r,i.__e,t));return t}function xu(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){xu(e,t)})):t.push(e)),t}function Mu(e,t,n,i,r,a){var s,o,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||r!=a||null==r.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(r),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<i.length;l+=2)if(o==r)break e;e.insertBefore(r,a),s=a}return void 0!==s?s:r.nextSibling}function ku(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||uu.test(t)?n:n+"px"}function Cu(e,t,n,i,r){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||ku(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||ku(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?i||e.addEventListener(t,a?Eu:Su,a):e.removeEventListener(t,a?Eu:Su,a);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(s){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function Su(e){this.l[e.type+!1]($l.event?$l.event(e):e)}function Eu(e){this.l[e.type+!0]($l.event?$l.event(e):e)}function Du(e,t,n,i,r,a,s,o,l){var u,c,d,h,f,p,m,g,v,_,y,w,b,x=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,o=t.__e=n.__e,t.__h=null,a=[o]),(u=$l.__b)&&u(t);try{e:if("function"==typeof x){if(g=t.props,v=(u=x.contextType)&&i[u.__c],_=u?v?v.props.value:u.__:i,n.__c?m=(c=t.__c=n.__c).__=c.__E:("prototype"in x&&x.prototype.render?t.__c=c=new x(g,_):(t.__c=c=new mu(g,_),c.constructor=x,c.render=Pu),v&&v.sub(c),c.props=g,c.state||(c.state={}),c.context=_,c.__n=i,d=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=x.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=cu({},c.__s)),cu(c.__s,x.getDerivedStateFromProps(g,c.__s))),h=c.props,f=c.state,d)null==x.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==x.getDerivedStateFromProps&&g!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(g,_),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(g,c.__s,_)||t.__v===n.__v){c.props=g,c.state=c.__s,t.__v!==n.__v&&(c.__d=!1),c.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&s.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(g,c.__s,_),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,f,p)}))}if(c.context=_,c.props=g,c.__v=t,c.__P=e,y=$l.__r,w=0,"prototype"in x&&x.prototype.render)c.state=c.__s,c.__d=!1,y&&y(t),u=c.render(c.props,c.state,c.context);else do{c.__d=!1,y&&y(t),u=c.render(c.props,c.state,c.context),c.state=c.__s}while(c.__d&&++w<25);c.state=c.__s,null!=c.getChildContext&&(i=cu(cu({},i),c.getChildContext())),d||null==c.getSnapshotBeforeUpdate||(p=c.getSnapshotBeforeUpdate(h,f)),b=null!=u&&u.type===pu&&null==u.key?u.props.children:u,wu(e,Array.isArray(b)?b:[b],t,n,i,r,a,s,o,l),c.base=t.__e,t.__h=null,c.__h.length&&s.push(c),m&&(c.__E=c.__=null),c.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,i,r,a,s,o){var l,u,c,d=n.props,h=t.props,f=t.type,p=0;if("svg"===f&&(r=!0),null!=a)for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:3===l.nodeType)){e=l,a[p]=null;break}if(null==e){if(null===f)return document.createTextNode(h);e=r?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),a=null,o=!1}if(null===f)d===h||o&&e.data===h||(e.data=h);else{if(a=a&&Wl.call(e.childNodes),u=(d=n.props||ou).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!o){if(null!=a)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,n,i,r){var a;for(a in n)"children"===a||"key"===a||a in t||Cu(e,a,null,n[a],i);for(a in t)r&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||Cu(e,a,t[a],n[a],i)}(e,h,d,r,o),c)t.__k=[];else if(p=t.props.children,wu(e,Array.isArray(p)?p:[p],t,n,i,r&&"foreignObject"!==f,a,s,a?a[0]:n.__k&&gu(n,0),o),null!=a)for(p=a.length;p--;)null!=a[p]&&du(a[p]);o||("value"in h&&void 0!==(p=h.value)&&(p!==e.value||"progress"===f&&!p||"option"===f&&p!==d.value)&&Cu(e,"value",p,d.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==e.checked&&Cu(e,"checked",p,d.checked,!1))}return e}(n.__e,t,n,i,r,a,s,l);(u=$l.diffed)&&u(t)}catch(M){t.__v=null,(l||null!=a)&&(t.__e=o,t.__h=!!l,a[a.indexOf(o)]=null),$l.__e(M,t,n)}}function Tu(e,t){$l.__c&&$l.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(n){$l.__e(n,t.__v)}}))}function Iu(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(i){$l.__e(i,n)}}function Au(e,t,n){var i,r;if($l.unmount&&$l.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||Iu(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){$l.__e(a,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&Au(i[r],t,"function"!=typeof e.type);n||null==e.__e||du(e.__e),e.__e=e.__d=void 0}function Pu(e,t,n){return this.constructor(e,n)}function Ou(e,t,n){var i,r,a;$l.__&&$l.__(e,t),r=(i="function"==typeof n)?null:n&&n.__k||t.__k,a=[],Du(t,e=(!i&&n||t).__k=hu(pu,null,[e]),r||ou,ou,void 0!==t.ownerSVGElement,!i&&n?[n]:r?null:t.firstChild?Wl.call(t.childNodes):null,a,!i&&n?n:r?r.__e:t.firstChild,i),Tu(a,e)}function Nu(e,t){var n={__c:t="__cC"+Xl++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(_u)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}Wl=lu.slice,$l={__e:function(e,t,n,i){for(var r,a,s;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&null!=a.getDerivedStateFromError&&(r.setState(a.getDerivedStateFromError(e)),s=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,i||{}),s=r.__d),s)return r.__E=r}catch(o){e=o}throw e}},Gl=0,mu.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=cu({},this.state),"function"==typeof e&&(e=e(cu({},n),this.props)),e&&cu(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),_u(this))},mu.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_u(this))},mu.prototype.render=pu,Yl=[],yu.__r=0,Xl=0;var Lu,zu,Ru,Fu,Hu=0,ju=[],Vu=[],Bu=$l.__b,Uu=$l.__r,Wu=$l.diffed,$u=$l.__c,Gu=$l.unmount;function Yu(e,t){$l.__h&&$l.__h(zu,e,Hu||t),Hu=0;var n=zu.__H||(zu.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Vu}),n.__[e]}function qu(e){return Hu=1,Xu(oc,e)}function Xu(e,t,n){var i=Yu(Lu++,2);return i.t=e,i.__c||(i.__=[n?n(t):oc(void 0,t),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=zu),i.__}function Zu(e,t){var n=Yu(Lu++,3);!$l.__s&&sc(n.__H,t)&&(n.__=e,n.u=t,zu.__H.__h.push(n))}function Ju(e,t){var n=Yu(Lu++,4);!$l.__s&&sc(n.__H,t)&&(n.__=e,n.u=t,zu.__h.push(n))}function Ku(e){return Hu=5,Qu((function(){return{current:e}}),[])}function Qu(e,t){var n=Yu(Lu++,7);return sc(n.__H,t)?(n.__V=e(),n.u=t,n.__h=e,n.__V):n.__}function ec(e,t){return Hu=8,Qu((function(){return e}),t)}function tc(e){var t=zu.context[e.__c],n=Yu(Lu++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(zu)),t.props.value):e.__}function nc(){for(var e;e=ju.shift();)if(e.__P)try{e.__H.__h.forEach(rc),e.__H.__h.forEach(ac),e.__H.__h=[]}catch(t){e.__H.__h=[],$l.__e(t,e.__v)}}$l.__b=function(e){zu=null,Bu&&Bu(e)},$l.__r=function(e){Uu&&Uu(e),Lu=0;var t=(zu=e.__c).__H;t&&(Ru===zu?(t.__h=[],zu.__h=[],t.__.forEach((function(e){e.__V=Vu,e.u=void 0}))):(t.__h.forEach(rc),t.__h.forEach(ac),t.__h=[])),Ru=zu},$l.diffed=function(e){Wu&&Wu(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==ju.push(t)&&Fu===$l.requestAnimationFrame||((Fu=$l.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),ic&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);ic&&(t=requestAnimationFrame(n))})(nc)),t.__H.__.forEach((function(e){e.u&&(e.__H=e.u),e.__V!==Vu&&(e.__=e.__V),e.u=void 0,e.__V=Vu}))),Ru=zu=null},$l.__c=function(e,t){t.some((function(e){try{e.__h.forEach(rc),e.__h=e.__h.filter((function(e){return!e.__||ac(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],$l.__e(n,e.__v)}})),$u&&$u(e,t)},$l.unmount=function(e){Gu&&Gu(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{rc(e)}catch(n){t=n}})),t&&$l.__e(t,n.__v))};var ic="function"==typeof requestAnimationFrame;function rc(e){var t=zu,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),zu=t}function ac(e){var t=zu;e.__c=e.__(),zu=t}function sc(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function oc(e,t){return"function"==typeof t?t(e):t}function lc(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function uc(e){return!!e&&!!e[qc]}function cc(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Xc}(e)||Array.isArray(e)||!!e[Yc]||!!e.constructor[Yc]||mc(e)||gc(e))}function dc(e,t,n){void 0===n&&(n=!1),0===hc(e)?(n?Object.keys:Zc)(e).forEach((function(i){n&&"symbol"==typeof i||t(i,e[i],e)})):e.forEach((function(n,i){return t(i,n,e)}))}function hc(e){var t=e[qc];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:mc(e)?2:gc(e)?3:0}function fc(e,t){return 2===hc(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pc(e,t,n){var i=hc(e);2===i?e.set(t,n):3===i?(e.delete(t),e.add(n)):e[t]=n}function mc(e){return Uc&&e instanceof Map}function gc(e){return Wc&&e instanceof Set}function vc(e){return e.o||e.t}function _c(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Jc(e);delete t[qc];for(var n=Zc(t),i=0;i<n.length;i++){var r=n[i],a=t[r];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[r]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function yc(e,t){return void 0===t&&(t=!1),bc(e)||uc(e)||!cc(e)||(hc(e)>1&&(e.set=e.add=e.clear=e.delete=wc),Object.freeze(e),t&&dc(e,(function(e,t){return yc(t,!0)}),!0)),e}function wc(){lc(2)}function bc(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function xc(e){var t=Kc[e];return t||lc(18,e),t}function Mc(){return Vc}function kc(e,t){t&&(xc("Patches"),e.u=[],e.s=[],e.v=t)}function Cc(e){Sc(e),e.p.forEach(Dc),e.p=null}function Sc(e){e===Vc&&(Vc=e.l)}function Ec(e){return Vc={p:[],l:Vc,h:e,m:!0,_:0}}function Dc(e){var t=e[qc];0===t.i||1===t.i?t.j():t.O=!0}function Tc(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||xc("ES5").S(t,e,i),i?(n[qc].P&&(Cc(t),lc(4)),cc(e)&&(e=Ic(t,e),t.l||Pc(t,e)),t.u&&xc("Patches").M(n[qc].t,e,t.u,t.s)):e=Ic(t,n,[]),Cc(t),t.u&&t.v(t.u,t.s),e!==Gc?e:void 0}function Ic(e,t,n){if(bc(t))return t;var i=t[qc];if(!i)return dc(t,(function(r,a){return Ac(e,i,t,r,a,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return Pc(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=4===i.i||5===i.i?i.o=_c(i.k):i.o;dc(3===i.i?new Set(r):r,(function(t,a){return Ac(e,i,r,t,a,n)})),Pc(e,r,!1),n&&e.u&&xc("Patches").R(i,n,e.u,e.s)}return i.o}function Ac(e,t,n,i,r,a){if(uc(r)){var s=Ic(e,r,a&&t&&3!==t.i&&!fc(t.D,i)?a.concat(i):void 0);if(pc(n,i,s),!uc(s))return;e.m=!1}if(cc(r)&&!bc(r)){if(!e.h.F&&e._<1)return;Ic(e,r),t&&t.A.l||Pc(e,r)}}function Pc(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&yc(t,n)}function Oc(e,t){var n=e[qc];return(n?vc(n):e)[t]}function Nc(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function Lc(e){e.P||(e.P=!0,e.l&&Lc(e.l))}function zc(e){e.o||(e.o=_c(e.t))}function Rc(e,t,n){var i=mc(t)?xc("MapSet").N(t,n):gc(t)?xc("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),i={i:n?1:0,A:t?t.A:Mc(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=i,a=Qc;n&&(r=[i],a=ed);var s=Proxy.revocable(r,a),o=s.revoke,l=s.proxy;return i.k=l,i.j=o,l}(t,n):xc("ES5").J(t,n);return(n?n.A:Mc()).p.push(i),i}function Fc(e){return uc(e)||lc(22,e),function e(t){if(!cc(t))return t;var n,i=t[qc],r=hc(t);if(i){if(!i.P&&(i.i<4||!xc("ES5").K(i)))return i.t;i.I=!0,n=Hc(t,r),i.I=!1}else n=Hc(t,r);return dc(n,(function(t,r){i&&function(e,t){return 2===hc(e)?e.get(t):e[t]}(i.t,t)===r||pc(n,t,e(r))})),3===r?new Set(n):n}(e)}function Hc(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return _c(e)}var jc,Vc,Bc="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Uc="undefined"!=typeof Map,Wc="undefined"!=typeof Set,$c="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Gc=Bc?Symbol.for("immer-nothing"):((jc={})["immer-nothing"]=!0,jc),Yc=Bc?Symbol.for("immer-draftable"):"__$immer_draftable",qc=Bc?Symbol.for("immer-state"):"__$immer_state",Xc=""+Object.prototype.constructor,Zc="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Jc=Object.getOwnPropertyDescriptors||function(e){var t={};return Zc(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Kc={},Qc={get:function(e,t){if(t===qc)return e;var n,i,r,a=vc(e);if(!fc(a,t))return n=e,(r=Nc(a,t))?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(n.k):void 0;var s=a[t];return e.I||!cc(s)?s:s===Oc(e.t,t)?(zc(e),e.o[t]=Rc(e.A.h,s,e)):s},has:function(e,t){return t in vc(e)},ownKeys:function(e){return Reflect.ownKeys(vc(e))},set:function(e,t,n){var i=Nc(vc(e),t);if(null==i?void 0:i.set)return i.set.call(e.k,n),!0;if(!e.P){var r=Oc(vc(e),t),a=null==r?void 0:r[qc];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)&&(void 0!==n||fc(e.t,t)))return!0;zc(e),Lc(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Oc(e.t,t)||t in e.t?(e.D[t]=!1,zc(e),Lc(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=vc(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty:function(){lc(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){lc(12)}},ed={};dc(Qc,(function(e,t){ed[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ed.deleteProperty=function(e,t){return ed.set.call(this,e,t,void 0)},ed.set=function(e,t,n){return Qc.set.call(this,e[0],t,n,e[0])};var td=new(function(){function e(e){var t=this;this.g=$c,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var r=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=r);for(var i=arguments.length,s=Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return a.produce(e,(function(e){var i;return(i=n).call.apply(i,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&lc(6),void 0!==i&&"function"!=typeof i&&lc(7),cc(e)){var o=Ec(t),l=Rc(t,e,void 0),u=!0;try{s=n(l),u=!1}finally{u?Cc(o):Sc(o)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return kc(o,i),Tc(e,o)}),(function(e){throw Cc(o),e})):(kc(o,i),Tc(s,o))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===Gc&&(s=void 0),t.F&&yc(s,!0),i){var c=[],d=[];xc("Patches").M(e,s,c,d),i(c,d)}return s}lc(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))};var i,r,a=t.produce(e,n,(function(e,t){i=e,r=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,i,r]})):[a,i,r]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){cc(e)||lc(8),uc(e)&&(e=Fc(e));var t=Ec(this),n=Rc(this,e,void 0);return n[qc].C=!0,Sc(t),n},t.finishDraft=function(e,t){var n=(e&&e[qc]).A;return kc(n,t),Tc(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!$c&&lc(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));var r=xc("Patches").$;return uc(e)?r(e,t):this.produce(e,(function(e){return r(e,t)}))},e}()),nd=td.produce;td.produceWithPatches.bind(td),td.setAutoFreeze.bind(td),td.setUseProxies.bind(td),td.applyPatches.bind(td),td.createDraft.bind(td),td.finishDraft.bind(td);var id=nd;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var rd=function(e){return void 0===e},ad=rd;var sd=function(e,t,n){var i,r=[];for(ad(t)&&(t=e||0,e=0),t*=i=(n=n||1)<0?-1:1;e*i<t;e+=n)r.push(e);return r};const od={color:"#000",backgroundColor:"#a1b56c",dragBackgroundColor:"#a1b56c",borderColor:"#000"};var ld=function(e){return"boolean"==typeof e||e instanceof Boolean};var ud=function(e){return"number"==typeof e||e instanceof Number};var cd=function(e){return e===Object(e)};var dd=function(e){return"string"==typeof e||e instanceof String};function hd(e){return rd(e)||null===e}function fd(e){return!hd(e)}function pd(e){return"function"==typeof e}function md(...e){const t=[];return e.forEach((e=>{e&&(dd(e)?t.push(e):Object.keys(e).forEach((n=>{e[n]&&t.push(n)})))})),t.map((e=>`toastui-calendar-${e}`)).join(" ")}function gd(e){return`${e}%`}function vd(e){return`${e}px`}function _d(e){const t=e.match(/(\d+)%/),n=e.match(/(-?)\s?(\d+)px/);return{percent:t?parseInt(t[1],10):0,px:n?parseInt(`${n[1]}${n[2]}`,10):0}}function yd(e,t){const n=e.model.getColors();return Object.keys(od).reduce(((e,i)=>{var r,a;const s=i;return e[s]=null!=(a=null!=(r=n[s])?r:t[s])?a:od[s],e}),{})}const wd=/^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\.)?([0-9]+)?([+-]\d\d(?::?\d\d)?|\s*Z)?$/;function bd(){throw new Error("This operation is not supported.")}function xd(e){const t=function(e){const t=wd.exec(e);if(t){const[,e,n,i,r,a,s,,o,l]=t;return{y:Number(e),M:Number(n)-1,d:Number(i),h:Number(r),m:Number(a),s:Number(s),ms:Number(o)||0,zoneInfo:l}}return null}(e);if(t&&!t.zoneInfo){const{y:e,M:n,d:i,h:r,m:a,s:s,ms:o}=t;return new Date(e,n,i,r,a,s,o)}return null}class Md{constructor(...e){const[t]=e;t instanceof Date?this.d=new Date(t.getTime()):dd(t)&&1===e.length&&(this.d=xd(t)),this.d||(this.d=new Date(...e))}setTimezoneOffset(){bd()}setTimezoneName(){bd()}clone(){return new Md(this.d)}toDate(){return new Date(this.d.getTime())}toString(){return this.d.toString()}}["getTime","getTimezoneOffset","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getDay"].forEach((e=>{Md.prototype[e]=function(...t){return this.d[e](...t)}})),["setTime","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","setMilliseconds"].forEach((e=>{Md.prototype[e]=function(...t){return this.d[e](...t)}}));class kd extends Md{clone(){return new kd(this.d)}getTimezoneOffset(){return 0}}["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds","Day"].forEach((e=>{const t=`get${e}`;kd.prototype[t]=function(...t){return this.d[`getUTC${e}`](...t)}})),["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"].forEach((e=>{const t=`set${e}`;kd.prototype[t]=function(...t){return this.d[`setUTC${e}`](...t)}}));class Cd extends Error{constructor(e){super(`@toast-ui/calendar: Invalid IANA Timezone Name - ${e}`),this.name="InvalidTimezoneNameError"}}class Sd extends Error{constructor(e){super(`@toast-ui/calendar: Invalid DateTime Format - ${e}`),this.name="InvalidDateTimeFormatError"}}class Ed extends Error{constructor(e){super(`@toast-ui/calendar: Invalid View Type - ${e}`),this.name="InvalidViewTypeError"}}const Dd=(e,...t)=>{};let Td=Md;function Id(...e){return new Td(...e)}function Ad(e,t=new Fd){if(!pd(null==(i=null==(n=null==Intl?void 0:Intl.DateTimeFormat)?void 0:n.prototype)?void 0:i.formatToParts))return Dd("Intl.DateTimeFormat is not fully supported. So It will return the local timezone offset only.\nYou can use a polyfill to fix this issue."),-t.toDate().getTimezoneOffset();var n,i;Ld(e);const r=function(e,t){const n=function(e){if(Od[e])return Od[e];const t=new Intl.DateTimeFormat("en-US",{timeZone:e,hourCycle:"h23",hour12:!1,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"});return Od[e]=t,t}(t);return n.formatToParts(e.toDate()).reduce(((e,t)=>{const n=zd[t.type];return fd(n)&&(e[n]=parseInt(t.value,10)),e}),[])}(t,e),a=function(e){const[t,n,i,r,a,s]=e,o=n-1;return new Date(Date.UTC(t,o,i,r%24,a,s))}(r);return Math.round((a.getTime()-t.getTime())/60/1e3)}function Pd(e,t){t&&Ld(t);const n=new Fd(e.getFullYear(),0,1),i=new Fd(e.getFullYear(),6,1);return t?Math.max(-Ad(t,n),-Ad(t,i))!==-Ad(t,e):Math.max(n.getTimezoneOffset(),i.getTimezoneOffset())!==e.toDate().getTimezoneOffset()}const Od={},Nd={};function Ld(e){if(Nd[e])return!0;try{return Intl.DateTimeFormat("en-US",{timeZone:e}),Nd[e]=!0,!0}catch(t){throw new Cd(e)}}const zd={year:0,month:1,day:2,hour:3,minute:4,second:5};function Rd(e){return(-(new Date).getTimezoneOffset()-e)*eh}class Fd{constructor(...e){this.tzOffset=null,e[0]instanceof Fd?this.d=Id(e[0].getTime()):this.d=Id(...e)}toString(){return this.d.toString()}addFullYear(e){return this.setFullYear(this.getFullYear()+e),this}addMonth(e){return this.setMonth(this.getMonth()+e),this}addDate(e){return this.setDate(this.getDate()+e),this}addHours(e){return this.setHours(this.getHours()+e),this}addMinutes(e){return this.setMinutes(this.getMinutes()+e),this}addSeconds(e){return this.setSeconds(this.getSeconds()+e),this}addMilliseconds(e){return this.setMilliseconds(this.getMilliseconds()+e),this}setWithRaw(e,t,n,i,r,a,s){return this.setFullYear(e,t,n),this.setHours(i,r,a,s),this}toDate(){return this.d.toDate()}valueOf(){return this.getTime()}getTimezoneOffset(){var e;return null!=(e=this.tzOffset)?e:this.d.getTimezoneOffset()}getTime(){return this.d.getTime()}getFullYear(){return this.d.getFullYear()}getMonth(){return this.d.getMonth()}getDate(){return this.d.getDate()}getHours(){return this.d.getHours()}getMinutes(){return this.d.getMinutes()}getSeconds(){return this.d.getSeconds()}getMilliseconds(){return this.d.getMilliseconds()}getDay(){return this.d.getDay()}setTime(e){return this.d.setTime(e)}setFullYear(e,t=this.getMonth(),n=this.getDate()){return this.d.setFullYear(e,t,n)}setMonth(e,t=this.getDate()){return this.d.setMonth(e,t)}setDate(e){return this.d.setDate(e)}setHours(e,t=this.getMinutes(),n=this.getSeconds(),i=this.getMilliseconds()){return this.d.setHours(e,t,n,i)}setMinutes(e,t=this.getSeconds(),n=this.getMilliseconds()){return this.d.setMinutes(e,t,n)}setSeconds(e,t=this.getMilliseconds()){return this.d.setSeconds(e,t)}setMilliseconds(e){return this.d.setMilliseconds(e)}tz(e){if("Local"===e)return new Fd(this.getTime());const t=dd(e)?Ad(e,this):e,n=new Fd(this.getTime()-Rd(t));return n.tzOffset=t,n}local(e){if(fd(e)){const t=dd(e)?Ad(e,this):e;return new Fd(this.getTime()+Rd(t))}return new Fd(this.getTime()+(fd(this.tzOffset)?Rd(this.tzOffset):0))}}function Hd(e,t={}){return cd(t)?(Object.keys(t).forEach((n=>{const i=n,r=n;Array.isArray(t[r])||!cd(e[i])||!cd(t[r])||t[r]instanceof Fd?e[i]=t[r]:e[i]=Hd(e[i],t[r])})),e):e}const jd=["top","left","width","height","exceedLeft","exceedRight","croppedStart","croppedEnd","goingDurationHeight","modelDurationHeight","comingDurationHeight","duplicateEvents","duplicateEventIndex","duplicateStarts","duplicateEnds","duplicateLeft","duplicateWidth","collapse","isMain"];class Vd{constructor(e){this.top=0,this.left=0,this.width=0,this.height=0,this.exceedLeft=!1,this.exceedRight=!1,this.croppedStart=!1,this.croppedEnd=!1,this.goingDurationHeight=0,this.modelDurationHeight=100,this.comingDurationHeight=0,this.duplicateEvents=[],this.duplicateEventIndex=-1,this.duplicateLeft="",this.duplicateWidth="",this.collapse=!1,this.isMain=!1,this.model=e}getUIProps(){return function(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}(this,...jd)}setUIProps(e){Object.assign(this,e)}getStarts(){return this.renderStarts?this.renderStarts:this.model.getStarts()}getEnds(){return this.renderEnds?this.renderEnds:this.model.getEnds()}cid(){return this.model.cid()}valueOf(){return this.model}duration(){return this.model.duration()}collidesWith(e,t=!0){const n=[];[this,e].forEach((e=>{e instanceof Vd&&e.duplicateEvents.length>0?n.push({start:e.duplicateStarts,end:e.duplicateEnds,goingDuration:0,comingDuration:0}):n.push({start:e.getStarts(),end:e.getEnds(),goingDuration:e.valueOf().goingDuration,comingDuration:e.valueOf().comingDuration})}));const[i,r]=n;return Mh({start:i.start.getTime(),end:i.end.getTime(),targetStart:r.start.getTime(),targetEnd:r.end.getTime(),goingDuration:i.goingDuration,comingDuration:i.comingDuration,targetGoingDuration:r.goingDuration,targetComingDuration:r.comingDuration,usingTravelTime:t})}clone(){const e=this.getUIProps(),t=new Vd(this.model);return t.setUIProps(e),this.renderStarts&&(t.renderStarts=new Fd(this.renderStarts)),this.renderEnds&&(t.renderEnds=new Fd(this.renderEnds)),t}}var Bd={event:{asc:function(e,t){const n=e instanceof Vd?e.model:e,i=t instanceof Vd?t.model:t,r=function(e,t){return e!==t?e?-1:1:0}(n.isAllday||n.hasMultiDates,i.isAllday||i.hasMultiDates);if(r)return r;const a=oh(e.getStarts(),t.getStarts());if(a)return a;const s=e.duration(),o=t.duration();return s<o?1:s>o?-1:n.cid()-i.cid()}},num:{asc:function(e,t){return Number(e)-Number(t)}}};function Ud(e){return e[0]}function Wd(e){return e[e.length-1]}function $d(e,t){for(let n=e.length-1;n>=0;n-=1)if(t(e[n]))return n;return-1}function Gd(e,t){return e>0?Array.from({length:e},(()=>Array.isArray(t)?t.slice():t)):[]}var Yd=(e=>(e[e.SUN=0]="SUN",e[e.MON=1]="MON",e[e.TUE=2]="TUE",e[e.WED=3]="WED",e[e.THU=4]="THU",e[e.FRI=5]="FRI",e[e.SAT=6]="SAT",e))(Yd||{});const qd=/^(\d{4}[-|/]*\d{2}[-|/]*\d{2})\s?(\d{2}:\d{2}:\d{2})?$/,Xd={},Zd=[24,60,60,1e3];function Jd(e,t){let n="",i=0;if(String(e).length>t)return String(e);for(;i<t-1;i+=1)n+="0";return(n+e).slice(-1*t)}function Kd(e){let t=e.getHours();return 0===t&&(t=12),t>12&&(t%=12),t}const Qd={YYYYMMDD:e=>[e.getFullYear(),Jd(e.getMonth()+1,2),Jd(e.getDate(),2)].join(""),YYYY:e=>String(e.getFullYear()),MM:e=>Jd(e.getMonth()+1,2),DD:e=>Jd(e.getDate(),2),"HH:mm":function(e){const t=e.getHours(),n=e.getMinutes();return`${Jd(t,2)}:${Jd(n,2)}`},"hh:mm":function(e){const t=Kd(e),n=e.getMinutes();return`${Jd(t,2)}:${Jd(n,2)}`},hh(e){const t=Kd(e);return String(t)},tt:e=>e.getHours()<12?"am":"pm"},eh=6e4,th=20*eh;function nh(e,t){let n=t;return Object.entries(Qd).forEach((([t,i])=>{n=n.replace(t,i(e))})),n}function ih(e,t){const n=Xd,i=e+t;if(n[i])return n[i];const r=function(e,t,n){const i={date:0,hour:1,minute:2,second:3};return!(e in i)||isNaN(t)?0:[t].concat(Zd.slice(i[e])).reduce(n)}(e,t,((e,t)=>e*t));return r?(n[i]=r,n[i]):0}function rh(e){const t=e?new Fd(e):new Fd;return t.setHours(0,0,0,0),t}function ah(e,t,n){const i=e.getTime(),r=t.getTime(),a=new Fd(e),s=[];let o=i;for(;o<=r&&r>=a.getTime();)s.push(new Fd(a)),o+=n,a.addMilliseconds(n);return s}function sh(e){return new Fd(e)}function oh(e,t){const n=e.getTime(),i=t.getTime();return n<i?-1:n>i?1:0}function lh(e,t){return function(e,t){return function(e,t){return e.getFullYear()===t.getFullYear()}(e,t)&&e.getMonth()===t.getMonth()}(e,t)&&e.getDate()===t.getDate()}function uh(e,t){return 1===oh(e,t)?e:t}function ch(e,t){return-1===oh(e,t)?e:t}function dh(e,t=-1){const n=e.match(qd);let i,r,a;if(!n)throw new Sd(e);if(e.length>8){i=~e.indexOf("/")?"/":"-";const t=n.splice(1);r=t[0].split(i),a=t[1]?t[1].split(":"):[0,0,0]}else{const[e]=n;r=[e.substr(0,4),e.substr(4,2),e.substr(6,2)],a=[0,0,0]}return(new Fd).setWithRaw(Number(r[0]),Number(r[1])+t,Number(r[2]),Number(a[0]),Number(a[1]),Number(a[2]),0)}function hh(e){const t=e?new Fd(e):new Fd;return t.setHours(23,59,59,999),t}function fh(e){return 0===e||6===e}function ph(e){return 0===e}function mh(e){return 6===e}function gh(e){const t=new Fd(e);return t.setDate(1),t.setHours(0,0,0,0),t}function vh(e,t,n,i){const r=100/e,a=e>5?100/(e-1):r;let s=0;const o=sd(n,7).concat(sd(e)).slice(0,7);t=!i&&t;const l=o.map((n=>{let i=t?a:r;e>5&&t&&fh(n)&&(i=a/2);const o={width:i,left:s};return s+=i,o})),{length:u}=l,c=Gd(u,Gd(u,0));return l.forEach((({width:e},t)=>{for(let n=0;n<=t;n+=1)for(let i=t;i<u;i+=1)c[n][i]+=e})),c[0][u-1]=100,{rowStyleInfo:l,cellWidthMap:c.map((e=>e.map(gd)))}}function _h(e,t){const n=sh(e);return n.setMilliseconds(e.getMilliseconds()+t),n}function yh(e,t){const n=sh(e);return n.setMinutes(e.getMinutes()+t),n}function wh(e,t){const n=sh(e);return n.setHours(...t.split(":").map(Number)),n}function bh(e,t){const n=sh(e);return n.setDate(e.getDate()+t),n}function xh(e,t){const n=new Fd(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),i=new Fd(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return Math.round((n-i)/864e5)}function Mh({start:e,end:t,targetStart:n,targetEnd:i,goingDuration:r,comingDuration:a,targetGoingDuration:s,targetComingDuration:o,usingTravelTime:l}){return Math.abs(t-e)<th&&(t+=th),Math.abs(t-e)<th&&(t+=th),l&&(e-=ih("minute",r),t+=ih("minute",a),n-=ih("minute",s),i+=ih("minute",o)),function(e,t,n,i){return n>e&&n<t||i>e&&i<t||n<=e&&i>=t}(e,t,n,i)}const kh=function(){const e=function(){let e=0;return{next:()=>(e+=1,e)}}();return()=>e.next()}();function Ch(e){return e.__fe_id||(e.__fe_id=kh()),e.__fe_id}class Sh{constructor(e={}){this.id="",this.calendarId="",this.title="",this.body="",this.isAllday=!1,this.start=new Fd,this.end=new Fd,this.goingDuration=0,this.comingDuration=0,this.location="",this.attendees=[],this.category="time",this.dueDateClass="",this.recurrenceRule="",this.state="Busy",this.isVisible=!0,this.isPending=!1,this.isFocused=!1,this.isReadOnly=!1,this.isPrivate=!1,this.customStyle={},this.raw=null,this.hasMultiDates=!1,Ch(this),this.init(e)}init({id:e="",calendarId:t="",title:n="",body:i="",isAllday:r=!1,start:a=new Fd,end:s=new Fd,goingDuration:o=0,comingDuration:l=0,location:u="",attendees:c=[],category:d="time",dueDateClass:h="",recurrenceRule:f="",state:p="Busy",isVisible:m=!0,isPending:g=!1,isFocused:v=!1,isReadOnly:_=!1,isPrivate:y=!1,color:w,backgroundColor:b,dragBackgroundColor:x,borderColor:M,customStyle:k={},raw:C=null}={}){this.id=e,this.calendarId=t,this.title=n,this.body=i,this.isAllday="allday"===d||r,this.goingDuration=o,this.comingDuration=l,this.location=u,this.attendees=c,this.category=d,this.dueDateClass=h,this.recurrenceRule=f,this.state=p,this.isVisible=m,this.isPending=g,this.isFocused=v,this.isReadOnly=_,this.isPrivate=y,this.color=w,this.backgroundColor=b,this.dragBackgroundColor=x,this.borderColor=M,this.customStyle=k,this.raw=C,this.isAllday?this.setAlldayPeriod(a,s):this.setTimePeriod(a,s),"milestone"!==d&&"task"!==d||(this.start=new Fd(this.end))}setAlldayPeriod(e,t){let n,i;n=dd(e)?dh(e.substring(0,10)):new Fd(e||Date.now()),i=dd(t)?dh(t.substring(0,10)):new Fd(t||this.start),this.start=n,this.start.setHours(0,0,0),this.end=i||new Fd(this.start),this.end.setHours(23,59,59)}setTimePeriod(e,t){this.start=new Fd(e||Date.now()),this.end=new Fd(t||this.start),t||this.end.setMinutes(this.end.getMinutes()+30),this.hasMultiDates=this.end.getTime()-this.start.getTime()>864e5}getStarts(){return this.start}getEnds(){return this.end}cid(){return Ch(this)}equals(e){return this.id===e.id&&(this.title===e.title&&(this.body===e.body&&(this.isAllday===e.isAllday&&(0===oh(this.getStarts(),e.getStarts())&&(0===oh(this.getEnds(),e.getEnds())&&(this.color===e.color&&(this.backgroundColor===e.backgroundColor&&(this.dragBackgroundColor===e.dragBackgroundColor&&this.borderColor===e.borderColor))))))))}duration(){const e=Number(this.getStarts()),t=Number(this.getEnds());let n;return n=this.isAllday?Number(hh(t))-Number(rh(e)):t-e,n}valueOf(){return this}collidesWith(e,t=!0){return e=e instanceof Vd?e.model:e,Mh({start:Number(this.getStarts()),end:Number(this.getEnds()),targetStart:Number(e.getStarts()),targetEnd:Number(e.getEnds()),goingDuration:this.goingDuration,comingDuration:this.comingDuration,targetGoingDuration:e.goingDuration,targetComingDuration:e.comingDuration,usingTravelTime:t})}toEventObject(){return{id:this.id,calendarId:this.calendarId,__cid:this.cid(),title:this.title,body:this.body,isAllday:this.isAllday,start:this.start,end:this.end,goingDuration:this.goingDuration,comingDuration:this.comingDuration,location:this.location,attendees:this.attendees,category:this.category,dueDateClass:this.dueDateClass,recurrenceRule:this.recurrenceRule,state:this.state,isVisible:this.isVisible,isPending:this.isPending,isFocused:this.isFocused,isReadOnly:this.isReadOnly,isPrivate:this.isPrivate,color:this.color,backgroundColor:this.backgroundColor,dragBackgroundColor:this.dragBackgroundColor,borderColor:this.borderColor,customStyle:this.customStyle,raw:this.raw}}getColors(){return{color:this.color,backgroundColor:this.backgroundColor,dragBackgroundColor:this.dragBackgroundColor,borderColor:this.borderColor}}}function Eh({model:e}){const{category:t,isAllday:n,hasMultiDates:i}=e;return"time"===t&&!n&&!i}Sh.schema={required:["title"],dateRange:["start","end"]};class Dh{constructor(e){this.internalMap=new Map,pd(e)&&(this.getItemID=e)}static and(...e){const{length:t}=e;return n=>{for(let i=0;i<t;i+=1)if(!e[i].call(null,n))return!1;return!0}}static or(...e){const{length:t}=e;return t?n=>{let i=e[0].call(null,n);for(let r=1;r<t;r+=1)i=i||e[r].call(null,n);return i}:()=>!1}getItemID(e){var t;return null!=(t=null==e?void 0:e._id)?t:""}getFirstItem(){return this.internalMap.values().next().value}add(...e){return e.forEach((e=>{const t=this.getItemID(e);this.internalMap.set(t,e)})),this}remove(...e){const t=[];return e.forEach((e=>{const n=dd(e)||ud(e)?e:this.getItemID(e);this.internalMap.has(n)&&(t.push(this.internalMap.get(n)),this.internalMap.delete(n))})),1===t.length?t[0]:t}has(e){const t=dd(e)||ud(e)?e:this.getItemID(e);return this.internalMap.has(t)}get(e){var t;const n=dd(e)||ud(e)?e:this.getItemID(e);return null!=(t=this.internalMap.get(n))?t:null}doWhenHas(e,t){const n=this.internalMap.get(e);hd(n)||t(n)}filter(e){const t=new Dh;return this.hasOwnProperty("getItemID")&&(t.getItemID=this.getItemID),this.internalMap.forEach((n=>{!0===e(n)&&t.add(n)})),t}groupBy(e){const t={};return this.internalMap.forEach((n=>{let i=pd(e)?e(n):n[e];pd(i)&&(i=i.call(n)),null!=t[i]||(t[i]=new Dh(this.getItemID)),t[i].add(n)})),t}find(e){let t=null;const n=this.internalMap.values();let i=n.next();for(;!1===i.done;){if(e(i.value)){t=i.value;break}i=n.next()}return t}sort(e){return this.toArray().sort(e)}each(e){const t=this.internalMap.entries();let n=t.next();for(;!1===n.done;){const[i,r]=n.value;if(!1===e(r,i))break;n=t.next()}}clear(){this.internalMap.clear()}toArray(){return Array.from(this.internalMap.values())}get size(){return this.internalMap.size}}function Th(...e){const t=new Dh((e=>e.cid()));return e.length&&t.add(...e),t}function Ih(e,t){return ah(rh(e),hh(t),864e5)}function Ah(e){const{model:t}=e;return(n=t).isAllday||"time"===n.category&&Number(n.end)-Number(n.start)>864e5?"allday":t.category;var n}function Ph(e,t){Ih(t.getStarts(),t.getEnds()).forEach((n=>{const i=nh(n,"YYYYMMDD");(e[i]=e[i]||[]).push(t.cid())}))}function Oh(e,t){const n=t.cid();Object.values(e).forEach((e=>{const t=e.indexOf(n);~t&&e.splice(t,1)}))}function Nh(e,t){return function(e,t){return e.events.add(t),Ph(e.idsOfDay,t),t}(e,new Sh(t))}function Lh(e){return{createEvents:t=>e(id((e=>{!function(e,t=[]){t.map((t=>Nh(e,t)))}(e.calendar,t)}))),updateEvent:({event:t,eventData:n})=>e(id((e=>{!function(e,t,n,i){const{idsOfDay:r}=e,a=e.events.find((e=>function(e,t,n){return e.id===t&&e.calendarId===n}(e,t,n)));!!a&&(a.init(ru(ru({},a),i)),Oh(r,a),Ph(r,a))}(e.calendar,t.id,t.calendarId,n)}))),deleteEvent:t=>e(id((e=>{!function(e,t){Oh(e.idsOfDay,t),e.events.remove(t)}(e.calendar,t)}))),clearEvents:()=>e(id((e=>{var t;(t=e.calendar).idsOfDay={},t.events.clear()}))),setCalendars:t=>e(id((e=>{e.calendar.calendars=t}))),setCalendarColor:(t,n)=>e(id((e=>{const i=e.calendar.calendars.map((e=>e.id===t?ru(ru({},e),n):e)),r=Th(...e.calendar.events.toArray().map((e=>{var i,r,a,s;return e.calendarId===t&&(e.color=null!=(i=n.color)?i:e.color,e.backgroundColor=null!=(r=n.backgroundColor)?r:e.backgroundColor,e.borderColor=null!=(a=n.borderColor)?a:e.borderColor,e.dragBackgroundColor=null!=(s=n.dragBackgroundColor)?s:e.dragBackgroundColor),e})));e.calendar.calendars=i,e.calendar.events=r}))),setCalendarVisibility:(t,n)=>e(id((e=>{const i=e.calendar.events.toArray();e.calendar.events=Th(...i.map((e=>(t.includes(e.calendarId)&&(e.isVisible=n),e))))})))}}var zh=(e=>(e[e.IDLE=0]="IDLE",e[e.INIT=1]="INIT",e[e.DRAGGING=2]="DRAGGING",e[e.CANCELED=3]="CANCELED",e))(zh||{});function Rh(e){return{initDrag:t=>{e(id((e=>{e.dnd=au(ru(ru({},e.dnd),t),{draggingState:1})})))},setDragging:t=>{e(id((e=>{e.dnd=au(ru(ru({},e.dnd),t),{draggingState:2})})))},cancelDrag:()=>{e(id((e=>{e.dnd={draggingItemType:null,draggingState:0,initX:null,initY:null,x:null,y:null,draggingEventUIModel:null},e.dnd.draggingState=3})))},reset:()=>{e(id((e=>{e.dnd={draggingItemType:null,draggingState:0,initX:null,initY:null,x:null,y:null,draggingEventUIModel:null}})))},setDraggingEventUIModel:t=>{e(id((e=>{var n;e.dnd.draggingEventUIModel=null!=(n=null==t?void 0:t.clone())?n:null})))}}}function Fh(e){return{setGridSelection:(t,n)=>{e(id((e=>{e.gridSelection[t]=n})))},addGridSelection:(t,n)=>{e(id((e=>{"dayGridMonth"===t&&n&&(e.gridSelection.accumulated[t]=[...e.gridSelection.accumulated[t],n],e.gridSelection.dayGridMonth=null)})))},clearAll:()=>e(id((e=>{e.gridSelection={dayGridMonth:null,dayGridWeek:null,timeGrid:null,accumulated:{dayGridMonth:[]}}})))}}function Hh(e,t,n){return Object.keys(e).reduce(((n,i)=>i===t?n:n-e[i].height-3),n)}function jh(e){return{setLastPanelType:t=>{e(id((e=>{e.weekViewLayout.lastPanelType=t,t&&(e.weekViewLayout.dayGridRows[t].height=Hh(e.weekViewLayout.dayGridRows,t,e.layout))})))},updateLayoutHeight:t=>e(id((e=>{const{lastPanelType:n}=e.weekViewLayout;e.layout=t,n&&(e.weekViewLayout.dayGridRows[n].height=Hh(e.weekViewLayout.dayGridRows,n,t))}))),updateDayGridRowHeight:({rowName:t,height:n})=>e(id((e=>{const{lastPanelType:i}=e.weekViewLayout;e.weekViewLayout.dayGridRows[t]={height:n},i&&(e.weekViewLayout.dayGridRows[i].height=Hh(e.weekViewLayout.dayGridRows,i,e.layout))}))),updateDayGridRowHeightByDiff:({rowName:t,diff:n})=>e(id((e=>{var i,r,a;const{lastPanelType:s}=e.weekViewLayout,o=null!=(a=null==(r=null==(i=e.weekViewLayout.dayGridRows)?void 0:i[t])?void 0:r.height)?a:72;e.weekViewLayout.dayGridRows[t]={height:o+n},s&&(e.weekViewLayout.dayGridRows[s].height=Hh(e.weekViewLayout.dayGridRows,s,e.layout))}))),setSelectedDuplicateEventCid:t=>e(id((e=>{e.weekViewLayout.selectedDuplicateEventCid=null!=t?t:-1})))}}function Vh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Bh=["sun","mon","tue","wed","thu","fri","sat"],Uh=e=>Bh[e];function Wh(e,t){return e.map((e=>{const n=e.getDay(),i=t.length>0?t[n]:Vh(Uh(n));return{date:e.getDate(),day:e.getDay(),dayName:i,isToday:!0,renderDate:"date",dateInstance:e}}))}function $h(e){if(!e)return!1;const t={getDuplicateEvents:(e,t)=>t.filter((t=>t.title===e.title&&0===oh(t.start,e.start)&&0===oh(t.end,e.end))).sort(((e,t)=>e.calendarId>t.calendarId?1:-1)),getMainEvent:e=>Wd(e)};return ld(e)?t:ru(ru({},t),e)}function Gh(e={}){const t=ru({startDayOfWeek:Yd.SUN,dayNames:[],narrowWeekend:!1,workweek:!1,showNowIndicator:!0,showTimezoneCollapseButton:!1,timezonesCollapsed:!1,hourStart:0,hourEnd:24,eventView:!0,taskView:!0,collapseDuplicateEvents:!1},e);return t.collapseDuplicateEvents=$h(t.collapseDuplicateEvents),t}function Yh(e={}){return ru({zones:[]},e)}function qh(e={}){const t=ru({dayNames:[],visibleWeeksCount:0,workweek:!1,narrowWeekend:!1,startDayOfWeek:Yd.SUN,isAlways6Weeks:!0,visibleEventCount:6},e);return 0===t.dayNames.length&&(t.dayNames=Bh.slice()),t}function Xh(e){return ld(e)?{enableDblClick:e,enableClick:e}:ru({enableDblClick:!0,enableClick:!0},e)}const Zh=e=>!!e.isVisible;function Jh(e){return{setOptions:(t={})=>e(id((e=>{var n;t.gridSelection&&(t.gridSelection=Xh(t.gridSelection)),(null==(n=t.week)?void 0:n.collapseDuplicateEvents)&&(t.week.collapseDuplicateEvents=$h(t.week.collapseDuplicateEvents)),Hd(e.options,t)})))}}var Kh=(e=>(e.SeeMore="seeMore",e.Form="form",e.Detail="detail",e))(Kh||{});function Qh(e){return{showSeeMorePopup:t=>e(id((e=>{e.popup.seeMore=t,e.popup.form=null,e.popup.detail=null}))),showFormPopup:t=>e(id((e=>{e.popup.form=t,e.popup.seeMore=null,e.popup.detail=null}))),showDetailPopup:(t,n)=>e(id((e=>{e.popup.detail=t,e.popup.form=null,n||(e.popup.seeMore=null)}))),hideSeeMorePopup:()=>e(id((e=>{e.popup.seeMore=null}))),hideFormPopup:()=>e(id((e=>{e.popup.form=null}))),hideDetailPopup:()=>e(id((e=>{e.popup.detail=null}))),hideAllPopup:()=>e(id((e=>{e.popup.seeMore=null,e.popup.form=null,e.popup.detail=null})))}}const ef=()=>{},tf=/^auto$|^$|%/;function nf(e,t){let n=e.style[t];if((!n||"auto"===n)&&document.defaultView){const i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function rf(e){return dd(e)?tf.test(e):null===e}function af(e){const t=nf(e,"width"),n=nf(e,"height");if((rf(t)||rf(n))&&e.getBoundingClientRect){const{width:t,height:n}=e.getBoundingClientRect();return{width:t||e.offsetWidth,height:n||e.offsetHeight}}return{width:parseFloat(null!=t?t:"0"),height:parseFloat(null!=n?n:"0")}}const sf=("undefined"==typeof Element?ef:Element).prototype;function of(e){return e.replace(/<([^>]+)>/gi,"")}sf.matches||sf.webkitMatchesSelector||sf.msMatchesSelector;const lf={milestone:e=>hu(pu,null,hu("span",{className:md("icon","ic-milestone")}),hu("span",{style:{backgroundColor:e.backgroundColor}},of(e.title))),milestoneTitle:()=>hu("span",{className:md("left-content")},"Milestone"),task:e=>`#${e.title}`,taskTitle:()=>hu("span",{className:md("left-content")},"Task"),alldayTitle:()=>hu("span",{className:md("left-content")},"All Day"),allday:e=>of(e.title),time(e){const{start:t,title:n}=e;return t?hu("span",null,hu("strong",null,nh(t,"HH:mm"))," ",hu("span",null,of(n))):of(n)},goingDuration(e){const{goingDuration:t}=e,n=t%60;return`GoingTime ${Jd(Math.floor(t/60),2)}:${Jd(n,2)}`},comingDuration(e){const{comingDuration:t}=e,n=t%60;return`ComingTime ${Jd(Math.floor(t/60),2)}:${Jd(n,2)}`},monthMoreTitleDate(e){const{date:t,day:n}=e,i=md("more-title-date"),r=md("more-title-day"),a=Vh(Uh(n));return hu(pu,null,hu("span",{className:i},t),hu("span",{className:r},a))},monthMoreClose:()=>"",monthGridHeader(e){const t=parseInt(e.date.split("-")[2],10);return hu("span",{className:md("weekday-grid-date",{"weekday-grid-date-decorator":e.isToday})},t)},monthGridHeaderExceed:e=>hu("span",{className:md("weekday-grid-more-events")},e," more"),monthGridFooter:e=>"",monthGridFooterExceed:e=>"",monthDayName:e=>e.label,weekDayName(e){const t=md("day-name__date"),n=md("day-name__name");return hu(pu,null,hu("span",{className:t},e.date),"  ",hu("span",{className:n},e.dayName))},weekGridFooterExceed:e=>`+${e}`,collapseBtnTitle:()=>hu("span",{className:md("collapse-btn-icon")}),timezoneDisplayLabel({displayLabel:e,timezoneOffset:t}){if(hd(e)&&fd(t)){const e=t<0?"-":"+",n=Math.abs(t/60),i=Math.abs(t%60);return`GMT${e}${Jd(n,2)}:${Jd(i,2)}`}return e},timegridDisplayPrimaryTime(e){const{time:t}=e;return nh(t,"hh tt")},timegridDisplayTime(e){const{time:t}=e;return nh(t,"HH:mm")},timegridNowIndicatorLabel(e){const{time:t,format:n="HH:mm"}=e;return nh(t,n)},popupIsAllday:()=>"All day",popupStateFree:()=>"Free",popupStateBusy:()=>"Busy",titlePlaceholder:()=>"Subject",locationPlaceholder:()=>"Location",startDatePlaceholder:()=>"Start date",endDatePlaceholder:()=>"End date",popupSave:()=>"Save",popupUpdate:()=>"Update",popupEdit:()=>"Edit",popupDelete:()=>"Delete",popupDetailTitle:({title:e})=>e,popupDetailDate({isAllday:e,start:t,end:n}){const i="YYYY.MM.DD",r="hh:mm tt",a="YYYY.MM.DD hh:mm tt",s=nh(t,e?i:r),o=lh(t,n)?r:a;return e?`${s}${lh(t,n)?"":` - ${nh(n,i)}`}`:`${nh(t,a)} - ${nh(n,o)}`},popupDetailLocation:({location:e})=>e,popupDetailAttendees:({attendees:e=[]})=>e.join(", "),popupDetailState:({state:e})=>e||"Busy",popupDetailRecurrenceRule:({recurrenceRule:e})=>e,popupDetailBody:({body:e})=>e};function uf(e){return{setTemplate:t=>e(id((e=>{e.template=ru(ru({},e.template),t)})))}}function cf(e){return{changeView:t=>e(id((e=>{e.view.currentView=t}))),setRenderDate:t=>e(id((e=>{e.view.renderDate=rh(t)})))}}const df=rd(window)||!window.navigator?Zu:Ju;function hf(){const e=Nu(null);return{StoreProvider:function({children:t,store:n}){return hu(e.Provider,{value:n,children:t})},useStore:(t,n=Object.is)=>{const i=tc(e);if(hd(i))throw new Error("StoreProvider is not found");const[,r]=Xu((e=>e+1),0),a=i.getState(),s=Ku(a),o=Ku(t),l=Ku(n),u=Ku(!1),c=Ku();let d;rd(c.current)&&(c.current=t(a));let h=!1;(s.current!==a||o.current!==t||l.current!==n||u.current)&&(d=t(a),h=!n(c.current,d)),df((()=>{h&&(c.current=d),s.current=a,o.current=t,l.current=n,u.current=!1}));const f=Ku(a);return df((()=>{const e=()=>{try{const e=i.getState(),t=o.current(e);!l.current(c.current,t)&&(s.current=e,c.current=d,r())}catch(e){u.current=!0,r()}},t=i.subscribe(e);return i.getState()!==f.current&&e(),t}),[]),h?d:c.current},useInternalStore:()=>{const t=tc(e);if(hd(t))throw new Error("StoreProvider is not found");return Qu((()=>t),[t])}}}function ff(e){let t;const n=new Set,i=e=>{const i=e(t);if(i!==t){const e=t;t=ru(ru({},t),i),n.forEach((n=>n(t,e)))}},r=()=>t,a={setState:i,getState:r,subscribe:(e,i,r)=>{let a=e;if(i){let n=i(t);const s=null!=r?r:Object.is;a=()=>{const r=i(t);if(!s(n,r)){const t=n;n=r,e(n,t)}}}return n.add(a),()=>n.delete(a)},clearListeners:()=>n.clear()};return t=e(i,r,a),a}const pf=e=>t=>au(ru(ru(ru(ru(ru(ru(ru(ru({},function(e={}){var t,n,i,r,a,s;return{options:{defaultView:null!=(t=e.defaultView)?t:"week",useFormPopup:null!=(n=e.useFormPopup)&&n,useDetailPopup:null!=(i=e.useDetailPopup)&&i,isReadOnly:null!=(r=e.isReadOnly)&&r,week:Gh(e.week),month:qh(e.month),gridSelection:Xh(e.gridSelection),usageStatistics:null==(a=e.usageStatistics)||a,eventFilter:null!=(s=e.eventFilter)?s:Zh,timezone:Yh(e.timezone)}}}(e)),function(e={}){return{template:ru(ru({},lf),e)}}(e.template)),{popup:{seeMore:null,form:null,detail:null}}),{layout:500,weekViewLayout:{lastPanelType:null,dayGridRows:{},selectedDuplicateEventCid:-1}}),function(e=[]){return{calendar:{calendars:e,events:Th(),idsOfDay:{}}}}(e.calendars)),function(e="week"){const t=new Fd;return t.setHours(0,0,0,0),{view:{currentView:e,renderDate:t}}}(e.defaultView)),{dnd:{draggingItemType:null,draggingState:0,initX:null,initY:null,x:null,y:null,draggingEventUIModel:null}}),{gridSelection:{dayGridMonth:null,dayGridWeek:null,timeGrid:null,accumulated:{dayGridMonth:[]}}}),{dispatch:{options:Jh(t),popup:Qh(t),weekViewLayout:jh(t),calendar:Lh(t),view:cf(t),dnd:Rh(t),gridSelection:Fh(t),template:uf(t)}}),{StoreProvider:mf,useStore:gf,useInternalStore:vf}=hf();function _f(e){return gf(ec((t=>e?t.dispatch[e]:t.dispatch),[e]))}function yf(e){return t=>t[e]}const wf=yf("calendar"),bf=yf("weekViewLayout"),xf=yf("template"),Mf=yf("view"),kf=yf("options"),Cf=yf("dnd");var Sf={exports:{}};
/*! @license DOMPurify 2.3.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.8/LICENSE */Sf.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function i(e,r,a){return(i=n()?Reflect.construct:function(e,n,i){var r=[null];r.push.apply(r,n);var a=new(Function.bind.apply(e,r));return i&&t(a,i.prototype),a}).apply(null,arguments)}function r(e){return a(e)||s(e)||o(e)||u()}function a(e){if(Array.isArray(e))return l(e)}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=Object.hasOwnProperty,d=Object.setPrototypeOf,h=Object.isFrozen,f=Object.getPrototypeOf,p=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,v=Object.create,_="undefined"!=typeof Reflect&&Reflect,y=_.apply,w=_.construct;y||(y=function(e,t,n){return e.apply(t,n)}),m||(m=function(e){return e}),g||(g=function(e){return e}),w||(w=function(e,t){return i(e,r(t))});var b=A(Array.prototype.forEach),x=A(Array.prototype.pop),M=A(Array.prototype.push),k=A(String.prototype.toLowerCase),C=A(String.prototype.match),S=A(String.prototype.replace),E=A(String.prototype.indexOf),D=A(String.prototype.trim),T=A(RegExp.prototype.test),I=P(TypeError);function A(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return y(e,t,i)}}function P(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return w(e,n)}}function O(e,t){d&&d(e,null);for(var n=t.length;n--;){var i=t[n];if("string"==typeof i){var r=k(i);r!==i&&(h(t)||(t[n]=r),i=r)}e[i]=!0}return e}function N(e){var t,n=v(null);for(t in e)y(c,e,[t])&&(n[t]=e[t]);return n}function L(e,t){for(;null!==e;){var n=p(e,t);if(n){if(n.get)return A(n.get);if("function"==typeof n.value)return A(n.value)}e=f(e)}function i(e){return null}return i}var z=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),H=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),V=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),B=m(["#text"]),U=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),W=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=g(/<%[\w\W]*|[\w\W]*%>/gm),X=g(/^data-[\-\w.\u00B7-\uFFFF]/),Z=g(/^aria-[\-\w]+$/),J=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=g(/^(?:\w+script|data):/i),Q=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ee=g(/^html$/i),te=function(){return"undefined"==typeof window?null:window},ne=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var i=null,r="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(r)&&(i=n.currentScript.getAttribute(r));var a="dompurify"+(i?"#"+i:"");try{return t.createPolicy(a,{createHTML:function(e){return e}})}catch(s){return null}};function ie(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),n=function(e){return ie(e)};if(n.version="2.3.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,a=t.document,s=t.DocumentFragment,o=t.HTMLTemplateElement,l=t.Node,u=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,h=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,f=t.HTMLFormElement,p=t.DOMParser,g=t.trustedTypes,v=u.prototype,_=L(v,"cloneNode"),y=L(v,"nextSibling"),w=L(v,"childNodes"),A=L(v,"parentNode");if("function"==typeof o){var P=a.createElement("template");P.content&&P.content.ownerDocument&&(a=P.content.ownerDocument)}var re=ne(g,i),ae=re?re.createHTML(""):"",se=a,oe=se.implementation,le=se.createNodeIterator,ue=se.createDocumentFragment,ce=se.getElementsByTagName,de=i.importNode,he={};try{he=N(a).documentMode?a.documentMode:{}}catch(Ct){}var fe={};n.isSupported="function"==typeof A&&oe&&void 0!==oe.createHTMLDocument&&9!==he;var pe,me,ge=Y,ve=q,_e=X,ye=Z,we=K,be=Q,xe=J,Me=null,ke=O({},[].concat(r(z),r(R),r(F),r(j),r(B))),Ce=null,Se=O({},[].concat(r(U),r(W),r($),r(G))),Ee=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),De=null,Te=null,Ie=!0,Ae=!0,Pe=!1,Oe=!1,Ne=!1,Le=!1,ze=!1,Re=!1,Fe=!1,He=!1,je=!0,Ve=!0,Be=!1,Ue={},We=null,$e=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,Ye=O({},["audio","video","img","source","image","track"]),qe=null,Xe=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml",Qe=Ke,et=!1,tt=["application/xhtml+xml","text/html"],nt="text/html",it=null,rt=a.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},st=function(t){it&&it===t||(t&&"object"===e(t)||(t={}),t=N(t),Me="ALLOWED_TAGS"in t?O({},t.ALLOWED_TAGS):ke,Ce="ALLOWED_ATTR"in t?O({},t.ALLOWED_ATTR):Se,qe="ADD_URI_SAFE_ATTR"in t?O(N(Xe),t.ADD_URI_SAFE_ATTR):Xe,Ge="ADD_DATA_URI_TAGS"in t?O(N(Ye),t.ADD_DATA_URI_TAGS):Ye,We="FORBID_CONTENTS"in t?O({},t.FORBID_CONTENTS):$e,De="FORBID_TAGS"in t?O({},t.FORBID_TAGS):{},Te="FORBID_ATTR"in t?O({},t.FORBID_ATTR):{},Ue="USE_PROFILES"in t&&t.USE_PROFILES,Ie=!1!==t.ALLOW_ARIA_ATTR,Ae=!1!==t.ALLOW_DATA_ATTR,Pe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=t.SAFE_FOR_TEMPLATES||!1,Ne=t.WHOLE_DOCUMENT||!1,Re=t.RETURN_DOM||!1,Fe=t.RETURN_DOM_FRAGMENT||!1,He=t.RETURN_TRUSTED_TYPE||!1,ze=t.FORCE_BODY||!1,je=!1!==t.SANITIZE_DOM,Ve=!1!==t.KEEP_CONTENT,Be=t.IN_PLACE||!1,xe=t.ALLOWED_URI_REGEXP||xe,Qe=t.NAMESPACE||Ke,t.CUSTOM_ELEMENT_HANDLING&&at(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ee.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&at(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ee.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ee.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pe=pe=-1===tt.indexOf(t.PARSER_MEDIA_TYPE)?nt:t.PARSER_MEDIA_TYPE,me="application/xhtml+xml"===pe?function(e){return e}:k,Oe&&(Ae=!1),Fe&&(Re=!0),Ue&&(Me=O({},r(B)),Ce=[],!0===Ue.html&&(O(Me,z),O(Ce,U)),!0===Ue.svg&&(O(Me,R),O(Ce,W),O(Ce,G)),!0===Ue.svgFilters&&(O(Me,F),O(Ce,W),O(Ce,G)),!0===Ue.mathMl&&(O(Me,j),O(Ce,$),O(Ce,G))),t.ADD_TAGS&&(Me===ke&&(Me=N(Me)),O(Me,t.ADD_TAGS)),t.ADD_ATTR&&(Ce===Se&&(Ce=N(Ce)),O(Ce,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&O(qe,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(We===$e&&(We=N(We)),O(We,t.FORBID_CONTENTS)),Ve&&(Me["#text"]=!0),Ne&&O(Me,["html","head","body"]),Me.table&&(O(Me,["tbody"]),delete De.tbody),m&&m(t),it=t)},ot=O({},["mi","mo","mn","ms","mtext"]),lt=O({},["foreignobject","desc","title","annotation-xml"]),ut=O({},["title","style","font","a","script"]),ct=O({},R);O(ct,F),O(ct,H);var dt=O({},j);O(dt,V);var ht=function(e){var t=A(e);t&&t.tagName||(t={namespaceURI:Ke,tagName:"template"});var n=k(e.tagName),i=k(t.tagName);return e.namespaceURI===Je?t.namespaceURI===Ke?"svg"===n:t.namespaceURI===Ze?"svg"===n&&("annotation-xml"===i||ot[i]):Boolean(ct[n]):e.namespaceURI===Ze?t.namespaceURI===Ke?"math"===n:t.namespaceURI===Je?"math"===n&&lt[i]:Boolean(dt[n]):e.namespaceURI===Ke&&!(t.namespaceURI===Je&&!lt[i])&&!(t.namespaceURI===Ze&&!ot[i])&&!dt[n]&&(ut[n]||!ct[n])},ft=function(e){M(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(Ct){try{e.outerHTML=ae}catch(t){e.remove()}}},pt=function(e,t){try{M(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(Ct){M(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ce[e])if(Re||Fe)try{ft(t)}catch(Ct){}else try{t.setAttribute(e,"")}catch(Ct){}},mt=function(e){var t,n;if(ze)e="<remove></remove>"+e;else{var i=C(e,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===pe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var r=re?re.createHTML(e):e;if(Qe===Ke)try{t=(new p).parseFromString(r,pe)}catch(Ct){}if(!t||!t.documentElement){t=oe.createDocument(Qe,"template",null);try{t.documentElement.innerHTML=et?"":r}catch(Ct){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(a.createTextNode(n),s.childNodes[0]||null),Qe===Ke?ce.call(t,Ne?"html":"body")[0]:Ne?t.documentElement:s},gt=function(e){return le.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},vt=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},_t=function(t){return"object"===e(l)?t instanceof l:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},yt=function(e,t,i){fe[e]&&b(fe[e],(function(e){e.call(n,t,i,it)}))},wt=function(e){var t;if(yt("beforeSanitizeElements",e,null),vt(e))return ft(e),!0;if(T(/[\u0080-\uFFFF]/,e.nodeName))return ft(e),!0;var i=me(e.nodeName);if(yt("uponSanitizeElement",e,{tagName:i,allowedTags:Me}),e.hasChildNodes()&&!_t(e.firstElementChild)&&(!_t(e.content)||!_t(e.content.firstElementChild))&&T(/<[/\w]/g,e.innerHTML)&&T(/<[/\w]/g,e.textContent))return ft(e),!0;if("select"===i&&T(/<template/i,e.innerHTML))return ft(e),!0;if(!Me[i]||De[i]){if(!De[i]&&xt(i)){if(Ee.tagNameCheck instanceof RegExp&&T(Ee.tagNameCheck,i))return!1;if(Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(i))return!1}if(Ve&&!We[i]){var r=A(e)||e.parentNode,a=w(e)||e.childNodes;if(a&&r)for(var s=a.length-1;s>=0;--s)r.insertBefore(_(a[s],!0),y(e))}return ft(e),!0}return e instanceof u&&!ht(e)?(ft(e),!0):"noscript"!==i&&"noembed"!==i||!T(/<\/no(script|embed)/i,e.innerHTML)?(Oe&&3===e.nodeType&&(t=e.textContent,t=S(t,ge," "),t=S(t,ve," "),e.textContent!==t&&(M(n.removed,{element:e.cloneNode()}),e.textContent=t)),yt("afterSanitizeElements",e,null),!1):(ft(e),!0)},bt=function(e,t,n){if(je&&("id"===t||"name"===t)&&(n in a||n in rt))return!1;if(Ae&&!Te[t]&&T(_e,t));else if(Ie&&T(ye,t));else if(!Ce[t]||Te[t]){if(!(xt(e)&&(Ee.tagNameCheck instanceof RegExp&&T(Ee.tagNameCheck,e)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(e))&&(Ee.attributeNameCheck instanceof RegExp&&T(Ee.attributeNameCheck,t)||Ee.attributeNameCheck instanceof Function&&Ee.attributeNameCheck(t))||"is"===t&&Ee.allowCustomizedBuiltInElements&&(Ee.tagNameCheck instanceof RegExp&&T(Ee.tagNameCheck,n)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(n))))return!1}else if(qe[t]);else if(T(xe,S(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==E(n,"data:")||!Ge[e])if(Pe&&!T(we,S(n,be,"")));else if(n)return!1;return!0},xt=function(e){return e.indexOf("-")>0},Mt=function(e){var t,i,r,a;yt("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce};for(a=s.length;a--;){var l=t=s[a],u=l.name,c=l.namespaceURI;if(i="value"===u?t.value:D(t.value),r=me(u),o.attrName=r,o.attrValue=i,o.keepAttr=!0,o.forceKeepAttr=void 0,yt("uponSanitizeAttribute",e,o),i=o.attrValue,!o.forceKeepAttr&&(pt(u,e),o.keepAttr))if(T(/\/>/i,i))pt(u,e);else{Oe&&(i=S(i,ge," "),i=S(i,ve," "));var d=me(e.nodeName);if(bt(d,r,i))try{c?e.setAttributeNS(c,u,i):e.setAttribute(u,i),x(n.removed)}catch(Ct){}}}yt("afterSanitizeAttributes",e,null)}},kt=function e(t){var n,i=gt(t);for(yt("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)yt("uponSanitizeShadowNode",n,null),wt(n)||(n.content instanceof s&&e(n.content),Mt(n));yt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(r,a){var o,u,c,d,h;if((et=!r)&&(r="\x3c!--\x3e"),"string"!=typeof r&&!_t(r)){if("function"!=typeof r.toString)throw I("toString is not a function");if("string"!=typeof(r=r.toString()))throw I("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof r)return t.toStaticHTML(r);if(_t(r))return t.toStaticHTML(r.outerHTML)}return r}if(Le||st(a),n.removed=[],"string"==typeof r&&(Be=!1),Be){if(r.nodeName){var f=me(r.nodeName);if(!Me[f]||De[f])throw I("root node is forbidden and cannot be sanitized in-place")}}else if(r instanceof l)1===(u=(o=mt("\x3c!----\x3e")).ownerDocument.importNode(r,!0)).nodeType&&"BODY"===u.nodeName||"HTML"===u.nodeName?o=u:o.appendChild(u);else{if(!Re&&!Oe&&!Ne&&-1===r.indexOf("<"))return re&&He?re.createHTML(r):r;if(!(o=mt(r)))return Re?null:He?ae:""}o&&ze&&ft(o.firstChild);for(var p=gt(Be?r:o);c=p.nextNode();)3===c.nodeType&&c===d||wt(c)||(c.content instanceof s&&kt(c.content),Mt(c),d=c);if(d=null,Be)return r;if(Re){if(Fe)for(h=ue.call(o.ownerDocument);o.firstChild;)h.appendChild(o.firstChild);else h=o;return Ce.shadowroot&&(h=de.call(i,h,!0)),h}var m=Ne?o.outerHTML:o.innerHTML;return Ne&&Me["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&T(ee,o.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+m),Oe&&(m=S(m,ge," "),m=S(m,ve," ")),re&&He?re.createHTML(m):m},n.setConfig=function(e){st(e),Le=!0},n.clearConfig=function(){it=null,Le=!1},n.isValidAttribute=function(e,t,n){it||st({});var i=me(e),r=me(t);return bt(i,r,n)},n.addHook=function(e,t){"function"==typeof t&&(fe[e]=fe[e]||[],M(fe[e],t))},n.removeHook=function(e){if(fe[e])return x(fe[e])},n.removeHooks=function(e){fe[e]&&(fe[e]=[])},n.removeAllHooks=function(){fe={}},n}return ie()}();var Ef=window.DOMPurify||(window.DOMPurify=Sf.exports.default||Sf.exports);function Df({template:e,param:t,as:n="div"}){var i;const r=gf(xf)[e];if(hd(r))return null;const a=r(t);return dd(a)?hu(n,{className:md(`template-${e}`),dangerouslySetInnerHTML:{__html:(s=a,Ef.sanitize(s))}}):function(e,t,n){var i,r,a,s=cu({},e.props);for(a in t)"key"==a?i=t[a]:"ref"==a?r=t[a]:s[a]=t[a];return arguments.length>2&&(s.children=arguments.length>3?Wl.call(arguments,2):n),fu(e.type,s,i||e.key,r||e.ref,null)}(a,{className:`${null!=(i=a.props.className)?i:""} ${md(`template-${e}`)}`});var s}const Tf=Nu(null),If=Tf.Provider,Af=()=>{const e=tc(Tf);if(!e)throw new Error("useEventBus must be used within a EventBusProvider");return e},Pf=e=>{var t,n,i,r,a;return null!=(a=null==(r=null==(i=null==(n=null==(t=e.options)?void 0:t.timezone)?void 0:n.zones)?void 0:i[0])?void 0:r.timezoneName)?a:"Local"},Of=e=>{var t,n;return null==(n=null==(t=e.options)?void 0:t.timezone)?void 0:n.customOffsetCalculator},Nf=e=>{var t;return null!=(t=e.options.timezone.zones)?t:[]};function Lf(){const e=gf(Of),t=fd(e);return ec(((n,i=new Fd)=>i.tz(t?e(n,i.getTime()):n)),[e,t])}function zf(){const e=gf(Pf),t=Lf(),n=ec((()=>t(e)),[e,t]);return[e,n]}function Rf({dayName:e,style:t,type:n,theme:i}){const r=Af(),[,a]=zf(),s=a(),{day:o}=e,l="week"===n?function({dayName:e,theme:t,today:n}){var i,r;const{day:a,dateInstance:s}=e,o=lh(n,s),l=!o&&s<n;return ph(a)?t.common.holiday.color:l?null==(i=t.week)?void 0:i.pastDay.color:mh(a)?t.common.saturday.color:o?null==(r=t.week)?void 0:r.today.color:t.common.dayName.color}({dayName:e,theme:i,today:s}):function({dayName:e,theme:t}){const{day:n}=e;return ph(n)?t.common.holiday.color:mh(n)?t.common.saturday.color:t.common.dayName.color}({dayName:e,theme:i}),u=`${n}DayName`;return hu("div",{className:md("day-name-item",n),style:t},hu("span",{className:md({[`holiday-${Uh(o)}`]:fh(o)}),style:{color:l},onClick:()=>{(function(e,t){return"week"===e})(n)&&r.fire("clickDayName",{date:nh(e.dateInstance,"YYYY-MM-DD")})},"data-testid":`dayName-${n}-${Uh(o)}`},hu(Df,{template:u,param:e})))}const Ff=yf("common"),Hf=yf("month"),jf=e=>e.week.dayGridLeft,Vf=e=>e.week.timeGridLeft,Bf=e=>e.month.moreView,Uf=e=>e.month.gridCell,Wf={border:"1px solid #e5e5e5",backgroundColor:"white",holiday:{color:"#ff4040"},saturday:{color:"#333"},dayName:{color:"#333"},today:{color:"#fff"},gridSelection:{backgroundColor:"rgba(81, 92, 230, 0.05)",border:"1px solid #515ce6"}},$f={dayName:{borderLeft:"none",borderTop:"1px solid #e5e5e5",borderBottom:"1px solid #e5e5e5",backgroundColor:"inherit"},weekend:{backgroundColor:"inherit"},today:{color:"inherit",backgroundColor:"rgba(81, 92, 230, 0.05)"},pastDay:{color:"#bbb"},panelResizer:{border:"1px solid #e5e5e5"},dayGrid:{borderRight:"1px solid #e5e5e5",backgroundColor:"inherit"},dayGridLeft:{borderRight:"1px solid #e5e5e5",backgroundColor:"inherit",width:"72px"},timeGrid:{borderRight:"1px solid #e5e5e5"},timeGridLeft:{backgroundColor:"inherit",borderRight:"1px solid #e5e5e5",width:"72px"},timeGridLeftAdditionalTimezone:{backgroundColor:"white"},timeGridHalfHourLine:{borderBottom:"none"},timeGridHourLine:{borderBottom:"1px solid #e5e5e5"},nowIndicatorLabel:{color:"#515ce6"},nowIndicatorPast:{border:"1px dashed #515ce6"},nowIndicatorBullet:{backgroundColor:"#515ce6"},nowIndicatorToday:{border:"1px solid #515ce6"},nowIndicatorFuture:{border:"none"},pastTime:{color:"#bbb"},futureTime:{color:"#333"},gridSelection:{color:"#515ce6"}},Gf={dayName:{borderLeft:"none",backgroundColor:"inherit"},holidayExceptThisMonth:{color:"rgba(255, 64, 64, 0.4)"},dayExceptThisMonth:{color:"rgba(51, 51, 51, 0.4)"},weekend:{backgroundColor:"inherit"},moreView:{border:"1px solid #d5d5d5",boxShadow:"0 2px 6px 0 rgba(0, 0, 0, 0.1)",backgroundColor:"white",width:null,height:null},gridCell:{headerHeight:31,footerHeight:null},moreViewTitle:{backgroundColor:"inherit"}};function Yf(e){return{setTheme:t=>{e(id((e=>{e.common=Hd(e.common,t.common),e.week=Hd(e.week,t.week),e.month=Hd(e.month,t.month)})))},setCommonTheme:t=>{e(id((e=>{e.common=Hd(e.common,t)})))},setWeekTheme:t=>{e(id((e=>{e.week=Hd(e.week,t)})))},setMonthTheme:t=>{e(id((e=>{e.month=Hd(e.month,t)})))}}}const qf=(e={})=>t=>au(ru(ru(ru({},function(e={}){return{common:Hd(Wf,e)}}(null==e?void 0:e.common)),function(e={}){return{week:Hd($f,e)}}(null==e?void 0:e.week)),function(e={}){return{month:Hd(Gf,e)}}(null==e?void 0:e.month)),{dispatch:ru({},Yf(t))}),{StoreProvider:Xf,useInternalStore:Zf,useStore:Jf}=hf();function Kf(){return Jf(Hf)}function Qf(e){return{common:{saturday:e.common.saturday,holiday:e.common.holiday,today:e.common.today,dayName:e.common.dayName},week:{pastDay:e.week.pastDay,today:e.week.today,dayName:e.week.dayName}}}function ep(e){return{common:{saturday:e.common.saturday,holiday:e.common.holiday,today:e.common.today,dayName:e.common.dayName},month:{dayName:e.month.dayName}}}function tp({dayNames:e,marginLeft:t="0",rowStyleInfo:n,type:i="month"}){var r,a;const s=Jf("month"===i?ep:Qf),o=null!=(a=null==(r=s[i])?void 0:r.dayName)?a:{},{backgroundColor:l="white",borderLeft:u=null}=o,c=su(o,["backgroundColor","borderLeft"]),{borderTop:d=null,borderBottom:h=null}=c;return hu("div",{"data-testid":`grid-header-${i}`,className:md("day-names",i),style:{backgroundColor:l,borderTop:d,borderBottom:h}},hu("div",{className:md("day-name-container"),style:{marginLeft:t}},e.map(((e,t)=>hu(Rf,{type:i,key:`dayNames-${e.day}`,dayName:e,style:{width:gd(n[t].width),left:gd(n[t].left),borderLeft:u},theme:s})))))}var np=(e=>(e.header="header",e.footer="footer",e))(np||{});function ip(e,t=!0){const n=[];let i;return e.length?(n[0]=[e[0].cid()],e.slice(1).forEach(((r,a)=>{i=e.slice(0,a+1).reverse();const s=i.find((e=>r.collidesWith(e,t)));s?n.slice().reverse().some((e=>!!~e.indexOf(s.cid())&&(e.push(r.cid()),!0))):n.push([r.cid()])})),n):n}function rp(e,t){let{length:n}=e;for(;n>0;)if(n-=1,!rd(e[n][t]))return n;return-1}function ap(e,t,n=!0){const i=[];return t.forEach((t=>{const r=[[]];t.forEach((t=>{const i=e.get(t);let a,s,o=0,l=!1;for(;!l;)s=rp(r,o),-1===s?(r[0].push(i),l=!0):i.collidesWith(r[s][o],n)||(a=s+1,rd(r[a])&&(r[a]=[]),r[a][o]=i,l=!0),o+=1})),i.push(r)})),i}function sp(e,t){return n=>{const i=n.getStarts();return!(n.getEnds()<e||i>t)}}function op(e,t,n,i){const r=ah(e,t,864e5).map((e=>nh(e,"YYYYMMDD")));n.forEach((e=>{e.forEach((e=>{e.forEach(((e,t)=>{if(!e)return;const n=nh(e.getStarts(),"YYYYMMDD"),a=ah(rh(e.getStarts()),hh(e.getEnds()),864e5).length;e.top=t,e.left=r.indexOf(n),e.width=a,null==i||i(e)}))}))}))}function lp(e,t,n){return n.getStarts()<e&&(n.exceedLeft=!0,n.renderStarts=new Fd(e)),n.getEnds()>t&&(n.exceedRight=!0,n.renderEnds=new Fd(t)),n}function up(e,t,n){return n instanceof Dh?(n.each((n=>(lp(e,t,n),!0))),null):lp(e,t,n)}function cp(e){const t=new Dh((e=>e.cid()));return e.each((function(e){t.add(new Vd(e))})),t}function dp({model:e}){return e.isAllday||e.hasMultiDates}function hp(e){return!dp(e)}function fp(e){e.top=e.top||0,e.top+=1}function pp(e,t){const n=t.filter(dp),i=t.filter(hp).sort(Bd.event.asc),r={};i.forEach((t=>{const i=nh(t.getStarts(),"YYYYMMDD");let a=r[i];rd(a)&&(a=r[i]=function(e,t,n){const i=[];return e[t].forEach((e=>{n.doWhenHas(e,(e=>{i.push(e.top)}))})),i.length>0?Math.max(...i):0}(e,i,n)),r[i]=t.top=a+1}))}function mp(e,t){const{start:n,end:i,andFilters:r=[],alldayFirstMode:a=!1}=t,{events:s,idsOfDay:o}=e,l=Dh.and(...[sp(n,i)].concat(r)),u=cp(s.filter(l));!function(e){e.each((e=>{const{model:t}=e,n=t.getStarts(),i=t.getEnds();t.hasMultiDates=!lh(n,i),!t.isAllday&&t.hasMultiDates&&(e.renderStarts=rh(n),e.renderEnds=hh(i))}))}(u),function(e,t,n){n.each((n=>{(n.model.isAllday||n.model.hasMultiDates)&&up(rh(e),hh(t),n)}))}(n,i,u);const c=u.sort(Bd.event.asc),d=ap(u,ip(c,false),false);return op(n,i,d,fp),a?pp(o,u):function(e,t){const n=t.filter(dp),i=t.filter(hp).sort(Bd.event.asc),r={};i.forEach((t=>{const i=nh(t.getStarts(),"YYYYMMDD");let a=r[i];if(rd(a)&&(a=r[i]=[],e[i].forEach((e=>{n.doWhenHas(e,(e=>{a.push(e.top)}))}))),a.indexOf(t.top)>=0){const e=Math.max(...a)+1;for(let n=1;n<=e&&(t.top=n,!(a.indexOf(t.top)<0));n+=1);}a.push(t.top)}))}(o,u),d}function gp(e,t){return 0===e&&24===t?e=>e.sort(Bd.event.asc):n=>{return n.filter((i=e,r=t,e=>{const t=e.getStarts(),n=e.getEnds(),a=t.getTime(),s=n.getTime(),o=t.getFullYear(),l=t.getMonth(),u=t.getDate(),c=new Fd(o,l,u).setHours(i),d=new Fd(o,l,u).setHours(r);return a>=c&&a<d||s>c&&s<=d||a<c&&s>c||s>d&&a<d})).sort(Bd.event.asc);var i,r}}function vp(e,t){const{start:n,end:i,uiModelTimeColl:r,hourStart:a,hourEnd:s}=t,o=function(e,t,n,i){const r={};return Ih(t,n).forEach((t=>{const n=nh(t,"YYYYMMDD"),a=e[n],s=r[n]=new Dh((e=>e.cid()));a&&a.length&&a.forEach((e=>{i.doWhenHas(e,(e=>{s.add(e)}))}))}),{}),r}(e,n,i,r),l={},u=gp(a,s);return Object.entries(o).forEach((([e,t])=>{const n=ap(t,ip(u(t),true),true);l[e]=n})),l}function _p(e,t,n){if(!n||!n.size)return[];!function(e){e.each((e=>{const{model:t}=e;t.hasMultiDates=!0,e.renderStarts=rh(t.getStarts()),e.renderEnds=hh(t.getEnds())}))}(n),up(e,t,n);const i=n.sort(Bd.event.asc),r=ap(n,ip(i,true),true);return op(e,t,r),r}function yp(e,t,n){const i=Math.max(e,...t);return Math.min(i,...n)}function wp(e,t,n){return t*n/e}function bp(e,t,n){return t<=e&&e<=n}function xp(e,t){e.forEach((e=>{e.forEach((e=>{e.forEach(((e,n)=>{t(e,n)}))}))}))}function Mp(e,t){return({top:n})=>e>=n*t}function kp(e,t,n){return e.filter(function(e,t){return({top:n})=>e<n*t}(t,n)).length}function Cp(e,t,n){const i=(e=>e.filter((e=>fh(e.getDay()))).length)(e),r=e.length,a=i===r,s=n/(t&&!a?2*r-i:r),o=e.map((e=>{const n=e.getDay();return!t||a||fh(n)?s:2*s})),l=o.reduce(((e,t,n)=>n?[...e,e[n-1]+o[n-1]]:[0]),[]);return{widthList:o,leftList:l}}function Sp(e,t,n){return e.reduce(((e,i,r)=>t<=r&&r<=n?e+i:e),0)}function Ep(e,t){return t.findIndex((t=>e>=rh(t)&&e<=hh(t)))}const Dp=(e,t,n,i)=>{const{widthList:r}=Cp(n,i,100);let a=0,s=n.length-1;return n.forEach(((n,i)=>{n<=e&&(a=i),n<=t&&(s=i)})),{width:Sp(r,a,s),left:a?Sp(r,0,a-1):0}};function Tp(e,t,n){const{idsOfDay:i}=t,r=mp(t,{start:e[0],end:hh(e[e.length-1])}),a=[];xp(r,(t=>{const i=t.model.cid();a[i]=function(e,t,n=!1){const i=e.getStarts(),r=e.getEnds(),{width:a,left:s}=Dp(i,r,t,n);return e.width=a,e.left=s,e}(t,e,n)}));const s=Object.keys(i).reduce(((e,t)=>{const n=i[t];return e[t]=n.map((e=>a[e])).filter((e=>!!e)),e}),{});return{uiModels:Object.values(a),gridDateEventModelMap:s}}const Ip=(e,t,n=!1)=>(xp(e,(e=>{const i=e.getStarts(),r=e.getEnds(),{width:a,left:s}=Dp(i,r,t,n);e.width=a,e.left=s,e.top+=1})),Ap(e));function Ap(e){return e.flatMap((e=>e.flatMap((e=>(e=>e.filter((e=>!!e)))(e)))))}const Pp=(e,t,{narrowWeekend:n,hourStart:i,hourEnd:r,weekStartDate:a,weekEndDate:s})=>{const o=function(e,t){var n,i;const{start:r,end:a,panels:s,andFilters:o=[],options:l}=t,{events:u,idsOfDay:c}=e,d=null!=(n=null==l?void 0:l.hourStart)?n:0,h=null!=(i=null==l?void 0:l.hourEnd)?i:24,f=Dh.and(...[sp(r,a)].concat(o)),p=cp(u.filter(f)).groupBy(Ah);return s.reduce(((e,t)=>{const{name:n,type:i}=t;return hd(p[n])?e:au(ru({},e),{[n]:"daygrid"===i?_p(r,a,p[n]):vp(c,{start:r,end:a,uiModelTimeColl:p[n],hourStart:d,hourEnd:h})})}),{milestone:[],task:[],allday:[],time:{}})}(t,{start:a,end:s,panels:[{name:"milestone",type:"daygrid",show:!0},{name:"task",type:"daygrid",show:!0},{name:"allday",type:"daygrid",show:!0},{name:"time",type:"timegrid",show:!0}],andFilters:[],options:{hourStart:i,hourEnd:r}});return Object.keys(o).reduce(((t,i)=>{const r=o[i];return au(ru({},t),{[i]:Array.isArray(r)?Ip(r,e,n):(a=r,Array.from(new Set(Object.values(a).reduce(((e,t)=>e.concat(...Ap(t))),[]))))});var a}),{milestone:[],allday:[],task:[],time:[]})};function Op(e,{workweek:t=!1,visibleWeeksCount:n=0,startDayOfWeek:i=0,isAlways6Weeks:r=!0}){const a=new Fd(e),s=n>0,o=s?a:gh(a),l=function(e,t){const n=sh(e);return n.setDate(e.getDate()-t),n}(o,o.getDay()-i+(o.getDay()<i?7:0)),u=l.getDay(),c=function(e){const t=gh(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.setHours(23,59,59,999),t}(a).getDate(),d=xh(l,o),h=c+Math.abs(d);let f=6;return s?f=n:!1===r&&(f=Math.ceil(h/7)),sd(0,f).map((e=>sd(0,7).reduce(((n,i)=>{const r=7*e+i;if(!t||t&&!fh((r+u)%7)){const e=bh(l,r);n.push(e)}return n}),[])))}function Np(e,{startDayOfWeek:t=Yd.SUN,workweek:n}){const i=rh(e),r=i.getDay()-t;return(r>=0?sd(-r,7-r):sd(-7-r,-r)).reduce(((e,t)=>{const r=bh(i,t);return n&&fh(r.getDay())||e.push(r),e}),[])}function Lp(e,t){var n;const i=function(e,t=!1){const n=e.length,i=n>5&&t,r=i?100/(n-1):100/n;return e.map((e=>{const t=i&&fh(e.getDay())?r/2:r;return{date:e,width:t}})).reduce(((e,t,n)=>{const i=e[n-1];return e.push(au(ru({},t),{left:0===n?0:i.left+i.width})),e}),[])}(e,null!=(n=t.narrowWeekend)&&n),r=2*(t.hourEnd-t.hourStart),a=100/r;return{columns:i,rows:sd(r).map(((e,n)=>{const i=n%2==1,r=t.hourStart+Math.floor(e/2),s=`${r}:${i?"30":"00"}`.padStart(5,"0"),o=(i?`${r+1}:00`:`${r}:30`).padStart(5,"0");return{top:a*n,height:a,startTime:s,endTime:o}}))}}function zp({rowsCount:e,columnsCount:t,container:n,narrowWeekend:i=!1,startDayOfWeek:r=Yd.SUN}){if(hd(n))return()=>null;const a=sd(r,r+t).map((e=>e%7)),s=i?a.filter((e=>fh(e))).length:0;return function(r){const{left:o,top:l,width:u,height:c}=n.getBoundingClientRect(),[d,h]=function({clientX:e,clientY:t},{left:n,top:i,clientLeft:r,clientTop:a}){return[e-n-r,t-i-a]}(r,{left:o,top:l,clientLeft:n.clientLeft,clientTop:n.clientTop});if(d<0||h<0||d>u||h>c)return null;const f=i?u/(t-s+1):u/t,p=a.map((e=>i&&fh(e)?f/2:f)),m=[];p.forEach(((e,t)=>{0===t?m.push(0):m.push(m[t-1]+p[t-1])}));return{columnIndex:$d(m,(e=>d>=e)),rowIndex:(g=e,v=c,_=h,yp(Math.floor(wp(v,g,_)),[0],[g-1]))};var g,v,_}}function Rp(e){return e.common.gridSelection}function Fp({type:e,gridSelectionData:t,weekDates:n,narrowWeekend:i}){const{backgroundColor:r,border:a}=Jf(Rp),{startCellIndex:s,endCellIndex:o}=t,{left:l,width:u}=((e,t,n,i)=>{const{widthList:r}=Cp(n,i,100);return{left:e?Sp(r,0,e-1):0,width:Sp(r,null!=e?e:0,t<0?n.length-1:t)}})(Math.min(s,o),Math.max(s,o),n,i),c={left:gd(l),width:gd(u),height:gd(100),backgroundColor:r,border:a};return u>0?hu("div",{className:md(e,"grid-selection"),style:c}):null}function Hp(e,t,n){return{startColumnIndex:n?t.columnIndex:e.columnIndex,startRowIndex:n?t.rowIndex:e.rowIndex,endColumnIndex:n?e.columnIndex:t.columnIndex,endRowIndex:n?e.rowIndex:t.rowIndex}}const jp={sortSelection:(e,t)=>Hp(e,t,e.columnIndex>t.columnIndex||e.columnIndex===t.columnIndex&&e.rowIndex>t.rowIndex),getDateFromCollection:(e,t)=>{const n=e;return[wh(n.columns[t.startColumnIndex].date,n.rows[t.startRowIndex].startTime),wh(n.columns[t.endColumnIndex].date,n.rows[t.endRowIndex].endTime)]},calculateSelection:function(e,t,n){if(hd(e))return null;const{startColumnIndex:i,endColumnIndex:r,endRowIndex:a,startRowIndex:s}=e;if(!bp(t,i,r))return null;const o={startRowIndex:s,endRowIndex:a,isSelectingMultipleColumns:i!==r,isStartingColumn:t===i};return i<t&&t<r?(o.startRowIndex=0,o.endRowIndex=n):i!==r&&(i===t?o.endRowIndex=n:r===t&&(o.startRowIndex=0)),o}};const Vp={sortSelection:(e,t)=>Hp(e,t,e.rowIndex>t.rowIndex||e.rowIndex===t.rowIndex&&e.columnIndex>t.columnIndex),getDateFromCollection:(e,t)=>{const n=e;return[n[t.startRowIndex][t.startColumnIndex],n[t.endRowIndex][t.endColumnIndex]]},calculateSelection:function(e,t,n){if(!(fd(e)&&fd(t)&&fd(n)))return null;const{startRowIndex:i,startColumnIndex:r,endRowIndex:a,endColumnIndex:s}=e;if(!bp(t,Math.min(i,a),Math.max(i,a)))return null;let o=r,l=s;return i<t&&(o=0),a>t&&(l=n-1),{startCellIndex:o,endCellIndex:l}}};const Bp={sortSelection:(e,t)=>Hp(e,t,e.columnIndex>t.columnIndex),getDateFromCollection:(e,t)=>{const n=e;return[n[t.startColumnIndex],n[t.endColumnIndex]]},calculateSelection:function(e){return fd(e)?{startCellIndex:e.startColumnIndex,endCellIndex:e.endColumnIndex}:null}};function Up(e){return Bp.calculateSelection(e.gridSelection.dayGridWeek)}function Wp({weekDates:e,narrowWeekend:t}){const n=gf(Up);return hd(n)?null:hu(Fp,{type:"allday",gridSelectionData:n,weekDates:e,narrowWeekend:t})}function $p(e,t){for(var n in t)e[n]=t[n];return e}function Gp(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function Yp(e){this.props=e}function qp(e,t){function n(e){var n=this.props.ref,i=n==e.ref;return!i&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!i:Gp(this.props,e)}function i(t){return this.shouldComponentUpdate=n,hu(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(Yp.prototype=new mu).isPureReactComponent=!0,Yp.prototype.shouldComponentUpdate=function(e,t){return Gp(this.props,e)||Gp(this.state,t)};var Xp=$l.__b;$l.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Xp&&Xp(e)};var Zp="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Jp(e){function t(t){var n=$p({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Zp,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Kp=$l.__e;$l.__e=function(e,t,n,i){if(e.then)for(var r,a=t;a=a.__;)if((r=a.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);Kp(e,t,n,i)};var Qp=$l.unmount;function em(){this.__u=0,this.t=null,this.__b=null}function tm(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function nm(){this.u=null,this.o=null}$l.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Qp&&Qp(e)},(em.prototype=new mu).__c=function(e,t){var n=t.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var r=tm(i.__v),a=!1,s=function(){a||(a=!0,n.__R=null,r?r(o):o())};n.__R=s;var o=function(){if(!--i.__u){if(i.state.__a){var e=i.state.__a;i.__v.__k[0]=function e(t,n,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,i)})),t.__c&&t.__c.__P===n&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}(e,e.__c.__P,e.__c.__O)}var t;for(i.setState({__a:i.__b=null});t=i.t.pop();)t.forceUpdate()}},l=!0===t.__h;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(s,s)},em.prototype.componentWillUnmount=function(){this.t=[]},em.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=$p({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,i)}))),t}(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&hu(pu,null,e.fallback);return r&&(r.__h=null),[hu(pu,null,t.__a?null:e.children),r]};var im=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function rm(e){return this.getChildContext=function(){return e.context},e.children}function am(e){var t=this,n=e.i;t.componentWillUnmount=function(){Ou(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Ou(hu(rm,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function sm(e,t){var n=hu(am,{__v:e,i:t});return n.containerInfo=t,n}(nm.prototype=new mu).__a=function(e){var t=this,n=tm(t.__v),i=t.o.get(e);return i[0]++,function(r){var a=function(){t.props.revealOrder?(i.push(r),im(t,e,i)):r()};n?n(a):a()}},nm.prototype.render=function(e){this.u=null,this.o=new Map;var t=xu(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},nm.prototype.componentDidUpdate=nm.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){im(e,n,t)}))};var om="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,lm=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|shape|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,um="undefined"!=typeof document,cm=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};mu.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(mu.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var dm=$l.event;function hm(){}function fm(){return this.cancelBubble}function pm(){return this.defaultPrevented}$l.event=function(e){return dm&&(e=dm(e)),e.persist=hm,e.isPropagationStopped=fm,e.isDefaultPrevented=pm,e.nativeEvent=e};var mm={configurable:!0,get:function(){return this.class}},gm=$l.vnode;$l.vnode=function(e){var t=e.type,n=e.props,i=n;if("string"==typeof t){var r=-1===t.indexOf("-");for(var a in i={},n){var s=n[a];um&&"children"===a&&"noscript"===t||"value"===a&&"defaultValue"in n&&null==s||("defaultValue"===a&&"value"in n&&null==n.value?a="value":"download"===a&&!0===s?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!cm(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():r&&lm.test(a)?a=a.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),i[a]&&(a="oninputCapture")),i[a]=s)}"select"==t&&i.multiple&&Array.isArray(i.value)&&(i.value=xu(n.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==t&&null!=i.defaultValue&&(i.value=xu(n.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),e.props=i,n.class!=n.className&&(mm.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",mm))}e.$$typeof=om,gm&&gm(e)};var vm=$l.__r;function _m({index:e,exceedCount:t,isClicked:n,onClickExceedCount:i}){const r={display:n?"none":""};return t&&!n?hu("span",{className:md("weekday-exceed-in-week"),onClick:()=>i(e),style:r},hu(Df,{template:"weekGridFooterExceed",param:t})):null}function ym({isClicked:e,isClickedIndex:t,onClickCollapseButton:n}){return e&&t?hu("span",{className:md("weekday-exceed-in-week"),onClick:n},hu(Df,{template:"collapseBtnTitle"})):null}function wm({width:e,left:t,index:n,exceedCount:i,isClicked:r,onClickExceedCount:a,isClickedIndex:s,onClickCollapseButton:o,isLastCell:l}){const{borderRight:u,backgroundColor:c}=Jf(ec((e=>e.week.dayGrid),[])),d={width:e,left:t,borderRight:l?"none":u,backgroundColor:c};return hu("div",{className:md("panel-grid"),style:d},hu(_m,{index:n,exceedCount:i,isClicked:r,onClickExceedCount:a}),hu(ym,{isClickedIndex:s,isClicked:r,onClickCollapseButton:o}))}$l.__r=function(e){vm&&vm(e),e.__c};const bm=qp((function({uiModels:e,weekDates:t,narrowWeekend:n,height:i,clickedIndex:r,isClickedCount:a,onClickExceedCount:s,onClickCollapseButton:o}){const{widthList:l,leftList:u}=Cp(t,n,100),c=t.length-1;return hu(pu,null,t.map(((t,n)=>{const d=gd(l[n]),h=gd(u[n]);var f;const p=kp(e.filter((f=t,e=>{const t=rh(e.getStarts()),n=rh(e.getEnds());return t<=f&&f<=n})),i,24),m=n===r,g=n===c;return hu(wm,{key:`panel-grid-${t.getDate()}`,width:d,left:h,index:n,exceedCount:p,isClicked:a,onClickExceedCount:s,isClickedIndex:m,onClickCollapseButton:o,isLastCell:g})})))}));function xm({onMouseDown:e}){return hu("span",{className:`${md("weekday-resize-handle")} ${md("handle-y")}`,onMouseDown:e,"data-testid":"horizontal-event-resize-icon"},hu("i",{className:`${md("icon")} ${md("ic-handle-y")}`}))}const Mm=Nu(null),km=Mm.Provider,Cm=()=>{const e=tc(Mm);if(rd(e))throw new Error("LayoutContainerProvider is not found");return e},Sm="panelResizer",Em=(e,t)=>`event/${e}/resize/${t}`,Dm=(e,t)=>`event/${e}/move/${t}`,Tm=e=>`gridSelection/${e}`;function Im(e){return gf(ec((t=>t.calendar.calendars.find((t=>t.id===e))),[e]))}function Am(e){var t;const n=Im(null!=(t=null==e?void 0:e.calendarId)?t:null);return Qu((()=>({color:null==n?void 0:n.color,borderColor:null==n?void 0:n.borderColor,backgroundColor:null==n?void 0:n.backgroundColor,dragBackgroundColor:null==n?void 0:n.dragBackgroundColor})),[n])}var Pm=(e=>(e.ESCAPE="Escape",e))(Pm||{});const Om={Escape:27};function Nm(e,t){const n=vf(),i=Ku(e),r=Ku(t);Zu((()=>{i.current=e,r.current=t}),[e,t]),Zu((()=>n.subscribe((e=>r.current(e)),(e=>i.current(e)))),[e,n])}function Lm(e,{onInit:t,onDragStart:n,onDrag:i,onMouseUp:r,onPressESCKey:a}={}){const{initDrag:s,setDragging:o,cancelDrag:l,reset:u}=_f("dnd"),c=Ku(vf().getState().dnd);Nm(Cf,(e=>{c.current=e}));const[d,h]=qu(!1),f=Ku(null),p=Ku(null),m=Ku(null),g=ec((n=>{0===n.button&&(n.currentTarget&&(n.currentTarget.ondragstart=function(){return!1}),n.preventDefault(),h(!0),s({draggingItemType:e,initX:n.clientX,initY:n.clientY}),null==t||t(n,c.current))}),[t,e,s]),v=ec((t=>{const{initX:r,initY:a,draggingState:s,draggingItemType:l}=c.current;if(l!==e)return h(!1),void u();if(!fd(r)||!fd(a)||function(e,t,n,i){return Math.abs(e-n)>=3||Math.abs(t-i)>=3}(r,a,t.clientX,t.clientY)){if(s<=zh.INIT)return o({x:t.clientX,y:t.clientY}),void(null==n||n(t,c.current));o({x:t.clientX,y:t.clientY}),null==i||i(t,c.current)}}),[e,i,n,o,u]),_=ec((e=>{e.stopPropagation(),d&&(null==r||r(e,c.current),h(!1),u())}),[d,r,u]),y=ec((e=>{(function(e,t){return e.key?e.key===t:e.keyCode===Om[t]})(e,Pm.ESCAPE)&&(h(!1),l(),null==a||a(e,c.current))}),[a,l]);return Zu((()=>{f.current=v,p.current=_,m.current=y}),[y,v,_]),Zu((()=>{const e=e=>{var t;return null==(t=f.current)?void 0:t.call(f,e)},t=e=>{var t;return null==(t=p.current)?void 0:t.call(p,e)},n=e=>{var t;return null==(t=m.current)?void 0:t.call(m,e)};return d?(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),document.addEventListener("keydown",n),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),document.removeEventListener("keydown",n)}):ef}),[d,u]),g}function zm(e,t){return e?t:void 0}function Rm(e){return{vertical:e?5:2,horizontal:8}}function Fm(e,t){const n=e?0:"2px",i=t?0:"2px";return`${n} ${i} ${i} ${n}`}function Hm({model:e}){return`${e.calendarId?`${e.calendarId}-`:""}${e.id?`${e.id}-`:""}${e.title}`}const jm={eventBody:md("weekday-event"),eventTitle:md("weekday-event-title"),eventDot:md("weekday-event-dot"),moveEvent:md("dragging--move-event"),resizeEvent:md("dragging--resize-horizontal-event")};function Vm({flat:e=!1,uiModel:t,eventHeight:n,headerHeight:i,resizingWidth:r=null,movingLeft:a=null}){const{currentView:s}=gf(Mf),{useDetailPopup:o,isReadOnly:l}=gf(kf),{setDraggingEventUIModel:u}=_f("dnd"),{showDetailPopup:c}=_f("popup"),d=Cm(),h=Af(),f=Am(t.model),[p,m]=qu(!1),g=Ku(null),{isReadOnly:v,id:_,calendarId:y}=t.model,w=!l&&!v&&hd(r)&&hd(a),b=e=>{u(t),null==d||d.classList.add(e)},x=e=>{m(!1),null==d||d.classList.remove(e)};Nm(Cf,(({draggingEventUIModel:e,draggingState:n})=>{n===zh.DRAGGING&&(null==e?void 0:e.cid())===t.cid()&&hd(r)&&hd(a)?m(!0):m(!1)})),Zu((()=>{w&&h.fire("afterRenderEvent",t.model.toEventObject())}),[]);const M=Lm(Em("dayGrid",`${t.cid()}`),{onDragStart:()=>b(jm.resizeEvent),onMouseUp:()=>x(jm.resizeEvent),onPressESCKey:()=>x(jm.resizeEvent)}),k=Lm(Dm("dayGrid",`${t.cid()}`),{onDragStart:()=>{w&&b(jm.moveEvent)},onMouseUp:(n,{draggingState:i})=>{x(jm.moveEvent);const r=i<=zh.INIT;r&&o&&g.current&&c({event:t.model,eventRect:g.current.getBoundingClientRect()},e),r&&h.fire("clickEvent",{event:t.model.toEventObject(),nativeEvent:n})},onPressESCKey:()=>x(jm.moveEvent)}),C=!p&&"month"===s&&"time"===t.model.category&&lh(t.model.start,t.model.end),S=!w||e||p||t.exceedRight,E=function({flat:e,uiModel:t,resizingWidth:n,movingLeft:i,eventHeight:r,headerHeight:a}){const{top:s,left:o,width:l,model:u}=t,c=Rm(e),d=e?{}:{width:n||gd(l),left:gd(null!=i?i:o),top:(s-1)*(r+c.vertical)+a,position:"absolute"};return Object.assign(d,u.customStyle)}({uiModel:t,eventHeight:n,headerHeight:i,flat:e,movingLeft:a,resizingWidth:r}),D=function({uiModel:e,flat:t,eventHeight:n,isDraggingTarget:i,calendarColor:r}){const{exceedLeft:a,exceedRight:s}=e,{color:o,backgroundColor:l,dragBackgroundColor:u,borderColor:c}=yd(e,r),d={color:o,backgroundColor:i?u:l,borderLeft:a?"none":`3px solid ${c}`,borderRadius:Fm(a,s),overflow:"hidden",height:n,lineHeight:vd(n),opacity:i?.5:1},h=Rm(t);return ru(t?{marginTop:h.vertical}:{marginLeft:a?0:h.horizontal,marginRight:s?0:h.horizontal},d)}({uiModel:t,flat:e,eventHeight:n,isDraggingTarget:p,calendarColor:f});return hu("div",{className:md("weekday-event-block",{"weekday-exceed-left":t.exceedLeft,"weekday-exceed-right":t.exceedRight}),style:E,"data-testid":zm(w,Hm(t)),"data-calendar-id":y,"data-event-id":_,ref:g},hu("div",{className:jm.eventBody,style:au(ru({},D),{backgroundColor:C?null:D.backgroundColor,borderLeft:C?null:D.borderLeft}),onMouseDown:e=>{e.stopPropagation(),k(e)}},C?hu("span",{className:jm.eventDot,style:{backgroundColor:D.backgroundColor}}):null,hu("span",{className:jm.eventTitle},hu(Df,{template:t.model.category,param:t.model})),S?null:hu(xm,{onMouseDown:e=>{e.stopPropagation(),w&&M(e)}})))}function Bm(e,t){const n=Ku(e);Zu((()=>{n.current=e}),[e]),Zu((()=>{t&&n.current()}),[t])}function Um(e){const[t,n]=qu(null);Nm(Cf,(t=>{if(fd(t.x)&&fd(t.y)){const i=e({clientX:t.x,clientY:t.y});i&&n(i)}}));return[t,ec((()=>n(null)),[])]}function Wm(e,t){const[n,i]=qu(!1),[r,a]=qu(!1),[s,o]=qu(null);Nm(Cf,(({draggingItemType:n,draggingEventUIModel:r,draggingState:l})=>{const u=((e,t,n)=>{return hd(e)?null:(i=e,new RegExp(`^event/${t}/${n}/\\d+$`).test(i)?Wd(e.split("/")):null);var i})(n,e,t),c=Number(u)===(null==r?void 0:r.cid()),d=l===zh.IDLE,h=l===zh.CANCELED;hd(s)&&c&&o(r),fd(s)&&(d||h)&&(i(!0),a(h))}));return{isDraggingEnd:n,isDraggingCanceled:r,draggingEvent:s,clearDraggingEvent:()=>{o(null),i(!1),a(!1)}}}function $m({rowStyleInfo:e,gridPositionFinder:t}){const{movingEvent:n,movingLeft:i}=function({rowStyleInfo:e,gridPositionFinder:t}){const n=Af(),{isDraggingEnd:i,isDraggingCanceled:r,draggingEvent:a,clearDraggingEvent:s}=Wm("dayGrid","move"),o=Ku(null),[l,u]=Um(t),{columnIndex:c}=null!=l?l:{},d=Qu((()=>hd(a)?null:e.findIndex((({left:e})=>e===a.left))),[e,a]),h=Qu((()=>{if(hd(c)||hd(o.current)||hd(d))return null;const t=d+c-o.current;return t<0?-e[-t].left:e[t].left}),[c,e,d]);return Zu((()=>{hd(o.current)&&fd(c)&&(o.current=c)}),[c]),Bm((()=>{if(!r&&fd(a)&&fd(c)&&fd(h)&&c!==o.current&&fd(o.current)){const e=c-o.current,t=new Fd(a.model.getStarts()),i=new Fd(a.model.getEnds());t.addDate(e),i.addDate(e),n.fire("beforeUpdateEvent",{event:a.model.toEventObject(),changes:{start:t,end:i}})}s(),u(),o.current=null}),i),Qu((()=>({movingEvent:a,movingLeft:h})),[h,a])}({rowStyleInfo:e,gridPositionFinder:t});return hd(n)?null:hu(Vm,{uiModel:n,eventHeight:22,headerHeight:0,movingLeft:i})}function Gm({weekDates:e,gridColWidthMap:t,gridPositionFinder:n}){const i=Af(),{isDraggingEnd:r,isDraggingCanceled:a,draggingEvent:s,clearDraggingEvent:o}=Wm("dayGrid","resize"),[l,u]=Um(n),{columnIndex:c}=null!=l?l:{},d=Qu((()=>{return s?(n=e,{start:Ep((t=s).getStarts(),n),end:Ep(t.getEnds(),n)}):{start:-1,end:-1};var t,n}),[e,s]),h=Qu((()=>d.start>-1&&fd(c)?t[d.start][c]:null),[c,t,d.start]);return Bm((()=>{if(!a&&fd(s)&&fd(c)&&d.start<=c&&d.end!==c){const t=e[c];i.fire("beforeUpdateEvent",{event:s.model.toEventObject(),changes:{end:t}})}u(),o()}),r),Qu((()=>({resizingEvent:s,resizingWidth:h})),[h,s])}function Ym({weekDates:e,gridColWidthMap:t,gridPositionFinder:n}){const{resizingEvent:i,resizingWidth:r}=Gm({weekDates:e,gridColWidthMap:t,gridPositionFinder:n});return hd(i)?null:hu(Vm,{uiModel:i,eventHeight:22,headerHeight:0,resizingWidth:r})}function qm(){const[e,t]=qu(null);return[e,ec((e=>{e&&t(e)}),[])]}function Xm(e,t){const[n,i]=qu(0),[r,a]=qu(!1),{updateDayGridRowHeight:s}=_f("weekViewLayout");return{clickedIndex:n,isClickedCount:r,onClickExceedCount:ec((n=>{a(!0),i(n),s({rowName:t,height:22*(e+1)})}),[t,e,s]),onClickCollapseButton:ec((()=>{a(!1),s({rowName:t,height:72})}),[t,s])}}function Zm({onClick:e,onDblClick:t,delay:n=300}){const i=Ku(ef),r=e=>{i.current=e},a=()=>{i.current()};Zu((()=>a),[]);return[t=>{a(),function(e,t,n){let i;const r=a=>{if(i||(i=a),a-i>=t)return e(),void n(ef);const s=requestAnimationFrame(r);n((()=>cancelAnimationFrame(s)))},a=requestAnimationFrame(r);n((()=>cancelAnimationFrame(a)))}(e.bind(null,t),n,r)},e=>{a(),t(e)}]}const Jm={dayGridMonth:"month",dayGridWeek:"allday",timeGrid:"time"};function Km({type:e,selectionSorter:t,dateGetter:n,dateCollection:i,gridPositionFinder:r}){const{useFormPopup:a,gridSelection:s}=gf(kf),{enableDblClick:o,enableClick:l}=s,{setGridSelection:u,addGridSelection:c,clearAll:d}=_f("gridSelection"),{hideAllPopup:h,showFormPopup:f}=_f("popup"),p=Af(),m=Cm(),[g,v]=qu(null),[_,y]=qu(null),w=Ku(!1),b=Ku(null);Nm(ec((t=>t.gridSelection[e]),[e]),(e=>{b.current=e})),Nm(Cf,(({draggingState:e,draggingItemType:t})=>{w.current=t===x&&e>=zh.INIT}));const x=Tm(e),M=n=>{const i=r(n);fd(_)&&fd(i)&&u(e,t(_,i))},[k,C]=Zm({onClick:e=>{l&&S(e,!0)},onDblClick:e=>{o&&S(e,!0)},delay:250}),S=(t,r)=>{var s;if(r&&M(t),fd(b.current)){const[r,o]=function(e,t){return e<t?[e,t]:[t,e]}(...n(i,b.current));if(a&&fd(g)){const n={top:(t.clientY+g.y)/2,left:(t.clientX+g.x)/2};f({isCreationPopup:!0,title:"",location:"",start:r,end:o,isAllday:"timeGrid"!==e,isPrivate:!1,popupArrowPointPosition:n,close:d})}const l=`.${md(Jm[e])}.${md("grid-selection")}`,u=Array.from(null!=(s=null==m?void 0:m.querySelectorAll(l))?s:[]);p.fire("selectDateTime",{start:r.toDate(),end:o.toDate(),isAllday:"timeGrid"!==e,nativeEvent:t,gridSelectionElements:u})}},E=ec((()=>{v(null),y(null),u(e,null)}),[u,e]),D=Lm(x,{onInit:t=>{a&&(v({x:t.clientX,y:t.clientY}),h());const n=r(t);fd(n)&&y(n),a||c(e,b.current)},onDragStart:e=>{M(e)},onDrag:e=>{w.current&&M(e)},onMouseUp:(e,{draggingState:t})=>{e.stopPropagation();const n=t<=zh.INIT;n?(e=>{const t=e.detail<=1;(l||o&&!t)&&(l?t?k(e):C(e):S(e,!0))})(e):S(e,n)},onPressESCKey:E});return Zu((()=>E),[E]),D}function Qm({events:e,weekDates:t,height:n=72,options:i={},rowStyleInfo:r,gridColWidthMap:a}){const{isReadOnly:s}=gf(kf),o=Jf(jf),[l,u]=qm(),{narrowWeekend:c=!1,startDayOfWeek:d=Yd.SUN}=i,h=Qu((()=>Math.max(0,...e.map((({top:e})=>e)))),[e]),f=Qu((()=>zp({container:l,rowsCount:1,columnsCount:t.length,narrowWeekend:c,startDayOfWeek:d})),[l,t.length,c,d]),{clickedIndex:p,isClickedCount:m,onClickExceedCount:g,onClickCollapseButton:v}=Xm(h,"allday"),_=Qu((()=>e.filter(Mp(n,24)).map((e=>hu(Vm,{key:`allday-DayEvent-${e.cid()}`,uiModel:e,eventHeight:22,headerHeight:0})))),[e,n]),y=Km({type:"dayGridWeek",gridPositionFinder:f,dateCollection:t,selectionSorter:Bp.sortSelection,dateGetter:Bp.getDateFromCollection});return hu(pu,null,hu("div",{className:md("panel-title"),style:o},hu(Df,{template:"alldayTitle",param:"alldayTitle"})),hu("div",{className:md("allday-panel"),ref:u,onMouseDown:e=>{const t=e.target;!s&&t.classList.contains(md("panel-grid"))&&y(e)}},hu("div",{className:md("panel-grid-wrapper")},hu(bm,{uiModels:e,weekDates:t,narrowWeekend:c,height:n,clickedIndex:p,isClickedCount:m,onClickExceedCount:g,onClickCollapseButton:v})),hu("div",{className:md("panel-allday-events")},_),hu(Ym,{weekDates:t,gridPositionFinder:f,gridColWidthMap:a}),hu($m,{rowStyleInfo:r,gridPositionFinder:f}),hu(Wp,{weekDates:t,narrowWeekend:c})))}function eg({events:e,weekDates:t,category:n,height:i=72,options:r={}}){const a=Jf(jf),s=Qu((()=>Math.max(0,...e.map((({top:e})=>e)))),[e]),{narrowWeekend:o=!1}=r,l=`${n}Title`,{clickedIndex:u,isClickedCount:c,onClickExceedCount:d,onClickCollapseButton:h}=Xm(s,n),f=Qu((()=>e.filter(Mp(i,24)).map((e=>hu(Vm,{key:`${n}-DayEvent-${e.cid()}`,uiModel:e,eventHeight:22,headerHeight:0})))),[n,e,i]);return hu(pu,null,hu("div",{className:md("panel-title"),style:a},hu(Df,{template:l,param:n})),hu("div",{className:md("allday-panel")},hu("div",{className:md("panel-grid-wrapper")},hu(bm,{uiModels:e,weekDates:t,narrowWeekend:o,height:i,clickedIndex:u,isClickedCount:c,onClickExceedCount:d,onClickCollapseButton:h})),hu("div",{className:md(`panel-${n}-events`)},f)))}const tg={detailItem:md("detail-item"),detailItemIndent:md("detail-item","detail-item-indent"),detailItemSeparate:md("detail-item","detail-item-separate"),sectionDetail:md("popup-section","section-detail"),content:md("content"),locationIcon:md("icon","ic-location-b"),repeatIcon:md("icon","ic-repeat-b"),userIcon:md("icon","ic-user-b"),stateIcon:md("icon","ic-state-b"),calendarDotIcon:md("icon","calendar-dot")};function ng({event:e}){var t,n;const{location:i,recurrenceRule:r,attendees:a,state:s,calendarId:o,body:l}=e,u=Im(o);return hu("div",{className:tg.sectionDetail},i&&hu("div",{className:tg.detailItem},hu("span",{className:tg.locationIcon}),hu("span",{className:tg.content},hu(Df,{template:"popupDetailLocation",param:e,as:"span"}))),r&&hu("div",{className:tg.detailItem},hu("span",{className:tg.repeatIcon}),hu("span",{className:tg.content},hu(Df,{template:"popupDetailRecurrenceRule",param:e,as:"span"}))),a&&hu("div",{className:tg.detailItemIndent},hu("span",{className:tg.userIcon}),hu("span",{className:tg.content},hu(Df,{template:"popupDetailAttendees",param:e,as:"span"}))),s&&hu("div",{className:tg.detailItem},hu("span",{className:tg.stateIcon}),hu("span",{className:tg.content},hu(Df,{template:"popupDetailState",param:e,as:"span"}))),u&&hu("div",{className:tg.detailItem},hu("span",{className:tg.calendarDotIcon,style:{backgroundColor:null!=(t=null==u?void 0:u.backgroundColor)?t:""}}),hu("span",{className:tg.content},null!=(n=null==u?void 0:u.name)?n:"")),l&&hu("div",{className:tg.detailItemSeparate},hu("span",{className:tg.content},hu(Df,{template:"popupDetailBody",param:e,as:"span"}))))}const ig={sectionHeader:md("popup-section","section-header"),content:md("content"),eventTitle:md("event-title")};function rg({event:e}){return hu("div",{className:ig.sectionHeader},hu("div",{className:ig.eventTitle},hu(Df,{template:"popupDetailTitle",param:e,as:"span"})),hu("div",{className:ig.content},hu(Df,{template:"popupDetailDate",param:e,as:"span"})))}const ag=md("see-more-popup-slot"),sg=md("event-form-popup-slot"),og=md("event-detail-popup-slot"),lg=["isPrivate","isAllday","isPending","isFocused","isVisible","isReadOnly"];var ug=(e=>(e.right="right",e.left="left",e))(ug||{}),cg=(e=>(e.top="top",e.bottom="bottom",e))(cg||{});const dg=Nu(null);function hg({children:e}){const[t,n]=qm(),[i,r]=qm(),[a,s]=qm(),[o,l]=qm(),u={container:t,seeMorePopupSlot:i,formPopupSlot:a,detailPopupSlot:o};return hu(dg.Provider,{value:u},e,hu("div",{ref:n,className:md("floating-layer")},hu("div",{ref:r,className:ag}),hu("div",{ref:s,className:sg}),hu("div",{ref:l,className:og})))}const fg=e=>{var t;const n=tc(dg);if(rd(n))throw new Error("FloatingLayerProvider is not found");return null!=(t=null==n?void 0:n[e])?t:null};function pg(e,t,n){return e+n.height>t.top+t.height}function mg(e,t,n){return e+n.width>t.left+t.width}const gg=e=>e.popup[Kh.Form],vg=e=>e.popup[Kh.Detail],_g=e=>e.popup[Kh.SeeMore],yg={popupContainer:md("popup-container"),detailContainer:md("detail-container"),topLine:md("popup-top-line"),border:md("popup-arrow-border"),fill:md("popup-arrow-fill"),sectionButton:md("popup-section","section-button"),content:md("content"),editIcon:md("icon","ic-edit"),deleteIcon:md("icon","ic-delete"),editButton:md("edit-button"),deleteButton:md("delete-button"),verticalLine:md("vertical-line")};function wg(){const{useFormPopup:e}=gf(kf),t=gf(vg),{event:n,eventRect:i}=null!=t?t:{},{showFormPopup:r,hideDetailPopup:a}=_f("popup"),s=Am(n),o=Cm(),l=fg("detailPopupSlot"),u=Af(),c=Ku(null),[d,h]=qu({}),[f,p]=qu(0),[m,g]=qu(ug.left),v=Qu((()=>md("popup-arrow",{right:m===ug.right,left:m===ug.left})),[m]);if(Ju((()=>{if(c.current&&i&&o){const e=o.getBoundingClientRect(),t=c.current.getBoundingClientRect(),[n,r]=function(e,t,n){let i=e.top+e.height/2-n.height/2,r=e.left+e.width;return pg(i,t,n)&&(i=t.top+t.height-n.height),mg(r,t,n)&&(r=e.left-n.width),[Math.max(i,t.top)+window.scrollY,Math.max(r,t.left)+window.scrollX]}(i,e,t),{top:a,direction:s}=function(e,t,n){return{top:e.top+e.height/2+window.scrollY,direction:e.left+e.width+n.width>t.left+t.width?ug.right:ug.left}}(i,e,t);h({top:n,left:r}),p(a-n-8),g(s)}}),[i,o]),hd(n)||hd(i)||hd(l))return null;const{title:_="",isAllday:y=!1,start:w=new Fd,end:b=new Fd,location:x,state:M,isReadOnly:k,isPrivate:C}=n,S={top:i.top+i.height/2,left:i.left+i.width/2};return sm(hu("div",{role:"dialog",className:yg.popupContainer,ref:c,style:d},hu("div",{className:yg.detailContainer},hu(rg,{event:n}),hu(ng,{event:n}),!k&&hu("div",{className:yg.sectionButton},hu("button",{type:"button",className:yg.editButton,onClick:()=>{e?r({isCreationPopup:!1,event:n,title:_,location:x,start:w,end:b,isAllday:y,isPrivate:C,eventState:M,popupArrowPointPosition:S}):u.fire("beforeUpdateEvent",{event:n.toEventObject(),changes:{}})}},hu("span",{className:yg.editIcon}),hu("span",{className:yg.content},hu(Df,{template:"popupEdit",as:"span"}))),hu("div",{className:yg.verticalLine}),hu("button",{type:"button",className:yg.deleteButton,onClick:()=>{u.fire("beforeDeleteEvent",n.toEventObject()),a()}},hu("span",{className:yg.deleteIcon}),hu("span",{className:yg.content},hu(Df,{template:"popupDelete",as:"span"}))))),hu("div",{className:yg.topLine,style:{backgroundColor:s.backgroundColor}}),hu("div",{className:v},hu("div",{className:yg.border,style:{top:f}},hu("div",{className:yg.fill})))),l)}const bg={dropdownMenu:md("dropdown-menu"),dropdownMenuItem:md("dropdown-menu-item"),dotIcon:md("icon","dot"),content:md("content")};function xg({index:e,name:t,backgroundColor:n,onClick:i}){return hu("li",{className:bg.dropdownMenuItem,onClick:t=>i(t,e)},hu("span",{className:bg.dotIcon,style:{backgroundColor:n}}),hu("span",{className:bg.content},t))}function Mg({calendars:e,setOpened:t,onChangeIndex:n}){const i=(e,i)=>{e.stopPropagation(),t(!1),n(i)};return hu("ul",{className:bg.dropdownMenu},e.map((({name:e,backgroundColor:t="000"},n)=>hu(xg,{key:`dropdown-${e}-${n}`,index:n,name:e,backgroundColor:t,onClick:i}))))}function kg({children:e,classNames:t=[],onClick:n=ef}){return hu("div",{className:md("popup-section",...t),onClick:n},e)}function Cg(){const[e,t]=qu(!1);return{isOpened:e,setOpened:t,toggleDropdown:()=>t((e=>!e))}}var Sg=(e=>(e.init="init",e.setCalendarId="setCalendarId",e.setTitle="setTitle",e.setLocation="setLocation",e.setPrivate="setPrivate",e.setAllday="setAllday",e.setState="setState",e.reset="reset",e))(Sg||{});const Eg={title:"",location:"",isAllday:!1,isPrivate:!1,state:"Busy"};function Dg(e,t){switch(t.type){case"init":return ru(ru({},Eg),t.event);case"setCalendarId":return au(ru({},e),{calendarId:t.calendarId});case"setTitle":return au(ru({},e),{title:t.title});case"setLocation":return au(ru({},e),{location:t.location});case"setPrivate":return au(ru({},e),{isPrivate:t.isPrivate});case"setAllday":return au(ru({},e),{isAllday:t.isAllday});case"setState":return au(ru({},e),{state:t.state});case"reset":return ru(ru({},e),Eg);default:return e}}const Tg={popupSection:["dropdown-section","calendar-section"],popupSectionItem:md("popup-section-item","popup-button"),dotIcon:md("icon","dot"),content:md("content","event-calendar")};function Ig({calendars:e,selectedCalendarId:t,formStateDispatch:n}){const{isOpened:i,setOpened:r,toggleDropdown:a}=Cg(),s=e.find((e=>e.id===t)),{backgroundColor:o="",name:l=""}=null!=s?s:{};return hu(kg,{onClick:a,classNames:Tg.popupSection},hu("button",{type:"button",className:Tg.popupSectionItem},hu("span",{className:Tg.dotIcon,style:{backgroundColor:o}}),hu("span",{className:Tg.content},l),hu("span",{className:md("icon","ic-dropdown-arrow",{open:i})})),i&&hu(Mg,{calendars:e,setOpened:r,onChangeIndex:t=>n({type:Sg.setCalendarId,calendarId:e[t].id})}))}const Ag={closeButton:md("popup-button","popup-close"),closeIcon:md("icon","ic-close")};function Pg({type:e,close:t}){const{hideAllPopup:n}=_f("popup");return hu("button",{type:"button",className:Ag.closeButton,onClick:()=>{n(),pd(t)&&t()}},"moreEvents"===e?hu(Df,{template:"monthMoreClose"}):hu("i",{className:Ag.closeIcon}))}const Og={confirmButton:md("popup-button","popup-confirm")};function Ng({children:e}){return hu("button",{type:"submit",className:Og.confirmButton},hu("span",null,e))}function Lg({template:e,model:t,defaultValue:n=""}){const i=gf(xf)[e];if(hd(i))return n;let r=i(t);return dd(r)||(r=n),r}const zg={datePickerContainer:md("datepicker-container"),datePicker:md("popup-section-item","popup-date-picker"),allday:md("popup-section-item","popup-section-allday"),dateIcon:md("icon","ic-date"),dateDash:md("popup-date-dash"),content:md("content")},Rg=Jp((function({start:e,end:t,isAllday:n=!1,formStateDispatch:i},r){const{usageStatistics:a}=gf(kf),s=Ku(null),o=Ku(null),l=Ku(null),u=Ku(null),c=Lg({template:"startDatePlaceholder",defaultValue:"Start Date"}),d=Lg({template:"endDatePlaceholder",defaultValue:"End Date"});return Zu((()=>{if(s.current&&o.current&&l.current&&u.current){const i=new Fd(e),c=new Fd(t);n&&(i.setHours(12,0,0),c.setHours(13,0,0)),r.current=Zl.createRangePicker({startpicker:{date:i.toDate(),input:o.current,container:s.current},endpicker:{date:c.toDate(),input:u.current,container:l.current},format:n?"yyyy-MM-dd":"yyyy-MM-dd HH:mm",timePicker:!n&&{showMeridiem:!1,usageStatistics:a},usageStatistics:a})}}),[e,t,n,a,r]),hu(kg,null,hu("div",{className:zg.datePicker},hu("span",{className:zg.dateIcon}),hu("input",{name:"start",className:zg.content,placeholder:c,ref:o}),hu("div",{className:zg.datePickerContainer,ref:s})),hu("span",{className:zg.dateDash},"-"),hu("div",{className:zg.datePicker},hu("span",{className:zg.dateIcon}),hu("input",{name:"end",className:zg.content,placeholder:d,ref:u}),hu("div",{className:zg.datePickerContainer,ref:l})),hu("div",{className:zg.allday,onClick:()=>i({type:Sg.setAllday,isAllday:!n})},hu("span",{className:md("icon",{"ic-checkbox-normal":!n,"ic-checkbox-checked":n})}),hu("span",{className:zg.content},hu(Df,{template:"popupIsAllday"})),hu("input",{name:"isAllday",type:"checkbox",className:md("hidden-input"),value:n?"true":"false",checked:n})))})),Fg=["Busy","Free"],Hg={popupSectionItem:md("popup-section-item","dropdown-menu-item"),dropdownMenu:md("dropdown-menu"),icon:md("icon"),content:md("content")};function jg({setOpened:e,setEventState:t}){return hu("ul",{className:Hg.dropdownMenu},Fg.map((n=>hu("li",{key:n,className:Hg.popupSectionItem,onClick:i=>((n,i)=>{n.stopPropagation(),e(!1),t(i)})(i,n)},hu("span",{className:Hg.icon}),hu("span",{className:Hg.content},hu(Df,"Busy"===n?{template:"popupStateBusy"}:{template:"popupStateFree"}))))))}const Vg={popupSection:["dropdown-section","state-section"],popupSectionItem:md("popup-section-item","popup-button"),stateIcon:md("icon","ic-state"),arrowIcon:md("icon","ic-dropdown-arrow"),content:md("content","event-state")};function Bg({eventState:e="Busy",formStateDispatch:t}){const{isOpened:n,setOpened:i,toggleDropdown:r}=Cg();return hu(kg,{onClick:r,classNames:Vg.popupSection},hu("button",{type:"button",className:Vg.popupSectionItem},hu("span",{className:Vg.stateIcon}),hu("span",{className:Vg.content},hu(Df,"Busy"===e?{template:"popupStateBusy"}:{template:"popupStateFree"})),hu("span",{className:Vg.arrowIcon})),n&&hu(jg,{setOpened:i,setEventState:e=>t({type:Sg.setState,state:e})}))}const Ug={popupSectionItem:md("popup-section-item","popup-section-location"),locationIcon:md("icon","ic-location"),content:md("content")};function Wg({location:e,formStateDispatch:t}){const n=Lg({template:"locationPlaceholder",defaultValue:"Location"});return hu(kg,null,hu("div",{className:Ug.popupSectionItem},hu("span",{className:Ug.locationIcon}),hu("input",{name:"location",className:Ug.content,placeholder:n,value:e,onChange:e=>{t({type:Sg.setLocation,location:e.currentTarget.value})}})))}const $g={popupSectionItem:md("popup-section-item","popup-section-title"),privateButton:md("popup-section-item","popup-section-private","popup-button"),titleIcon:md("icon","ic-title"),content:md("content")};function Gg({title:e,isPrivate:t=!1,formStateDispatch:n}){const i=Lg({template:"titlePlaceholder",defaultValue:"Subject"});return hu(kg,null,hu("div",{className:$g.popupSectionItem},hu("span",{className:$g.titleIcon}),hu("input",{name:"title",className:$g.content,placeholder:i,value:e,onChange:e=>{n({type:Sg.setTitle,title:e.currentTarget.value})},required:!0})),hu("button",{type:"button",className:$g.privateButton,onClick:()=>n({type:Sg.setPrivate,isPrivate:!t})},hu("span",{className:md("icon",{"ic-private":t,"ic-public":!t})}),hu("input",{name:"isPrivate",type:"checkbox",className:md("hidden-input"),value:t?"true":"false",checked:t})))}const Yg={popupContainer:md("popup-container"),formContainer:md("form-container"),popupArrowBorder:md("popup-arrow-border"),popupArrowFill:md("popup-arrow-fill")};function qg(){var e;const{calendars:t}=gf(wf),{hideAllPopup:n}=_f("popup"),i=gf(gg),{start:r,end:a,popupArrowPointPosition:s,close:o,isCreationPopup:l,event:u}=null!=i?i:{},c=Af(),d=fg("formPopupSlot"),[h,f]=(p=null==(e=t[0])?void 0:e.id,Xu(Dg,ru({calendarId:p},Eg)));var p;const m=Ku(null),g=Ku(null),[v,_]=qu({}),[y,w]=qu(0),[b,x]=qu(cg.bottom),M=Cm(),k=Qu((()=>md("popup-arrow",{top:b===cg.top,bottom:b===cg.bottom})),[b]);if(Ju((()=>{if(g.current&&s&&M){const e=M.getBoundingClientRect(),t=g.current.getBoundingClientRect(),{top:n,left:i,direction:r}=function(e,t,n){let i=e.top-n.height-8,r=e.left-n.width/2,a=cg.bottom;return i<t.top&&(a=cg.top,i=e.top+8),pg(i,t,n)&&(i=t.top+t.height-n.height),mg(r,t,n)&&(r=t.left+t.width-n.width),{top:i+window.scrollY,left:Math.max(r,t.left)+window.scrollX,direction:a}}(s,e,t),a=s.left-i;_({left:i,top:n}),w(a),x(r)}}),[M,s]),Zu((()=>{fd(i)&&fd(u)&&f({type:Sg.init,event:{title:i.title,location:i.location,isAllday:i.isAllday,isPrivate:i.isPrivate,calendarId:u.calendarId,state:i.eventState}})}),[t,u,f,i]),Zu((()=>{hd(i)&&f({type:Sg.reset})}),[f,i]),hd(r)||hd(a)||hd(d))return null;return sm(hu("div",{role:"dialog",className:Yg.popupContainer,ref:g,style:v},hu("form",{onSubmit:e=>{var t,i;e.preventDefault();const r=new FormData(e.target),a=ru({},h);if(r.forEach(((e,t)=>{a[t]=function(e){return-1!==lg.indexOf(e)}(t)?"true"===e:e})),a.start=new Fd(null==(t=m.current)?void 0:t.getStartDate()),a.end=new Fd(null==(i=m.current)?void 0:i.getEndDate()),l)c.fire("beforeCreateEvent",a);else if(u){const e=function(e,t){return Object.entries(t).reduce(((t,[n,i])=>{const r=n;return e[r]instanceof Fd?0!==oh(e[r],i)&&(t[r]=i):e[r]!==i&&(t[r]=i),t}),{})}(u,a);c.fire("beforeUpdateEvent",{event:u.toEventObject(),changes:e})}n()}},hu("div",{className:Yg.formContainer},(null==t?void 0:t.length)?hu(Ig,{selectedCalendarId:h.calendarId,calendars:t,formStateDispatch:f}):hu(kg,null),hu(Gg,{title:h.title,isPrivate:h.isPrivate,formStateDispatch:f}),hu(Wg,{location:h.location,formStateDispatch:f}),hu(Rg,{start:r,end:a,isAllday:h.isAllday,formStateDispatch:f,ref:m}),hu(Bg,{eventState:h.state,formStateDispatch:f}),hu(Pg,{type:"form",close:o}),hu(kg,null,hu(Ng,null,hu(Df,l?{template:"popupSave"}:{template:"popupUpdate"})))),hu("div",{className:k},hu("div",{className:Yg.popupArrowBorder,style:{left:y}},hu("div",{className:Yg.popupArrowFill}))))),d)}function Xg(e){return Object.values(e.popup).find((e=>fd(e)))}function Zg(){const e=gf(Xg),{hideAllPopup:t}=_f("popup"),n=fd(e);return hu("div",{className:md("popup-overlay"),style:{display:n?"block":"none"},onClick:n=>{var i;n.stopPropagation(),null==(i=null==e?void 0:e.close)||i.call(e),t()}})}const Jg={container:md("see-more-container"),seeMore:md("see-more"),header:md("see-more-header"),list:md("month-more-list")};function Kg(){const e=gf(_g),{date:t,events:n=[],popupPosition:i}=null!=e?e:{},{moreView:r,moreViewTitle:a}=Kf(),s=fg("seeMorePopupSlot"),o=Af(),l=Ku(null),u=hd(t)||hd(i)||hd(s);if(Zu((()=>{!u&&l.current&&o.fire("clickMoreEventsBtn",{date:t.toDate(),target:l.current})}),[t,o,u]),u)return null;const c={height:44,marginBottom:12,padding:"12px 17px 0",backgroundColor:a.backgroundColor},d={ymd:nh(t,"YYYY-MM-DD"),day:t.getDay(),date:t.getDate().toString().padStart(2,"0")},h={height:"calc(100% - 68px)"};return sm(hu("div",{role:"dialog",className:Jg.container,style:i,ref:l},hu("div",{className:Jg.seeMore,style:r},hu("div",{className:Jg.header,style:c},hu(Df,{template:"monthMoreTitleDate",param:d}),hu(Pg,{type:"moreEvents"})),hu("div",{className:Jg.list,style:h},n.map((e=>hu(Vm,{key:`see-more-event-item-${e.cid()}`,uiModel:e,eventHeight:24,headerHeight:44,flat:!0})))))),s)}function Qg(e,t){const n={height:gd(100)};return e&&(n.width=e),t&&(n.height=t),n}function ev({children:e,width:t,height:n,className:i="",autoAdjustPanels:r=!1}){const{backgroundColor:a}=Jf(Ff),[s,o]=qm(),{setLastPanelType:l,updateLayoutHeight:u}=_f("weekViewLayout"),c=Qu((()=>`${md("layout")} ${i}`),[i]);return Ju((()=>{if(s){const e=()=>u(s.offsetHeight);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}return ef}),[s,u]),Ju((()=>{if(s&&r){const t=xu(e),n=t[t.length-1];dd(n)||ud(n)||hd(n)||l(n.props.name)}}),[e,l,r,s]),hu(km,{value:s},hu("div",{ref:o,className:c,style:au(ru({},Qg(t,n)),{backgroundColor:a})},s?e:null),hu(qg,null),hu(wg,null),hu(Kg,null),hu(Zg,null))}function tv({name:e,height:t}){const n=function(e,t){return{height:e,width:"100%",cursor:"row-resize",borderTop:t,borderBottom:t}}(t,Jf(ec((e=>e.week.panelResizer.border),[]))),i=au(ru({},n),{display:"none",border:"none",backgroundColor:"#999"}),[r,a]=qu(i),s=Ku(null),{updateDayGridRowHeightByDiff:o}=_f("weekViewLayout"),l=Lm(Sm,{onDragStart:e=>{s.current={left:e.pageX,top:e.pageY}},onDrag:e=>{if(s.current){const t=e.pageY-s.current.top;a((e=>au(ru({},e),{top:t,display:null})))}},onMouseUp:t=>{if(s.current){const n=t.pageY-s.current.top;s.current=null,a(i),o({rowName:e,diff:n})}}});return hu("div",{style:{position:"relative"}},hu("div",{className:md("panel-resizer"),style:n,onMouseDown:l}),hu("div",{className:md("panel-resizer-guide"),style:r}))}function nv(e,t){return t?Math.min(t,e):e}const iv=Jp((function({name:e,initialWidth:t=72,initialHeight:n=72,overflowX:i,overflowY:r,maxExpandableWidth:a,maxExpandableHeight:s,minHeight:o,maxHeight:l,minWidth:u,maxWidth:c,resizerWidth:d=3,resizerHeight:h=3,resizable:f,children:p},m){const{updateDayGridRowHeight:g}=_f("weekViewLayout"),{height:v}=gf(ec((t=>{var n;return null!=(n=t.weekViewLayout.dayGridRows[e])?n:{}}),[e])),_=null!=v?v:n;Ju((()=>{g({rowName:e,height:n})}),[n,e,g]);const y=function({initialHeight:e,initialWidth:t,overflowX:n,overflowY:i,maxExpandableWidth:r,maxExpandableHeight:a,minHeight:s,maxHeight:o,minWidth:l,maxWidth:u}){const c={};return t&&(c.width=nv(t,r),c.height="100%"),e&&(c.width="100%",c.height=nv(e,a)),n&&(c.overflowX="auto"),i&&(c.overflowY="auto"),au(ru({},c),{minHeight:s,maxHeight:o,minWidth:l,maxWidth:u})}({initialWidth:t,initialHeight:_,overflowX:i,overflowY:r,maxExpandableWidth:a,maxExpandableHeight:s,minHeight:o,maxHeight:l,minWidth:u,maxWidth:c}),w=Qu((()=>hd(f)||ld(f)?!!f:f.includes(e)),[f,e]);return hu(pu,null,hu("div",{className:md("panel",e),style:y,ref:m},p),w?hu(tv,{name:e,width:d,height:h}):null)})),rv=e=>`timegrid-${e}`,av={second:"HH:mm:ss",minute:"HH:mm",hour:"HH:mm",date:"HH:mm",month:"MM.DD",year:"YYYY.MM.DD"},sv={time:md("event-time"),content:md("event-time-content"),travelTime:md("travel-time"),resizeHandleX:md("resize-handler-x"),moveEvent:md("dragging--move-event"),resizeEvent:md("dragging--resize-vertical-event")};function ov(e,t){return dd(e)?e:e>=0?`calc(${gd(e)} - ${t}px)`:""}function lv({uiModel:e,isDraggingTarget:t,hasNextStartTime:n,calendarColor:i,minHeight:r}){const{top:a,left:s,height:o,width:l,duplicateLeft:u,duplicateWidth:c,goingDurationHeight:d,modelDurationHeight:h,comingDurationHeight:f,croppedStart:p,croppedEnd:m}=e,g=function(e){const{percent:t,px:n}=_d(`${e}`);return e>0||t>0||n>0?2:0}(s),{color:v,backgroundColor:_,borderColor:y,dragBackgroundColor:w}=yd(e,i),b={width:ov(c||l,g),height:`calc(${gd(Math.max(o,r))} - 2px)`,top:gd(a),left:u||gd(s),borderRadius:2,borderLeft:`3px solid ${y}`,marginLeft:g,color:v,backgroundColor:t?w:_,opacity:t?.5:1,zIndex:n?1:0},x={height:gd(d),borderBottom:"1px dashed white"},M={height:gd(h)},k={height:gd(f),borderTop:"1px dashed white"};return p&&(b.borderTopLeftRadius=0,b.borderTopRightRadius=0),m&&(b.borderBottomLeftRadius=0,b.borderBottomRightRadius=0),{containerStyle:b,goingDurationStyle:x,modelDurationStyle:M,comingDurationStyle:k}}function uv({uiModel:e,nextStartTime:t,isResizingGuide:n=!1,minHeight:i=0}){const{useDetailPopup:r,isReadOnly:a,week:s}=gf(kf),o=Am(e.model),{collapseDuplicateEvents:l}=s,u=Cm(),{showDetailPopup:c}=_f("popup"),{setDraggingEventUIModel:d}=_f("dnd"),{setSelectedDuplicateEventCid:h}=_f("weekViewLayout"),f=Af(),p=Ku(null),[m,g]=qu(!1),{model:v,goingDurationHeight:_,modelDurationHeight:y,comingDurationHeight:w,croppedEnd:b}=e,{id:x,calendarId:M,customStyle:k}=v,C=fd(t),{containerStyle:S,goingDurationStyle:E,modelDurationStyle:D,comingDurationStyle:T}=lv({uiModel:e,isDraggingTarget:m,hasNextStartTime:C,calendarColor:o,minHeight:i}),I=C||n;Nm(Cf,(({draggingEventUIModel:t,draggingState:i})=>{i!==zh.DRAGGING||(null==t?void 0:t.cid())!==e.cid()||C||n?g(!1):g(!0)})),Zu((()=>{n||f.fire("afterRenderEvent",e.model.toEventObject())}),[]);const A=t=>{d(e),null==u||u.classList.add(t)},P=e=>{g(!1),null==u||u.classList.remove(e)},O=Lm(Dm("timeGrid",`${e.cid()}`),{onDragStart:()=>{L&&A(sv.moveEvent)},onMouseUp:(t,{draggingState:n})=>{P(sv.moveEvent);const i=n<=zh.INIT;if(i&&l){const t=e.duplicateEvents.length>0?e.cid():-1;h(t)}i&&r&&p.current&&c({event:e.model,eventRect:p.current.getBoundingClientRect()},!1),i&&f.fire("clickEvent",{event:e.model.toEventObject(),nativeEvent:t})},onPressESCKey:()=>P(sv.moveEvent)}),N=Lm(Em("timeGrid",`${e.cid()}`),{onDragStart:()=>A(sv.resizeEvent),onMouseUp:()=>P(sv.resizeEvent),onPressESCKey:()=>P(sv.resizeEvent)}),L=function({uiModel:e,isReadOnlyCalendar:t,isDraggingTarget:n,hasNextStartTime:i}){const{model:r}=e;return!(t||r.isReadOnly||n||i)}({uiModel:e,isReadOnlyCalendar:a,isDraggingTarget:m,hasNextStartTime:C}),z=L&&!b;return hu("div",{"data-testid":`${I?"guide-":""}time-event-${v.title}-${e.cid()}`,"data-calendar-id":M,"data-event-id":x,className:sv.time,style:ru(ru({},S),k),onMouseDown:e=>{e.stopPropagation(),O(e)},ref:p},_?hu("div",{className:sv.travelTime,style:E},hu(Df,{template:"goingDuration",param:v})):null,y?hu("div",{className:sv.content,style:D},hu(Df,{template:"time",param:au(ru({},v.toEventObject()),{start:C?t:v.start})})):null,w?hu("div",{className:sv.travelTime,style:T},hu(Df,{template:"comingDuration",param:v})):null,z?hu("div",{className:sv.resizeHandleX,onMouseDown:e=>{e.stopPropagation(),N(e)}}):null)}function cv({top:e,height:t,text:n}){const{backgroundColor:i,border:r}=Jf(ec((e=>e.common.gridSelection),[])),a=Jf(ec((e=>e.week.gridSelection.color),[])),s={top:gd(e),height:gd(t),backgroundColor:i,border:r};return hu("div",{className:md("time","grid-selection"),style:s,"data-testid":`time-grid-selection-${e}-${t}`},n.length>0?hu("span",{className:md("grid-selection-label"),style:{color:a}},n):null)}function dv({columnIndex:e,timeGridRows:t}){const n=gf(ec((n=>jp.calculateSelection(n.gridSelection.timeGrid,e,t.length-1)),[e,t])),i=Qu((()=>{if(!n)return null;const{startRowIndex:e,endRowIndex:i,isStartingColumn:r,isSelectingMultipleColumns:a}=n,{top:s,startTime:o}=t[e],{top:l,height:u,endTime:c}=t[i];let d=`${o} - ${c}`;return a&&(d=r?o:""),{top:s,height:l+u-s,text:d}}),[n,t]);return hd(i)?null:hu(cv,ru({},i))}function hv({gridPositionFinder:e,totalUIModels:t,columnIndex:n,timeGridData:i}){const r=function({gridPositionFinder:e,totalUIModels:t,columnIndex:n,timeGridData:i}){const r=Af(),{isDraggingEnd:a,isDraggingCanceled:s,draggingEvent:o,clearDraggingEvent:l}=Wm("timeGrid","resize"),[u,c]=Um(e),[d,h]=qu(null),f=ec((()=>{h(null),l(),c()}),[c,l]),p=Qu((()=>{if(hd(o))return null;const{columns:e,rows:n}=i,r=t.map((e=>e.filter((e=>e.cid()===o.cid())))),a=(t,n)=>r=>{const a=wh(e[n].date,r.startTime),s=wh(i.columns[n].date,r.endTime);return a<=t&&t<s},s=r.findIndex((e=>e.length>0)),l=r[s][0],{goingDuration:u=0}=l.model,c=yh(l.getStarts(),-u),d=Math.max(n.findIndex(a(c,s)),0),h=$d(r,(e=>e.length>0)),f=r[h][0],{comingDuration:p=0}=f.model,m=yh(f.getStarts(),p);let g=n.findIndex(a(m,h));return g=g>=0?g:n.length-1,{eventStartDateColumnIndex:s,eventStartDateRowIndex:d,eventEndDateColumnIndex:h,eventEndDateRowIndex:g,resizeTargetUIModelColumns:r}}),[o,i,t]),m=fd(p)&&fd(o)&&fd(u),g=Qu((()=>p?i.rows[0].height:0),[p,i.rows]);return Zu((()=>{if(m){const{eventStartDateRowIndex:e,eventStartDateColumnIndex:t,eventEndDateColumnIndex:r}=p;if(n===r&&t===r){const t=o.clone(),{height:n,goingDurationHeight:r,comingDurationHeight:a}=t,s=Math.max(g+r*n/100+a*n/100,i.rows[u.rowIndex].top-i.rows[e].top+g),l=r*n/s,c=a*n/s;t.setUIProps({height:s,goingDurationHeight:l,comingDurationHeight:c,modelDurationHeight:100-(l+c)}),h(t)}}}),[p,m,n,u,o,i.rows,g]),Zu((()=>{if(m){const{resizeTargetUIModelColumns:e,eventStartDateColumnIndex:t,eventEndDateColumnIndex:r}=p;if((n===t||n===r)&&t!==r){let r;n===t?r=e[n][0].clone():(r=o.clone(),r.setUIProps({height:i.rows[u.rowIndex].top+g})),h(r)}}}),[p,m,n,u,o,i.rows,g]),Bm((()=>{if(!s&&fd(p)&&fd(u)&&fd(o)&&p.eventEndDateColumnIndex===n){const{comingDuration:e=0}=o.model,t=yh(wh(i.columns[n].date,i.rows[u.rowIndex].endTime),-e),a=yh(o.getStarts(),30);r.fire("beforeUpdateEvent",{event:o.model.toEventObject(),changes:{end:uh(a,t)}})}f()}),a),d}({gridPositionFinder:e,totalUIModels:t,columnIndex:n,timeGridData:i});return hd(r)?null:hu(uv,{uiModel:r,isResizingGuide:!0})}const fv={column:md("column"),backgrounds:md("background-events"),events:md("events")};function pv({eventUIModels:e,minEventHeight:t}){return hu("div",{className:fv.events,style:{marginRight:8}},e.map((e=>hu(uv,{key:`${e.valueOf()}-${e.cid()}`,uiModel:e,minHeight:t}))))}function mv(e){return{defaultBackgroundColor:e.week.dayGrid.backgroundColor,todayBackgroundColor:e.week.today.backgroundColor,weekendBackgroundColor:e.week.weekend.backgroundColor}}const gv=qp((function({columnDate:e,columnWidth:t,columnIndex:n,totalUIModels:i,gridPositionFinder:r,timeGridData:a,isLastColumn:s}){const{rows:o}=a,l=Jf(ec((e=>e.week.timeGrid.borderRight),[])),u=Jf(mv),[,c]=zf(),d=c(),h=function({today:e,columnDate:t,defaultBackgroundColor:n,todayBackgroundColor:i,weekendBackgroundColor:r}){const a=lh(e,t),s=fh(t.getDay());return a?i:s?r:n}(ru({today:d,columnDate:e},u)),f={width:t,backgroundColor:h,borderRight:s?"none":l},p=i[n],m=o[0].height;return hu("div",{className:fv.column,style:f,"data-testid":`timegrid-column-${e.getDay()}`},hu(pv,{eventUIModels:p,minEventHeight:m}),hu(hv,{gridPositionFinder:r,totalUIModels:i,columnIndex:n,timeGridData:a}),hu(dv,{columnIndex:n,timeGridRows:o}))}));function vv(e){return{halfHourLineBorder:e.week.timeGridHalfHourLine.borderBottom,hourLineBorder:e.week.timeGridHourLine.borderBottom}}const _v=qp((function({timeGridRows:e}){const{halfHourLineBorder:t,hourLineBorder:n}=Jf(vv);return hu("div",{className:md("gridlines")},e.map(((e,i)=>{const r=i%2==0;return hu("div",{key:`gridline-${e.startTime}-${e.endTime}`,className:md("gridline-half"),style:{top:gd(e.top),height:gd(e.height),borderBottom:r?t:n},"data-testid":`gridline-${e.startTime}-${e.endTime}`})})))}));function yv(e,t){const n=e.getHours()-t,i=e.getMinutes();return 2*n+Math.floor(i/30)}const wv=e=>e.dnd.initX,bv=e=>e.dnd.initY;function xv({gridPositionFinder:e,timeGridData:t}){const n=gf(wv),i=gf(bv),r=Af(),{isDraggingEnd:a,isDraggingCanceled:s,draggingEvent:o,clearDraggingEvent:l}=Wm("timeGrid","move"),[u,c]=Um(e),d=Ku(null);Zu((()=>{fd(n)&&fd(i)&&(d.current=e({clientX:n,clientY:i}))}),[e,n,i]);const h=Qu((()=>hd(d.current)||hd(u)?null:{columnDiff:u.columnIndex-d.current.columnIndex,rowDiff:u.rowIndex-d.current.rowIndex}),[u]),f=Qu((()=>hd(o)?null:o.getStarts()),[o]),p=ec((()=>{c(),l(),d.current=null}),[c,l]),m=Qu((()=>hd(h)||hd(f)?null:_h(f,18e5*h.rowDiff+864e5*h.columnDiff)),[h,f]),g=Qu((()=>{if(hd(o)||hd(u)||hd(h))return null;const e=o.clone(),{top:n,height:i}=function({draggingEvent:e,columnDiff:t,rowDiff:n,timeGridDataRows:i,currentDate:r}){const a=i[0].height,s=a*i.length,o=18e5*n+864e5*t,l=Number(i[0].startTime.split(":")[0]),{goingDuration:u=0,comingDuration:c=0}=e.model,d=yh(e.getStarts(),-u),h=yh(e.getEnds(),c),f=_h(d,o),p=_h(h,o),m=Math.max(yv(f,l),0),g=Math.min(yv(p,l),i.length-1),v=f.getFullYear()<r.getFullYear()||f.getMonth()<r.getMonth()||f.getDate()<r.getDate(),_=p.getFullYear()>r.getFullYear()||p.getMonth()>r.getMonth()||p.getDate()>r.getDate(),y=g-(v?0:m);return{top:v?0:i[m].top,height:_?s:Math.max(y,1)*a}}({draggingEvent:e,columnDiff:h.columnDiff,rowDiff:h.rowDiff,timeGridDataRows:t.rows,currentDate:t.columns[u.columnIndex].date});return e.setUIProps({left:t.columns[u.columnIndex].left,width:t.columns[u.columnIndex].width,top:n,height:i}),e}),[u,o,h,t.columns,t.rows]);return Bm((()=>{if(!s&&fd(o)&&fd(u)&&fd(h)&&fd(m)&&(0!==h.rowDiff||0!==h.columnDiff)){const e=o.duration(),t=_h(m,e);r.fire("beforeUpdateEvent",{event:o.model.toEventObject(),changes:{start:m,end:t}})}p()}),a),{movingEvent:g,nextStartTime:m}}function Mv({gridPositionFinder:e,timeGridData:t}){const{movingEvent:n,nextStartTime:i}=xv({gridPositionFinder:e,timeGridData:t});return hd(n)?null:hu(uv,{uiModel:n,nextStartTime:i})}const kv="timegrid-now-indicator",Cv="timegrid-now-indicator-label",Sv={line:md(rv("now-indicator")),left:md(rv("now-indicator-left")),marker:md(rv("now-indicator-marker")),today:md(rv("now-indicator-today")),right:md(rv("now-indicator-right"))};function Ev(e){return{pastBorder:e.week.nowIndicatorPast.border,todayBorder:e.week.nowIndicatorToday.border,futureBorder:e.week.nowIndicatorFuture.border,bulletBackgroundColor:e.week.nowIndicatorBullet.backgroundColor}}function Dv({top:e,columnWidth:t,columnCount:n,columnIndex:i}){const{pastBorder:r,todayBorder:a,futureBorder:s,bulletBackgroundColor:o}=Jf(Ev),l=Cm(),u=Af(),c=Ku(null),d={left:gd(t*i),width:gd(t*i)},h={left:gd(t*(i+1)),width:gd(t*(n-i+1))};return Zu((()=>{const e=e=>{var t;const n=null!=(t=null==l?void 0:l.querySelector(`.${md("panel")}.${md("time")}`))?t:null;if(n&&c.current){const{offsetHeight:t}=n,{offsetTop:i}=c.current,r=i-t/2;n.scrollTo?n.scrollTo({top:r,behavior:e}):n.scrollTop=r}};return u.on("scrollToNow",e),()=>u.off("scrollToNow",e)}),[u,l]),Zu((()=>{u.fire("scrollToNow","smooth")}),[u]),hu("div",{ref:c,className:Sv.line,style:{top:gd(e)},"data-testid":kv},hu("div",{className:Sv.left,style:{width:d.width,borderTop:r}}),hu("div",{className:Sv.marker,style:{left:d.left,backgroundColor:o}}),hu("div",{className:Sv.today,style:{left:d.left,width:gd(t),borderTop:a}}),hu("div",{className:Sv.right,style:{left:h.left,borderTop:s}}))}const Tv={now:rv("current-time"),dayDifference:rv("day-difference")};function Iv({unit:e,top:t,now:n,zonedNow:i}){const r=Jf(ec((e=>e.week.nowIndicatorLabel.color),[])),a=Qu((()=>xh(i,n)),[i,n]),s={unit:e,time:i,format:av[e]};return hu("div",{className:md(Tv.now),style:{top:gd(t),color:r},"data-testid":Cv},0!==a&&hu("span",{className:md(Tv.dayDifference)},`[${a>0?"+":"-"}${Math.abs(a)}]`),hu(Df,{template:"timegridNowIndicatorLabel",param:s,as:"span"}))}const Av=e=>{var t;return null!=(t=e.options.month.visibleEventCount)?t:6},Pv=e=>e.options.week.showNowIndicator,Ov=e=>{var t;return null!=(t=e.options.week.showTimezoneCollapseButton)&&t},Nv=e=>{var t;return null!=(t=e.options.week.timezonesCollapsed)&&t},Lv={timeColumn:rv("time-column"),hourRows:rv("hour-rows"),time:rv("time"),timeLabel:rv("time-label"),first:rv("time-first"),last:rv("time-last"),hidden:rv("time-hidden")};function zv(e){return{primaryTimezoneBackgroundColor:e.week.timeGridLeft.backgroundColor,subTimezoneBackgroundColor:e.week.timeGridLeftAdditionalTimezone.backgroundColor}}function Rv(e){return{pastTimeColor:e.week.pastTime.color,futureTimeColor:e.week.futureTime.color}}function Fv({rowsInfo:e,isPrimary:t,borderRight:n,width:i,nowIndicatorState:r}){var a;const s=gf(Pv),{primaryTimezoneBackgroundColor:o,subTimezoneBackgroundColor:l}=Jf(zv),{pastTimeColor:u,futureTimeColor:c}=Jf(Rv),d=fd(r)?yh(r.now,null!=(a=e[0].diffFromPrimaryTimezone)?a:0):null,h=t?o:l;return hu("div",{role:"rowgroup",className:md(Lv.hourRows),style:{width:gd(i),borderRight:n,backgroundColor:h}},e.map((({date:e,top:n,className:i})=>{const r=fd(d)&&e<d?u:c;return hu("div",{key:e.getTime(),className:i,style:{top:gd(n),color:r},role:"row"},hu(Df,{template:`timegridDisplay${t?"Primary":""}Time`,param:{time:e},as:"span"}))})),s&&fd(r)&&fd(d)&&hu(Iv,{unit:"hour",top:r.top,now:r.now,zonedNow:d}))}const Hv=qp((function({timeGridRows:e,nowIndicatorState:t}){const n=gf(Pv),i=gf(Nf),r=gf(Nv),a=Lf(),{width:s,borderRight:o}=Jf(Vf),l=Qu((()=>e.filter(((t,n)=>n%2==0||n===e.length-1))),[e]),u=ec(((e,i,r)=>{const a=0===i,s=i===l.length-1,o=md(Lv.time,{[Lv.first]:a,[Lv.last]:s,[Lv.hidden]:(({top:e,height:i})=>{if(!n||hd(t))return!1;const r=t.top;return e-i<=r&&r<=e+i})(e)});let u=wh(new Fd,s?e.endTime:e.startTime);return fd(r)&&(u=yh(u,r)),{date:u,top:e.top,className:o,diffFromPrimaryTimezone:r}}),[l,t,n]),[c,...d]=i,h=d.length>0?100/(d.length+1):100,f=l.map(((e,t)=>u(e,t))),p=Qu((()=>0===d.length?[]:d.reverse().map((e=>{const{timezoneName:t}=e,n=a(c.timezoneName).getTimezoneOffset(),i=a(t).getTimezoneOffset()-n;return l.map(((e,t)=>u(e,t,i)))}))),[u,d,c,l,a]);return hu("div",{className:md(Lv.timeColumn),style:{width:s},"data-testid":"timegrid-time-column"},!r&&p.map((e=>hu(Fv,{key:e[0].diffFromPrimaryTimezone,rowsInfo:e,isPrimary:!1,borderRight:o,width:h,nowIndicatorState:t}))),hu(Fv,{rowsInfo:f,isPrimary:!0,borderRight:o,width:r?100:h,nowIndicatorState:t}))}));function jv(e,t,n){const i=t.getTime(),r=n.getTime(),a=yp(e.getTime(),[i],[r])-i;return yp(wp(r-i,100,a),[0],[100])}function Vv(e,t,n,i){const r=jv(e,n,i);return{top:r,height:jv(t,n,i)-r}}function Bv(e,t){return n=>{const{goingDuration:i=0,comingDuration:r=0}=n.model,a=yh(n.getStarts(),-i);return!(yh(n.getEnds(),r)<=e||a>=t)}}function Uv(e,t){const{startColumnTime:n,endColumnTime:i,baseWidth:r,columnIndex:a,renderStart:s,renderEnd:o}=t,{duplicateEvents:l}=e,{top:u,height:c}=Vv(s,o,n,i),d={top:u,left:r*a,width:r,height:Math.max(1,c),duplicateLeft:"",duplicateWidth:""};l.length>0&&(d.duplicateLeft=function(e,t){const{duplicateEvents:n,duplicateEventIndex:i}=e,r=n[i-1];let a=t;if(r){const{percent:e,px:t}=_d(`${r.duplicateLeft}`),{percent:n,px:i}=_d(`${r.duplicateWidth}`),s=e+n,o=t+i+2;a=0!==s?`calc(${gd(s)} ${o>0?"+":"-"} ${vd(Math.abs(o))})`:vd(o)}else a=gd(a);return a}(e,d.left),d.duplicateWidth=function(e,t){const{collapse:n}=e;return n?"9px":`calc(${gd(t)} - ${vd(11*(e.duplicateEvents.length-1)+2)})`}(e,d.width)),e.setUIProps(d)}function Wv({uiModel:e,columnIndex:t,baseWidth:n,startColumnTime:i,endColumnTime:r,isDuplicateEvent:a=!1}){if(!a&&e.duplicateEvents.length>0)return void e.duplicateEvents.forEach((e=>{Wv({uiModel:e,columnIndex:t,baseWidth:n,startColumnTime:i,endColumnTime:r,isDuplicateEvent:!0})}));const s=function(e,t,n,i,r){const{goingDuration:a=0,comingDuration:s=0}=e.model,o=e.getStarts(),l=e.getEnds(),u=yh(o,-a),c=yh(l,s);return{baseWidth:n,columnIndex:t,modelStart:o,modelEnd:l,renderStart:uh(u,i),renderEnd:ch(c,r),goingStart:u,comingEnd:c,startColumnTime:i,endColumnTime:r,duplicateEvents:e.duplicateEvents}}(e,t,n,i,r);Uv(e,s),function(e,t){const{renderStart:n,renderEnd:i,modelStart:r,modelEnd:a}=t,{goingDuration:s=0,comingDuration:o=0}=e.model;let l=100;if(s>0){const{height:t}=Vv(n,r,n,i);e.goingDurationHeight=t,l-=t}if(o>0){const{height:t}=Vv(a,i,n,i);e.comingDurationHeight=t,l-=t}e.modelDurationHeight=l}(e,s),function(e,t){const{goingStart:n,comingEnd:i,startColumnTime:r,endColumnTime:a}=t;n<r&&(e.croppedStart=!0),i>a&&(e.croppedEnd=!0)}(e,s)}function $v(e,t,n,i,r){const a=e.filter(Eh).filter(Bv(t,n)).sort(Bd.event.asc);r&&function(e,t,n){const{getDuplicateEvents:i,getMainEvent:r}=t,a=e.map((e=>e.model.toEventObject()));e.forEach((t=>{if(t.collapse||t.duplicateEvents.length>0)return;const s=i(t.model.toEventObject(),a);if(s.length<=1)return;const o=r(s),l=s.map((t=>e.find((e=>e.cid()===t.__cid)))),u=!!(n>-1&&s.find((e=>e.__cid===n))),c=s.reduce(((e,{start:t,goingDuration:n})=>ch(e,yh(t,-n))),s[0].start),d=s.reduce(((e,{end:t,comingDuration:n})=>uh(e,yh(t,n))),s[0].end);l.forEach(((e,t)=>{const i=e.cid()===o.__cid,r=!(u&&e.cid()===n||!u&&i);e.setUIProps({duplicateEvents:l,duplicateEventIndex:t,collapse:r,isMain:i,duplicateStarts:c,duplicateEnds:d})}))}))}(a,r,i);const s=a.filter((e=>!e.collapse));return ap(Th(...s),ip(s,true),true).forEach((e=>{const i=Math.max(...e.map((e=>e.length))),r=Math.round(100/i);e.forEach((e=>{e.forEach(((e,i)=>{Wv({uiModel:e,columnIndex:i,baseWidth:r,startColumnTime:t,endColumnTime:n})}))}))})),a}const Gv={timegrid:md("timegrid"),scrollArea:md(rv("scroll-area"))};function Yv({timeGridData:e,events:t}){const{isReadOnly:n,week:{narrowWeekend:i,startDayOfWeek:r,collapseDuplicateEvents:a}}=gf(kf),s=gf(Pv),o=gf((e=>e.weekViewLayout.selectedDuplicateEventCid)),[,l]=zf(),u=function(){const e=Ku(!0);return Zu((()=>()=>{e.current=!1}),[]),ec((()=>e.current),[])}(),{width:c}=Jf(Vf),[d,h]=qu(null),{columns:f,rows:p}=e,m=f.length-1,g=Qu((()=>f.map((({date:e})=>t.filter(Bv(rh(e),hh(e))).map((e=>e.clone())))).map(((e,t)=>$v(e,wh(f[t].date,Ud(p).startTime),wh(f[t].date,Wd(p).endTime),o,a)))),[f,p,t,o,a]),v=Qu((()=>{const t=l(),n=f.findIndex((e=>lh(e.date,t)));if(n<0)return null;return{startTime:wh(f[n].date,e.rows[0].startTime),endTime:wh(f[n].date,Wd(e.rows).endTime),currentDateIndex:n}}),[f,l,e.rows]),[_,y]=qm(),w=Qu((()=>zp({rowsCount:p.length,columnsCount:f.length,container:_,narrowWeekend:i,startDayOfWeek:r})),[f.length,_,i,p.length,r]),b=Km({type:"timeGrid",gridPositionFinder:w,selectionSorter:jp.sortSelection,dateGetter:jp.getDateFromCollection,dateCollection:e}),x=ec((()=>{if(fd(v)){const{startTime:e,endTime:t}=v,n=l();e<=n&&n<=t&&h({top:jv(n,e,t),now:n})}}),[v,l]);return Ju((()=>{var e;u()&&((null!=(e=null==v?void 0:v.currentDateIndex)?e:-1)>=0?x():h(null))}),[v,u,x]),function(e,t){const n=Ku(e);Zu((()=>{n.current=e}),[e]),Zu((()=>{const e=null!=t?t:-1;if(e>0){const t=setInterval((()=>n.current()),e);return()=>clearInterval(t)}}),[t])}(x,fd(v)?eh:null),hu("div",{className:Gv.timegrid},hu("div",{className:Gv.scrollArea},hu(Hv,{timeGridRows:p,nowIndicatorState:d}),hu("div",{className:md("columns"),style:{left:c},ref:y,onMouseDown:zm(!n,b)},hu(_v,{timeGridRows:p}),hu(Mv,{gridPositionFinder:w,timeGridData:e}),f.map(((t,n)=>hu(gv,{key:t.date.toString(),timeGridData:e,columnDate:t.date,columnWidth:gd(t.width),columnIndex:n,totalUIModels:g,gridPositionFinder:w,isLastColumn:n===m}))),s&&fd(v)&&fd(d)?hu(Dv,{top:d.top,columnWidth:f[0].width,columnCount:f.length,columnIndex:v.currentDateIndex}):null)))}function qv({isCollapsed:e}){const t=Af(),n=md("icon",{"ic-arrow-right":e,"ic-arrow-left":!e});return hu("button",{className:md(rv("timezone-collapse-button")),"aria-expanded":!e,onClick:()=>t.fire("clickTimezonesCollapseBtn",e)},hu("span",{className:n,role:"img"}))}function Xv({label:e,offset:t,tooltip:n,width:i=100,left:r}){return hu("div",{title:n,className:md(rv("timezone-label")),style:{width:gd(i),height:gd(100),left:gd(r)},role:"gridcell"},hu(Df,{template:"timezoneDisplayLabel",param:{displayLabel:e,timezoneOffset:t},as:"span"}))}function Zv({top:e}){const t=gf(Nf),{width:n}=Jf(Vf),i=Lf(),{showTimezoneCollapseButton:r,timezonesCollapsed:a}=function(){const e=gf(Ov),t=gf(Nv);return Qu((()=>({showTimezoneCollapseButton:e,timezonesCollapsed:t})),[e,t])}();if(t.length<=1)return null;const s=t.map((({displayLabel:e,timezoneName:t,tooltip:n})=>rd(e)?{label:null,offset:i(t).getTimezoneOffset(),tooltip:null!=n?n:t}:{label:e,offset:null,tooltip:null!=n?n:t})),[o,...l]=s,u=l.reverse(),c=100/(a?1:t.length);return hu("div",{style:{top:e,width:n},role:"columnheader",className:md("timezone-labels-slot")},!a&&u.map(((e,t)=>{var n;return hu(Xv,ru({key:`subTimezone-${null!=(n=e.label)?n:e.offset}`,width:c,left:c*t},e))})),r&&hu(qv,{isCollapsed:a}),hu(Xv,ru({width:c,left:c*u.length},o)))}const Jv={MONTH:"month",WEEK:"week",DAY:"day"},Kv=["milestone","task"],Qv=["allday","time"];function e_(e,t){const n=[];return!0===e?n.push(...Kv):Array.isArray(e)&&n.push(...e),!0===t?n.push(...Qv):Array.isArray(t)&&n.push(...t),n}function t_(e){const t=gf(Pf),n=Lf();return Qu((()=>{if("Local"===t)return e;const i=Pd(new Fd),{timedEvents:r=Th(),totalEvents:a=Th()}=e.groupBy((e=>"time"===e.category?"timedEvents":"totalEvents"));return r.each((e=>{const r=(s=e,Object.assign(Object.create(Object.getPrototypeOf(s)),s));var s;let o=n(t,r.start),l=n(t,r.end);i?(Pd(o)||(o=o.addHours(1)),Pd(l)||(l=l.addHours(1))):(Pd(o)&&(o=o.addHours(-1)),Pd(l)&&(l=l.addHours(-1))),r.start=o,r.end=l,a.add(r)})),a}),[e,t,n])}function n_(e,...t){const n=t_(Qu((()=>e.events.filter(Dh.and(...t))),[e.events,t]));return Qu((()=>au(ru({},e),{events:n})),[e,n])}function i_(e,t){Nm(Cf,(({y:n,draggingItemType:i,draggingState:r})=>{if(fd(e)&&function(e){return/^(event|gridSelection)\/timeGrid/.test(null!=e?e:"")}(i)&&r===zh.DRAGGING&&fd(n)){const{offsetTop:i,offsetHeight:r,scrollHeight:a}=e,s=Math.floor(a/t),o=i+r;if(n<i+s){const t=n-(i+s);e.scrollTop=Math.max(0,e.scrollTop+t)}else if(n>o-s){const t=n-(o-s);e.scrollTop=Math.min(r,e.scrollTop+t)}}}))}function r_(e){var t,n,i;return null==(i=null==(n=null==(t=e.weekViewLayout)?void 0:t.dayGridRows)?void 0:n.time)?void 0:i.height}function a_(e){const t=gf(r_),[n,i]=qu(null);return Ju((()=>{fd(t)&&e&&i(e.offsetTop)}),[t,e]),n}function s_({rowIndex:e,weekDates:t,narrowWeekend:n}){const i=gf(ec((n=>n.gridSelection.accumulated.dayGridMonth.map((n=>Vp.calculateSelection(n,e,t.length)))),[e,t]));return hu("div",{className:md("accumulated-grid-selection")},i.map((e=>e?hu(Fp,{type:"accumulated",gridSelectionData:e,weekDates:t,narrowWeekend:n}):null)))}function o_({type:e,number:t,onClickButton:n,className:i}){const{reset:r}=_f("dnd");return hu("button",{type:"button",onMouseDown:e=>{e.stopPropagation()},onClick:()=>{r(),n()},className:i},hu(Df,{template:`monthGrid${e===np.header?"Header":"Footer"}Exceed`,param:t}))}function l_({date:e,theme:t,renderDate:n,isToday:i}){const r=e.getDay(),a=n.getMonth()===e.getMonth(),{common:{holiday:s,saturday:o,today:l,dayName:u},month:{dayExceptThisMonth:c,holidayExceptThisMonth:d}}=t;return i?l.color:ph(r)?a?s.color:d.color:mh(r)?a?o.color:c.color:a?u.color:c.color}function u_(){const e=Jf(Ff),t=Kf();return Qu((()=>({common:e,month:t})),[e,t])}function c_({type:e=np.header,exceedCount:t=0,date:n,onClickExceedCount:i}){const{renderDate:r}=gf(Mf),[,a]=zf(),s=u_(),o=s.month.gridCell[`${e}Height`],l=nh(n,"YYYYMMDD"),u=nh(a(),"YYYYMMDD"),c=l===u,d={date:nh(n,"YYYY-MM-DD"),day:n.getDay(),hiddenEventCount:t,isOtherMonth:n.getMonth()!==r.getMonth(),isToday:l===u,month:n.getMonth(),ymd:l},h={color:l_({date:n,theme:s,isToday:c,renderDate:r})},f=`monthGrid${Vh(e)}`;return hd(o)?null:hu("div",{className:md(`grid-cell-${e}`),style:{height:o}},hu("span",{className:md("grid-cell-date"),style:h},hu(Df,{template:f,param:d})),t?hu(o_,{type:e,number:t,onClickButton:i,className:md("grid-cell-more-events")}):null)}function d_({layoutContainer:e,cell:t,popupSize:n}){const i=function(e,t,n){const{width:i,height:r,left:a,top:s}=t,{width:o,height:l}=e,u=a+i,c=s+r;let d=n.left+n.width/2-o/2,{top:h}=n;const f=d+o>u,p=h+l>c;return d<a&&(d=a),f&&(d=u-o),h<s&&(h=s),p&&(h=c-l),{top:h+window.scrollY,left:d+window.scrollX}}(n,e.getBoundingClientRect(),t.getBoundingClientRect());return ru(ru({},n),i)}function h_(e,t,n){const{width:i,height:r}=Jf(Bf),[a,s]=qm(),[o,l]=qu(null);return Zu((()=>{if(n&&t&&a){const s=function({grid:e,offsetWidth:t,eventLength:n,layerSize:i}){const r=af(e).height+10;let a=t+10;const{width:s,height:o}=i;a=Math.max(a,280);let l=61;return l+=n<=10?26*n:260,s&&(a=s),o&&(l=o),(isNaN(l)||l<r)&&(l=r),{width:a,height:l}}({grid:t,offsetWidth:a.offsetWidth,eventLength:e,layerSize:{width:i,height:r}}),o=d_({cell:a,layoutContainer:n,popupSize:s});l(o)}}),[n,a,e,t,i,r]),{popupPosition:o,containerRefCallback:s}}function f_(e){return e.month.weekend.backgroundColor}function p_({date:e,events:t=[],style:n,parentContainer:i,contentAreaHeight:r}){const a=Cm(),{showSeeMorePopup:s}=_f("popup"),o=Jf(f_),{popupPosition:l,containerRefCallback:u}=h_(t.length,i,a),c=ec((()=>{l&&s({date:e,popupPosition:l,events:t})}),[e,t,l,s]),d=kp(t,r,26);return hu("div",{className:md("daygrid-cell"),style:au(ru({},n),{backgroundColor:fh(e.getDay())?o:"inherit"}),ref:u},hu(c_,{type:np.header,exceedCount:d,date:e,onClickExceedCount:c}),hu(c_,{type:np.footer,exceedCount:d,date:e,onClickExceedCount:c}))}const m_=qp((function({week:e,rowInfo:t,gridDateEventModelMap:n={},contentAreaHeight:i}){const[r,a]=qm(),s=Jf(ec((e=>e.common.border),[]));return hu("div",{className:md("weekday-grid"),style:{borderTop:s},ref:a},e.map(((e,a)=>{const s=e.getDay(),{width:o,left:l}=t[a],u=nh(rh(e),"YYYYMMDD");return hu(p_,{key:`daygrid-cell-${s}`,date:e,style:{width:gd(o),left:gd(l)},parentContainer:r,events:n[u],contentAreaHeight:i})})))}));function g_({weekDates:e,narrowWeekend:t,rowIndex:n}){const i=gf(ec((t=>Vp.calculateSelection(t.gridSelection.dayGridMonth,n,e.length)),[n,e.length]));return hd(i)?null:hu(Fp,{type:"month",gridSelectionData:i,weekDates:e,narrowWeekend:t})}const v_=qp((function({contentAreaHeight:e,eventHeight:t=22,events:n,name:i,className:r}){const{headerHeight:a}=Jf(Uf);return hu("div",{className:r},n.filter(Mp(e,t+2)).map((e=>hu(Vm,{key:`${i}-DayEvent-${e.cid()}`,uiModel:e,eventHeight:t,headerHeight:null!=a?a:27}))))}));function __({dateMatrix:e,gridPositionFinder:t,rowInfo:n,rowIndex:i}){const r=function({dateMatrix:e,rowInfo:t,gridPositionFinder:n,rowIndex:i}){const r=Af(),{isDraggingEnd:a,isDraggingCanceled:s,draggingEvent:o,clearDraggingEvent:l}=Wm("dayGrid","move"),[u,c]=Um(n),d=Qu((()=>{var e,n;let r=null;return o&&(null==u?void 0:u.rowIndex)===i&&(r=o,r.left=t[null!=(e=null==u?void 0:u.columnIndex)?e:0].left,r.width=t[null!=(n=null==u?void 0:u.columnIndex)?n:0].width),r}),[o,null==u?void 0:u.rowIndex,null==u?void 0:u.columnIndex,i,t]);return Bm((()=>{if(!s&&fd(d)&&fd(u)){const t=d.model.getStarts(),n=d.duration(),i=864e5*xh(e[u.rowIndex][u.columnIndex],t),a=new Fd(t.getTime()+i),s=new Fd(a.getTime()+n);r.fire("beforeUpdateEvent",{event:d.model.toEventObject(),changes:{start:a,end:s}})}l(),c()}),a),d}({dateMatrix:e,rowInfo:n,gridPositionFinder:t,rowIndex:i});return hd(r)?null:hu(Vm,{uiModel:r,movingLeft:r.left,eventHeight:22,headerHeight:30})}function y_(e,t){return{startColumnIndex:Math.max(Ep(e.getStarts(),t),0),endColumnIndex:Ep(e.getEnds(),t)}}function w_({dateMatrix:e,cellWidthMap:t,gridPositionFinder:n,renderedUIModels:i,rowIndex:r}){const a=function({dateMatrix:e,gridPositionFinder:t,renderedUIModels:n,cellWidthMap:i,rowIndex:r}){const a=Af(),{isDraggingEnd:s,isDraggingCanceled:o,draggingEvent:l,clearDraggingEvent:u}=Wm("dayGrid","resize"),[c,d]=Um(t),[h,f]=qu(null),p=ec((()=>{f(null),d(),u()}),[d,u]),m=Qu((()=>{if(hd(l))return null;const t=n.map((({uiModels:e})=>e.filter((e=>e.cid()===l.cid())))),i=t.findIndex((e=>e.length>0)),r=$d(t,(e=>e.length>0)),a=y_(t[i][0],e[i]),s=y_(t[r][0],e[r]);return{eventStartDateColumnIndex:a.startColumnIndex,eventStartDateRowIndex:i,eventEndDateColumnIndex:s.endColumnIndex,eventEndDateRowIndex:r,resizeTargetUIModelRows:t}}),[e,n,l]),g=fd(m)&&fd(l)&&fd(c);return Zu((()=>{if(g&&r===m.eventStartDateRowIndex){const{eventStartDateRowIndex:t,eventStartDateColumnIndex:n}=m,a=m.resizeTargetUIModelRows[t][0].clone();let s;t===c.rowIndex?s=i[n][Math.max(n,c.columnIndex)]:t>c.rowIndex?s=i[n][n]:(s=i[n][e[r].length-1],a.setUIProps({exceedRight:!0})),f([a,s])}}),[m,g,i,c,e,r]),Zu((()=>{if(g&&m.eventStartDateRowIndex<r&&r<c.rowIndex){const e=l.clone();e.setUIProps({left:0,exceedLeft:!0,exceedRight:!0}),f([e,"100%"])}}),[m,g,c,l,r]),Zu((()=>{if(g&&m.eventStartDateRowIndex<c.rowIndex&&r===c.rowIndex){const e=l.clone();e.setUIProps({left:0,exceedLeft:!0}),f([e,i[0][c.columnIndex]])}}),[m,g,i,c,l,r]),Zu((()=>{g&&r>m.eventStartDateRowIndex&&r>c.rowIndex&&f(null)}),[g,c,m,r]),Bm((()=>{if(g){const{eventStartDateColumnIndex:t,eventStartDateRowIndex:n}=m;if(!o&&(c.rowIndex===n&&c.columnIndex>=t||c.rowIndex>n)){const t=e[c.rowIndex][c.columnIndex];a.fire("beforeUpdateEvent",{event:l.model.toEventObject(),changes:{end:t}})}}p()}),s),h}({dateMatrix:e,gridPositionFinder:n,cellWidthMap:t,renderedUIModels:i,rowIndex:r});if(hd(a))return null;const[s,o]=a;return hu("div",{className:md("weekday-events")},hu(Vm,{key:`resizing-event-${s.cid()}`,uiModel:s,eventHeight:24,headerHeight:30,resizingWidth:o}))}function b_({dateMatrix:e=[],rowInfo:t=[],cellWidthMap:n=[]}){const[i,r]=qm(),a=gf(wf),{ref:s,cellContentAreaHeight:o}=function(e){const t=gf(Av),{headerHeight:n,footerHeight:i}=Jf(Uf),r=Ku(null),[a,s]=qu(0);return Zu((()=>{if(r.current){const a=af(r.current).height-(3+(null!=n?n:27))-(null!=i?i:0),o=t*(e+2);s(Math.min(a,o))}}),[i,n,e,t]),{ref:r,cellContentAreaHeight:a}}(24),{eventFilter:l,month:u,isReadOnly:c}=gf(kf),{narrowWeekend:d,startDayOfWeek:h}=u,f=100/e.length,p=Qu((()=>zp({container:i,rowsCount:e.length,columnsCount:e[0].length,narrowWeekend:d,startDayOfWeek:h})),[e,i,d,h]),m=n_(a,l),g=Qu((()=>e.map((e=>Tp(e,m,d)))),[m,e,d]);return hu("div",{ref:r,onMouseDown:zm(!c,Km({type:"dayGridMonth",gridPositionFinder:p,dateCollection:e,dateGetter:Vp.getDateFromCollection,selectionSorter:Vp.sortSelection})),className:md("month-daygrid")},e.map(((i,r)=>{const{uiModels:a,gridDateEventModelMap:l}=g[r];return hu("div",{key:`dayGrid-events-${r}`,className:md("month-week-item"),style:{height:gd(f)},ref:s},hu("div",{className:md("weekday")},hu(m_,{gridDateEventModelMap:l,week:i,rowInfo:t,contentAreaHeight:o}),hu(v_,{name:"month",events:a,contentAreaHeight:o,eventHeight:24,className:md("weekday-events")}),hu(g_,{weekDates:i,narrowWeekend:d,rowIndex:r}),hu(s_,{rowIndex:r,weekDates:i,narrowWeekend:d})),hu(w_,{dateMatrix:e,gridPositionFinder:p,rowIndex:r,cellWidthMap:n,renderedUIModels:g}),hu(__,{dateMatrix:e,gridPositionFinder:p,rowIndex:r,rowInfo:t}))})))}const x_={month:function(){const e=gf(kf),{renderDate:t}=gf(Mf),n=function(e){const{dayNames:t,startDayOfWeek:n,workweek:i}=e.month;return[...Array(7)].map(((e,t)=>(n+t)%7)).map((e=>({day:e,label:Vh(t[e])}))).filter((e=>!i||!fh(e.day)))}(e),i=e.month,{narrowWeekend:r,startDayOfWeek:a,workweek:s}=i,o=Qu((()=>Op(t,i)),[i,t]),{rowStyleInfo:l,cellWidthMap:u}=Qu((()=>vh(n.length,r,a,s)),[n.length,r,a,s]),c=l.map(((e,t)=>au(ru({},e),{date:o[0][t]})));return hu(ev,{className:md("month")},hu(tp,{type:"month",dayNames:n,options:i,rowStyleInfo:l}),hu(b_,{dateMatrix:o,rowInfo:c,cellWidthMap:u}))},week:function(){var e,t;const{options:n,calendar:i,gridRowLayout:r,lastPanelType:a,renderDate:s}=function(){const e=gf(kf),t=gf(wf),{dayGridRows:n,lastPanelType:i}=gf(bf),{renderDate:r}=gf(Mf);return Qu((()=>({options:e,calendar:t,gridRowLayout:n,lastPanelType:i,renderDate:r})),[t,n,i,e,r])}(),o=Jf(ec((e=>e.week.dayGridLeft.width),[])),l=gf(Pf),[u,c]=qm(),d=n.week,{narrowWeekend:h,startDayOfWeek:f,workweek:p,hourStart:m,hourEnd:g,eventView:v,taskView:_}=d,y=Qu((()=>Np(s,d)),[s,d]),w=Wh(y,null!=(t=null==(e=n.week)?void 0:e.dayNames)?t:[]),{rowStyleInfo:b,cellWidthMap:x}=vh(y.length,h,f,p),M=n_(i,n.eventFilter),k=Qu((()=>{const[e,t]="Local"===l?[rh(Ud(y)),hh(Wd(y))]:[rh(bh(Ud(y),-1)),hh(bh(Wd(y),1))];return Pp(y,M,{narrowWeekend:h,hourStart:m,hourEnd:g,weekStartDate:e,weekEndDate:t})}),[M,g,m,h,l,y]),C=Qu((()=>Lp(y,{hourStart:m,hourEnd:g,narrowWeekend:h})),[g,m,h,y]),S=e_(_,v),E=S.map((e=>{var t,n;if("time"===e)return null;const i=e;return hu(iv,{name:i,key:i,resizable:i!==a},"allday"===i?hu(Qm,{events:k[i],rowStyleInfo:b,gridColWidthMap:x,weekDates:y,height:null==(t=r[i])?void 0:t.height,options:d}):hu(eg,{category:i,events:k[i],weekDates:y,height:null==(n=r[i])?void 0:n.height,options:d,gridColWidthMap:x}))})),D=Qu((()=>S.includes("time")),[S]);i_(u,C.rows.length);const T=a_(u);return hu(ev,{className:md("week-view"),autoAdjustPanels:!0},hu(iv,{name:"week-view-day-names",initialHeight:44},hu(tp,{type:"week",dayNames:w,marginLeft:o,options:d,rowStyleInfo:b})),E,D?hu(iv,{name:"time",autoSize:1,ref:c},hu(Yv,{events:k.time,timeGridData:C}),hu(Zv,{top:T})):null)},day:function(){var e,t;const{calendar:n,options:i,gridRowLayout:r,lastPanelType:a,renderDate:s}=function(){const e=gf(wf),t=gf(kf),{dayGridRows:n,lastPanelType:i}=gf(bf),{renderDate:r}=gf(Mf);return Qu((()=>({calendar:e,options:t,gridRowLayout:n,lastPanelType:i,renderDate:r})),[e,t,n,i,r])}(),o=gf(Pf),l=Jf(ec((e=>e.week.dayGridLeft.width),[])),[u,c]=qm(),d=i.week,{narrowWeekend:h,startDayOfWeek:f,workweek:p,hourStart:m,hourEnd:g,eventView:v,taskView:_}=d,y=Qu((()=>[s]),[s]),w=Wh(y,null!=(t=null==(e=i.week)?void 0:e.dayNames)?t:[]),{rowStyleInfo:b,cellWidthMap:x}=vh(y.length,h,f,p),M=n_(n,i.eventFilter),k=Qu((()=>{const[e,t]="Local"===o?[rh(y[0]),hh(y[0])]:[rh(bh(y[0],-1)),hh(bh(y[0],1))];return Pp(y,M,{narrowWeekend:h,hourStart:m,hourEnd:g,weekStartDate:e,weekEndDate:t})}),[M,y,g,m,h,o]),C=Qu((()=>Lp(y,{hourStart:m,hourEnd:g,narrowWeekend:h})),[y,g,m,h]),S=e_(_,v),E=S.map((e=>{var t,n;if("time"===e)return null;const i=e;return hu(iv,{key:i,name:i,resizable:i!==a},"allday"===i?hu(Qm,{events:k[i],rowStyleInfo:b,gridColWidthMap:x,weekDates:y,height:null==(t=r[i])?void 0:t.height,options:d}):hu(eg,{category:i,events:k[i],weekDates:y,height:null==(n=r[i])?void 0:n.height,options:d,gridColWidthMap:x}))}));i_(u,C.rows.length);const D=a_(u);return hu(ev,{className:md("day-view"),autoAdjustPanels:!0},hu(iv,{name:"day-view-day-names",initialHeight:43},hu(tp,{type:"week",dayNames:w,marginLeft:l,rowStyleInfo:b})),E,S.includes("time")?hu(iv,{name:"time",autoSize:1,ref:c},hu(Yv,{events:k.time,timeGridData:C}),hu(Zv,{top:D})):null)}};function M_(){const{currentView:e}=gf(Mf);return hu(Qu((()=>x_[e]||(()=>null)),[e]),null)}var k_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,C_=/[&<>"]/;function S_(e){var t=String(e);return C_.test(t)?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t}var E_=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"\t"))},D_=function(e,t,n){return String(e).length>(t||40)||!n&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},T_={};function I_(e){var t="";for(var n in e){var i=e[n];null!=i&&""!==i&&(t&&(t+=" "),t+="-"==n[0]?n:T_[n]||(T_[n]=n.replace(/([A-Z])/g,"-$1").toLowerCase()),t+=": ",t+=i,"number"==typeof i&&!1===k_.test(n)&&(t+="px"),t+=";")}return t||void 0}function A_(e,t){for(var n in t)e[n]=t[n];return e}function P_(e,t){return Array.isArray(t)?t.reduce(P_,e):null!=t&&!1!==t&&e.push(t),e}var O_={shallow:!0},N_=[],L_=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,z_=/[\s\n\\/='"\0<>]/;function R_(){this.__d=!0}H_.render=H_;var F_=[];function H_(e,t,n){t=t||{},n=n||{};var i=$l.__s;$l.__s=!0;var r=j_(e,t,n);return $l.__c&&$l.__c(e,F_),F_.length=0,$l.__s=i,r}function j_(e,t,n,i,r,a){if(null==e||"boolean"==typeof e)return"";if("object"!=typeof e)return S_(e);var s=n.pretty,o=s&&"string"==typeof s?s:"\t";if(Array.isArray(e)){for(var l="",u=0;u<e.length;u++)s&&u>0&&(l+="\n"),l+=j_(e[u],t,n,i,r,a);return l}var c,d=e.type,h=e.props,f=!1;if("function"==typeof d){if(f=!0,!n.shallow||!i&&!1!==n.renderRootComponent){if(d===pu){var p=[];return P_(p,e.props.children),j_(p,t,n,!1!==n.shallowHighOrder,r,a)}var m,g=e.__c={__v:e,context:t,props:e.props,setState:R_,forceUpdate:R_,__d:!0,__h:[]};$l.__b&&$l.__b(e);var v=$l.__r;if(d.prototype&&"function"==typeof d.prototype.render){var _=d.contextType,y=_&&t[_.__c],w=null!=_?y?y.props.value:_.__:t;(g=e.__c=new d(h,w)).__v=e,g._dirty=g.__d=!0,g.props=h,null==g.state&&(g.state={}),null==g._nextState&&null==g.__s&&(g._nextState=g.__s=g.state),g.context=w,d.getDerivedStateFromProps?g.state=A_(A_({},g.state),d.getDerivedStateFromProps(g.props,g.state)):g.componentWillMount&&(g.componentWillMount(),g.state=g._nextState!==g.state?g._nextState:g.__s!==g.state?g.__s:g.state),v&&v(e),m=g.render(g.props,g.state,g.context)}else for(var b=d.contextType,x=b&&t[b.__c],M=null!=b?x?x.props.value:b.__:t,k=0;g.__d&&k++<25;)g.__d=!1,v&&v(e),m=d.call(e.__c,h,M);return g.getChildContext&&(t=A_(A_({},t),g.getChildContext())),$l.diffed&&$l.diffed(e),j_(m,t,n,!1!==n.shallowHighOrder,r,a)}d=(c=d).displayName||c!==Function&&c.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var n=-1,i=N_.length;i--;)if(N_[i]===e){n=i;break}n<0&&(n=N_.push(e)-1),t="UnnamedComponent"+n}return t}(c)}var C,S,E="<"+d;if(h){var D=Object.keys(h);n&&!0===n.sortAttributes&&D.sort();for(var T=0;T<D.length;T++){var I=D[T],A=h[I];if("children"!==I){if(!z_.test(I)&&(n&&n.allAttributes||"key"!==I&&"ref"!==I&&"__self"!==I&&"__source"!==I)){if("defaultValue"===I)I="value";else if("defaultChecked"===I)I="checked";else if("defaultSelected"===I)I="selected";else if("className"===I){if(void 0!==h.class)continue;I="class"}else r&&/^xlink:?./.test(I)&&(I=I.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===I){if(h.for)continue;I="for"}"style"===I&&A&&"object"==typeof A&&(A=I_(A)),"a"===I[0]&&"r"===I[1]&&"boolean"==typeof A&&(A=String(A));var P=n.attributeHook&&n.attributeHook(I,A,t,n,f);if(P||""===P)E+=P;else if("dangerouslySetInnerHTML"===I)S=A&&A.__html;else if("textarea"===d&&"value"===I)C=A;else if((A||0===A||""===A)&&"function"!=typeof A){if(!(!0!==A&&""!==A||(A=I,n&&n.xml))){E=E+" "+I;continue}if("value"===I){if("select"===d){a=A;continue}"option"===d&&a==A&&void 0===h.selected&&(E+=" selected")}E=E+" "+I+'="'+S_(A)+'"'}}}else C=A}}if(s){var O=E.replace(/\n\s*/," ");O===E||~O.indexOf("\n")?s&&~E.indexOf("\n")&&(E+="\n"):E=O}if(E+=">",z_.test(d))throw new Error(d+" is not a valid HTML tag name in "+E);var N,L=L_.test(d)||n.voidElements&&n.voidElements.test(d),z=[];if(S)s&&D_(S)&&(S="\n"+o+E_(S,o)),E+=S;else if(null!=C&&P_(N=[],C).length){for(var R=s&&~E.indexOf("\n"),F=!1,H=0;H<N.length;H++){var j=N[H];if(null!=j&&!1!==j){var V=j_(j,t,n,!0,"svg"===d||"foreignObject"!==d&&r,a);if(s&&!R&&D_(V)&&(R=!0),V)if(s){var B=V.length>0&&"<"!=V[0];F&&B?z[z.length-1]+=V:z.push(V),F=B}else z.push(V)}}if(s&&R)for(var U=z.length;U--;)z[U]="\n"+o+E_(z[U],o)}if(z.length||S)E+=z.join("");else if(n&&n.xml)return E.substring(0,E.length-1)+" />";return!L||N||S?(s&&~E.indexOf("\n")&&(E+="\n"),E=E+"</"+d+">"):E=E.replace(/>$/," />"),E}H_.shallowRender=function(e,t){return H_(e,t,O_)};var V_=function(e,t,n){var i;for(i in n=n||null,e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))break},B_=V_;var U_=rd,W_=function(e,t){var n=document.createElement("img"),i="";return B_(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n};var $_=function(e,t){var n=location.hostname,i="TOAST UI "+e+" for "+n+": Statistics",r=window.localStorage.getItem(i);(U_(window.tui)||!1!==window.tui.usageStatistics)&&(r&&!function(e){return(new Date).getTime()-e>6048e5}(r)||(window.localStorage.setItem(i,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||W_("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))};function G_({theme:e,store:t,eventBus:n,children:i}){return hu(If,{value:n},hu(Xf,{store:e},hu(mf,{store:t},hu(hg,null,i))))}var Y_=rd,q_=function(e){return null===e};var X_=function(e){return e instanceof Array};var Z_=X_,J_=function(e,t,n){var i=0,r=e.length;for(n=n||null;i<r&&!1!==t.call(n,e[i],i,e);i+=1);},K_=V_;var Q_=function(e,t){var n,i,r,a,s=Object.prototype.hasOwnProperty;for(r=1,a=arguments.length;r<a;r+=1)for(i in n=arguments[r])s.call(n,i)&&(e[i]=n[i]);return e},ey=function(e){return!Y_(e)&&!q_(e)},ty=dd,ny=cd,iy=X_,ry=function(e){return e instanceof Function},ay=function(e,t,n){Z_(e)?J_(e,t,n):K_(e,t,n)},sy=/\s+/g;function oy(){this.events=null,this.contexts=null}oy.mixin=function(e){Q_(e.prototype,oy.prototype)},oy.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},oy.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},oy.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},oy.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},oy.prototype._memorizeContext=function(e){var t,n;ey(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},oy.prototype._forgetContext=function(e){var t,n;ey(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},oy.prototype._bindEvent=function(e,t,n){var i=this._safeEvent(e);this._memorizeContext(n),i.push(this._getHandlerItem(t,n))},oy.prototype.on=function(e,t,n){var i=this;ty(e)?(e=e.split(sy),ay(e,(function(e){i._bindEvent(e,t,n)}))):ny(e)&&(n=t,ay(e,(function(e,t){i.on(t,e,n)})))},oy.prototype.once=function(e,t,n){var i=this;if(ny(e))return n=t,void ay(e,(function(e,t){i.once(t,e,n)}));this.on(e,(function r(){t.apply(n,arguments),i.off(e,r,n)}),n)},oy.prototype._spliceMatches=function(e,t){var n,i=0;if(iy(e))for(n=e.length;i<n;i+=1)!0===t(e[i])&&(e.splice(i,1),n-=1,i-=1)},oy.prototype._matchHandler=function(e){var t=this;return function(n){var i=e===n.handler;return i&&t._forgetContext(n.context),i}},oy.prototype._matchContext=function(e){var t=this;return function(n){var i=e===n.context;return i&&t._forgetContext(n.context),i}},oy.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(i){var r=e===i.handler,a=t===i.context,s=r&&a;return s&&n._forgetContext(i.context),s}},oy.prototype._offByEventName=function(e,t){var n=this,i=ry(t),r=n._matchHandler(t);e=e.split(sy),ay(e,(function(e){var t=n._safeEvent(e);i?n._spliceMatches(t,r):(ay(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},oy.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);ay(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},oy.prototype._offByObject=function(e,t){var n,i=this;this._indexOfContext(e)<0?ay(e,(function(e,t){i.off(t,e)})):ty(t)?(n=this._matchContext(e),i._spliceMatches(this._safeEvent(t),n)):ry(t)?(n=this._matchHandlerAndContext(t,e),ay(this._safeEvent(),(function(e){i._spliceMatches(e,n)}))):(n=this._matchContext(e),ay(this._safeEvent(),(function(e){i._spliceMatches(e,n)})))},oy.prototype.off=function(e,t){ty(e)?this._offByEventName(e,t):arguments.length?ry(e)?this._offByHandler(e):ny(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},oy.prototype.fire=function(e){this.invoke.apply(this,arguments)},oy.prototype.invoke=function(e){var t,n,i,r;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),i=0;t[i];){if(!1===(r=t[i]).handler.apply(r.context,n))return!1;i+=1}return!0},oy.prototype.hasListener=function(e){return this.getListenerLength(e)>0},oy.prototype.getListenerLength=function(e){return this._safeEvent(e).length};var ly=oy;class uy extends ly{on(e,t){return super.on(e,t),this}off(e,t){return super.off(e,t),this}fire(e,...t){return super.fire(e,...t),this}once(e,t){return super.once(e,t),this}}class cy extends class{constructor(e,t={}){var n;this.container=dd(e)?null!=(n=null==document?void 0:document.querySelector(e))?n:null:e,this.theme=((e={})=>ff(qf(e)))(t.theme),this.eventBus=new uy,this.store=((e={})=>ff(pf(e)))(t),this.renderRange=this.calculateRenderRange(rh()),Ef.addHook("beforeSanitizeAttributes",(e=>{if("A"===e.tagName){const t=e.getAttribute("target");t?e.setAttribute("data-target-temp",t):e.setAttribute("target","_self")}})),Ef.addHook("afterSanitizeAttributes",(e=>{"A"===e.tagName&&e.hasAttribute("data-target-temp")&&(e.setAttribute("target",e.getAttribute("data-target-temp")),e.removeAttribute("data-target-temp"),"_blank"===e.getAttribute("target")&&e.setAttribute("rel","noopener"))})),!0===this.getStoreState().options.usageStatistics&&$_("calendar","UA-129951699-1")}getStoreState(e){const t=this.store.getState();return e?t[e]:t}getStoreDispatchers(e){const t=this.store.getState().dispatch;return e?t[e]:t}destroy(){var e;this.container&&(e=this.container).__k&&Ou(null,e),this.store.clearListeners(),this.theme.clearListeners(),this.eventBus.off(),Ef.removeAllHooks();for(const t in this)this.hasOwnProperty(t)&&delete this[t]}calculateMonthRenderDate({renderDate:e,offset:t,monthOptions:n}){let i=new Fd(e);const{visibleWeeksCount:r}=n;i=r>0?bh(i,7*t*r):function(e,t=1){const n=sh(e);if(0!==t){const e=n.getDate(),i=new Fd(n.getTime());if(i.setMonth(n.getMonth()+t+1,0),e>=i.getDate())return i;n.setFullYear(i.getFullYear(),i.getMonth(),e)}return n}(i,t);const a=Op(i,n),[[s]]=a;return{renderDate:i,renderRange:{start:s,end:Wd(Wd(a))}}}calculateWeekRenderDate({renderDate:e,offset:t,weekOptions:n}){const i=new Fd(e);i.addDate(7*t);const r=Np(i,n),[a]=r;return{renderDate:i,renderRange:{start:a,end:Wd(r)}}}calculateDayRenderDate({renderDate:e,offset:t}){const n=new Fd(e);n.addDate(t);return{renderDate:n,renderRange:{start:rh(n),end:hh(n)}}}move(e){if(hd(e))return;const{currentView:t,renderDate:n}=this.getStoreState().view,{options:i}=this.getStoreState(),{setRenderDate:r}=this.getStoreDispatchers().view,a=new Fd(n);let s={renderDate:a,renderRange:{start:new Fd(a),end:new Fd(a)}};"month"===t?s=this.calculateMonthRenderDate({renderDate:n,offset:e,monthOptions:i.month}):"week"===t?s=this.calculateWeekRenderDate({renderDate:n,offset:e,weekOptions:i.week}):"day"===t&&(s=this.calculateDayRenderDate({renderDate:n,offset:e})),r(s.renderDate),this.renderRange=s.renderRange}createEvents(e){const{createEvents:t}=this.getStoreDispatchers("calendar");t(e)}getEventModel(e,t){const{events:n}=this.getStoreState("calendar");return n.find((({id:n,calendarId:i})=>n===e&&i===t))}getEvent(e,t){var n,i;return null!=(i=null==(n=this.getEventModel(e,t))?void 0:n.toEventObject())?i:null}updateEvent(e,t,n){const{updateEvent:i}=this.getStoreDispatchers("calendar"),r=this.getEventModel(e,t);r&&i({event:r,eventData:n})}deleteEvent(e,t){const{deleteEvent:n}=this.getStoreDispatchers("calendar"),i=this.getEventModel(e,t);i&&n(i)}setCalendarVisibility(e,t){const{setCalendarVisibility:n}=this.getStoreDispatchers("calendar");n(Array.isArray(e)?e:[e],t)}render(){return fd(this.container)&&Ou(hu(G_,{theme:this.theme,store:this.store,eventBus:this.eventBus},this.getComponent()),this.container),this}renderToString(){return H_(hu(G_,{theme:this.theme,store:this.store,eventBus:this.eventBus},this.getComponent()))}clear(){const{clearEvents:e}=this.getStoreDispatchers("calendar");e()}scrollToNow(e="auto"){this.eventBus.fire("scrollToNow",e)}calculateRenderRange(e){const{currentView:t}=this.getStoreState().view,{options:n}=this.getStoreState(),i=new Fd(e);let r={start:new Fd(i),end:new Fd(i)};return"month"===t?r=this.calculateMonthRenderDate({renderDate:e,offset:0,monthOptions:n.month}).renderRange:"week"===t?r=this.calculateWeekRenderDate({renderDate:e,offset:0,weekOptions:n.week}).renderRange:"day"===t&&(r=this.calculateDayRenderDate({renderDate:e,offset:0}).renderRange),r}today(){const{setRenderDate:e}=this.getStoreDispatchers().view,t=new Fd;e(t),this.renderRange=this.calculateRenderRange(t)}setDate(e){const{setRenderDate:t}=this.getStoreDispatchers("view"),n=new Fd(e);t(n),this.renderRange=this.calculateRenderRange(n)}next(){this.move(1)}prev(){this.move(-1)}setCalendarColor(e,t){const{setCalendarColor:n}=this.getStoreDispatchers().calendar;n(e,t)}changeView(e){const{changeView:t}=this.getStoreDispatchers("view");t(e),this.renderRange=this.calculateRenderRange(this.getDate())}getElement(e,t){return this.getEvent(e,t)&&this.container?this.container.querySelector(`[data-event-id="${e}"][data-calendar-id="${t}"]`):null}setTheme(e){const{setTheme:t}=this.theme.getState().dispatch;t(e)}getOptions(){const{options:e,template:t}=this.getStoreState(),n=this.theme.getState(),i=su(n,["dispatch"]);return au(ru({},e),{template:t,theme:i})}setOptions(e){const t=e,{theme:n,template:i}=t,r=su(t,["theme","template"]),{setTheme:a}=this.theme.getState().dispatch,{options:{setOptions:s},template:{setTemplate:o}}=this.getStoreDispatchers();fd(n)&&a(n),fd(i)&&o(i),s(r)}getDate(){const{renderDate:e}=this.getStoreState().view;return e}getDateRangeStart(){return this.renderRange.start}getDateRangeEnd(){return this.renderRange.end}getViewName(){const{currentView:e}=this.getStoreState("view");return e}setCalendars(e){const{setCalendars:t}=this.getStoreDispatchers().calendar;t(e)}openFormPopup(e){const{showFormPopup:t}=this.getStoreDispatchers().popup,n=new Sh(e),{title:i,location:r,start:a,end:s,isAllday:o,isPrivate:l,state:u}=n;t({isCreationPopup:!0,event:n,title:i,location:r,start:a,end:s,isAllday:o,isPrivate:l,eventState:u})}clearGridSelections(){const{clearAll:e}=this.getStoreDispatchers().gridSelection;e()}fire(e,...t){return this.eventBus.fire(e,...t),this}off(e,t){return this.eventBus.off(e,t),this}on(e,t){return this.eventBus.on(e,t),this}once(e,t){return this.eventBus.once(e,t),this}}{constructor(e,t={}){super(e,t);const{defaultView:n="week"}=t;if(i=n,!Object.values(Jv).find((e=>e===i)))throw new Ed(n);var i;this.render()}getComponent(){return hu(M_,null)}}class dy{constructor(){t(this,"calendar",null),t(this,"selectedEventId"),t(this,"calendarRef"),t(this,"currentView"),t(this,"isEventModalVisible"),t(this,"modalMode"),t(this,"eventForm"),t(this,"CurrentViewTitle",(()=>pn(Qt.value,"MMMM dd, yyyy")))}static GetTimeTemplate(e){const t=Kt.value.find((t=>t.id===e.id)),n=t?t.flagText:"",i=e.start?fn(e.start).format("HH:mm"):"",r=e.end?fn(e.end).format("HH:mm"):"";let a="";return n?"end-empty"===n?a=`On: ${i}`:"start-empty"===n&&(a=`Off: ${r}`):a=`On: ${i}&#10;Off: ${r}`,`\n      <span\n        title="${a}"\n        style="display: inline-block; cursor: pointer;">\n        ${"start-empty"===n?`<span>Off: ${e.end?fn(e.end).format("HH:mm"):""}</span>`:"end-empty"===n?`<span>On: ${e.start?fn(e.start).format("HH:mm"):""}</span>`:`\n              <span>On: ${e.start?fn(e.start).format("HH:mm"):""}</span><br/>\n              <span>Off: ${e.end?fn(e.end).format("HH:mm"):""}</span>\n            `}\n      </span>\n    `}InitVariables(e,t,n,i){this.selectedEventId=s(null),this.calendarRef=e,this.currentView=s("week"),this.isEventModalVisible=t,this.modalMode=n,this.eventForm=i}DefaultCalendarOptions(){return{defaultView:this.currentView.value,useFormPopup:!1,useDetailPopup:!1,week:{showTimezoneCollapseButton:!0,timezonesCollapsed:!0,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Holiday1","Holiday2"],visibleWeeksCount:1,visibleEventCount:9},month:{visibleWeeksCount:6},template:{time:e=>dy.GetTimeTemplate(e)},calendars:[{id:"1",name:"Schedule",color:"#ffffff",bgColor:"#1890ff",borderColor:"#1890ff"}]}}InitTuiCalendar(){if(!this.calendarRef.value)return void W.Error("= tuiCalendarUtil: Calendar ref is not available");const e=()=>{const e=["#1890ff"];return e[Math.floor(Math.random()*e.length)]},t=cy.prototype.createEvents;cy.prototype.createEvents=function(n){return W.Debug("= tuiCalendarUtil: Calendar.prototype.createEvents:",n),n.forEach((t=>{t.backgroundColor=e(),t.color="#fff",t.borderColor=t.backgroundColor})),t.call(this,n)};const n=cy.prototype.updateEvent;cy.prototype.updateEvent=function(t,i,r){return W.Debug("= tuiCalendarUtil: Calendar.prototype.updateEvent:",t,i,r),r.backgroundColor||(r.backgroundColor=e(),r.color="#fff",r.borderColor=r.backgroundColor),n.call(this,t,i,r)},this.calendar=new cy(this.calendarRef.value,this.DefaultCalendarOptions()),this.calendar?(Qt.value=this.calendar.getDate().toDate(),this.BindBeforeCreateEvent(),this.BindBeforeUpdateEvent(),this.BindClickEvent(),this.BindSelectDateTime(),W.Debug("= tuiCalendarUtil: Calendar initialized successfully:",this.calendar)):W.Error("= tuiCalendarUtil: Failed to initialize calendar")}BindBeforeCreateEvent(){this.calendar.on("beforeCreateEvent",(e=>{W.Debug("= tuiCalendarUtil: Calendar beforeCreateEvent triggered:",e),this.modalMode.value="create",this.eventForm.title=e.title||"",this.eventForm.start=e.start||new Date,this.eventForm.end=e.end||new Date,this.isEventModalVisible.value=!0}))}BindBeforeUpdateEvent(){this.calendar.on("beforeUpdateEvent",(({event:e,changes:t})=>{var n;W.Debug("= tuiCalendarUtil: Calendar beforeUpdateEvent triggered:",e,t);const{id:i,calendarId:r}=e;null==(n=this.calendar)||n.updateEvent(i,r,t)}))}BindClickEvent(){this.calendar.on("clickEvent",(({event:e})=>{W.Debug("= tuiCalendarUtil: Calendar clickEvent triggered:",e),this.selectedEventId.value=e.id,this.modalMode.value="edit",this.eventForm.title=e.title||"",this.eventForm.start=e.start||new Date,this.eventForm.end=e.end||new Date,this.SetEventModalVisiblity(!0)}))}BindSelectDateTime(){this.calendar.on("selectDateTime",(e=>{W.Debug("= tuiCalendarUtil: Calendar Date selected:",en,tn,nn,e);e.start.toLocaleString("en-US");const t=fn(e.start).toDate(),n=fn(e.end).toDate();this.modalMode.value="create",this.eventForm.title="",this.eventForm.start=t,this.eventForm.end=n;fn(e.start).startOf("week");const i=fn(e.start).day();let r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Holiday1","Holiday2"][i],a=`${r}-${i}-${Date.now()}`;this.eventForm.id=a,this.eventForm.group=r,this.SetEventModalVisiblity(!0)}))}SetEventModalVisiblity(e){this.isEventModalVisible.value=e}ResetEventForm(){this.eventForm.id="",this.eventForm.title="",this.eventForm.start=new Date,this.eventForm.end=new Date,this.eventForm.flagText="",this.eventForm.group="",this.eventForm.calendarId="1"}HandleModalOk(){W.Debug("= tuiCalendarUtil: handleModalOk called with eventForm:",this.eventForm),(this.eventForm.start||this.eventForm.end)&&("create"===this.modalMode.value?(this.ModalCreateEvent(),W.Debug("= tuiCalendarUtil: Creating new event with title:",this.eventForm)):"edit"===this.modalMode.value&&this.selectedEventId.value&&(this.ModalEditEvent(),W.Debug("= tuiCalendarUtil: Editing existing event with ID:",this.selectedEventId.value)),this.ResetEventForm(),this.SetEventModalVisiblity(!1),Kt.value=rn.value,W.Debug("= tuiCalendarUtil: All calendar events:",Kt.value,rn.value))}ModalCreateEvent(){var e,t,n;const i={id:this.eventForm.id,calendarId:"1",title:this.eventForm.title,start:this.eventForm.start,end:this.eventForm.end,flagText:this.eventForm.flagText||"",group:this.eventForm.group||"",startFlag:0===this.eventForm.start.getHours()&&0===this.eventForm.start.getMinutes()?1:this.eventForm.startFlag||0,endFlag:0===this.eventForm.end.getHours()&&0===this.eventForm.end.getMinutes()?1:this.eventForm.endFlag||0};null==(e=this.calendar)||e.createEvents([i]),rn.value.push(i),this.calendar&&(null==(n=(t=this.calendar).clearGridSelections)||n.call(t))}ModalEditEvent(){var e,t,n;const i=rn.value.find((e=>e.id===this.selectedEventId.value));W.Debug("= tuiCalendarUtil: Editing event with ID: Before",this.selectedEventId.value,i,this.eventForm);const r={id:this.selectedEventId.value,calendarId:"1",title:this.eventForm.title,start:this.eventForm.start,end:this.eventForm.end,flagText:i.flagText||"",group:i.group||"",startFlag:0===this.eventForm.start.getHours()&&0===this.eventForm.start.getMinutes()?1:this.eventForm.startFlag||0,endFlag:0===this.eventForm.end.getHours()&&0===this.eventForm.end.getMinutes()?1:this.eventForm.endFlag||0};null==(e=this.calendar)||e.updateEvent(r.id,"1",r);const a=rn.value.findIndex((e=>e.id===this.selectedEventId.value));-1!==a&&(rn.value[a]=r),this.calendar&&(null==(n=(t=this.calendar).clearGridSelections)||n.call(t))}HandleModalCancel(){this.isEventModalVisible.value=!1,this.ResetEventForm()}HandleDeleteEvent(){var e;if(W.Debug("= tuiCalendarUtil: handleDeleteEvent called with selectedEventId:",this.selectedEventId.value),this.selectedEventId.value){null==(e=this.calendar)||e.deleteEvent(this.selectedEventId.value,"1");const t=rn.value.findIndex((e=>e.id===this.selectedEventId.value));-1!==t&&rn.value.splice(t,1),this.isEventModalVisible.value=!1,this.ResetEventForm(),W.Debug("= tuiCalendarUtil: Event deleted successfully:",rn.value),W.Debug("= tuiCalendarUtil: Remaining events:"),this.calendar&&this.calendar.render()}}HideUIPanel(){const e=document.createElement("style");e.innerHTML="\n      .toastui-calendar-milestone,\n      .toastui-calendar-panel-resizer {\n      display: none !important;\n      }\n    ",document.head.appendChild(e);const t=document.createElement("style");t.innerHTML="\n      .toastui-calendar-task,\n      .toastui-calendar-panel-resizer {\n      display: none !important;\n      }\n    ",document.head.appendChild(t);const n=document.createElement("style");n.innerHTML="\n      .toastui-calendar-allday-panel,\n      .toastui-calendar-allday,\n      .toastui-calendar-panel-resizer {\n      display: none !important;\n      }\n    ",document.head.appendChild(n)}InitTitle(){if(Zt.value&&Zt.value.t3Entry){const{id:e,label:t,description:n}=Zt.value.t3Entry;an.value=[e,t,n].filter(Boolean).join(", ")}if(Zt.value&&Zt.value.t3Entry){const{command:e,control:t,description:n,id:i,label:r,type:a}=Zt.value.t3Entry;sn.value=[e,t,n,i,r,a].filter(Boolean).join(" / ")}W.Debug("= tuiCalendarUtil: InitTitle called, modalTitle, schInfo:",an.value,"schInfo:",sn.value,Zt.value.t3Entry),W.Debug("= tuiCalendarUtil: time:",JSON.stringify(Zt.value.t3Entry.time,null,0))}InitTestData(){return[[{hours:2,minutes:59,flag:0},{hours:3,minutes:0,flag:0},{hours:9,minutes:0,flag:0},{hours:21,minutes:0,flag:0},{hours:23,minutes:0,flag:0},{hours:0,minutes:0,flag:0},{hours:0,minutes:0,flag:0},{hours:0,minutes:0,flag:0}],[{hours:0,minutes:0,flag:1},{hours:3,minutes:0,flag:0},{hours:9,minutes:0,flag:0},{hours:21,minutes:0,flag:0},{hours:23,minutes:0,flag:0},{hours:0,minutes:0,flag:0},{hours:0,minutes:0,flag:0},{hours:0,minutes:0,flag:0}]]}InitT3Data(){var e,t;let n=(null==(t=null==(e=Zt.value)?void 0:e.t3Entry)?void 0:t.time)||[];return n=this.InitTestData(),n}InitDefaultEvents(){var e;const t=this.InitT3Data(),n=this.ConvertTimeArrayToEvents(t),i=rn.value&&rn.value.length>0?rn.value:n;rn.value=i,Kt.value=i,null==(e=this.calendar)||e.createEvents(i)}CopyMondayToWeekdays(){var e,t;const n=rn.value.filter((e=>"Monday"===e.group));W.Debug("= tuiCalendarUtil: CopyMondayToWeekdays called, found Monday events:",rn.value,n);const i=["Tuesday","Wednesday","Thursday","Friday"];rn.value=rn.value.filter((e=>!i.includes(e.group||""))),i.forEach(((e,t)=>{n.forEach(((n,i)=>{const r=fn(n.start).startOf("week"),a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Holiday1","Holiday2"].indexOf(e),s=fn(r).add(a,"day").hour(fn(n.start).hour()).minute(fn(n.start).minute()).second(0).toDate(),o=fn(r).add(a,"day").hour(fn(n.end).hour()).minute(fn(n.end).minute()).second(0).toDate();rn.value.push(Y({...n,id:`${e}-${t}-${i}-${Date.now()}`,group:e,start:s,end:o}))}))})),Kt.value=[...rn.value],null==(e=this.calendar)||e.clear(),null==(t=this.calendar)||t.createEvents(rn.value),W.Debug("= tuiCalendarUtil: CopyMondayToWeekdays completed, updated events:",rn.value,Kt.value)}RefreshFromT3000(){var e;null==(e=this.calendar)||e.clear(),rn.value=[],Kt.value=[],this.InitDefaultEvents()}ClearAll(){var e;null==(e=this.calendar)||e.clear(),rn.value=[],Kt.value=[],this.InitDefaultEvents()}ConvertTimeArrayToEvents(e){const t=[6,0,1,2,3,4,5,7,8],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Holiday1","Holiday2"],i=fn().startOf("week"),r=[];for(let a=0;a<t.length;a++){const s=e[t[a]];if(Array.isArray(s)&&!(s.length<2))for(let e=0;e<s.length-1;e+=2){let t=s[e],o=s[e+1];if(t&&o&&0===t.hours&&0===t.minutes&&0===t.flag&&0===o.hours&&0===o.minutes&&0===o.flag)continue;let l,u,c="";if(!t||0!==t.hours||0!==t.minutes||0!==t.flag||0===o.hours&&0===o.minutes&&0===o.flag?!o||0!==o.hours||0!==o.minutes||0!==o.flag||0===t.hours&&0===t.minutes&&0===t.flag||(o={...t},t={...t},c="end-empty"):(t={...o},o={...o},c="start-empty"),7===a||8===a)l=new Date(9999,0,1,t.hours,t.minutes,0,0),u=new Date(9999,0,1,o.hours,o.minutes,0,0);else{let e=i.add(a,"day");l=e.hour(t.hours).minute(t.minutes).second(0).toDate(),u=e.hour(o.hours).minute(o.minutes).second(0).toDate()}const d=`${`${t.hours.toString().padStart(2,"0")}:${t.minutes.toString().padStart(2,"0")}`} - ${`${o.hours.toString().padStart(2,"0")}:${o.minutes.toString().padStart(2,"0")}`}`;r.push({id:`${n[a]}-${a}-${e}`,calendarId:"1",title:d,start:l,end:u,group:n[a]||`Day${a+1}`,flagText:c,startFlag:t.flag,endFlag:o.flag})}}return W.Debug("= tuiCalendarUtil: Converted events:",r),r}SaveDataToT3000(){const e=this.TransferEventsToT3Format(),t=this.PrepareMsgData(e);pt.value?tt.WebClient.UpdateEntry(t):tt.WsClient.UpdateEntry(t)}PrepareMsgData(e){if(null==Zt.value||null==Zt.value.t3Entry)return;const t=e,n=Zt.value.t3Entry.pid,i=Zt.value.t3Entry.index;Zt.value.t3Entry.type;return{action:3,field:"value",value:-1,data:{time:t},panelId:n,entryIndex:i,entryType:16}}TransferEventsToT3Format(){const e=Array.from({length:9},(()=>Array.from({length:8},(()=>({hours:0,minutes:0,flag:0}))))),t={};for(const n of rn.value)n.group&&(t[n.group]||(t[n.group]=[]),t[n.group].push(n));return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Holiday1","Holiday2"].forEach(((n,i)=>{var r,a;const s=(t[n]||[]).sort(((e,t)=>{var n,i,r,a;return(null!=(i=null==(n=e.start)?void 0:n.getTime())?i:0)-(null!=(a=null==(r=t.start)?void 0:r.getTime())?a:0)}));let o=0;for(const t of s){if(o>=8)break;if("start-empty"===t.flagText?e[i][o]={hours:0,minutes:0,flag:0}:e[i][o]={hours:t.start?t.start.getHours():0,minutes:t.start?t.start.getMinutes():0,flag:null!=(r=t.startFlag)?r:0},o++,o>=8)break;"end-empty"===t.flagText?e[i][o]={hours:0,minutes:0,flag:0}:e[i][o]={hours:t.end?t.end.getHours():0,minutes:t.end?t.end.getMinutes():0,flag:null!=(a=t.endFlag)?a:0},o++}})),W.Debug("= tuiCalendarUtil: TransferEventsToT3Format completed, result:",Kt.value,e),e}GoToPrev(){var e;null==(e=this.calendar)||e.prev(),this.calendar&&(Qt.value=this.calendar.getDate().toDate())}GoToNext(){var e;null==(e=this.calendar)||e.next(),this.calendar&&(Qt.value=this.calendar.getDate().toDate())}GoToToday(){var e;null==(e=this.calendar)||e.today(),this.calendar&&(Qt.value=this.calendar.getDate().toDate())}}const hy={class:"schedule-calendar-container"},fy={style:{display:"flex","justify-content":"flex-start",gap:"4px",height:"32px"}},py={class:"view-title"},my={key:0,style:{display:"flex","justify-content":"flex-start",gap:"8px"}},gy={style:{display:"flex","justify-content":"flex-start",gap:"4px"}},vy=i({name:"ScheduleCalendar",__name:"ScheduleCalendar",setup(e){fn.locale("en");const t=s(null),n=s(!1),i=s("create"),l=Y({id:"",calendarId:"1",title:"",start:new Date,end:new Date,group:"",flagText:"",startFlag:0,endFlag:0}),h=R({get:()=>fn(l.start),set:e=>{e&&(l.start=e.toDate())}}),f=R({get:()=>fn(l.end),set:e=>{e&&(l.end=e.toDate())}}),g=new dy;W.Debug("ScheduleCalendar","TuiCalendarUtil initialized",g);const v=R((()=>{try{return g.CurrentViewTitle()}catch(e){return W.Error("ScheduleCalendar","Failed to get current view title",e),"Schedule Calendar"}})),_=()=>{try{g.HandleModalOk()}catch(e){W.Error("ScheduleCalendar","Failed to handle modal OK",e)}},y=()=>{try{g.HandleModalCancel()}catch(e){W.Error("ScheduleCalendar","Failed to handle modal cancel",e)}},b=()=>{try{g.HandleDeleteEvent()}catch(e){W.Error("ScheduleCalendar","Failed to delete event",e)}},x=()=>{try{on.value=!1,nt.SetNavVisiblity(!0),g.SaveDataToT3000(),W.Debug("ScheduleCalendar","Data saved successfully")}catch(e){W.Error("ScheduleCalendar","Failed to save data",e)}},M=()=>{try{on.value=!1,nt.SetNavVisiblity(!0)}catch(e){W.Error("ScheduleCalendar","Failed to cancel modal",e)}},k=()=>{try{g.CopyMondayToWeekdays()}catch(e){W.Error("ScheduleCalendar","Failed to copy Monday to weekdays",e)}},C=()=>{try{g.RefreshFromT3000()}catch(e){W.Error("ScheduleCalendar","Failed to refresh from T3000",e)}},S=()=>{try{g.ClearAll()}catch(e){W.Error("ScheduleCalendar","Failed to clear all data",e)}};return o((()=>{try{g.InitVariables(t,n,i,l),g.InitTuiCalendar(),g.HideUIPanel(),g.InitTitle(),g.InitDefaultEvents(),W.Debug("ScheduleCalendar","Component mounted and initialized successfully")}catch(e){W.Error("ScheduleCalendar","Failed to initialize component on mount",e)}})),(e,s)=>{const o=E("a-col"),g=E("a-button"),D=E("a-row"),T=E("a-modal"),A=E("a-switch"),P=E("a-form-item"),O=E("a-time-picker"),N=E("a-form"),z=E("a-config-provider");return r(),u(z,{theme:{token:{colorPrimary:"#0064c8"}}},{default:c((()=>[d(T,{open:L(on),"onUpdate:open":s[0]||(s[0]=e=>G(on)?on.value=e:null),title:L(an),width:950,style:{top:"30px",height:"600px"},wrapClassName:"t3-modal",onOk:x,onCancel:M,destroyOnClose:"",keyboard:"true"},{footer:c((()=>[...s[9]||(s[9]=[])])),default:c((()=>[p("div",hy,[d(D,{type:"flex",justify:"space-between",align:"middle",style:{"margin-bottom":"10px"}},{default:c((()=>[d(o,{style:{"margin-top":"5px"}},{default:c((()=>[p("div",fy,[p("label",py,m(v.value),1)])])),_:1}),d(o,null,{default:c((()=>[L(mt)?w("",!0):(r(),a("div",my,[d(g,{class:"t3-btn",size:"small",onClick:k,type:"primary"},{default:c((()=>[...s[4]||(s[4]=[I("Copy to Monday - Friday",-1)])])),_:1}),d(g,{class:"t3-btn",size:"small",onClick:C},{default:c((()=>[...s[5]||(s[5]=[I("Reset",-1)])])),_:1}),d(g,{class:"t3-btn",size:"small",onClick:S},{default:c((()=>[...s[6]||(s[6]=[I("Clear All",-1)])])),_:1}),d(g,{class:"t3-btn",size:"small",onClick:x},{default:c((()=>[...s[7]||(s[7]=[I("Save Data",-1)])])),_:1}),d(g,{class:"t3-btn",size:"small",onClick:M},{default:c((()=>[...s[8]||(s[8]=[I("Cancel",-1)])])),_:1})]))])),_:1})])),_:1})]),p("div",{ref_key:"calendarRef",ref:t,class:"calendar-container"},null,512)])),_:1},8,["open","title"]),d(T,{open:n.value,"onUpdate:open":s[3]||(s[3]=e=>n.value=e),width:300,title:"create"===i.value?"Create Schedule":"Edit Schedule",wrapClassName:"t3-sub-modal",onOk:_,onCancel:y,destroyOnClose:"",keyboard:"true"},{footer:c((()=>[p("div",gy,[d(g,{class:"t3-btn",key:"back",onClick:y},{default:c((()=>[...s[10]||(s[10]=[I("Cancel",-1)])])),_:1}),"edit"===i.value?(r(),u(g,{class:"t3-btn",key:"delete",danger:"",onClick:b},{default:c((()=>[...s[11]||(s[11]=[I("Delete",-1)])])),_:1})):w("",!0),d(g,{class:"t3-btn",key:"submit",type:"primary",onClick:_},{default:c((()=>[...s[12]||(s[12]=[I("Save",-1)])])),_:1})])])),default:c((()=>[d(N,{model:l,layout:"vertical"},{default:c((()=>[d(D,{gutter:"16",align:"middle",style:{"margin-bottom":"0","font-size":"12px"}},{default:c((()=>[d(o,{span:6},{default:c((()=>[d(P,{label:"On/Off",name:"isOnStart",style:{"margin-bottom":"0"}},{default:c((()=>[d(A,{checked:!0,disabled:!0,"checked-children":"On","un-checked-children":"Off"})])),_:1})])),_:1}),d(o,{span:18},{default:c((()=>[d(P,{label:"Start Date",name:"start",style:{"margin-bottom":"0"}},{default:c((()=>[d(D,{gutter:"8"},{default:c((()=>[d(o,null,{default:c((()=>[d(O,{value:h.value,"onUpdate:value":s[1]||(s[1]=e=>h.value=e),format:"HH:mm","minute-step":1,style:{width:"140px"}},null,8,["value"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),d(D,{gutter:"16",align:"middle",style:{"margin-bottom":"0","font-size":"12px"}},{default:c((()=>[d(o,{span:6},{default:c((()=>[d(P,{label:"On/Off",name:"isOnEnd",style:{"margin-bottom":"0"}},{default:c((()=>[d(A,{checked:!1,disabled:!0,"checked-children":"On","un-checked-children":"Off"})])),_:1})])),_:1}),d(o,{span:18},{default:c((()=>[d(P,{label:"End Date",name:"end",style:{"margin-bottom":"0"}},{default:c((()=>[d(D,{gutter:"8"},{default:c((()=>[d(o,null,{default:c((()=>[d(O,{value:f.value,"onUpdate:value":s[2]||(s[2]=e=>f.value=e),format:"HH:mm","minute-step":1,style:{width:"140px"}},null,8,["value"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["open","title"])])),_:1})}}});const _y={class:"annual-calendar-container"},yy={style:{display:"flex","justify-content":"flex-start",gap:"4px",height:"32px"}},wy={class:"view-title"},by={key:0,style:{display:"flex","justify-content":"flex-start",gap:"8px"}},xy={style:{display:"flex","flex-wrap":"wrap",gap:"16px"}},My={key:0},ky={key:1,style:{width:"24px",height:"24px",margin:"auto"}},Cy=i({__name:"ScheduleAnnual",setup(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=R((()=>fn().year())),i=R((()=>t.map(((e,t)=>fn(`${n.value}-${String(t+1).padStart(2,"0")}-01`))))),s=e=>{var n;const i=t[e.month()],r=e.format("YYYY-MM-DD");return(null==(n=un.value[i])?void 0:n.includes(r))||!1},l=e=>{const t=e%19+1,n=Math.floor(e/100)+1,i=Math.floor(3*n/4)-12;let r=(11*t+20+(Math.floor((8*n+5)/25)-5)-i)%30;(25===r&&t>11||24===r)&&r++;const a=44-r;let s=a+7-(Math.floor(5*e/4)-i-10+a)%7;if(s>31){return`${e}-04-${String(s-31).padStart(2,"0")}`}return`${e}-03-${String(s).padStart(2,"0")}`},h=e=>{const t=fn(`${e}-01-01`);return(1===t.day()?t:t.add((8-t.day())%7,"day")).add(14,"day").format("YYYY-MM-DD")},f=e=>{const t=fn(`${e}-02-01`);return(1===t.day()?t:t.add((8-t.day())%7,"day")).add(14,"day").format("YYYY-MM-DD")},g=e=>{const t=fn(`${e}-05-31`);return(1===t.day()?t:t.subtract((t.day()+6)%7,"day")).format("YYYY-MM-DD")},v=e=>{const t=fn(`${e}-09-01`);return(1===t.day()?t:t.add((8-t.day())%7,"day")).format("YYYY-MM-DD")},_=e=>{const t=fn(`${e}-10-01`);return(1===t.day()?t:t.add((8-t.day())%7,"day")).add(7,"day").format("YYYY-MM-DD")},y=e=>{const t=fn(`${e}-11-01`);return(4===t.day()?t:t.add((11-t.day())%7,"day")).add(21,"day").format("YYYY-MM-DD")},M=e=>{const t=fn(`${e}-05-01`);return(0===t.day()?t:t.add(7-t.day(),"day")).add(7,"day").format("YYYY-MM-DD")},k=e=>{const t=fn(`${e}-06-01`);return(0===t.day()?t:t.add(7-t.day(),"day")).add(14,"day").format("YYYY-MM-DD")};R((()=>{return[{date:`${e=n.value}-01-01`,name:"New Year's Day"},{date:`${e}-06-19`,name:"Juneteenth"},{date:`${e}-07-04`,name:"Independence Day"},{date:`${e}-11-11`,name:"Veterans Day"},{date:`${e}-12-25`,name:"Christmas Day"},{date:h(e),name:"Martin Luther King Jr. Day"},{date:f(e),name:"Presidents' Day"},{date:g(e),name:"Memorial Day"},{date:v(e),name:"Labor Day"},{date:_(e),name:"Columbus Day"},{date:y(e),name:"Thanksgiving Day"},{date:l(e),name:"Easter Sunday"},{date:M(e),name:"Mother's Day"},{date:k(e),name:"Father's Day"},{date:`${e}-02-14`,name:"Valentine's Day"},{date:`${e}-03-17`,name:"St. Patrick's Day"},{date:`${e}-10-31`,name:"Halloween"},{date:`${e}-12-31`,name:"New Year's Eve"},{date:`${e}-11-01`,name:"All Saints' Day"}].filter((e=>e.date&&10===e.date.length));var e}));const C=(e,{source:n})=>{const r=i.value.find((t=>t.month()===e.month()&&t.year()===e.year()));if(!r||e.month()!==r.month())return;const a=e.month(),s=t[a],o=e.format("YYYY-MM-DD");un.value[s]||(un.value[s]=[]);const l=un.value[s].indexOf(o);-1===l?un.value[s].push(o):un.value[s].splice(l,1)},S=()=>{Object.keys(un.value).forEach((e=>{un.value[e]=[]})),A()},E=()=>{Object.keys(un.value).forEach((e=>{un.value[e]=[]}))},D=()=>{try{ln.value=!1,nt.SetNavVisiblity(!0);const e=P(),t=T(e);pt.value?tt.WebClient.UpdateEntry(t):tt.WsClient.UpdateEntry(t)}catch(e){W.Error(`Error saving annual schedule: ${e}`)}},T=e=>{if(null==Zt.value||null==Zt.value.t3Entry)return;const t=e,n=Zt.value.t3Entry.pid,i=Zt.value.t3Entry.index;Zt.value.t3Entry.type;const r={action:3,field:"value",value:-1,data:{data:t},panelId:n,entryIndex:i,entryType:17};return W.Debug(`PrepareMsgData: ${JSON.stringify(r)}`),r},A=()=>{var e,i;let r;if((null==(i=null==(e=Zt.value)?void 0:e.t3Entry)?void 0:i.data)&&Array.isArray(Zt.value.t3Entry.data))r=Zt.value.t3Entry.data;else{r=new Array(46).fill(0),r[0]=65,r[4]=32;const e=59+2,t=e%8;r[Math.floor(e/8)]=1<<t}Object.keys(un.value).forEach((e=>{un.value[e]=[]}));var a;let s;s=(a=n.value)%4==0&&(a%100!=0||a%400==0)?[0,31,60,91,121,152,182,213,244,274,305,335]:[0,31,59,90,120,151,181,212,243,273,304,334];for(let o=0;o<12;o++){const e=t[o];let i=0;if(0===o)for(let t=0;t<4&&t<r.length;t++)i|=r[t]<<8*t;else{const e=Math.floor(s[o]/8),t=s[o]%8;let n=BigInt(0);for(let i=0;i<5&&e+i<r.length;i++)n|=BigInt(r[e+i])<<BigInt(8*i);n>>=BigInt(t),n&=BigInt(4294967295),i=Number(n)}for(let t=0;t<31;t++)if(i>>t&1){const i=t+1,r=`${n.value}-${String(o+1).padStart(2,"0")}-${String(i).padStart(2,"0")}`,a=fn(r);a.isValid()&&a.month()===o&&i>0&&i<=31&&(un.value[e]||(un.value[e]=[]),un.value[e].includes(r)||un.value[e].push(r))}}},P=()=>{const e=new Array(46).fill(0);var i;let r;r=(i=n.value)%4==0&&(i%100!=0||i%400==0)?[0,31,60,91,121,152,182,213,244,274,305,335]:[0,31,59,90,120,151,181,212,243,273,304,334];for(let n=0;n<12;n++){const i=t[n];let a=0;if((un.value[i]||[]).forEach((e=>{const t=fn(e);if(t.isValid()&&t.month()===n){const e=t.date();e>=1&&e<=31&&(a|=1<<e-1)}})),0===n)for(let t=0;t<4;t++)e[t]=a>>8*t&255;else{const t=r[n];for(let n=0;n<31;n++)if(a>>n&1){const i=t+n,r=Math.floor(i/8),a=i%8;r<e.length&&(e[r]|=1<<a)}}}return e};return o((()=>{A()})),(e,o)=>(r(),u(L(yn),{theme:{token:{colorPrimary:"#0064c8"}}},{default:c((()=>[d(L(mn),{open:L(ln),"onUpdate:open":o[0]||(o[0]=e=>G(ln)?ln.value=e:null),width:"75vw",style:{top:"20px"},footer:null,wrapClassName:"t3-annual-modal",destroyOnClose:"",keyboard:"true",closable:!0},{default:c((()=>[p("div",_y,[d(L(gn),{type:"flex",justify:"space-between",align:"middle",style:{"margin-bottom":"20px"}},{default:c((()=>[d(L(vn),{style:{"margin-top":"5px","margin-left":"10px"}},{default:c((()=>[p("div",yy,[p("label",wy,m(`Annual Schedule for ${n.value}`),1)])])),_:1}),d(L(vn),{style:{"margin-right":"40px"}},{default:c((()=>[L(mt)?w("",!0):(r(),a("div",by,[d(L(wn),{class:"t3-btn",size:"small",type:"primary",onClick:S},{default:c((()=>[...o[1]||(o[1]=[I("Refresh From T3000",-1)])])),_:1}),d(L(wn),{class:"t3-btn",size:"small",onClick:E},{default:c((()=>[...o[2]||(o[2]=[I("Clear All",-1)])])),_:1}),d(L(wn),{class:"t3-btn",size:"small",onClick:D},{default:c((()=>[...o[3]||(o[3]=[I("Save Data",-1)])])),_:1})]))])),_:1})])),_:1})]),p("div",xy,[(r(!0),a(b,null,x(i.value,(e=>(r(),u(L(_n),{key:e.format("YYYY-MM"),value:e,fullscreen:!1,"header-render":()=>(({value:e})=>X("div",{style:"padding: 0px 0px;margin-left:10px;margin-bottom:5px"},[X("span",{style:"font-weight: bold; font-size: 14px;"},t[e.month()])]))({value:e}),onSelect:C,style:{flex:"1 1 220px","min-width":"220px","max-width":"1fr","font-size":"12px"}},{dateFullCellRender:c((({current:t})=>[t.month()===e.month()?(r(),a("div",My,[p("div",{style:q(s(t)?"background: linear-gradient(135deg, #1890ff 0%, #4bd666 100%); color: white; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; margin: auto;":"width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; margin: auto;")},m(t.date()),5)])):(r(),a("div",ky))])),_:2},1032,["value","header-render"])))),128))])])),_:1},8,["open"])])),_:1}))}});class Sy{static safeCall(e,t,...n){var i,r;if(e&&"function"==typeof e[t])try{return e[t](...n)}catch(a){if((null==(i=a.message)?void 0:i.includes("gesto"))||(null==(r=a.message)?void 0:r.includes('can\'t access property "unset"')))return;throw a}}static universalDestroy(e){var t,n;if(e)try{"function"==typeof e.destroy&&e.destroy(),"function"==typeof e.unset&&e.unset()}catch(i){!(null==(t=i.message)?void 0:t.includes("gesto"))&&(null==(n=i.message)||n.includes('can\'t access property "unset"'))}}}const Ey={class:"full-area"},Dy={class:"top-area"},Ty={class:"main-area"},Iy={key:0,class:"side-bar"},Ay={class:"work-area"},Py={class:"document-area"},Oy={key:0,class:"c-ruler"},Ny={key:1,class:"h-ruler"},Ly={key:2,class:"v-ruler"},zy={key:3,class:"hv-grid"},Ry={key:0},Fy={key:1},Hy={key:0},jy={key:1},Vy=["id"],By={class:"flex"},Uy={class:"flex flex-col items-center mt-4"},Wy={class:"text-xl text-center"},$y={class:"flex"},Gy={class:"flex flex-col items-center mt-4"},Yy={class:"text-xl text-center"};var qy=At({__name:"IndexPage",setup(e){var t;N((e=>({"5b07ace6":L(Tt).widthOffset,72048386:L(Tt).heightOffset})));we({title:"HVAC Drawer"});const i=new le,M=ye(),E=s(null),D=s([]),O=s({...Ft[0],type:"default"}),z=s(!1),H=s([0,0]),j=s(!0),B=s(!1),U=["Duct","Wall","Int_Ext_Wall"],$=s({addedCount:0,active:!1,uploadBtnLoading:!1,data:null}),G=s(!1),Y=R((()=>null===Mt.value.loadingPanel?100:parseInt(100*(Mt.value.loadingPanel+1/Mt.value.panelsList.length)))),X=s(!1),ue=tt.IdxPage.zoom;const ce=s({x:0,y:0}),de=s(null);function he(e,t){yt.value.active=e,yt.value.data=t}function fe(){tt.DeviceOpt.clearDirtyCurrentDevice(),yt.value.active=!0,vt.value.selectedTarget=[],vt.value.selectedTargets=[],vt.value.activeItemIndex=null,tt.DeviceOpt.refreshGraphicPanelElementCount(yt.value.data)}function me(e){ce.value.x=e.clientX-kt.left,ce.value.y=e.clientY-kt.top;const t=1/vt.value.viewportTransform.scale;if(z.value&&U.includes(O.value.name)&&null!==vt.value.activeItemIndex){const n=e.ctrlKey,i=(e.clientX-kt.left-vt.value.viewportTransform.x)*t,r=(e.clientY-kt.top-vt.value.viewportTransform.y)*t,a=i-H.value[0],s=r-H.value[1];let o=Math.atan2(s,a)*(180/Math.PI);n&&(o=5*Math.round(o/5));const l=Math.sqrt(a*a+s*s);vt.value.items[vt.value.activeItemIndex].rotate=o,vt.value.items[vt.value.activeItemIndex].width=l,be()}}function ge(){document.body.style.cursor="auto";document.querySelectorAll(".moveable-item").forEach((e=>{e.style.cursor=""}))}function be(){if(de.value)for(const e of de.value)e.refresh&&e.refresh()}function xe(e){"Move Object"!==e&&setTimeout((()=>{Rt(!1,!1),be()}),200),bt.value=[],wt.value.unshift({title:e,state:dt.exports.cloneDeep(vt.value)}),wt.value.length>20&&wt.value.pop()}function Me(e){Sy.safeCall(E,"clickTarget",e.inputEvent,e.inputTarget)}function ke(e){xe("Move Object"),mt.value||(document.body.style.cursor="grabbing",e.target.style.cursor="grabbing")}function Ce(e){vt.value.items.find((t=>`moveable-item-${t.id}`===e.target.id)),e.target.style.transform=e.transform}function Se(e){if(document.body.style.cursor="auto",e.target&&(e.target.style.cursor=""),e.lastEvent){vt.value.items.find((t=>`moveable-item-${t.id}`===e.target.id)).translate=e.lastEvent.beforeTranslate,Rt(!1,!1),be()}else wt.value.shift()}function Ee(e){xe("Move Group"),mt.value||(document.body.style.cursor="grabbing"),e.events.forEach(((e,t)=>{const n=vt.value.items.findIndex((t=>`moveable-item-${t.id}`===e.target.id));e.set(vt.value.items[n].translate),!mt.value&&e.target&&(e.target.style.cursor="grabbing")}))}function De(e){e.events.forEach(((e,t)=>{const n=vt.value.items.findIndex((t=>`moveable-item-${t.id}`===e.target.id));vt.value.items[n].translate=e.beforeTranslate}))}function Te(e){var t;document.body.style.cursor="auto",null==(t=e.events)||t.forEach((e=>{e.target&&(e.target.style.cursor="")})),e.lastEvent?be():wt.value.shift()}function Ie(e){const t=e.inputEvent.target;(_t.value.isMoveableElement(t)||vt.value.selectedTargets.some((e=>e===t||e.contains(t))))&&e.stop()}function Ae(e){var t;if(vt.value.selectedTargets=e.selected,(null==e?void 0:e.selected)&&!(null==(t=null==e?void 0:e.inputEvent)?void 0:t.ctrlKey)){const t=vt.value.items.filter((t=>e.selected.some((e=>e.id===`moveable-item-${t.id}`))));[...new Set(t.filter((e=>e.group)).map((e=>e.group)))].forEach((e=>{!function(e){const t=[];vt.value.items.filter((t=>t.group===e&&!vt.value.selectedTargets.some((e=>e.id===`moveable-item-${t.id}`)))).forEach((e=>{const n=document.querySelector(`#moveable-item-${e.id}`);t.push(n)})),vt.value.selectedTargets=vt.value.selectedTargets.concat(t),Sy.safeCall(E,"setSelectedTargets",vt.value.selectedTargets)}(e)}))}1===vt.value.selectedTargets.length?vt.value.activeItemIndex=vt.value.items.findIndex((e=>`moveable-item-${e.id}`===vt.value.selectedTargets[0].id)):vt.value.activeItemIndex=null,e.isDragStart&&(e.inputEvent.preventDefault(),setTimeout((()=>{_t.value.dragStart(e.inputEvent)}))),vt.value.selectedTargets.length>1&&!mt.value?setTimeout((()=>{G.value=!0}),100):G.value=!1,Wt.refreshMoveableGuides(),setTimeout((()=>{pe.Hvac.PageMain.SetWallDimensionsVisible("select",z.value,vt,null)}),100)}function Pe(e){xe("Resize object");const t=vt.value.items.findIndex((t=>`moveable-item-${t.id}`===e.target.id));e.setOrigin(["%","%"]),e.dragStart&&e.dragStart.set(vt.value.items[t].translate),document.body.style.cursor="nw-resize"}function Oe(e){const t=vt.value.items.find((t=>`moveable-item-${t.id}`===e.target.id));e.target.style.width=`${e.width}px`,e.target.style.height=`${e.height}px`,e.target.style.transform=`translate(${e.drag.beforeTranslate[0]}px, ${e.drag.beforeTranslate[1]}px) rotate(${t.rotate}deg) scaleX(${t.scaleX}) scaleY(${t.scaleY})`}function Ne(e){if(null===e.lastEvent||void 0===e.lastEvent)return void(document.body.style.cursor="auto");const t=vt.value.items.findIndex((t=>{var n,i;return`moveable-item-${t.id}`===(null==(i=null==(n=null==e?void 0:e.lastEvent)?void 0:n.target)?void 0:i.id)}));vt.value.items[t].width=e.lastEvent.width,vt.value.items[t].height=e.lastEvent.height,vt.value.items[t].translate=e.lastEvent.drag.beforeTranslate,pe.Hvac.PageMain.UpdateExteriorWallStroke(vt,t,e.lastEvent.height),be(),document.body.style.cursor="auto"}function Le(e){xe("Rotate object"),document.body.style.cursor="grab"}function ze(e){vt.value.items.find((t=>`moveable-item-${t.id}`===e.target.id)).rotate=e.rotate}function Re(e){be(),document.body.style.cursor="auto"}function Fe(e){be(),document.body.style.cursor="auto"}function He(e){B.value=!0,document.body.style.cursor="nw-resize"}function je(e){e.events.forEach(((e,t)=>{e.target.style.width=`${e.width}px`,e.target.style.height=`${e.height}px`,e.target.style.transform=e.drag.transform}))}function Ve(e){e.events.forEach((e=>{const t=vt.value.items.findIndex((t=>`moveable-item-${t.id}`===e.lastEvent.target.id));vt.value.items[t].width=e.lastEvent.width,vt.value.items[t].height=e.lastEvent.height,vt.value.items[t].translate=e.lastEvent.drag.beforeTranslate})),be(),B.value=!1,document.body.style.cursor="auto"}function Be(e){xe("Rotate Group"),e.events.forEach((e=>{const t=vt.value.items.findIndex((t=>`moveable-item-${t.id}`===e.target.id));e.set(vt.value.items[t].rotate),e.dragStart&&e.dragStart.set(vt.value.items[t].translate)})),document.body.style.cursor="grab"}function Ue(e){e.events.forEach(((e,t)=>{const n=vt.value.items.findIndex((t=>`moveable-item-${t.id}`===e.target.id));vt.value.items[n].translate=e.drag.beforeTranslate,vt.value.items[n].rotate=e.rotate}))}function We(e,t,n=!0){var i;n&&xe(`Add ${null!=(i=null==e?void 0:e.type)?i:""}`),vt.value.itemsCount++,e.id=vt.value.itemsCount,e.group=t,e.settings.titleColor||(e.settings.titleColor="inherit"),e.settings.bgColor||(e.settings.bgColor="inherit"),e.settings.textColor||(e.settings.textColor="inherit"),e.settings.fontSize||(e.settings.fontSize=16),vt.value.items.push(e);const r=document.querySelectorAll(".moveable-item");return vt.value.elementGuidelines=[],Array.from(r).forEach((function(e){vt.value.elementGuidelines.push(e)})),tt.DeviceOpt.refreshGraphicPanelElementCount(yt.value.data),e}function $e(e){var t;const n={width:e.rect.width,height:e.rect.height},i={clientX:e.clientX,clientY:e.clientY,top:e.rect.top,left:e.rect.left};if(("Pointer"===O.value.name||n.width<20||n.height<20)&&!U.includes(O.value.name))return void(z.value=!1);U.includes(O.value.name)&&n.height<20&&(n.height=O.value.height);const r=Ge(n,i);r&&U.includes(null!=(t=null==r?void 0:r.type)?t:"")&&setTimeout((()=>{z.value=!0,vt.value.selectedTargets=[],vt.value.items[vt.value.activeItemIndex].rotate=0,H.value=dt.exports.cloneDeep(r.translate)}),100)}function Ge(e,t,n){var i;if("libItem"===(n=n||O.value).type)return void function(e,t,n){const i=[],r=[];vt.value.groupCount++,e.forEach((e=>{r.push(ut(e,vt.value.groupCount))})),setTimeout((()=>{r.forEach((e=>{const t=document.querySelector(`#moveable-item-${e.id}`);i.push(t)})),vt.value.selectedTargets=i,Sy.safeCall(E,"setSelectedTargets",i),vt.value.activeItemIndex=null;const e=1/vt.value.viewportTransform.scale;setTimeout((()=>{_t.value.request("draggable",{x:(n.clientX-kt.left-vt.value.viewportTransform.x)*e-t.width*e,y:(n.clientY-kt.top-vt.value.viewportTransform.y)*e-t.height*e},!0),setTimeout((()=>{tt.IdxPage.refreshMoveable()}),1)}),10)}),10)}(n.items,e,t);const r=1/vt.value.viewportTransform.scale,a=dt.exports.cloneDeep(null==(i=Ft.find((e=>e.name===n.name)))?void 0:i.settings)||{},s=Object.keys(a).reduce(((e,t)=>(e[t]=a[t].value,e)),{});"G_Rectangle"===n.name&&(e.width=100);const o={title:null,active:!1,type:n.name,translate:[(t.left-kt.left-vt.value.viewportTransform.x)*r,(t.top-kt.top-vt.value.viewportTransform.y)*r],width:e.width*r,height:e.height*r,rotate:0,scaleX:1,scaleY:1,settings:s,zindex:1,t3Entry:null,showDimensions:!0};if("Image"===n.type&&(o.image=n,o.type=n.id),n.cat){const[e]=n.cat;o.cat=e}const l=We(o);return["Value","Icon","Switch"].includes(n.name)&&(Ct.value.active=!0),setTimeout((()=>{mt.value||(vt.value.activeItemIndex=vt.value.items.findIndex((e=>e.id===l.id)))}),10),setTimeout((()=>{if(mt.value)return;const e=document.querySelector(`#moveable-item-${l.id}`);vt.value.selectedTargets=[e],Sy.safeCall(E,"setSelectedTargets",[e])}),100),l}function Ye(e,t="default"){O.value=e,"string"==typeof e&&(O.value=Ft.find((t=>t.name===e))),O.value.type=t}function qe(e,t=!1){e&&(xe("Rotate object"),e.rotate=t?e.rotate-90:e.rotate+90,tt.IdxPage.refreshMoveable())}function Xe(e){xe("Flip object H"),1===e.scaleX?e.scaleX=-1:e.scaleX=1,tt.IdxPage.refreshMoveable()}function Ze(e){xe("Flip object V"),1===e.scaleY?e.scaleY=-1:e.scaleY=1,tt.IdxPage.refreshMoveable()}function Je(e){xe("Bring object to front"),e.zindex=e.zindex+1}function Ke(e){xe("Send object to back"),e.zindex=e.zindex-1}function Qe(e){xe("Remove object");const t=vt.value.items.findIndex((t=>t.id===e.id));vt.value.activeItemIndex=null,vt.value.items.splice(t,1),vt.value.selectedTargets=[],tt.DeviceOpt.refreshGraphicPanelElementCount(yt.value.data)}function et(e){xe(`Duplicate ${e.type}`),vt.value.activeItemIndex=null;const t=ut(e);vt.value.selectedTargets=[],setTimeout((()=>{!function(e){const t=document.querySelector(`#moveable-item-${e.id}`);vt.value.selectedTargets=[t],vt.value.activeItemIndex=vt.value.items.findIndex((t=>t.id===e.id))}(t)}),10)}function ut(e,t){const n=dt.exports.cloneDeep(e);n.translate[0]=n.translate[0]+5,n.translate[1]=n.translate[1]+5;return We(n,t,!1)}function ct(e){}function ht(e,t){tt.IdxPage.T3UpdateEntryField(e,t)}function ft(e){Rt(!1,!0)}function At(e){return!e.inputEvent.altKey}function Pt(){xe("Link object to T3000 entry"),vt.value.items[vt.value.activeItemIndex].settings.t3EntryDisplayField||(void 0===vt.value.items[vt.value.activeItemIndex].label?vt.value.items[vt.value.activeItemIndex].settings.t3EntryDisplayField="description":vt.value.items[vt.value.activeItemIndex].settings.t3EntryDisplayField="label");if(void 0!==Ct.value.data.value&&null!==Ct.value.data.value&&Ct.value.data.value>=1e3&&(Ct.value.data.value=Ct.value.data.value/1e3),vt.value.items[vt.value.activeItemIndex].t3Entry=dt.exports.cloneDeep(l(Ct.value.data)),"Icon"===vt.value.items[vt.value.activeItemIndex].type){let e="fa-solid fa-camera-retro";"GRP"===Ct.value.data.type?e="fa-solid fa-camera-retro":"SCHEDULE"===Ct.value.data.type?e="schedule":"PROGRAM"===Ct.value.data.type?e="fa-solid fa-laptop-code":"HOLIDAY"===Ct.value.data.type&&(e="calendar_month"),vt.value.items[vt.value.activeItemIndex].settings.icon=e}Wt.refreshObjectStatus(vt.value.items[vt.value.activeItemIndex]),Ct.value.data=null,Ct.value.active=!1}function Ot(e,t){t(""!==e?()=>{const t=e.toUpperCase();St.value=Mt.value.panelsData.filter((e=>{var n,i;return e.command.toUpperCase().indexOf(t)>-1||(null==(n=e.description)?void 0:n.toUpperCase().indexOf(t))>-1||(null==(i=e.label)?void 0:i.toUpperCase().indexOf(t))>-1}))}:()=>{St.value=Mt.value.panelsData})}o((()=>{tt.IdxPage.initQuasar(M),tt.IdxPage.initPage()})),F((()=>{Sy.universalDestroy(E)})),S((()=>{tt.IdxPage.clearAutoSaveInterval(),tt.WsClient.clearInitialDataInterval(),tt.IdxPage.clearIdx()}));const Nt=s(0);function Lt(e){xe("Insert object to T3000 entry");const t=Ge({width:60,height:60},{clientX:300,clientY:100,top:100,left:200+80*Nt.value},Ft.find((e=>"Pump"===e.name))),n=vt.value.items.findIndex((e=>e.id===t.id));vt.value.activeItemIndex=n,function(){xe("Link object to T3000 entry"),vt.value.items[vt.value.activeItemIndex].settings.t3EntryDisplayField||(void 0===vt.value.items[vt.value.activeItemIndex].label?vt.value.items[vt.value.activeItemIndex].settings.t3EntryDisplayField="description":vt.value.items[vt.value.activeItemIndex].settings.t3EntryDisplayField="label");if(vt.value.items[vt.value.activeItemIndex].t3Entry=dt.exports.cloneDeep(l(rt.value.data)),"Icon"===vt.value.items[vt.value.activeItemIndex].type){let e="fa-solid fa-camera-retro";"GRP"===rt.value.data.type?e="fa-solid fa-camera-retro":"SCHEDULE"===rt.value.data.type?e="schedule":"PROGRAM"===rt.value.data.type?e="fa-solid fa-laptop-code":"HOLIDAY"===rt.value.data.type&&(e="calendar_month"),vt.value.items[vt.value.activeItemIndex].settings.icon=e}Wt.refreshObjectStatus(vt.value.items[vt.value.activeItemIndex]),rt.value.data=null,rt.value.active=!1}(),Nt.value++}function zt(){}function Rt(e=!1,t=!1){tt.IdxPage.save(e,t)}function Ht(){tt.IdxPage.refreshMoveable()}function jt(){var e;(null==(e=vt.value.items)?void 0:e.length)>0?M.dialog({dark:!0,title:"Do you want to clear the drawing and start over?",message:"This will also erase your undo history",cancel:!0,persistent:!0}).onOk((()=>{tt.IdxPage.newProject()})).onCancel((()=>{})):tt.IdxPage.newProject()}function Vt(){var e,t;Ct.value.active=!0,(null==(e=vt.value.items[vt.value.activeItemIndex])?void 0:e.t3Entry)&&(Ct.value.data=dt.exports.cloneDeep(null==(t=vt.value.items[vt.value.activeItemIndex])?void 0:t.t3Entry))}function Bt(){xe("Remove selected objects"),vt.value.selectedTargets.length>0&&(vt.value.selectedTargets.forEach((e=>{const t=vt.value.items.findIndex((t=>`moveable-item-${t.id}`===e.id));-1!==t&&vt.value.items.splice(t,1)})),vt.value.selectedTargets=[],vt.value.activeItemIndex=null,tt.DeviceOpt.refreshGraphicPanelElementCount(yt.value.data))}function Ut(e){const t=1/vt.value.viewportTransform.scale,n=e[0].translate[0];e[0].translate[1];const i=Math.min(...e.map((e=>e.translate[0])));let r=Math.min(...e.map((e=>e.translate[1])));const a=Math.max(...e.map((e=>e.translate[0]+e.width))),s=Math.max(...e.map((e=>e.translate[1]+e.height)));let o=n<i?n:i;const l=e.reduce(((e,t)=>{const n=t.rotate*Math.PI/180,i=Math.cos(n),r=Math.sin(n);return[{x:t.translate[0],y:t.translate[1]},{x:t.translate[0]+t.width*i,y:t.translate[1]+t.width*r},{x:t.translate[0]-t.height*r,y:t.translate[1]+t.height*i},{x:t.translate[0]+t.width*i-t.height*r,y:t.translate[1]+t.width*r+t.height*i}].forEach((t=>{e.minX=Math.min(e.minX,t.x),e.minY=Math.min(e.minY,t.y),e.maxX=Math.max(e.maxX,t.x),e.maxY=Math.max(e.maxY,t.y)})),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});l.minX,l.minY,l.maxX,l.minX,l.maxY,l.minY;const u=e.map((e=>{var t;return null!=(t=null==e?void 0:e.type)?t:""})).join("-");let c=e[0].zindex;e.forEach((e=>{e.zindex=c-1,c=e.zindex}));const d=e.every((e=>{var t;return"Duct"===(null!=(t=null==e?void 0:e.type)?t:"")}));if(d){const t=function(e){const t=[];return e.map((e=>{const n=document.querySelector(`#moveable-item-${e.id} .duct-start`),i=document.querySelector(`#moveable-item-${e.id} .duct-end`),r=Yt(n),a=Yt(i);t.push({id:e.id,isStartOverlap:r,isEndOverlap:a})})),t}(e);e.forEach((e=>{const n=t.find((t=>t.id===e.id));n&&(e.overlap={isStartOverlap:n.isStartOverlap,isEndOverlap:n.isEndOverlap})}))}We({title:`Weld-${u}`,active:!1,cat:"General",type:d?"Weld_Duct":"Weld_General",translate:[o,r],width:(a-i)*t+8,height:(s-r)*t+8,rotate:0,scaleX:1,scaleY:1,settings:{active:!1,fillColor:"#659dc5",fontSize:16,inAlarm:!1,textColor:"inherit",titleColor:"inherit"},weldItems:dt.exports.cloneDeep(e),zindex:1,t3Entry:null,id:vt.value.itemsCount+1})}function Gt(e){const{left:t,top:n,pos1:i,pos2:r,pos3:a,pos4:s}=e;return[i,r,s,a].map((e=>[t+e[0],n+e[1]]))}function Yt(e){const t=e.closest(".moveable-item.Duct"),n=st(e),i=document.querySelectorAll(".moveable-item.Duct");for(const r of Array.from(i)){if(t.isSameNode(r))continue;const e=st(r),i=Gt(n),a=Gt(e);if(lt(i,a)>0)return!0}return!1}function qt(){if(vt.value.selectedTargets.length<2)return;if(vt.value.items.filter((e=>vt.value.selectedTargets.some((t=>t.id===`moveable-item-${e.id}`)))).some((e=>{var t;return"Weld"===(null!=(t=null==e?void 0:e.type)?t:"")})))return void M.notify({type:"warning",message:"Currently not supported!"});xe("Weld selected objects");const e=vt.value.items.filter((e=>vt.value.selectedTargets.some((t=>t.id===`moveable-item-${e.id}`)))),t=e.every((e=>"General"===e.cat)),n=e.every((e=>{var t;return"Duct"===(null!=(t=null==e?void 0:e.type)?t:"")}));t||n?Ut(e):function(e){const t=1/vt.value.viewportTransform.scale,n=e[0].translate[0];e[0].translate[1];const i=Math.min(...e.map((e=>e.translate[0]))),r=Math.min(...e.map((e=>e.translate[1]))),a=Math.max(...e.map((e=>e.translate[0]+e.width))),s=Math.max(...e.map((e=>e.translate[1]+e.height))),o=n<i?n:i,l=e.map((e=>{var t;return null!=(t=null==e?void 0:e.type)?t:""})).join("-");let u=e[0].zindex;e.forEach((e=>{e.zindex=u-1,u=e.zindex})),We({title:`Weld-${l}`,active:!1,type:"Weld",translate:[o,r],width:(a-i)*t,height:(s-r)*t,rotate:0,scaleX:1,scaleY:1,settings:{active:!1,fillColor:"#659dc5",fontSize:16,inAlarm:!1,textColor:"inherit",titleColor:"inherit",weldItems:dt.exports.cloneDeep(e)},zindex:1,t3Entry:null,id:vt.value.itemsCount+1})}(e),e.forEach((e=>{const t=vt.value.items.findIndex((t=>t.id===e.id));-1!==t&&vt.value.items.splice(t,1)})),tt.DeviceOpt.refreshGraphicPanelElementCount(yt.value.data),tt.IdxPage.refreshMoveable()}function Xt(){wt.value.length<1||(bt.value.unshift({title:null,state:dt.exports.cloneDeep(vt.value)}),vt.value=dt.exports.cloneDeep(wt.value[0].state),wt.value.shift(),tt.IdxPage.refreshMoveable(),tt.DeviceOpt.refreshGraphicPanelElementCount(yt.value.data))}function Kt(){bt.value.length<1||(wt.value.unshift({title:null,state:dt.exports.cloneDeep(vt.value)}),vt.value=dt.exports.cloneDeep(bt.value[0].state),bt.value.shift(),tt.IdxPage.refreshMoveable(),tt.DeviceOpt.refreshGraphicPanelElementCount(yt.value.data))}function Qt(e){}function rn(e){return new Promise(((t,n)=>{var i=new FileReader;i.onload=()=>{t(i.result)},i.onerror=n,i.readAsDataURL(e)}))}async function an(e){if(user.value)return void $t.post("hvacTools",{json:{name:e.name,fileId:e.id}}).then((async e=>{M.notify({color:"positive",message:"Image successfully saved"});!function(e){const t=Et.value.images.findIndex((t=>t.id==="IMG-"+e.id));-1!==t&&Et.value.images.splice(t,1);Et.value.images.push({id:"IMG-"+e.id,dbId:e.id,name:e.name,path:{}.API_URL+"/file/"+e.file.path,online:!0})}(await e.json())})).catch((e=>{M.notify({color:"negative",message:e.message})}));Et.value.imagesCount++;const t={action:9,filename:e.name,fileLength:e.size,fileData:await rn(e.data)};pt.value?tt.WebClient.SaveImage(t):tt.WsClient.SaveImage(t)}i.keyup((e=>{"ctrl"===e.key&&(j.value=!0)})),i.keydown((e=>{"esc"===e.key&&(Ye(Ft[0]),gt.value.length>1&&Hn(),z.value&&(z.value=!1,Xt())),"ctrl"===e.key&&(j.value=!1),vt.value.selectedTargets.length<1||(["up","down","left","right"].includes(e.key)&&xe("Move object"),"up"===e.key?_t.value.request("draggable",{deltaX:0,deltaY:-5},!0):"down"===e.key?_t.value.request("draggable",{deltaX:0,deltaY:5},!0):"left"===e.key?_t.value.request("draggable",{deltaX:-5,deltaY:0},!0):"right"===e.key?_t.value.request("draggable",{deltaX:5,deltaY:0},!0):"delete"===e.key&&Bt(),["up","down","left","right"].includes(e.key)&&tt.IdxPage.refreshMoveable())})),i.keydown(["ctrl","s"],(e=>{e.inputEvent.preventDefault(),Rt(!0,!0)})),i.keydown(["ctrl","z"],(e=>{e.inputEvent.preventDefault(),mt.value||Xt()})),i.keydown(["ctrl","y"],(e=>{e.inputEvent.preventDefault(),mt.value||Kt()})),i.keydown(["ctrl","r"],(e=>{e.inputEvent.preventDefault(),jt()})),i.keydown(["ctrl","d"],(e=>{e.inputEvent.preventDefault(),gn()})),i.keydown(["ctrl","g"],(e=>{e.inputEvent.preventDefault(),vn()})),i.keydown(["ctrl","shift","g"],(e=>{e.inputEvent.preventDefault(),_n()})),i.keydown(["ctrl","c"],(e=>{document.activeElement.matches(".viewport")&&(e.inputEvent.preventDefault(),Un())})),i.keydown(["ctrl","v"],(e=>{document.activeElement.matches(".viewport")&&(e.inputEvent.preventDefault(),Wn())})),i.keydown(["ctrl","b"],(e=>{e.inputEvent.preventDefault(),qt()})),i.keydown(["insert"],(e=>{pe.Hvac.KiOpt.InsertT3EntryDialog()}));const sn=s({active:!1,data:{settings:null==(t=Ft.find((e=>"Gauge"===e.name)))?void 0:t.settings}});function fn(e){sn.value.active=!0,sn.value.data=e}function pn(e){const t=vt.value.items.findIndex((t=>t.id===e.id));vt.value.items[t]=e,sn.value.active=!1,sn.value.data={}}async function mn(e){const t=await e.data.text();$.value.data=t,function(){var e,t;const n=JSON.parse($.value.data);if(!(null==(e=n.items)?void 0:e[0].type))return void M.notify({message:"Error, Invalid json file",color:"negative",icon:"error",actions:[{label:"Dismiss",color:"white",handler:()=>{}}]});if((null==(t=vt.value.items)?void 0:t.length)>0)return void M.dialog({dark:!0,title:"You have unsaved drawing!",message:"Before proceeding with the import, please note that any unsaved drawing will be lost,\n           and your undo history will also be erased. Are you sure you want to proceed?",cancel:!0,persistent:!0}).onOk((()=>{wt.value=[],bt.value=[],$.value.active=!1,vt.value=n,$.value.data=null,setTimeout((()=>{Wt.refreshMoveableGuides()}),100),tt.IdxPage.refreshMoveable(),tt.DeviceOpt.refreshGraphicPanelElementCount(yt.value.data)})).onCancel((()=>{$.value.active=!1}));wt.value=[],bt.value=[],$.value.active=!1,vt.value=n,$.value.data=null,setTimeout((()=>{Wt.refreshMoveableGuides()}),100),tt.IdxPage.refreshMoveable(),tt.DeviceOpt.refreshGraphicPanelElementCount(yt.value.data)}()}function gn(){if(vt.value.selectedTargets.length<1)return;xe("Duplicate the selected objects");const e=[],t={};vt.value.selectedTargets.forEach((n=>{const i=vt.value.items.find((e=>`moveable-item-${e.id}`===n.id));if(i){let n;i.group&&(t[`${i.group}`]||(vt.value.groupCount++,t[`${i.group}`]=vt.value.groupCount),n=t[`${i.group}`]);const r=ut(i,n);setTimeout((()=>{const t=document.querySelector(`#moveable-item-${r.id}`);e.push(t)}),10)}})),setTimeout((()=>{vt.value.selectedTargets=e,Sy.safeCall(E,"setSelectedTargets",e),vt.value.activeItemIndex=null}),20)}function vn(){vt.value.selectedTargets.length<2||(xe("Group the selected objects"),vt.value.selectedTargets.length>0&&(vt.value.groupCount++,vt.value.selectedTargets.forEach((e=>{const t=vt.value.items.find((t=>`moveable-item-${t.id}`===e.id));t&&(t.group=vt.value.groupCount)}))))}function _n(){vt.value.selectedTargets.length<2||(xe("Ungroup the selected objects"),vt.value.selectedTargets.length>0&&vt.value.selectedTargets.forEach((e=>{const t=vt.value.items.find((t=>`moveable-item-${t.id}`===e.id));t&&(t.group=void 0)})))}function yn(e,t){const n=vt.value.items[vt.value.activeItemIndex];switch(e){case"newProject":jt();break;case"importJsonAction":$.value.active=!0;break;case"exportToJsonAction":!function(){const e=dt.exports.cloneDeep(l(vt.value));e.selectedTargets=[],e.elementGuidelines=[];const t=document.createElement("a"),n=new Blob([JSON.stringify(e)],{type:"application/json"});t.href=URL.createObjectURL(n),t.download="HVAC_Drawer_Project.json",t.click()}();break;case"save":Rt(!0,!0);break;case"undoAction":Xt();break;case"redoAction":Kt();break;case"duplicateSelected":gn();break;case"groupSelected":vn();break;case"ungroupSelected":_n();break;case"addToLibrary":Vn();break;case"deleteSelected":Bt();break;case"weldSelected":qt();break;case"duplicateObject":et(n);break;case"rotate90":qe(n);break;case"rotate-90":qe(n,!0);break;case"flipH":Xe(n);break;case"flipV":Ze(n);break;case"bringToFront":Je(n);break;case"sendToBack":Ke(n);break;case"removeObject":Qe(n);break;case"zoomOut":tt.IdxPage.zoomAction("out");break;case"zoomIn":tt.IdxPage.zoomAction();break;case"zoomSet":tt.IdxPage.zoomAction("set",t);break;case"copy":Un();break;case"paste":Wn();break;case"link":Vt();break;case"convertObjectType":Xn(n,t);break;case"toggleRulersGrid":!function(e){Dt.value="Enable"===e,vt.value.rulersGridVisible=Dt.value,Rt(!1,!1)}(t)}}function wn(){Mt.value.loadingPanel=null,pt.value?tt.WebClient.GetPanelsList():tt.WsClient.GetPanelsList()}function xn(e){let t="";return(e.description&&e.id!==e.description||!e.description&&e.id!==e.label)&&(t=e.id+" - "),e.description||e.label||(t=e.id),t+(e.description||e.label||"")}function Mn(){vt.value.activeItemIndex=null,vt.value.selectedTargets=[],mt.value=!mt.value,vt.value.locked=mt.value,document.body.style.cursor="auto";document.querySelectorAll(".moveable-item").forEach((e=>{e.style.cursor=""})),mt.value&&Ye("Pointer"),at.restDocumentAreaPosition()}function kn(e){var t,n,i,r,a;if("GRP"===(null==(t=e.t3Entry)?void 0:t.type)){const t={action:7,panelId:e.t3Entry.pid,entryIndex:e.t3Entry.index};it.SaveGrpSwitch(t),pt.value?tt.WebClient.LoadGraphicEntry(t):tt.WsClient.LoadGraphicEntry(t)}else if(["SCHEDULE","PROGRAM","HOLIDAY"].includes(null==(n=e.t3Entry)?void 0:n.type)){const t={action:8,panelId:e.t3Entry.pid,entryType:It[e.t3Entry.type],entryIndex:e.t3Entry.index};pt.value?tt.WebClient.OpenEntryEditWindow(t):tt.WsClient.OpenEntryEditWindow(t)}else 1===(null==(i=e.t3Entry)?void 0:i.auto_manual)&&0===(null==(r=e.t3Entry)?void 0:r.digital_analog)&&(null==(a=e.t3Entry)?void 0:a.range)&&(e.t3Entry.control=1===e.t3Entry.control?0:1,ht("control",e));!function(){if(vt.value.selectedTargets.length>1)Dn.value=!1,On.value=!1,Ln.value=!1;else if(1===vt.value.selectedTargets.length){const e=vt.value.items.find((e=>`moveable-item-${e.id}`===vt.value.selectedTargets[0].id));null!==e.t3Entry?(Dn.value=!0,Rn(e)):(Dn.value=!1,On.value=!1,Ln.value=!1)}}()}function Cn(e,t,n){const i=n?"control":"value",r=vt.value.items.find((t=>t.id===e.id));r.t3Entry[i]=t,ht(i,r)}function En(e){mt.value&&(e.t3Entry.auto_manual=e.t3Entry.auto_manual?0:1,ht("auto_manual",e))}R((()=>dn.value?[{key:"1",property:"ID",value:dn.value.id},{key:"2",property:"Description",value:dn.value.description},{key:"3",property:"Panel",value:dn.value.panel}]:[]));const Dn=s(!1),Tn=s(!1),In=s("Auto"),An=s("Off"),Pn=s(!1),On=s(!1),Nn=s(!1),Ln=s(!1),zn=s(0);function Rn(e,t){null!==e.t3Entry?(Tn.value=!0,1===e.t3Entry.auto_manual?(In.value="Manual",Pn.value=!1,Nn.value=!1):(In.value="Auto",Pn.value=!0,Nn.value=!0),0===e.t3Entry.digital_analog?On.value=!0:On.value=!1,1===e.t3Entry.control?An.value="On":An.value="Off",1===e.t3Entry.digital_analog&&101!==e.t3Entry.range?(Ln.value=!0,zn.value=1*e.t3Entry.value):Ln.value=!1):Tn.value=!1}function Fn(e,t,n){"mode"===t&&("Auto"===In.value?(Pn.value=!0,Nn.value=!0):(Pn.value=!1,Nn.value=!1),e.t3Entry.auto_manual="Auto"===In.value?0:1,ht("auto_manual",e)),"value"==t&&(e.t3Entry.control="Off"===An.value?0:1,ht("control",e)),"number-value"===t&&(e.t3Entry.value=1*zn.value,ht("value",e)),Rt(!1,!0)}function Hn(){if(gt.value.length>1){const e=gt.value[gt.value.length-2],t={action:7,panelId:e.pid,entryIndex:e.index};it.RemoveLatestGrpSwitch(),pt.value?tt.WebClient.LoadGraphicEntry(t):tt.WsClient.LoadGraphicEntry(t)}else if(pt.value)tt.WebClient.GetInitialData();else{const e=tt.DeviceOpt.getCurrentDevice(),t=e.panelId,n=e.graphic;tt.WsClient.GetInitialData(t,n,!0)}}function jn(){wt.value.shift()}async function Vn(){if(vt.value.selectedTargets.length<1||mt.value)return;const e=vt.value.items.filter((e=>vt.value.selectedTargets.some((t=>t.id===`moveable-item-${e.id}`))));let t=!1;const n=dt.exports.cloneDeep(e);Et.value.objLibItemsCount++;let i=null;user.value&&(t=!0,$t.post("hvacObjectLibs",{json:{label:"Item "+Et.value.objLibItemsCount,items:n.map((e=>(delete e.id,e)))}}).then((async e=>{i=await e.json(),M.notify({type:"positive",message:"Successfully saved to library"}),Et.value.objLib.push({id:(null==i?void 0:i.id)||Et.value.objLibItemsCount,label:"Item "+Et.value.objLibItemsCount,items:i.items,online:t}),Wt.saveLib()})).catch((e=>{M.notify({type:"negative",message:e.message})}))),Et.value.objLib.push({id:(null==i?void 0:i.id)||Et.value.objLibItemsCount,label:"Item "+Et.value.objLibItemsCount,items:n,online:t}),Wt.saveLib()}function Bn(e=!1){_t.value.request("rotatable",{deltaRotate:e?-90:90},!0),tt.IdxPage.refreshMoveable()}function Un(){if(mt.value)return;if(0===vt.value.selectedTargets.length)return;const e=vt.value.items.filter((e=>vt.value.selectedTargets.some((t=>t.id===`moveable-item-${e.id}`))));localStorage.setItem("clipboard",JSON.stringify(e)),X.value=!0}function Wn(){if(mt.value)return;let e=[];const t=localStorage.getItem("clipboard");if(t&&(e=JSON.parse(t)),!e)return;xe("Paste");const n=[],i=[];e.forEach((e=>{i.push(ut(e))})),setTimeout((()=>{i.forEach((e=>{const t=document.querySelector(`#moveable-item-${e.id}`);n.push(t)})),vt.value.selectedTargets=n,Sy.safeCall(E,"setSelectedTargets",n),vt.value.activeItemIndex=null}),10)}function $n(e){user.value&&e.online&&$t.delete("hvacObjectLibs/"+e.id).then((async()=>{M.notify({type:"positive",message:"Successfully deleted"})})).catch((e=>{M.notify({type:"negative",message:e.message})}));const t=Et.value.objLib.findIndex((t=>t.name===e.name));-1!==t&&Et.value.objLib.splice(t,1),Wt.saveLib()}function Gn(e,t){user.value&&e.online&&$t.patch("hvacObjectLibs/"+e.id,{json:{label:t}}).then((async()=>{M.notify({type:"positive",message:"Successfully updated"})})).catch((e=>{M.notify({type:"negative",message:e.message})}));const n=Et.value.objLib.findIndex((t=>t.name===e.name));-1!==n&&(Et.value.objLib[n].label=t),Wt.saveLib()}function qn(e){e.online&&$t.delete("hvacTools/"+e.dbId||e.id.slice(4)).then((async()=>{M.notify({type:"positive",message:"Successfully deleted"})})).catch((e=>{M.notify({type:"negative",message:e.message})}));const t=Et.value.images.findIndex((t=>t.name===e.name));if(-1!==t&&(Et.value.images.splice(t,1),!e.online)){if(Et.value.images.length<=0)return;const e=dt.exports.cloneDeep(Et.value.images[t].path);pt.value?tt.WebClient.DeleteImage(l(e)):tt.WsClient.DeleteImage(l(e)),Wt.saveLib()}}function Xn(e,t){var n;if(e||(e=vt.value.items[vt.value.activeItemIndex]),!e)return;xe("Convert object to "+t);const i=dt.exports.cloneDeep(null==(n=Ft.find((e=>e.name===t)))?void 0:n.settings)||{},r=Object.keys(i).reduce(((e,t)=>(e[t]=i[t].value,e)),{}),a={};for(const o in r)Object.hasOwnProperty.call(r,o)&&(void 0!==e.settings[o]?a[o]=e.settings[o]:a[o]=r[o]);const s=["bgColor","textColor","title","t3EntryDisplayField"];for(const o of s)void 0===a[o]&&(a[o]=e.settings[o]);e.type=t,e.settings=a}function Zn(e,t){Ge("Int_Ext_Wall"===t.name?{width:200,height:10}:{width:60,height:60},{clientX:e.clientX,clientY:e.clientY,top:e.clientY,left:e.clientX},t)}const Jn=(e,t)=>{vt.value.items.map((n=>{var i;"Weld"===(null!=(i=null==n?void 0:n.type)?i:"")&&n.id===e.id&&(n.settings.weldItems=t)}))},Kn=(e,t)=>{vt.value.items.map((n=>{var i,r,a,s,o;if(("Weld_General"===(null!=(i=null==n?void 0:n.type)?i:"")||"Weld_Duct"===(null!=(r=null==n?void 0:n.type)?r:""))&&n.id===e.id){const e=null==(a=null==n?void 0:n.weldItems[0])?void 0:a.translate[0],i=null==(s=null==n?void 0:n.weldItems[0])?void 0:s.translate[1];null==(o=null==n?void 0:n.weldItems)||o.forEach((n=>{const r=null==t?void 0:t.find((e=>{var t;return(null==(t=null==e?void 0:e.item)?void 0:t.id)===(null==n?void 0:n.id)}));r&&(n.width=r.newPos.width,n.height=r.newPos.height,n.translate[0]=e+r.newPos.trsx,n.translate[1]=i+r.newPos.trsy)}))}}))};function Qn(e){e.preventDefault();mt.value||"Pointer"===O.value.name||"Wall"==O.value.name||z.value||"Int_Ext_Wall"==O.value.name||"Duct"==O.value.name||($e({rect:{width:60,height:60,top:e.clientY,left:e.clientX},clientX:e.clientX,clientY:e.clientY}),Ye(Ft[0]))}function ei(e){e.preventDefault(),Ye(Ft[0]),z.value&&(z.value=!1,Xt(),setTimeout((()=>{be()}),10),pe.Hvac.PageMain.ClearItemsWithZeroWidth(vt),pe.Hvac.PageMain.SetWallDimensionsVisible("all",z.value,vt,!1))}return(e,t)=>(r(),a(b,null,[d(ae,{style:{"background-color":"#ebeced"}},{default:c((()=>{var i,s,o;return[p("div",Ey,[p("div",Dy,[L(pt)&&!L(mt)?(r(),u(gi,{key:0,onMenuAction:yn,object:L(vt).items[L(vt).activeItemIndex],"selected-count":null==(i=L(vt).selectedTargets)?void 0:i.length,"disable-undo":L(mt)||L(wt).length<1,"disable-redo":L(mt)||L(bt).length<1,"disable-paste":L(mt)||!X.value,zoom:L(ue),rulersGridVisible:L(Dt)},null,8,["object","selected-count","disable-undo","disable-redo","disable-paste","zoom","rulersGridVisible"])):w("",!0),L(pt)||L(mt)||!L(en)?w("",!0):(r(),u(Fl,{key:1,locked:L(mt),onLockToggle:Mn,onNavGoBack:Hn,onMenuAction:yn,object:L(vt).items[L(vt).activeItemIndex],"selected-count":null==(s=L(vt).selectedTargets)?void 0:s.length,"disable-undo":L(mt)||L(wt).length<1,"disable-redo":L(mt)||L(bt).length<1,"disable-paste":L(mt)||!X.value,zoom:L(ue),rulersGridVisible:L(Dt),deviceModel:L(yt),onShowMoreDevices:fe},null,8,["locked","object","selected-count","disable-undo","disable-redo","disable-paste","zoom","rulersGridVisible","deviceModel"]))]),p("div",Ty,[!L(mt)&&L(tn)?(r(),a("div",Iy,[!L(mt)&&L(tn)?(r(),u(Ii,{key:0,"selected-tool":O.value,images:L(Et).images,"object-lib":L(Et).objLib,onSelectTool:Ye,onDeleteLibItem:$n,onRenameLibItem:Gn,onDeleteLibImage:qn,onSaveLibImage:an,onToolDropped:Zn,isBuiltInEdge:L(pt)},null,8,["selected-tool","images","object-lib","isBuiltInEdge"])):w("",!0)])):w("",!0),p("div",Ay,[p("div",Py,[!L(mt)&&L(Dt)?(r(),a("div",Oy)):w("",!0),!L(mt)&&L(Dt)?(r(),a("div",Ny,[d(hr,{id:"h-ruler",documentArea:L(Tt)},null,8,["documentArea"])])):w("",!0),!L(mt)&&L(Dt)?(r(),a("div",Ly,[d(mr,{id:"v-ruler",documentArea:L(Tt)},null,8,["documentArea"])])):w("",!0),!L(mt)&&L(Dt)?(r(),a("div",zy,[d(_r,{id:"hv-grid",documentArea:L(Tt)},null,8,["documentArea"])])):w("",!0),p("div",{class:"viewport-wrapper",onScroll:t[11]||(t[11]=(...t)=>e.handleScroll&&e.handleScroll(...t))},[p("div",{class:V(["flex fixed top-20 ml-10 z-50 nav-btns",{locked:L(mt)}])},[(null==(o=L(gt))?void 0:o.length)>1?(r(),u(v,{key:0,icon:"arrow_back",class:"back-btn mr-2",dense:"",round:"",size:"md",color:"primary",onClick:Hn},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[23]||(t[23]=[p("strong",null,"Go back",-1)])])),_:1})])),_:1})):w("",!0),L(pt)?(r(),u(v,{key:1,icon:L(mt)?"lock_outline":"lock_open",class:"lock-btn",flat:"",round:"",dense:"",size:"md",color:L(mt)?"primary":"normal",onClick:Mn},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[L(mt)?(r(),a("strong",Fy,"Unlock")):(r(),a("strong",Ry,"Lock"))])),_:1})])),_:1},8,["icon","color"])):w("",!0)],2),p("div",null,[!L(pt)&&L(mt)?(r(),u(v,{key:0,icon:L(mt)?"lock_outline":"lock_open",class:"lock-btn",flat:"",round:"",dense:"",size:"md",color:L(mt)?"primary":"normal",onClick:Mn},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[L(mt)?(r(),a("strong",jy,"Unlock")):(r(),a("strong",Hy,"Lock"))])),_:1})])),_:1},8,["icon","color"])):w("",!0)]),p("div",{class:"viewport",tabindex:"0",onMousemove:me,onContextmenu:Z(ei,["right"]),onMouseleave:ge,onClick:Z(Qn,["left"]),onDragover:t[10]||(t[10]=e=>{e.preventDefault()})},[L(mt)||"Pointer"===O.value.name?w("",!0):(r(),u(A,{key:0,class:"cursor-icon",name:O.value.icon?O.value.icon:"libItem"===O.value.type?"space_dashboard":"photo",size:"sm",style:q({left:ce.value.x+0+"px",top:ce.value.y+"px"})},null,8,["name","style"])),d(L(Yn),{ref_key:"selecto",ref:E,dragContainer:".viewport",selectableTargets:L(mt)?[]:D.value,hitRate:20,selectByClick:!L(mt),selectFromInside:!0,toggleContinueSelect:["shift"],ratio:0,boundContainer:!0,getElementRect:L(st),onDragStart:Ie,onSelectEnd:Ae,onDragEnd:$e,dragCondition:At},null,8,["selectableTargets","selectByClick","getElementRect"]),p("div",{ref_key:"viewport",ref:xt},[d(L(Sn),{ref_key:"moveable",ref:_t,draggable:!L(mt),resizable:!L(mt),rotatable:!L(mt),keepRatio:B.value,target:L(vt).selectedTargets,snappable:j.value&&!L(mt),snapThreshold:10,isDisplaySnapDigit:!0,snapGap:!0,snapDirections:{top:!0,right:!0,bottom:!0,left:!0},elementSnapDirections:{top:!0,right:!0,bottom:!0,left:!0},snapDigit:0,elementGuidelines:L(vt).elementGuidelines,origin:!0,throttleResize:0,throttleRotate:0,rotationPosition:"top",originDraggable:!0,originRelative:!0,defaultGroupRotate:0,defaultGroupOrigin:"50% 50%",padding:{left:0,top:0,right:0,bottom:0},onClickGroup:Me,onDragStart:ke,onDrag:Ce,onDragEnd:Se,onDragGroupStart:Ee,onDragGroup:De,onDragGroupEnd:Te,onResizeStart:Pe,onResize:Oe,onResizeEnd:Ne,onRotateStart:Le,onRotate:ze,onRotateEnd:Re,onResizeGroupStart:He,onResizeGroup:je,onResizeGroupEnd:Ve,onRotateGroupStart:Be,onRotateGroup:Ue,onRotateGroupEnd:Fe,renderDirections:["n","nw","ne","s","se","sw","e","w"]},null,8,["draggable","resizable","rotatable","keepRatio","target","snappable","elementGuidelines"]),G.value?(r(),u(re,{key:0,"touch-position":"",target:".moveable-area","context-menu":""},{default:c((()=>[d(ie,null,{default:c((()=>[g((r(),u(Q,{dense:"",clickable:"",onClick:Un},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"content_copy",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[24]||(t[24]=[I("Copy",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[25]||(t[25]=[I("Ctrl + C",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:gn},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"content_copy",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[26]||(t[26]=[I("Duplicate",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[27]||(t[27]=[I("Ctrl + D",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:vn},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"join_full",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[28]||(t[28]=[I("Group",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[29]||(t[29]=[I("Ctrl + G",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:_n},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"join_inner",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[30]||(t[30]=[I("Ungroup",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[31]||(t[31]=[I("Ctrl + Shift + G",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:Vn},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"library_books",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[32]||(t[32]=[I("Add to Library",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[33]||(t[33]=[I("Ctrl + L",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t[0]||(t[0]=e=>(xe("Bring selected objects to front"),void vt.value.items.filter((e=>vt.value.selectedTargets.some((t=>t.id===`moveable-item-${e.id}`)))).forEach((e=>{e.zindex=e.zindex+1}))))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"flip_to_front",color:"grey-7","text-color":"white"})])),_:1}),d(ee,{class:"py-2"},{default:c((()=>[...t[34]||(t[34]=[I("Bring to front",-1)])])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[1]||(t[1]=e=>(xe("Send selected objects to back"),void vt.value.items.filter((e=>vt.value.selectedTargets.some((t=>t.id===`moveable-item-${e.id}`)))).forEach((e=>{e.zindex=e.zindex-1}))))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"flip_to_back",color:"grey-7","text-color":"white"})])),_:1}),d(ee,{class:"py-2"},{default:c((()=>[...t[35]||(t[35]=[I("Send to Back",-1)])])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t[2]||(t[2]=e=>Bn())},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"autorenew",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[36]||(t[36]=[I("Rotate 90°",-1)])])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t[3]||(t[3]=e=>Bn(!0))},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"sync",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[37]||(t[37]=[I("Rotate -90°",-1)])])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:Bt},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"delete",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[38]||(t[38]=[I("Delete",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[39]||(t[39]=[I("Delete",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:qt},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"splitscreen",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[40]||(t[40]=[I("Weld Selected",-1)])])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[41]||(t[41]=[I("Ctrl + B",-1)])])),_:1})])),_:1})])),_:1})),[[_e]])])),_:1})])),_:1})):w("",!0),(r(!0),a(b,null,x(L(vt).items,((e,n)=>{var i,s,o,l,h,f,v,M,k,C,S,E,O;return r(),a("div",{key:e.id,ref_for:!0,ref_key:"targets",ref:D,style:q(`position: absolute; transform: translate(${e.translate[0]}px, ${e.translate[1]}px) rotate(${e.rotate}deg) scaleX(${e.scaleX}) scaleY(${e.scaleY}); width: ${e.width}px; height: ${e.height}px; z-index: ${e.zindex};`),id:`moveable-item-${e.id}`,onMousedown:Z(ct,["right"]),class:V(`moveable-item-wrapper moveable-item-index-${n} ${L(mt)?"locked":""} ${O=e.id,vt.value.selectedTargets.some((e=>e&&e.id===`moveable-item-${O}`))?"item-selected":""}`)},[L(mt)||1!==(null==(i=L(vt).selectedTargets)?void 0:i.length)?w("",!0):(r(),u(re,{key:0,"touch-position":"","context-menu":""},{default:c((()=>[d(ie,null,{default:c((()=>[Dn.value?(r(),u(Q,{key:0,dense:""},{default:c((()=>[t[42]||(t[42]=p("span",{style:{"margin-top":"8px"}},"Mode:",-1)),d(P,{label:In.value,modelValue:In.value,"onUpdate:modelValue":t[4]||(t[4]=e=>In.value=e),color:"blue",onClick:t=>Fn(e,"mode"),"false-value":"Auto","true-value":"Manual"},null,8,["label","modelValue","onClick"])])),_:2},1024)):w("",!0),d(_),On.value?(r(),u(Q,{key:1,dense:"",disable:Pn.value},{default:c((()=>[t[43]||(t[43]=p("span",{style:{"margin-top":"8px"}},"Value:",-1)),d(P,{disable:Pn.value,label:An.value,modelValue:An.value,"onUpdate:modelValue":t[5]||(t[5]=e=>An.value=e),color:"blue",onClick:t=>Fn(e,"value"),"false-value":"Off","true-value":"On"},null,8,["disable","label","modelValue","onClick"])])),_:2},1032,["disable"])):w("",!0),Ln.value?(r(),u(Q,{key:2,dense:"",disable:Nn.value},{default:c((()=>[t[44]||(t[44]=p("span",{style:{"margin-top":"8px"}},"Value:",-1)),d(y,{style:{"margin-left":"15px","margin-top":"-5px"},disable:Nn.value,dense:"",type:"number",modelValue:zn.value,"onUpdate:modelValue":t[6]||(t[6]=e=>zn.value=e),onClick:t=>Fn(e,"number-value")},null,8,["disable","modelValue","onClick"])])),_:2},1032,["disable"])):w("",!0),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:Vt},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"link",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[45]||(t[45]=[I("Link",-1)])])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:Un},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"content_copy",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[d(te,null,{default:c((()=>[...t[46]||(t[46]=[I("Copy",-1)])])),_:1})])),_:1}),d(ee,{side:""},{default:c((()=>[d(ne,null,{default:c((()=>[...t[47]||(t[47]=[I("Ctrl + C",-1)])])),_:1})])),_:1})])),_:1})),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t=>et(e)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"file_copy",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[48]||(t[48]=[I("Duplicate",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t=>qe(e)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"autorenew",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[49]||(t[49]=[I("Rotate 90°",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t=>qe(e,!0)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"sync",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[50]||(t[50]=[I("Rotate -90°",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t=>Xe(e)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"flip",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[51]||(t[51]=[I("Flip horizontal",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t=>Ze(e)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"flip",color:"grey-7","text-color":"white",style:{transform:"rotate(90deg)"}})])),_:1}),d(ee,null,{default:c((()=>[...t[52]||(t[52]=[I("Flip vertical",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]]),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t=>Je(e)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"flip_to_front",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[53]||(t[53]=[I("Bring to front",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]]),g((r(),u(Q,{dense:"",clickable:"",onClick:t=>Ke(e)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"flip_to_back",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[54]||(t[54]=[I("Send to Back",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]]),d(_),d(Q,{dense:"",clickable:""},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"transform",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[55]||(t[55]=[I("Convert to",-1)])])),_:1}),d(ee,{side:""},{default:c((()=>[d(A,{name:"keyboard_arrow_right"})])),_:1}),d(re,{anchor:"top end",self:"top start","auto-close":""},{default:c((()=>[d(ie,null,{default:c((()=>[(r(!0),a(b,null,x(L(Ft).filter((t=>{var n;return t.name!==(null!=(n=null==e?void 0:e.type)?n:"")&&!["Duct","Pointer","Text"].includes(t.name)})),(t=>g((r(),u(Q,{key:t.name,dense:"",clickable:"",onClick:n=>Xn(e,t.name)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:t.icon,color:"grey-7","text-color":"white"},null,8,["icon"])])),_:2},1024),d(ee,null,{default:c((()=>[I(m(t.name),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[_e]]))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024),d(_),g((r(),u(Q,{dense:"",clickable:"",onClick:t=>Qe(e)},{default:c((()=>[d(ee,{avatar:""},{default:c((()=>[d(T,{size:"sm",icon:"remove",color:"grey-7","text-color":"white"})])),_:1}),d(ee,null,{default:c((()=>[...t[56]||(t[56]=[I("Remove",-1)])])),_:1})])),_:2},1032,["onClick"])),[[_e]])])),_:2},1024)])),_:2},1024)),Tn.value&&0===(null==(s=L(vt).selectedTargets)?void 0:s.length)?(r(),u(re,{key:1,"touch-position":"","context-menu":""},{default:c((()=>[d(ie,null,{default:c((()=>[d(Q,{dense:""},{default:c((()=>[t[57]||(t[57]=p("span",{style:{"margin-top":"8px"}},"Mode:",-1)),d(P,{label:In.value,modelValue:In.value,"onUpdate:modelValue":t[7]||(t[7]=e=>In.value=e),color:"blue",onClick:t=>Fn(e,"mode"),"false-value":"Auto","true-value":"Manual"},null,8,["label","modelValue","onClick"])])),_:2},1024),d(_),On.value?(r(),u(Q,{key:0,dense:"",disable:Pn.value},{default:c((()=>[t[58]||(t[58]=p("span",{style:{"margin-top":"8px"}},"Value:",-1)),d(P,{disable:Pn.value,label:An.value,modelValue:An.value,"onUpdate:modelValue":t[8]||(t[8]=e=>An.value=e),color:"blue",onClick:t=>Fn(e,"value"),"false-value":"Off","true-value":"On"},null,8,["disable","label","modelValue","onClick"])])),_:2},1032,["disable"])):w("",!0),Ln.value?(r(),u(Q,{key:1,dense:"",disable:Nn.value},{default:c((()=>[t[59]||(t[59]=p("span",{style:{"margin-top":"8px"}},"Value:",-1)),d(y,{style:{"margin-left":"15px","margin-top":"-5px"},disable:Nn.value,dense:"",type:"number",modelValue:zn.value,"onUpdate:modelValue":t[9]||(t[9]=e=>zn.value=e),onClick:t=>Fn(e,"number-value")},null,8,["disable","modelValue","onClick"])])),_:2},1032,["disable"])):w("",!0),d(_)])),_:2},1024)])),_:2},1024)):w("",!0),"Int_Ext_Wall"!==(null!=(o=null==e?void 0:e.type)?o:"")?(r(),u(ot,{ref_for:!0,ref_key:"objectsRef",ref:de,item:e,key:e.id+(null!=(l=null==e?void 0:e.type)?l:""),class:V({link:L(mt)&&e.t3Entry}),"show-arrows":L(mt)&&!!(null==(h=e.t3Entry)?void 0:h.range),onObjectClicked:t=>kn(e),onObjectDoubleClicked:t=>function(e){var t,n,i,r;W.Debug("= idx: objectDoubleClicked /",e.t3Entry),"SCH"===(null==(t=e.t3Entry)?void 0:t.type)&&(Zt.value=e,on.value=!0),"SCHEDULE"===(null==(n=e.t3Entry)?void 0:n.type)&&(Zt.value=e,on.value=!0),"HOL"===(null==(i=e.t3Entry)?void 0:i.type)&&(Zt.value=e,un.value=[],ln.value=!0,W.Debug("= idx: objectDoubleClicked HOLIDAY",un.value)),"MON"===(null==(r=e.t3Entry)?void 0:r.type)&&(Zt.value=e,hn.value=[],cn.value=!0,W.Debug("= idx: objectDoubleClicked MON Trend Log",Zt.value,hn.value,cn.value)),nt.SetNavVisiblity(!1)}(e),onAutoManualToggle:t=>En(e),onChangeValue:Cn,onUpdateWeldModel:Jn,onContextmenu:Z((t=>Rn(e)),["right"]),onClickRight:t=>Rn(e)},null,8,["item","class","show-arrows","onObjectClicked","onObjectDoubleClicked","onAutoManualToggle","onContextmenu","onClickRight"])):w("",!0),"Weld_General"===(null!=(f=null==e?void 0:e.type)?f:"")||"Weld_Duct"===(null!=(v=null==e?void 0:e.type)?v:"")?(r(),u(ur,{ref_for:!0,ref_key:"objectsRef",ref:de,item:e,key:e.id+(null!=(M=null==e?void 0:e.type)?M:""),class:V({link:L(mt)&&e.t3Entry}),"show-arrows":L(mt)&&!!(null==(k=e.t3Entry)?void 0:k.range),onObjectClicked:t=>kn(e),onAutoManualToggle:t=>En(e),onChangeValue:Cn,onUpdateWeldModel:Kn},null,8,["item","class","show-arrows","onObjectClicked","onAutoManualToggle"])):w("",!0),"Int_Ext_Wall"===(null!=(C=null==e?void 0:e.type)?C:"")?(r(),u(Mo,{ref_for:!0,ref_key:"objectsRef",ref:de,item:e,key:e.id+(null!=(S=null==e?void 0:e.type)?S:"")+e.index,class:V({link:L(mt)&&e.t3Entry}),"show-arrows":L(mt)&&!!(null==(E=e.t3Entry)?void 0:E.range),onObjectClicked:t=>kn(e),onAutoManualToggle:t=>En(e),onChangeValue:Cn,onUpdateWeldModel:Kn},null,8,["item","class","show-arrows","onObjectClicked","onAutoManualToggle"])):w("",!0)],46,Vy)})),128))],512)],32)],32)])])])]),!L(mt)&&L(vt).items[L(vt).activeItemIndex]&&(L(vt).activeItemIndex||0===L(vt).activeItemIndex)&&L(nn)&&L(vt).selectedTargets.length>0?(r(),u(er,{key:0,object:L(vt).items[L(vt).activeItemIndex],onRefreshMoveable:Ht,onT3UpdateEntryField:ht,onLinkT3Entry:Vt,onGaugeSettings:fn,onMounted:t[12]||(t[12]=e=>xe("Object settings opened")),onNoChange:jn,onDisplayFieldValueChanged:ft},null,8,["object"])):w("",!0)]})),_:1}),d(C,{modelValue:L(Ct).active,"onUpdate:modelValue":t[14]||(t[14]=e=>L(Ct).active=e)},{default:c((()=>[d(h,{style:q({minWidth:L(M).platform.is.mobile?"400px":"650px"})},{default:c((()=>[d(f,{class:"row items-center q-pb-none"},{default:c((()=>[t[60]||(t[60]=p("div",{class:"text-h6"},"Link Entry",-1)),d(se),g(d(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[_e]])])),_:1}),d(_),d(f,{style:{height:"70vh"},class:"scroll"},{default:c((()=>[p("div",By,[d(v,{icon:"refresh",flat:"",onClick:wn},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[61]||(t[61]=[p("strong",null,"Reload panels data",-1)])])),_:1})])),_:1}),d(oe,{"option-label":xn,"option-value":"id",filled:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",modelValue:L(Ct).data,"onUpdate:modelValue":t[13]||(t[13]=e=>L(Ct).data=e),options:L(St),onFilter:Ot,label:"Select Entry",class:"grow"},{option:c((e=>[d(Q,J(K(e.itemProps)),{default:c((()=>[d(ee,{class:"grow"},{default:c((()=>[d(te,null,{default:c((()=>[I(m(xn(e.opt)),1)])),_:2},1024)])),_:2},1024),d(ee,{avatar:"",class:"pl-1 min-w-0"},{default:c((()=>[d(ne,{size:"sm",icon:"label_important"},{default:c((()=>[I("Panel: "+m(e.opt.pid),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"])]),p("div",Uy,[null!==L(Mt).loadingPanel?(r(),u(ve,{key:0,indeterminate:"","show-value":"",value:Y.value,size:"270px",thickness:.22,color:"light-blue","track-color":"grey-3",class:"q-ma-md overflow-hidden"},{default:c((()=>[p("div",Wy,[p("div",null,m(Y.value)+"%",1),p("div",null," Loading Panel #"+m(L(Mt).panelsList[L(Mt).loadingPanel].panel_number),1)])])),_:1},8,["value"])):w("",!0)])])),_:1}),d(_),d(k,{align:"right"},{default:c((()=>[g(d(v,{flat:"",label:"Cancel",color:"primary"},null,512),[[_e]]),d(v,{flat:"",label:"Save",disable:!L(Ct).data,color:"primary",onClick:Pt},null,8,["disable"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"]),d(C,{modelValue:L(rt).active,"onUpdate:modelValue":t[17]||(t[17]=e=>L(rt).active=e)},{default:c((()=>[d(h,{style:q({minWidth:L(M).platform.is.mobile?"400px":"650px"})},{default:c((()=>[d(f,{class:"row items-center q-pb-none"},{default:c((()=>[t[62]||(t[62]=p("div",{class:"text-h6"},"Insert Entry",-1)),d(se),g(d(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[_e]])])),_:1}),d(_),d(f,{style:{height:"70vh"},class:"scroll"},{default:c((()=>[p("div",$y,[d(v,{icon:"refresh",flat:"",onClick:wn},{default:c((()=>[d(n,{anchor:"top middle",self:"bottom middle"},{default:c((()=>[...t[63]||(t[63]=[p("strong",null,"Reload panels data",-1)])])),_:1})])),_:1}),d(oe,{"option-label":xn,label:"Type or select Entry","option-value":"id",filled:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",modelValue:L(rt).data,"onUpdate:modelValue":[t[15]||(t[15]=e=>L(rt).data=e),t[16]||(t[16]=t=>Lt(e.value))],options:L(St),onFilter:Ot,class:"grow",autofocus:"",onFocus:zt},{option:c((e=>[d(Q,J(K(e.itemProps)),{default:c((()=>[d(ee,{class:"grow"},{default:c((()=>[d(te,null,{default:c((()=>[I(m(xn(e.opt)),1)])),_:2},1024)])),_:2},1024),d(ee,{avatar:"",class:"pl-1 min-w-0"},{default:c((()=>[d(ne,{size:"sm",icon:"label_important"},{default:c((()=>[I("Panel: "+m(e.opt.pid),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"])]),p("div",Gy,[null!==L(Mt).loadingPanel?(r(),u(ve,{key:0,indeterminate:"","show-value":"",value:Y.value,size:"270px",thickness:.22,color:"light-blue","track-color":"grey-3",class:"q-ma-md overflow-hidden"},{default:c((()=>[p("div",Yy,[p("div",null,m(Y.value)+"%",1),p("div",null," Loading Panel #"+m(L(Mt).panelsList[L(Mt).loadingPanel].panel_number),1)])])),_:1},8,["value"])):w("",!0)])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"]),d(si,{active:sn.value.active,"onUpdate:active":t[18]||(t[18]=e=>sn.value.active=e),data:sn.value.data,onSaved:pn},null,8,["active","data"]),d(C,{modelValue:$.value.active,"onUpdate:modelValue":t[20]||(t[20]=e=>$.value.active=e)},{default:c((()=>[d(h,{style:{"min-width":"450px"}},{default:c((()=>[d(f,null,{default:c((()=>[...t[64]||(t[64]=[p("div",{class:"text-h6"},"Import from a JSON file",-1)])])),_:1}),d(f,{class:"q-pt-none"},{default:c((()=>[d(oi,{types:["application/json"],onUploaded:Qt,onFileAdded:mn})])),_:1}),d(k,{align:"right",class:"text-primary"},{default:c((()=>[d(v,{flat:"",label:"Cancel",onClick:t[19]||(t[19]=e=>$.value.active=!1)})])),_:1})])),_:1})])),_:1},8,["modelValue"]),d(C,{modelValue:L(yt).active,"onUpdate:modelValue":t[21]||(t[21]=e=>L(yt).active=e)},{default:c((()=>[d(h,{style:q({minWidth:L(M).platform.is.mobile?"700px":"900px"})},{default:c((()=>[d(f,{class:"row items-center q-pb-none"},{default:c((()=>[t[65]||(t[65]=p("div",{class:"text-h6"},"Devices List",-1)),d(se),g(d(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[_e]])])),_:1}),d(_),d(Lo,{deviceModel:L(yt),onUpdateDeviceModel:he,onTestSendMsg:e.testSendMsg},null,8,["deviceModel","onTestSendMsg"])])),_:1},8,["style"])])),_:1},8,["modelValue"]),L(Jt)?(r(),u(jl,{key:0,visible:L(Jt)},null,8,["visible"])):w("",!0),L(on)?(r(),u(vy,{key:1,visible:L(on)},null,8,["visible"])):w("",!0),L(ln)?(r(),u(Cy,{key:2,visible:L(ln)},null,8,["visible"])):w("",!0),L(cn)?(r(),u(bn,{key:3,visible:L(cn),"item-data":L(Zt),"onUpdate:visible":t[22]||(t[22]=e=>cn.value=e)},null,8,["visible","item-data"])):w("",!0)],64))}},[["__scopeId","data-v-4cccb493"]]);export{qy as default};

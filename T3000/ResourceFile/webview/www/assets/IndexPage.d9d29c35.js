import{c as hn,F as sf,G as lf,H as uf,r as Jt,a as te,I as Lv,J as $v,K as Uv,L as cf,M as Gv,w as ln,f as Xa,N as Uu,O as Gu,j as Vv,h as It,T as df,g as go,b as Yn,P as ff,Q as pf,R as hf,S as vf,U as xs,V as Hv,o as Dl,W as yr,X as gr,Y as jv,Z as Wv,$ as gf,a0 as Be,a1 as Bt,a2 as qv,y as Ve,A as J,a3 as Ot,_ as He,a4 as Wt,a5 as ta,a6 as ea,a7 as Nn,a8 as mf,z as Te,a9 as Tt,aa as Ne,B as wt,C as G,D as B,ab as Tr,ac as Ei,v as yf,ad as Vu,ae as Yv,af as zo,ag as Qt,ah as Or,ai as Hu,aj as ju,ak as ba,al as Wu,am as No,an as Xv}from"./index.c0e007ca.js";import{u as Kv,v as qu,a as Zv,p as Yu,b as Qv,c as Jv,r as Xu,s as tg,d as Ku,e as eg,Q as bf,f as zt,g as Qr,h as ct,i as Ds,j as Rr,k as Sf,l as rg,m as ke,t as Zu,n as ng,T as ig,o as Lo,q as ag,w as og,x as Wr,y as sg,C as jt}from"./common.1973c5a3.js";import"./QResizeObserver.db6743d4.js";var Tn=hn({name:"QTooltip",inheritAttrs:!1,props:{...Kv,...sf,...lf,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:qu},self:{type:String,default:"top middle",validator:qu},offset:{type:Array,default:()=>[14,14],validator:Zv},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...uf],setup(e,{slots:t,emit:r,attrs:n}){let i,a;const o=go(),{proxy:{$q:s}}=o,l=Jt(null),u=Jt(!1),c=te(()=>Yu(e.anchor,s.lang.rtl)),d=te(()=>Yu(e.self,s.lang.rtl)),f=te(()=>e.persistent!==!0),{registerTick:p,removeTick:h}=Lv(),{registerTimeout:v}=$v(),{transitionProps:g,transitionStyle:m}=Uv(e),{localScrollTarget:b,changeScrollEvent:w,unconfigureScrollTarget:S}=Qv(e,z),{anchorEl:x,canShow:y,anchorEvents:E}=Jv({showing:u,configureAnchorEl:U}),{show:_,hide:D}=cf({showing:u,canShow:y,handleShow:I,handleHide:R,hideOnRouteChange:f,processOnMount:!0});Object.assign(E,{delayShow:N,delayHide:$});const{showPortal:T,hidePortal:k,renderPortal:O}=Gv(o,l,X,"tooltip");if(s.platform.is.mobile===!0){const j={anchorEl:x,innerRef:l,onClickOutside(q){return D(q),q.target.classList.contains("q-dialog__backdrop")&&ff(q),!0}},K=te(()=>e.modelValue===null&&e.persistent!==!0&&u.value===!0);ln(K,q=>{(q===!0?eg:Xu)(j)}),Xa(()=>{Xu(j)})}function I(j){T(),p(()=>{a=new MutationObserver(()=>L()),a.observe(l.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),L(),z()}),i===void 0&&(i=ln(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,L)),v(()=>{T(!0),r("show",j)},e.transitionDuration)}function R(j){h(),k(),F(),v(()=>{k(!0),r("hide",j)},e.transitionDuration)}function F(){a!==void 0&&(a.disconnect(),a=void 0),i!==void 0&&(i(),i=void 0),S(),Uu(E,"tooltipTemp")}function L(){const j=l.value;x.value===null||!j||tg({el:j,offset:e.offset,anchorEl:x.value,anchorOrigin:c.value,selfOrigin:d.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function N(j){if(s.platform.is.mobile===!0){Ku(),document.body.classList.add("non-selectable");const K=x.value,q=["touchmove","touchcancel","touchend","click"].map(Z=>[K,Z,"delayHide","passiveCapture"]);Gu(E,"tooltipTemp",q)}v(()=>{_(j)},e.delay)}function $(j){s.platform.is.mobile===!0&&(Uu(E,"tooltipTemp"),Ku(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),v(()=>{D(j)},e.hideDelay)}function U(){if(e.noParentEvent===!0||x.value===null)return;const j=s.platform.is.mobile===!0?[[x.value,"touchstart","delayShow","passive"]]:[[x.value,"mouseenter","delayShow","passive"],[x.value,"mouseleave","delayHide","passive"]];Gu(E,"anchor",j)}function z(){if(x.value!==null||e.scrollTarget!==void 0){b.value=Vv(x.value,e.scrollTarget);const j=e.noParentEvent===!0?L:D;w(b.value,j)}}function H(){return u.value===!0?It("div",{...n,ref:l,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,m.value],role:"tooltip"},Yn(t.default)):null}function X(){return It(df,g.value,H)}return Xa(F),Object.assign(o.proxy,{updatePosition:L}),O}}),oi=hn({name:"QList",props:{...pf,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const r=go(),n=hf(e,r.proxy.$q),i=te(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(n.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>It(e.tag,{class:i.value},Yn(t.default))}}),lg=hn({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const r=te(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(i=>e[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${n.length>0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>It("div",{class:r.value},Yn(t.default))}});const ug=Object.keys(vf),cg=e=>ug.reduce((t,r)=>{const n=e[r];return n!==void 0&&(t[r]=n),t},{});var $o=hn({name:"QBtnDropdown",props:{...vf,...lf,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:r}){const{proxy:n}=go(),i=Jt(e.modelValue),a=Jt(null),o=xs(),s=te(()=>{const S={"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true","aria-controls":o,"aria-label":e.toggleAriaLabel||n.$q.lang.label[i.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(S["aria-disabled"]="true"),S}),l=te(()=>"q-btn-dropdown__arrow"+(i.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),u=te(()=>Hv(e)),c=te(()=>cg(e));ln(()=>e.modelValue,S=>{a.value!==null&&a.value[S?"show":"hide"]()}),ln(()=>e.split,w);function d(S){i.value=!0,r("beforeShow",S)}function f(S){r("show",S),r("update:modelValue",!0)}function p(S){i.value=!1,r("beforeHide",S)}function h(S){r("hide",S),r("update:modelValue",!1)}function v(S){r("click",S)}function g(S){jv(S),w(),r("click",S)}function m(S){a.value!==null&&a.value.toggle(S)}function b(S){a.value!==null&&a.value.show(S)}function w(S){a.value!==null&&a.value.hide(S)}return Object.assign(n,{show:b,hide:w,toggle:m}),Dl(()=>{e.modelValue===!0&&b()}),()=>{const S=[It(yr,{class:l.value,name:e.dropdownIcon||n.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&S.push(It(bf,{ref:a,id:o,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:d,onShow:f,onBeforeHide:p,onHide:h},t.default)),e.split===!1?It(gr,{class:"q-btn-dropdown q-btn-dropdown--simple",...c.value,...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:v},{default:()=>Yn(t.label,[]).concat(S),loading:t.loading}):It(lg,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...u.value,glossy:e.glossy,stretch:e.stretch},()=>[It(gr,{class:"q-btn-dropdown--current",...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:g},{default:t.label,loading:t.loading}),It(gr,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...u.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>S)])}}}),dg=hn({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const r=te(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>It("div",{class:r.value,role:"toolbar"},Yn(t.default))}}),fg=hn({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:r}){let n=!1,i,a,o=null,s=null,l,u;function c(){i&&i(),i=null,n=!1,o!==null&&(clearTimeout(o),o=null),s!==null&&(clearTimeout(s),s=null),a!==void 0&&a.removeEventListener("transitionend",l),l=null}function d(v,g,m){v.style.overflowY="hidden",g!==void 0&&(v.style.height=`${g}px`),v.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,n=!0,i=m}function f(v,g){v.style.overflowY=null,v.style.height=null,v.style.transition=null,c(),g!==u&&r(g)}function p(v,g){let m=0;a=v,n===!0?(c(),m=v.offsetHeight===v.scrollHeight?0:void 0):u="hide",d(v,m,g),o=setTimeout(()=>{o=null,v.style.height=`${v.scrollHeight}px`,l=b=>{s=null,(Object(b)!==b||b.target===v)&&f(v,"show")},v.addEventListener("transitionend",l),s=setTimeout(l,e.duration*1.1)},100)}function h(v,g){let m;a=v,n===!0?c():(u="show",m=v.scrollHeight),d(v,m,g),o=setTimeout(()=>{o=null,v.style.height=0,l=b=>{s=null,(Object(b)!==b||b.target===v)&&f(v,"hide")},v.addEventListener("transitionend",l),s=setTimeout(l,e.duration*1.1)},100)}return Xa(()=>{n===!0&&c()}),()=>It(df,{css:!1,appear:e.appear,onEnter:p,onLeave:h},t.default)}});const qr=Wv({}),pg=Object.keys(gf);var Qu=hn({name:"QExpansionItem",props:{...gf,...sf,...pf,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...uf,"click","afterShow","afterHide"],setup(e,{slots:t,emit:r}){const{proxy:{$q:n}}=go(),i=hf(e,n),a=Jt(e.modelValue!==null?e.modelValue:e.defaultOpened),o=Jt(null),s=xs(),{show:l,hide:u,toggle:c}=cf({showing:a});let d,f;const p=te(()=>`q-expansion-item q-item-type q-expansion-item--${a.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),h=te(()=>{if(e.contentInsetLevel===void 0)return null;const N=n.lang.rtl===!0?"Right":"Left";return{["padding"+N]:e.contentInsetLevel*56+"px"}}),v=te(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),g=te(()=>{const N={};return pg.forEach($=>{N[$]=e[$]}),N}),m=te(()=>v.value===!0||e.expandIconToggle!==!0),b=te(()=>e.expandedIcon!==void 0&&a.value===!0?e.expandedIcon:e.expandIcon||n.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),w=te(()=>e.disable!==!0&&(v.value===!0||e.expandIconToggle===!0)),S=te(()=>({expanded:a.value===!0,detailsId:e.targetUid,toggle:c,show:l,hide:u})),x=te(()=>{const N=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:n.lang.label[a.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":a.value===!0?"true":"false","aria-controls":s,"aria-label":N}});ln(()=>e.group,N=>{f!==void 0&&f(),N!==void 0&&k()});function y(N){v.value!==!0&&c(N),r("click",N)}function E(N){N.keyCode===13&&_(N,!0)}function _(N,$){$!==!0&&o.value!==null&&o.value.focus(),c(N),ff(N)}function D(){r("afterShow")}function T(){r("afterHide")}function k(){d===void 0&&(d=xs()),a.value===!0&&(qr[e.group]=d);const N=ln(a,U=>{U===!0?qr[e.group]=d:qr[e.group]===d&&delete qr[e.group]}),$=ln(()=>qr[e.group],(U,z)=>{z===d&&U!==void 0&&U!==d&&u()});f=()=>{N(),$(),qr[e.group]===d&&delete qr[e.group],f=void 0}}function O(){const N={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},$=[It(yr,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&a.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:b.value})];return w.value===!0&&(Object.assign(N,{tabindex:0,...x.value,onClick:_,onKeyup:E}),$.unshift(It("div",{ref:o,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),It(ct,N,()=>$)}function I(){let N;return t.header!==void 0?N=[].concat(t.header(S.value)):(N=[It(ct,()=>[It(Qr,{lines:e.labelLines},()=>e.label||""),e.caption?It(Qr,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&N[e.switchToggleSide===!0?"push":"unshift"](It(ct,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>It(yr,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&N[e.switchToggleSide===!0?"unshift":"push"](O()),N}function R(){const N={ref:"item",style:e.headerStyle,class:e.headerClass,dark:i.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return m.value===!0&&(N.clickable=!0,N.onClick=y,Object.assign(N,v.value===!0?g.value:x.value)),It(zt,N,I)}function F(){return Bt(It("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:h.value,id:s},Yn(t.default)),[[qv,a.value]])}function L(){const N=[R(),It(fg,{duration:e.duration,onShow:D,onHide:T},F)];return e.expandSeparator===!0&&N.push(It(Be,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:i.value}),It(Be,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:i.value})),N}return e.group!==void 0&&k(),Xa(()=>{f!==void 0&&f()}),()=>It("div",{class:p.value},[It("div",{class:"q-expansion-item__container relative-position"},L())])}});function hg(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.map(function(n){return n.split(" ").map(function(i){return i?""+e+i:""}).join(" ")}).join(" ")}function vg(e,t){return t.replace(/([^}{]*){/gm,function(r,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function ar(e,t){return function(r){r&&(e[t]=r)}}function wf(e,t,r){return function(n){n&&(e[t][r]=n)}}function _s(e,t){return function(r){var n=r.prototype;e.forEach(function(i){t(n,i)})}}function gg(e,t){return t===void 0&&(t={}),function(r,n){e.forEach(function(i){var a=t[i]||i;a in r||(r[a]=function(){for(var o,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=(o=this[n])[i].apply(o,s);return u===this[n]?this:u})})}}var mg=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(r){return this.values[this.keys.indexOf(r)]},t.set=function(r,n){var i=this.keys,a=this.values,o=i.indexOf(r),s=o===-1?i.length:o;i[s]=r,a[s]=n},e}(),yg=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(r){return this.object[r]},t.set=function(r,n){this.object[r]=n},e}(),bg=typeof Map=="function",Sg=function(){function e(){}var t=e.prototype;return t.connect=function(r,n){this.prev=r,this.next=n,r&&(r.next=this),n&&(n.prev=this)},t.disconnect=function(){var r=this.prev,n=this.next;r&&(r.next=n),n&&(n.prev=r)},t.getIndex=function(){for(var r=this,n=-1;r;)r=r.prev,++n;return n},e}();function wg(e,t){var r=[],n=[];return e.forEach(function(i){var a=i[0],o=i[1],s=new Sg;r[a]=s,n[o]=s}),r.forEach(function(i,a){i.connect(r[a-1])}),e.filter(function(i,a){return!t[a]}).map(function(i,a){var o=i[0],s=i[1];if(o===s)return[0,0];var l=r[o],u=n[s-1],c=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,r[0]);var d=l.getIndex();return[c,d]})}var Eg=function(){function e(r,n,i,a,o,s,l,u){this.prevList=r,this.list=n,this.added=i,this.removed=a,this.changed=o,this.maintained=s,this.changedBeforeAdded=l,this.fixed=u}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var r=wg(this.changedBeforeAdded,this.fixed),n=this.changed,i=[];this.cacheOrdered=r.filter(function(a,o){var s=a[0],l=a[1],u=n[o],c=u[0],d=u[1];if(s!==l)return i.push([c,d]),!0}),this.cachePureChanged=i},e}();function ra(e,t,r){var n=bg?Map:r?yg:mg,i=r||function(b){return b},a=[],o=[],s=[],l=e.map(i),u=t.map(i),c=new n,d=new n,f=[],p=[],h={},v=[],g=0,m=0;return l.forEach(function(b,w){c.set(b,w)}),u.forEach(function(b,w){d.set(b,w)}),l.forEach(function(b,w){var S=d.get(b);typeof S=="undefined"?(++m,o.push(w)):h[S]=m}),u.forEach(function(b,w){var S=c.get(b);typeof S=="undefined"?(a.push(w),++g):(s.push([S,w]),m=h[w]||0,f.push([S-m,w-g]),p.push(w===S),S!==w&&v.push([S,w]))}),o.reverse(),new Eg(e,t,a,o,v,s,f,p)}var Cg=function(){function e(r,n){r===void 0&&(r=[]),this.findKeyCallback=n,this.list=[].slice.call(r)}var t=e.prototype;return t.update=function(r){var n=[].slice.call(r),i=ra(this.list,n,this.findKeyCallback);return this.list=n,i},e}(),xg="function",Dg="object",_g="string",Tg="number",Ef="undefined",Cf=typeof window!==Ef,Og=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],ne=1e-7,Sa={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Mg(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Zr(e,t,r,n){return(e*n+t*r)/(r+n)}function Xn(e){return typeof e===Ef}function er(e){return e&&typeof e===Dg}function qt(e){return Array.isArray(e)}function ye(e){return typeof e===_g}function Ts(e){return typeof e===Tg}function mo(e){return typeof e===xg}function Pg(e,t){var r=e===""||e==" ",n=t===""||t==" ";return n&&r||e===t}function xf(e,t,r,n,i){var a=_l(e,t,r);return a?r:kg(e,t,r+1,n,i)}function _l(e,t,r){if(!e.ignore)return null;var n=t.slice(Math.max(r-3,0),r+3).join("");return new RegExp(e.ignore).exec(n)}function kg(e,t,r,n,i){for(var a=function(u){var c=t[u].trim();if(c===e.close&&!_l(e,t,u))return{value:u};var d=u,f=Er(i,function(p){var h=p.open;return h===c});if(f&&(d=xf(f,t,u,n,i)),d===-1)return o=u,"break";u=d,o=u},o,s=r;s<n;++s){var l=a(s);if(s=o,typeof l=="object")return l.value;if(l==="break")break}return-1}function Tl(e,t){var r=ye(t)?{separator:t}:t,n=r.separator,i=n===void 0?",":n,a=r.isSeparateFirst,o=r.isSeparateOnlyOpenClose,s=r.isSeparateOpenClose,l=s===void 0?o:s,u=r.openCloseCharacters,c=u===void 0?Og:u,d=c.map(function(E){var _=E.open,D=E.close;return _===D?_:_+"|"+D}).join("|"),f="(\\s*"+i+"\\s*|"+d+"|\\s+)",p=new RegExp(f,"g"),h=e.split(p).filter(Boolean),v=h.length,g=[],m=[];function b(){return m.length?(g.push(m.join("")),m=[],!0):!1}for(var w=function(E){var _=h[E].trim(),D=E,T=Er(c,function(I){var R=I.open;return R===_}),k=Er(c,function(I){var R=I.close;return R===_});if(T){if(D=xf(T,h,E,v,c),D!==-1&&l)return b()&&a||(g.push(h.slice(E,D+1).join("")),E=D,a)?(S=E,"break"):(S=E,"continue")}else if(k&&!_l(k,h,E)){var O=Mg(c);return O.splice(c.indexOf(k),1),{value:Tl(e,{separator:i,isSeparateFirst:a,isSeparateOnlyOpenClose:o,isSeparateOpenClose:l,openCloseCharacters:O})}}else if(Pg(_,i)&&!o)return b(),a?(S=E,"break"):(S=E,"continue");D===-1&&(D=v-1),m.push(h.slice(E,D+1).join("")),E=D,S=E},S,x=0;x<v;++x){var y=w(x);if(x=S,typeof y=="object")return y.value;if(y==="break")break}return m.length&&g.push(m.join("")),g}function Lr(e){return Tl(e,"")}function on(e){return Tl(e,",")}function Df(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Kn(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var r=t[1],n=t[2],i=t[3];return{prefix:r,unit:i,value:parseFloat(n)}}function Os(e){return e.replace(/[\s-_]([a-z])/g,function(t,r){return r.toUpperCase()})}function Ga(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(r,n,i){return""+n+t+i.toLowerCase()})}function Ui(){return Date.now?Date.now():new Date().getTime()}function wr(e,t,r){r===void 0&&(r=-1);for(var n=e.length,i=0;i<n;++i)if(t(e[i],i,e))return i;return r}function Er(e,t,r){var n=wr(e,t);return n>-1?e[n]:r}var _f=function(){var e=Ui(),t=Cf&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return t?t.bind(window):function(r){var n=Ui(),i=setTimeout(function(){r(n-e)},1e3/60);return i}}(),Ig=function(){var e=Cf&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return e?e.bind(window):function(t){clearTimeout(t)}}();function Zn(e){return Object.keys(e)}function Nt(e,t){var r=Kn(e),n=r.value,i=r.unit;if(er(t)){var a=t[i];if(a){if(mo(a))return a(n);if(Sa[i])return Sa[i](n,a)}}else if(i==="%")return n*t/100;return Sa[i]?Sa[i](n):n}function Ka(e,t,r){return Math.max(t,Math.min(e,r))}function Ju(e,t,r,n){return n===void 0&&(n=e[0]/e[1]),[[ft(t[0],ne),ft(t[0]/n,ne)],[ft(t[1]*n,ne),ft(t[1],ne)]].filter(function(i){return i.every(function(a,o){var s=t[o],l=ft(s,ne);return r?a<=s||a<=l:a>=s||a>=l})})[0]||e}function Tf(e,t,r,n){if(!n)return e.map(function(p,h){return Ka(p,t[h],r[h])});var i=e[0],a=e[1],o=n===!0?i/a:n,s=Ju(e,t,!1,o),l=s[0],u=s[1],c=Ju(e,r,!0,o),d=c[0],f=c[1];return i<l||a<u?(i=l,a=u):(i>d||a>f)&&(i=d,a=f),[i,a]}function Rg(e){for(var t=e.length,r=0,n=t-1;n>=0;--n)r+=e[n];return r}function Ms(e){for(var t=e.length,r=0,n=t-1;n>=0;--n)r+=e[n];return t?r/t:0}function Zt(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function Fg(e){return[0,1].map(function(t){return Ms(e.map(function(r){return r[t]}))})}function Ps(e){var t=Fg(e),r=Zt(t,e[0]),n=Zt(t,e[1]);return r<n&&n-r<Math.PI||r>n&&n-r<-Math.PI?1:-1}function Le(e,t){return Math.sqrt(Math.pow((t?t[0]:0)-e[0],2)+Math.pow((t?t[1]:0)-e[1],2))}function ft(e,t){if(!t)return e;var r=1/t;return Math.round(e/t)/r}function tc(e,t){return e.forEach(function(r,n){e[n]=ft(e[n],t)}),e}function ie(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function Ol(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function Of(e,t){if(e.classList)e.classList.remove(t);else{var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(r," ")}}function ve(e,t,r,n){e.addEventListener(t,r,n)}function ce(e,t,r,n){e.removeEventListener(t,r,n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ks=function(e,t){return ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ks(e,t)};function vn(e,t){ks(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Fr=function(){return Fr=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Fr.apply(this,arguments)};function Mf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Ag(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Is(e,t){if(e===t)return!1;for(var r in e)if(!(r in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function Ml(e,t){var r=Object.keys(e),n=Object.keys(t),i=ra(r,n,function(l){return l}),a={},o={},s={};return i.added.forEach(function(l){var u=n[l];a[u]=t[u]}),i.removed.forEach(function(l){var u=r[l];o[u]=e[u]}),i.maintained.forEach(function(l){var u=l[0],c=r[u],d=[e[c],t[c]];e[c]!==t[c]&&(s[c]=d)}),{added:a,removed:o,changed:s}}function Pf(e){e.forEach(function(t){t()})}function ec(e){var t=0;return e.map(function(r){return r==null?"$compat"+ ++t:""+r})}function rc(e,t,r,n){if(ye(e)||Ts(e))return new Lg("text_"+e,t,r,n,null,{});var i=typeof e.type=="string"?$g:e.type.prototype.render?Gg:Ug;return new i(e.type,t,r,n,e.ref,e.props)}function kf(e){var t=[];return e.forEach(function(r){t=t.concat(qt(r)?kf(r):r)}),t}function nc(e){var t=e.className,r=Mf(e,["className"]);return t!=null&&(r.class=t),delete r.style,delete r.children,r}function Uo(e,t){if(!t)return e;for(var r in t)Xn(e[r])&&(e[r]=t[r]);return e}function $e(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=t||{},a=i.key,o=i.ref,s=Mf(i,["key","ref"]);return{type:e,key:a,ref:o,props:Fr(Fr({},s),{children:kf(r).filter(function(l){return l!=null&&l!==!1})})}}var na=function(){function e(r,n,i,a,o,s){s===void 0&&(s={}),this.type=r,this.key=n,this.index=i,this.container=a,this.ref=o,this.props=s,this._providers=[]}var t=e.prototype;return t._should=function(r,n){return!0},t._update=function(r,n,i,a){if(this.base&&!ye(n)&&!a&&!this._should(n.props,i))return!1;this.original=n,this._setState(i);var o=this.props;return ye(n)||(this.props=n.props,this.ref=n.ref),this._render(r,this.base?o:{},i),!0},t._mounted=function(){var r=this.ref;r&&r(this.base)},t._setState=function(r){},t._updated=function(){var r=this.ref;r&&r(this.base)},t._destroy=function(){var r=this.ref;r&&r(null)},e}();function Bg(e,t,r){var n=Ml(e,t),i=n.added,a=n.removed,o=n.changed;for(var s in i)r.setAttribute(s,i[s]);for(var s in o)r.setAttribute(s,o[s][1]);for(var s in a)r.removeAttribute(s)}function zg(e,t,r){var n=Ml(e,t),i=n.added,a=n.removed,o=n.changed;for(var s in a)r.removeEventListener(s);for(var s in i)r.addEventListener(s,i[s]);for(var s in o)r.removeEventListener(s),r.addEventListener(s,o[s][1]);for(var s in a)r.removeEventListener(s)}function Ng(e,t,r){var n=r.style,i=Ml(e,t),a=i.added,o=i.removed,s=i.changed;for(var l in a){var u=Ga(l,"-");n.setProperty?n.setProperty(u,a[l]):n[u]=a[l]}for(var l in s){var u=Ga(l,"-");n.setProperty?n.setProperty(u,s[l][1]):n[u]=s[l][1]}for(var l in o){var u=Ga(l,"-");n.removeProperty?n.removeProperty(u):n[u]=""}}function ic(e){var t={},r={};for(var n in e)n.indexOf("on")===0?r[n.replace("on","").toLowerCase()]=e[n]:t[n]=e[n];return{attributes:t,events:r}}var Lg=function(e){vn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var r=t.prototype;return r._render=function(n){var i=this,a=!this.base;return a&&(this.base=document.createTextNode(this.type.replace("text_",""))),n.push(function(){a?i._mounted():i._updated()}),!0},r._unmount=function(){this.base.parentNode.removeChild(this.base)},t}(na),$g=function(e){vn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.events={},n._isSVG=!1,n}var r=t.prototype;return r.addEventListener=function(n,i){var a=this.events;a[n]=function(o){o.nativeEvent=o,i(o)},this.base.addEventListener(n,a[n])},r.removeEventListener=function(n){var i=this.events;this.base.removeEventListener(n,i[n]),delete i[n]},r._should=function(n){return Is(this.props,n)},r._render=function(n,i){var a=this,o=!this.base;if(o){var s=this._hasSVG();this._isSVG=s;var l=this.props.portalContainer;if(!l){var u=this.type;s?l=document.createElementNS("http://www.w3.org/2000/svg",u):l=document.createElement(u)}this.base=l}ia(this,this._providers,this.props.children,n,null);var c=this.base,d=ic(i),f=d.attributes,p=d.events,h=ic(this.props),v=h.attributes,g=h.events;return Bg(nc(f),nc(v),c),zg(p,g,this),Ng(i.style||{},this.props.style||{},c),n.push(function(){o?a._mounted():a._updated()}),!0},r._unmount=function(){var n=this.events,i=this.base;for(var a in n)i.removeEventListener(a,n[a]);this._providers.forEach(function(o){o._unmount()}),this.events={},this.props.portalContainer||i.parentNode.removeChild(i)},r._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var n=Pl(this.container);return n&&"ownerSVGElement"in n},t}(na);function Pl(e){if(!e)return null;var t=e.base;return t instanceof Node?t:Pl(e.container)}function Gi(e){if(!e)return null;if(e instanceof Node)return e;var t=e.$_provider._providers;return t.length?Gi(t[0].base):null}var Ug=function(e){vn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var r=t.prototype;return r._render=function(n){var i=this.type(this.props);return ia(this,this._providers,i?[i]:[],n),!0},r._unmount=function(){this._providers.forEach(function(n){n._unmount()})},t}(na),If=function(e){vn(t,e);function t(n){var i=e.call(this,"container","container",0,null)||this;return i.base=n,i}var r=t.prototype;return r._render=function(){return!0},r._unmount=function(){},t}(na),Gg=function(e){vn(t,e);function t(n,i,a,o,s,l){return l===void 0&&(l={}),e.call(this,n,i,a,o,s,Uo(l,n.defaultProps))||this}var r=t.prototype;return r._should=function(n,i){return this.base.shouldComponentUpdate(Uo(n,this.type.defaultProps),i||this.base.state)},r._render=function(n,i){var a=this;this.props=Uo(this.props,this.type.defaultProps);var o=!this.base;o?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var s=this.base,l=s.state,u=s.render();u&&u.props&&!u.props.children.length&&(u.props.children=this.props.children),ia(this,this._providers,u?[u]:[],n),n.push(function(){o?(a._mounted(),s.componentDidMount()):(a._updated(),s.componentDidUpdate(i,l))})},r._setState=function(n){var i=this.base;!i||!n||(i.state=n)},r._unmount=function(){this._providers.forEach(function(n){n._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}(na),kl=function(){function e(r){r===void 0&&(r={}),this.props=r,this.state={},this.$_timer=0,this.$_state={}}var t=e.prototype;return t.shouldComponentUpdate=function(r,n){return!0},t.render=function(){return null},t.setState=function(r,n,i){var a=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=Fr(Fr({},this.$_state),r),i?this.$_setState(n,i):this.$_timer=setTimeout(function(){a.$_timer=0,a.$_setState(n,i)})},t.forceUpdate=function(r){this.setState({},r,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(r,n){},t.componentWillUnmount=function(){},t.$_setState=function(r,n){var i=[],a=this.$_provider,o=ia(a.container,[a],[a.original],i,Fr(Fr({},this.state),this.$_state),n);o&&(r&&i.push(r),Pf(i))},e}(),Il=function(e){vn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var r=t.prototype;return r.shouldComponentUpdate=function(n,i){return Is(this.props,n)||Is(this.state,i)},t}(kl),Vg=function(e){vn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidMount=function(){var n=this.props,i=n.element,a=n.container;this._portalProvider=new If(a),Va(i,a,this._portalProvider)},r.componentDidUpdate=function(){var n=this.props,i=n.element,a=n.container;Va(i,a,this._portalProvider)},r.componentWillUnmount=function(){var n=this.props.container;Va(null,n,this._portalProvider),this._portalProvider=null},t}(Il);function Hg(e,t,r){var n=[];ia(e,e._providers,t,n,r),Pf(n)}function jg(e,t){for(var r=e._providers,n=r.length,i=t.index+1;i<n;++i){var a=Gi(r[i].base);if(a)return a}return null}function Wg(e,t,r){var n=r.map(function(l){return ye(l)?null:l.key}),i=ec(t.map(function(l){return l.key})),a=ec(n),o=ra(i,a,function(l){return l});o.removed.forEach(function(l){t.splice(l,1)[0]._unmount()}),o.ordered.forEach(function(l){var u=l[0],c=l[1],d=t.splice(u,1)[0];t.splice(c,0,d);var f=Gi(d.base),p=Gi(t[c+1]&&t[c+1].base);f&&f.parentNode.insertBefore(f,p)}),o.added.forEach(function(l){t.splice(l,0,rc(r[l],n[l],l,e))});var s=o.maintained.filter(function(l){l[0];var u=l[1],c=r[u],d=t[u],f=ye(c)?"text_"+c:c.type;return f!==d.type?(d._unmount(),t.splice(u,1,rc(c,n[u],u,e)),!0):(d.index=u,!1)});return Ag(o.added,s.map(function(l){l[0];var u=l[1];return u}))}function ia(e,t,r,n,i,a){var o=Wg(e,t,r),s=t.filter(function(u,c){return u._update(n,r[c],i,a)}),l=Pl(e);return l&&o.reverse().forEach(function(u){var c=t[u],d=Gi(c.base);if(!!d&&l!==d&&!d.parentNode){var f=jg(e,c);l.insertBefore(d,f)}}),s.length>0}function Va(e,t,r){r===void 0&&(r=t.__REACT_COMPAT__);var n=!!r;return r||(r=new If(t)),Hg(r,e?[e]:[]),n||(t.__REACT_COMPAT__=r),r}function ac(e,t,r){var n=t.__REACT_COMPAT__;e&&!n&&(t.innerHTML=""),Va(e,t,n),r&&r()}function qg(e,t){return $e(Vg,{element:e,container:t})}var Yg="simple-1.1.0";function Rl(e,t){for(var r=e.length,n=0;n<r;++n)if(t(e[n],n))return!0;return!1}function Rf(e,t){for(var r=e.length,n=0;n<r;++n)if(t(e[n],n))return e[n];return null}function Ff(e){var t=e;if(typeof t=="undefined"){if(typeof navigator=="undefined"||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}function Fl(e,t){try{return new RegExp(e,"g").exec(t)}catch{return null}}function Xg(){if(typeof navigator=="undefined"||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,t=e.brands||e.uaList;return!!(t&&t.length)}function Kg(e,t){var r=Fl("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return r?r[3]:""}function Rs(e){return e.replace(/_/g,".")}function Ci(e,t){var r=null,n="-1";return Rl(e,function(i){var a=Fl("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!a||i.brand?!1:(r=i,n=a[3]||"-1",i.versionAlias?n=i.versionAlias:i.versionTest&&(n=Kg(i.versionTest.toLowerCase(),t)||n),n=Rs(n),!0)}),{preset:r,version:n}}function si(e,t){var r={brand:"",version:"-1"};return Rl(e,function(n){var i=Af(t,n);return i?(r.brand=n.id,r.version=n.versionAlias||i.version,r.version!=="-1"):!1}),r}function Af(e,t){return Rf(e,function(r){var n=r.brand;return Fl(""+t.test,n.toLowerCase())})}var Fs=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Bf=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],As=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],zf=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Nf=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Lf(e){return!!Ci(zf,e).preset}function Zg(e){var t=Ff(e),r=!!/mobi/g.exec(t),n={name:"unknown",version:"-1",majorVersion:-1,webview:Lf(t),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},a=Ci(Fs,t),o=a.preset,s=a.version,l=Ci(Nf,t),u=l.preset,c=l.version,d=Ci(Bf,t);if(n.chromium=!!d.preset,n.chromiumVersion=d.version,!n.chromium){var f=Ci(As,t);n.webkit=!!f.preset,n.webkitVersion=f.version}return u&&(i.name=u.id,i.version=c,i.majorVersion=parseInt(c,10)),o&&(n.name=o.id,n.version=s,n.webview&&i.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:r,isHints:!1}}function Qg(e){var t=navigator.userAgentData,r=(t.uaList||t.brands).slice(),n=e&&e.fullVersionList,i=t.mobile||!1,a=r[0],o=(e&&e.platform||t.platform||navigator.platform).toLowerCase(),s={name:a.brand,version:a.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!si(zf,r).brand||Lf(Ff())},l={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&Rl(As,function(h){return Af(r,h)});var u=si(Bf,r);if(s.chromium=!!u.brand,s.chromiumVersion=u.version,!s.chromium){var c=si(As,r);s.webkit=!!c.brand,s.webkitVersion=c.version}var d=Rf(Nf,function(h){return new RegExp(""+h.test,"g").exec(o)});if(l.name=d?d.id:"",e&&(l.version=e.platformVersion),n&&n.length){var f=si(Fs,n);s.name=f.brand||s.name,s.version=f.version||s.version}else{var p=si(Fs,r);s.name=p.brand||s.name,s.version=p.brand&&e?e.uaFullVersion:p.version}return s.webkit&&(l.name=i?"ios":"mac"),l.name==="ios"&&s.webview&&(s.version="-1"),l.version=Rs(l.version),s.version=Rs(s.version),l.majorVersion=parseInt(l.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:l,isMobile:i,isHints:!0}}function Jg(e){return typeof e=="undefined"&&Xg()?Qg():Zg(e)}function tm(e,t,r,n,i,a){for(var o=0;o<i;++o){var s=r+o*i,l=n+o*i;e[s]+=e[l]*a,t[s]+=t[l]*a}}function em(e,t,r,n,i){for(var a=0;a<i;++a){var o=r+a*i,s=n+a*i,l=e[o],u=t[o];e[o]=e[s],e[s]=l,t[o]=t[s],t[s]=u}}function rm(e,t,r,n,i){for(var a=0;a<n;++a){var o=r+a*n;e[o]/=i,t[o]/=i}}function $f(e,t,r){r===void 0&&(r=Math.sqrt(e.length));for(var n=e.slice(),i=0;i<r;++i)n[i*r+t-1]=0,n[(t-1)*r+i]=0;return n[(t-1)*(r+1)]=1,n}function rr(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var r=e.slice(),n=Vt(t),i=0;i<t;++i){var a=t*i+i;if(!ft(r[a],ne)){for(var o=i+1;o<t;++o)if(r[t*i+o]){em(r,n,i,o,t);break}}if(!ft(r[a],ne))return[];rm(r,n,i,t,r[a]);for(var o=0;o<t;++o){var s=o,l=o+i*t,u=r[l];!ft(u,ne)||i===o||tm(r,n,s,i,t,-u)}}return n}function nm(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var r=[],n=0;n<t;++n)for(var i=0;i<t;++i)r[i*t+n]=e[t*n+i];return r}function Uf(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var r=[],n=e[t*t-1],i=0;i<t-1;++i)r[i]=e[t*(t-1)+i]/n;return r[t-1]=0,r}function im(e,t){for(var r=Vt(t),n=0;n<t-1;++n)r[t*(t-1)+n]=e[n]||0;return r}function cn(e,t){for(var r=e.slice(),n=e.length;n<t-1;++n)r[n]=0;return r[t-1]=1,r}function sr(e,t,r){if(t===void 0&&(t=Math.sqrt(e.length)),t===r)return e;for(var n=Vt(r),i=Math.min(t,r),a=0;a<i-1;++a){for(var o=0;o<i-1;++o)n[a*r+o]=e[a*t+o];n[(a+1)*r-1]=e[(a+1)*t-1],n[(r-1)*r+a]=e[(t-1)*t+a]}return n[r*r-1]=e[t*t-1],n}function Bs(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Vt(e);return t.forEach(function(i){n=Rt(n,i,e)}),n}function Rt(e,t,r){r===void 0&&(r=Math.sqrt(e.length));var n=[],i=e.length/r,a=t.length/i;if(i){if(!a)return e}else return t;for(var o=0;o<r;++o)for(var s=0;s<a;++s){n[s*r+o]=0;for(var l=0;l<i;++l)n[s*r+o]+=e[l*r+o]*t[s*i+l]}return n}function Et(e,t){for(var r=Math.min(e.length,t.length),n=e.slice(),i=0;i<r;++i)n[i]=n[i]+t[i];return n}function ot(e,t){for(var r=Math.min(e.length,t.length),n=e.slice(),i=0;i<r;++i)n[i]=n[i]-t[i];return n}function am(e,t){return t===void 0&&(t=e.length===6),t?[e[0],e[1],0,e[2],e[3],0,e[4],e[5],1]:e}function Gf(e,t){return t===void 0&&(t=e.length===9),t?[e[0],e[1],e[3],e[4],e[6],e[7]]:e}function ge(e,t,r){r===void 0&&(r=t.length);var n=Rt(e,t,r),i=n[r-1];return n.map(function(a){return a/i})}function om(e,t){return Rt(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function sm(e,t){return Rt(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function lm(e,t){return Rt(e,Hn(t,4))}function wa(e,t){var r=t[0],n=r===void 0?1:r,i=t[1],a=i===void 0?1:i,o=t[2],s=o===void 0?1:o;return Rt(e,[n,0,0,0,0,a,0,0,0,0,s,0,0,0,0,1],4)}function aa(e,t){return ge(Hn(t,3),cn(e,3))}function Go(e,t){var r=t[0],n=r===void 0?0:r,i=t[1],a=i===void 0?0:i,o=t[2],s=o===void 0?0:o;return Rt(e,[1,0,0,0,0,1,0,0,0,0,1,0,n,a,s,1],4)}function zs(e,t){return Rt(e,t,4)}function Hn(e,t){var r=Math.cos(e),n=Math.sin(e),i=Vt(t);return i[0]=r,i[1]=n,i[t]=-n,i[t+1]=r,i}function Vt(e){for(var t=e*e,r=[],n=0;n<t;++n)r[n]=n%(e+1)?0:1;return r}function Al(e,t){for(var r=Vt(t),n=Math.min(e.length,t-1),i=0;i<n;++i)r[(t+1)*i]=e[i];return r}function Vi(e,t){for(var r=Vt(t),n=Math.min(e.length,t-1),i=0;i<n;++i)r[t*(t-1)+i]=e[i];return r}function Bl(e,t,r,n,i,a,o,s){var l=e[0],u=e[1],c=t[0],d=t[1],f=r[0],p=r[1],h=n[0],v=n[1],g=i[0],m=i[1],b=a[0],w=a[1],S=o[0],x=o[1],y=s[0],E=s[1],_=[l,0,c,0,f,0,h,0,u,0,d,0,p,0,v,0,1,0,1,0,1,0,1,0,0,l,0,c,0,f,0,h,0,u,0,d,0,p,0,v,0,1,0,1,0,1,0,1,-g*l,-m*l,-b*c,-w*c,-S*f,-x*f,-y*h,-E*h,-g*u,-m*u,-b*d,-w*d,-S*p,-x*p,-y*v,-E*v],D=rr(_,8);if(!D.length)return[];var T=Rt(D,[g,m,b,w,S,x,y,E],8);return T[8]=1,sr(nm(T),3,4)}function zl(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function yo(e){return _n(Jr(e))}function Ha(e,t){var r=ge(e,[t[0],t[1]||0,t[2]||0,1],4),n=r[3]||1;return[r[0]/n,r[1]/n,r[2]/n]}function um(e,t){t===void 0&&(t=document.body);for(var r=e,n=zl();r;){var i=getComputedStyle(r).transform;if(n=zs(yo(i),n),r===t)break;r=r.parentElement}return n=rr(n,4),n[12]=0,n[13]=0,n[14]=0,n}function _n(e){var t=zl();return e.forEach(function(r){var n=r.matrixFunction,i=r.functionValue;!n||(t=n(t,i))}),t}function Jr(e){var t=qt(e)?e:Lr(e);return t.map(function(r){var n=Df(r),i=n.prefix,a=n.value,o=null,s=i,l="";if(i==="translate"||i==="translateX"||i==="translate3d"){var u=on(a).map(function(T){return parseFloat(T)}),c=u[0],d=u[1],f=d===void 0?0:d,p=u[2],h=p===void 0?0:p;o=Go,l=[c,f,h]}else if(i==="translateY"){var f=parseFloat(a);o=Go,l=[0,f,0]}else if(i==="translateZ"){var h=parseFloat(a);o=Go,l=[0,0,h]}else if(i==="scale"||i==="scale3d"){var v=on(a).map(function(T){return parseFloat(T)}),g=v[0],m=v[1],b=m===void 0?g:m,w=v[2],S=w===void 0?1:w;o=wa,l=[g,b,S]}else if(i==="scaleX"){var g=parseFloat(a);o=wa,l=[g,1,1]}else if(i==="scaleY"){var b=parseFloat(a);o=wa,l=[1,b,1]}else if(i==="scaleZ"){var S=parseFloat(a);o=wa,l=[1,1,S]}else if(i==="rotate"||i==="rotateZ"||i==="rotateX"||i==="rotateY"){var x=Kn(a),y=x.unit,E=x.value,_=y==="rad"?E:E*Math.PI/180;i==="rotate"||i==="rotateZ"?(s="rotateZ",o=lm):i==="rotateX"?o=om:i==="rotateY"&&(o=sm),l=_}else if(i==="matrix3d")o=zs,l=on(a).map(function(T){return parseFloat(T)});else if(i==="matrix"){var D=on(a).map(function(T){return parseFloat(T)});o=zs,l=[D[0],D[1],0,0,D[2],D[3],0,0,0,0,1,0,D[4],D[5],0,1]}else s="";return{name:i,functionName:s,value:a,matrixFunction:o,functionValue:l}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ns=function(e,t){return Ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ns(e,t)};function cm(e,t){Ns(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Vf=typeof Map=="function"?void 0:function(){var e=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++e)}}(),Hf=function(e){cm(t,e);function t(r){return r===void 0&&(r=[]),e.call(this,r,Vf)||this}return t}(Cg);function Pi(e,t){return ra(e,t,Vf)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function dm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function De(e){return ft(e,ne)}function fm(e,t){return e.every(function(r,n){return De(r-t[n])===0})}function pm(e,t){return!De(e[0]-t[0])&&!De(e[1]-t[1])}function ki(e){return e.length<3?0:Math.abs(Rg(e.map(function(t,r){var n=e[r+1]||e[0];return t[0]*n[1]-n[0]*t[1]})))/2}function Ls(e,t){var r=t.width,n=t.height,i=t.left,a=t.top,o=$r(e),s=o.minX,l=o.minY,u=o.maxX,c=o.maxY,d=r/(u-s),f=n/(c-l);return e.map(function(p){return[i+(p[0]-s)*d,a+(p[1]-l)*f]})}function $r(e){var t=e.map(function(n){return n[0]}),r=e.map(function(n){return n[1]});return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,r),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,r)}}function Za(e,t,r){var n=e[0],i=e[1],a=$r(t),o=a.minX,s=a.maxX,l=[[o,i],[s,i]],u=Qa(l[0],l[1]),c=$s(t),d=[];if(c.forEach(function(h){var v=Qa(h[0],h[1]),g=h[0];if(fm(u,v))d.push({pos:e,line:h,type:"line"});else{var m=jf(Nl(u,v),[l,h]);m.forEach(function(b){h.some(function(w){return pm(w,b)})?d.push({pos:b,line:h,type:"point"}):De(g[1]-i)!==0&&d.push({pos:b,line:h,type:"intersection"})})}}),!r&&Er(d,function(h){return h[0]===n}))return!0;var f=0,p={};return d.forEach(function(h){var v=h.pos,g=h.type,m=h.line;if(!(v[0]>n))if(g==="intersection")++f;else{if(g==="line")return;if(g==="point"){var b=Er(m,function(x){return x[1]!==i}),w=p[v[0]],S=b[1]>i?1:-1;w?w!==S&&++f:p[v[0]]=S}}}),f%2===1}function Qa(e,t){var r=e[0],n=e[1],i=t[0],a=t[1],o=i-r,s=a-n;Math.abs(o)<ne&&(o=0),Math.abs(s)<ne&&(s=0);var l=0,u=0,c=0;return o?s?(l=-s/o,u=1,c=-l*r-n):(u=1,c=-n):s&&(l=-1,c=r),[l,u,c]}function Nl(e,t){var r=e[0],n=e[1],i=e[2],a=t[0],o=t[1],s=t[2],l=r===0&&a===0,u=n===0&&o===0,c=[];if(l&&u)return[];if(l){var d=-i/n,f=-s/o;return d!==f?[]:[[-1/0,d],[1/0,d]]}else if(u){var p=-i/r,h=-s/a;return p!==h?[]:[[p,-1/0],[p,1/0]]}else if(r===0){var v=-i/n,g=-(o*v+s)/a;c=[[g,v]]}else if(a===0){var v=-s/o,g=-(n*v+i)/r;c=[[g,v]]}else if(n===0){var g=-i/r,v=-(a*g+s)/o;c=[[g,v]]}else if(o===0){var g=-s/a,v=-(r*g+i)/n;c=[[g,v]]}else{var g=(n*s-o*i)/(o*r-n*a),v=-(r*g+i)/n;c=[[g,v]]}return c.map(function(m){return[m[0],m[1]]})}function jf(e,t){var r=t.map(function(d){return[0,1].map(function(f){return[Math.min(d[0][f],d[1][f]),Math.max(d[0][f],d[1][f])]})}),n=[];if(e.length===2){var i=e[0],a=i[0],o=i[1];if(De(a-e[1][0])){if(!De(o-e[1][1])){var u=Math.max.apply(Math,r.map(function(d){return d[0][0]})),c=Math.min.apply(Math,r.map(function(d){return d[0][1]}));if(De(u-c)>0)return[];n=[[u,o],[c,o]]}}else{var s=Math.max.apply(Math,r.map(function(d){return d[1][0]})),l=Math.min.apply(Math,r.map(function(d){return d[1][1]}));if(De(s-l)>0)return[];n=[[a,s],[a,l]]}}return n.length||(n=e.filter(function(d){var f=d[0],p=d[1];return r.every(function(h){return 0<=De(f-h[0][0])&&0<=De(h[0][1]-f)&&0<=De(p-h[1][0])&&0<=De(h[1][1]-p)})})),n.map(function(d){return[De(d[0]),De(d[1])]})}function $s(e){return dm(e.slice(1),[e[0]]).map(function(t,r){return[e[r],t]})}function hm(e,t){var r=e.slice(),n=t.slice();Ps(r)===-1&&r.reverse(),Ps(n)===-1&&n.reverse();var i=$s(r),a=$s(n),o=i.map(function(c){return Qa(c[0],c[1])}),s=a.map(function(c){return Qa(c[0],c[1])}),l=[];o.forEach(function(c,d){var f=i[d],p=[];s.forEach(function(h,v){var g=Nl(c,h),m=jf(g,[f,a[v]]);p.push.apply(p,m.map(function(b){return{index1:d,index2:v,pos:b,type:"intersection"}}))}),p.sort(function(h,v){return Le(f[0],h.pos)-Le(f[0],v.pos)}),l.push.apply(l,p),Za(f[1],n)&&l.push({index1:d,index2:-1,pos:f[1],type:"inside"})}),a.forEach(function(c,d){if(!!Za(c[1],r)){var f=!1,p=wr(l,function(h){var v=h.index2;return v===d?(f=!0,!1):!!f});p===-1&&(f=!1,p=wr(l,function(h){var v=h.index1,g=h.index2;return v===-1&&g+1===d?(f=!0,!1):!!f})),p===-1?l.push({index1:-1,index2:d,pos:c[1],type:"inside"}):l.splice(p,0,{index1:-1,index2:d,pos:c[1],type:"inside"})}});var u={};return l.filter(function(c){var d=c.pos,f=d[0]+"x"+d[1];return u[f]?!1:(u[f]=!0,!0)})}function Us(e,t){var r=hm(e,t);return r.map(function(n){var i=n.pos;return i})}function vm(e,t){var r=Us(e,t);return ki(r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gs=function(){return Gs=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Gs.apply(this,arguments)};function gm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}var mm=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(r,n){if(er(r))for(var i in r)this.on(i,r[i]);else this._addEvent(r,n,{});return this},t.off=function(r,n){if(!r)this._events={};else if(er(r))for(var i in r)this.off(i);else if(!n)this._events[r]=[];else{var a=this._events[r];if(a){var o=wr(a,function(s){return s.listener===n});o>-1&&a.splice(o,1)}}return this},t.once=function(r,n){var i=this;return n&&this._addEvent(r,n,{once:!0}),new Promise(function(a){i._addEvent(r,a,{once:!0})})},t.emit=function(r,n){var i=this;n===void 0&&(n={});var a=this._events[r];if(!r||!a)return!0;var o=!1;return n.eventType=r,n.stop=function(){o=!0},n.currentTarget=this,gm(a).forEach(function(s){s.listener(n),s.once&&i.off(r,s.listener)}),!o},t.trigger=function(r,n){return n===void 0&&(n={}),this.emit(r,n)},t._addEvent=function(r,n,i){var a=this._events;a[r]=a[r]||[];var o=a[r];o.push(Gs({listener:n},i))},e}(),Qn=mm;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vs=function(e,t){return Vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Vs(e,t)};function ym(e,t){Vs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var On=function(){return On=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},On.apply(this,arguments)};function bm(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function oc(e,t){return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}}function Ea(e){if(e){if(ye(e))return document.querySelector(e)}else return null;if(mo(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var Sm=function(e){ym(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var i=n._currentOptions;n._lock||!i||n.emit("scrollDrag",{next:function(a){n.checkScroll({container:i.container,inputEvent:a})}})},n}var r=t.prototype;return r.dragStart=function(n,i){var a=Ea(i.container);if(!a){this._flag=!1;return}var o=0,s=0,l=0,u=0;if(a===document.body)l=window.innerWidth,u=window.innerHeight;else{var c=a.getBoundingClientRect();o=c.top,s=c.left,l=c.width,u=c.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:o,left:s,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],i),this._currentOptions=i,this._registerScrollEvent(i)},r.drag=function(n,i){if(clearTimeout(this._timer),!!this._flag){var a=n.clientX,o=n.clientY,s=i.threshold,l=s===void 0?0:s,u=this,c=u._startRect,d=u._startPos;this._currentOptions=i;var f=[0,0];return c.top>o-l?(d[1]>c.top||o<d[1])&&(f[1]=-1):c.top+c.height<o+l&&(d[1]<c.top+c.height||o>d[1])&&(f[1]=1),c.left>a-l?(d[0]>c.left||a<d[0])&&(f[0]=-1):c.left+c.width<a+l&&(d[0]<c.left+c.width||a>d[0])&&(f[0]=1),!f[0]&&!f[1]?!1:this._continueDrag(On(On({},i),{direction:f,inputEvent:n,isDrag:!0}))}},r.checkScroll=function(n){var i=this;if(this._isWait)return!1;var a=n.prevScrollPos,o=a===void 0?this._prevScrollPos:a,s=n.direction,l=n.throttleTime,u=l===void 0?0:l,c=n.inputEvent,d=n.isDrag,f=this._getScrollPosition(s||[0,0],n),p=f[0]-o[0],h=f[1]-o[1],v=s||[p?Math.abs(p)/p:0,h?Math.abs(h)/h:0];return this._prevScrollPos=f,this._lock=!1,!p&&!h?!1:(this.emit("move",{offsetX:v[0]?p:0,offsetY:v[1]?h:0,inputEvent:c}),u&&d&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},u)),!0)},r.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},r._getScrollPosition=function(n,i){var a=i.container,o=i.getScrollPosition,s=o===void 0?bm:o;return s({container:Ea(a),direction:n})},r._continueDrag=function(n){var i=this,a,o=n.container,s=n.direction,l=n.throttleTime,u=n.useScroll,c=n.isDrag,d=n.inputEvent;if(!(!this._flag||c&&this._isWait)){var f=Ui(),p=Math.max(l+this._prevTime-f,0);if(p>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},p),!1;this._prevTime=f;var h=this._getScrollPosition(s,n);this._prevScrollPos=h,c&&(this._isWait=!0),u||(this._lock=!0);var v={container:Ea(o),direction:s,inputEvent:d};return(a=n.requestScroll)===null||a===void 0||a.call(n,v),this.emit("scroll",v),this._isWait=!1,u||this.checkScroll(On(On({},n),{prevScrollPos:h,direction:s,inputEvent:d}))}},r._registerScrollEvent=function(n){this._unregisterScrollEvent();var i=n.checkScrollEvent;if(!!i){var a=i===!0?oc:i,o=Ea(n.container);i===!0&&(o===document.body||o===document.documentElement)?this._unregister=oc(window,this._onScroll):this._unregister=a(o,this._onScroll)}},r._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},t}(Qn),Wf=Sm;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hs=function(e,t){return Hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Hs(e,t)};function wm(e,t){Hs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ee=function(){return ee=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ee.apply(this,arguments)};function Em(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function Vo(e){return Em([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function Cm(e){return e.touches&&e.touches.length>=2}function Ca(e){return e?e.touches?Dm(e.touches):[qf(e)]:[]}function xm(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function sc(e,t,r){var n=r.length,i=Ii(e,n),a=i.clientX,o=i.clientY,s=i.originalClientX,l=i.originalClientY,u=Ii(t,n),c=u.clientX,d=u.clientY,f=Ii(r,n),p=f.clientX,h=f.clientY,v=a-c,g=o-d,m=a-p,b=o-h;return{clientX:s,clientY:l,deltaX:v,deltaY:g,distX:m,distY:b}}function Ho(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function Dm(e){for(var t=Math.min(e.length,2),r=[],n=0;n<t;++n)r.push(qf(e[n]));return r}function qf(e){return{clientX:e.clientX,clientY:e.clientY}}function Ii(e,t){t===void 0&&(t=e.length);for(var r={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=0;n<t;++n){var i=e[n];r.originalClientX+="originalClientX"in i?i.originalClientX:i.clientX,r.originalClientY+="originalClientY"in i?i.originalClientY:i.clientY,r.clientX+=i.clientX,r.clientY+=i.clientY}return t?{clientX:r.clientX/t,clientY:r.clientY/t,originalClientX:r.originalClientX/t,originalClientY:r.originalClientY/t}:r}var jo=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),Vo(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),Vo(t)-Vo(this.startClients)},e.prototype.getPosition=function(t,r){t===void 0&&(t=this.prevClients);var n=sc(t||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,a=n.deltaY;return this.movement+=Math.sqrt(i*i+a*a),this.prevClients=t,n},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);var r=this.prevClients;return this.startClients.map(function(n,i){return sc([t[i]],[r[i]],[n])})},e.prototype.getMovement=function(t){var r=this.movement;if(!t)return r;var n=Ii(t,this.length),i=Ii(this.prevClients,this.length),a=n.clientX-i.clientX,o=n.clientY-i.clientY;return Math.sqrt(a*a+o*o)+r},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),Ho(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),Ho(t)/Ho(this.startClients)},e.prototype.move=function(t,r){this.startClients.forEach(function(n){n.clientX-=t,n.clientY-=r}),this.prevClients.forEach(function(n){n.clientX-=t,n.clientY-=r})},e}(),lc=["textarea","input"],Yf=function(e){wm(t,e);function t(r,n){n===void 0&&(n={});var i=e.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.isMouse=!1,i.isTouch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i.onDragStart=function(d,f){if(f===void 0&&(f=!0),!(!i.flag&&d.cancelable===!1)){var p=i.options,h=p.container,v=p.pinchOutside,g=p.preventWheelClick,m=p.preventRightClick,b=p.preventDefault,w=p.checkInput,S=p.preventClickEventOnDragStart,x=p.preventClickEventOnDrag,y=p.preventClickEventByCondition,E=i.isTouch,_=!i.flag;if(i._isSecondaryButton=d.which===3||d.button===2,g&&(d.which===2||d.button===1)||m&&(d.which===3||d.button===2))return i.stop(),!1;if(_){var D=document.activeElement,T=d.target;if(T){var k=T.tagName.toLowerCase(),O=lc.indexOf(k)>-1,I=T.isContentEditable;if(O||I){if(w||D===T||D&&I&&D.isContentEditable&&D.contains(T))return!1}else if((b||d.type==="touchstart")&&D){var R=D.tagName.toLowerCase();(D.isContentEditable||lc.indexOf(R)>-1)&&D.blur()}(S||x||y)&&ve(window,"click",i._onClick,!0)}i.clientStores=[new jo(Ca(d))],i.flag=!0,i.isDrag=!1,i._isTrusted=f,i._dragFlag=!0,i._prevInputEvent=d,i.data={},i.doubleFlag=Ui()-i.prevTime<200,i._isMouseEvent=xm(d),!i._isMouseEvent&&i._preventMouseEvent&&(i._preventMouseEvent=!1);var F=i._preventMouseEvent||i.emit("dragStart",ee(ee({data:i.data,datas:i.data,inputEvent:d,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:f,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));F===!1&&i.stop(),i._isMouseEvent&&i.flag&&b&&d.preventDefault()}if(!i.flag)return!1;var L=0;if(_?(i._attchDragEvent(),E&&v&&(L=setTimeout(function(){ve(h,"touchstart",i.onDragStart,{passive:!1})}))):E&&v&&ce(h,"touchstart",i.onDragStart),i.flag&&Cm(d)){if(clearTimeout(L),_&&d.touches.length!==d.changedTouches.length)return;i.pinchFlag||i.onPinchStart(d)}}},i.onDrag=function(d,f){if(!!i.flag){var p=i.options.preventDefault;!i._isMouseEvent&&p&&d.preventDefault(),i._prevInputEvent=d;var h=Ca(d),v=i.moveClients(h,d,!1);if(i._dragFlag){if(i.pinchFlag||v.deltaX||v.deltaY){var g=i._preventMouseEvent||i.emit("drag",ee(ee({},v),{isScroll:!!f,inputEvent:d}));if(g===!1){i.stop();return}}i.pinchFlag&&i.onPinch(d,h)}i.getCurrentStore().getPosition(h,!0)}},i.onDragEnd=function(d){if(!!i.flag){var f=i.options,p=f.pinchOutside,h=f.container,v=f.preventClickEventOnDrag,g=f.preventClickEventOnDragStart,m=f.preventClickEventByCondition,b=i.isDrag;(v||g||m)&&requestAnimationFrame(function(){i._allowClickEvent()}),!m&&!g&&v&&!b&&i._allowClickEvent(),i.isTouch&&p&&ce(h,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(d);var w=d!=null&&d.touches?Ca(d):[],S=w.length;S===0||!i.options.keepDragging?i.flag=!1:i._addStore(new jo(w));var x=i._getPosition(),y=Ui(),E=!b&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=b||E?0:y,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",ee({data:i.data,datas:i.data,isDouble:E,isDrag:b,isClick:!b,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:d,isTrusted:i._isTrusted},x)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){i._preventMouseEvent=!1})})))}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){ce(window,"click",i._onClick,!0)},i._onClick=function(d){i._allowClickEvent(),i._preventMouseEvent=!1;var f=i.options.preventClickEventByCondition;f!=null&&f(d)||(d.stopPropagation(),d.preventDefault())},i._onContextMenu=function(d){var f=i.options;f.preventRightClick?i.onDragEnd(d):d.preventDefault()},i._passCallback=function(){};var a=[].concat(r);i.options=ee({checkInput:!1,container:a.length>1?window:a[0],preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var o=i.options,s=o.container,l=o.events,u=o.checkWindowBlur;if(i.isTouch=l.indexOf("touch")>-1,i.isMouse=l.indexOf("mouse")>-1,i.targets=a,i.isMouse&&(a.forEach(function(d){ve(d,"mousedown",i.onDragStart),ve(d,"mousemove",i._passCallback)}),ve(s,"contextmenu",i._onContextMenu)),u&&ve(window,"blur",i.onBlur),i.isTouch){var c={passive:!1};a.forEach(function(d){ve(d,"touchstart",i.onDragStart,c),ve(d,"touchmove",i._passCallback,c)})}return i}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.getMovement=function(r){return this.getCurrentStore().getMovement(r)+this.clientStores.slice(1).reduce(function(n,i){return n+i.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(r,n,i,a){a===void 0&&(a=!0),this.flag&&(this.clientStores[0].move(r,n),a&&this.onDrag(i,!0))},t.prototype.move=function(r,n){var i=r[0],a=r[1],o=this.getCurrentStore(),s=o.prevClients;return this.moveClients(s.map(function(l){var u=l.clientX,c=l.clientY;return{clientX:u+i,clientY:c+a,originalClientX:u,originalClientY:c}}),n,!0)},t.prototype.triggerDragStart=function(r){this.onDragStart(r,!1)},t.prototype.setEventData=function(r){var n=this.data;for(var i in r)n[i]=r[i];return this},t.prototype.setEventDatas=function(r){return this.setEventData(r)},t.prototype.getCurrentEvent=function(r){return r===void 0&&(r=this._prevInputEvent),ee(ee({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var r=this,n=this.targets,i=this.options.container;this.off(),ce(window,"blur",this.onBlur),this.isMouse&&(n.forEach(function(a){ce(a,"mousedown",r.onDragStart)}),ce(i,"contextmenu",this._onContextMenu)),this.isTouch&&(n.forEach(function(a){ce(a,"touchstart",r.onDragStart)}),ce(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(r){var n=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>n)){var i=new jo(Ca(r));this.pinchFlag=!0,this._addStore(i);var a=this.emit("pinchStart",ee(ee({data:this.data,datas:this.data,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition()),{inputEvent:r,isTrusted:this._isTrusted}));a===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(r,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",ee(ee({data:this.data,datas:this.data,movement:this.getMovement(n),angle:i.getAngle(n),rotation:i.getRotation(n),touches:i.getPositions(n),scale:i.getScale(n),distance:i.getDistance(n)},i.getPosition(n)),{inputEvent:r,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(r){if(!!this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",ee(ee({data:this.data,datas:this.data,isPinch:n,touches:i.getPositions()},i.getPosition()),{inputEvent:r}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(r,n,i){var a=this._getPosition(r,i),o=this.isDrag;(a.deltaX||a.deltaY)&&(this.isDrag=!0);var s=!1;return!o&&this.isDrag&&(s=!0),ee(ee({data:this.data,datas:this.data},a),{movement:this.getMovement(r),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:s})},t.prototype._addStore=function(r){this.clientStores.splice(0,0,r)},t.prototype._getPosition=function(r,n){var i=this.getCurrentStore(),a=i.getPosition(r,n),o=this.clientStores.slice(1).reduce(function(u,c){var d=c.getPosition();return u.distX+=d.distX,u.distY+=d.distY,u},a),s=o.distX,l=o.distY;return ee(ee({},a),{distX:s,distY:l})},t.prototype._attchDragEvent=function(){var r=this.options.container,n={passive:!1};this.isMouse&&(ve(r,"mousemove",this.onDrag),ve(r,"mouseup",this.onDragEnd)),this.isTouch&&(ve(r,"touchmove",this.onDrag,n),ve(r,"touchend",this.onDragEnd,n),ve(r,"touchcancel",this.onDragEnd,n))},t.prototype._dettachDragEvent=function(){var r=this.options.container;this.isMouse&&(ce(r,"mousemove",this.onDrag),ce(r,"mouseup",this.onDragEnd)),this.isTouch&&(ce(r,"touchstart",this.onDragStart),ce(r,"touchmove",this.onDrag),ce(r,"touchend",this.onDragEnd),ce(r,"touchcancel",this.onDragEnd))},t}(Qn);function _m(e){for(var t=5381,r=e.length;r;)t=t*33^e.charCodeAt(--r);return t>>>0}var Tm=_m;function Om(e){return Tm(e).toString(36)}function Mm(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function Pm(e,t,r){return r.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,i){var a=i.trim();return(a?on(a):[""]).map(function(o){var s=o.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?""+s.replace(/\:host/g,"."+e):s?"."+e+" "+s:"."+e}).join(", ")+" {"})}function km(e,t,r,n){var i=document.createElement("style");return i.setAttribute("type","text/css"),i.setAttribute("data-styled-id",e),r.nonce&&i.setAttribute("nonce",r.nonce),i.innerHTML=Pm(e,t,r),(n||document.head||document.body).appendChild(i),i}function Xf(e){var t="rCS"+Om(e),r=0,n;return{className:t,inject:function(i,a){a===void 0&&(a={});var o=Mm(i),s=r===0,l;return(o||s)&&(l=km(t,e,a,o)),s&&(n=l),o||++r,{destroy:function(){o?(o.removeChild(l),l=null):(r>0&&--r,r===0&&n&&(n.parentNode.removeChild(n),n=null))}}}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var js=function(e,t){return js=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},js(e,t)};function Kf(e,t){js(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ws=function(){return Ws=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ws.apply(this,arguments)};function Im(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var Rm=function(e){Kf(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.injectResult=null,n.tag="div",n}var r=t.prototype;return r.render=function(){var n=this.props,i=n.className,a=i===void 0?"":i;n.cspNonce;var o=n.portalContainer,s=Im(n,["className","cspNonce","portalContainer"]),l=this.injector.className,u=this.tag,c={};return Yg.indexOf("simple")>-1&&o&&(c={portalContainer:o}),$e(u,Ws({ref:ar(this,"element"),"data-styled-id":l,className:a+" "+l},c,s))},r.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},r.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},r.getElement=function(){return this.element},t}(kl);function Zf(e,t){var r=Xf(t);return function(n){Kf(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.injector=r,a.tag=e,a}return i}(Rm)}var qs=function(e,t){return qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},qs(e,t)};function oa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var M=function(){return M=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},M.apply(this,arguments)};function Fm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Am(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function lt(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function sa(e,t){var r;return M({events:{},props:(r={},r[e]=Boolean,r),name:e},t)}function Bm(e,t){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*e,'px" height="').concat(32*e,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(t,'deg);transform-origin: 16px 16px"></path></svg>')}function zm(e){var t=Bm(1,e),r=Math.round(e/45)*45%180,n="ns-resize";return r===135?n="nwse-resize":r===45?n="nesw-resize":r===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(t,"') 16 16, ").concat(n,";")}var Ja=Jg(),Qf=Ja.browser.webkit,Jf=Qf&&function(){var e=typeof window=="undefined"?{userAgent:""}:window.navigator,t=/applewebkit\/([^\s]+)/g.exec(e.userAgent.toLowerCase());return t?parseFloat(t[1])<605:!1}(),Nm=Ja.browser.name==="firefox",Lm=parseInt(Ja.browser.webkitVersion,10)>=612||parseInt(Ja.browser.version,10)>=15,Ll="moveable-",$m=`
{
	position: absolute;
	width: 1px;
	height: 1px;
	left: 0;
	top: 0;
    z-index: 3000;
    --moveable-color: #4af;
    --zoom: 1;
    --zoompx: 1px;
    will-change: transform;
    outline: 1px solid transparent;
}
.control-box {
    z-index: 0;
}
.line, .control {
    position: absolute;
	left: 0;
    top: 0;
    will-change: transform;
}
.control {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	border: 2px solid #fff;
	box-sizing: border-box;
    background: #4af;
    background: var(--moveable-color);
	margin-top: -7px;
    margin-left: -7px;
    border: 2px solid #fff;
    z-index: 10;
}
.padding {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100px;
    height: 100px;
    transform-origin: 0 0;
}
.line {
	width: 1px;
    height: 1px;
    background: #4af;
    background: var(--moveable-color);
	transform-origin: 0px 50%;
}
.line.edge {
    z-index: 1;
    background: transparent;
}
.line.dashed {
    box-sizing: border-box;
    background: transparent;
}
.line.dashed.horizontal {
    border-top: 1px dashed #4af;
    border-top-color: #4af;
    border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
    border-left: 1px dashed #4af;
    border-left-color: #4af;
    border-left-color: var(--moveable-color);
}
.line.vertical {
    transform: translateX(-50%);
}
.line.horizontal {
    transform: translateY(-50%);
}
.line.vertical.bold {
    width: 2px;
}
.line.horizontal.bold {
    height: 2px;
}

.control.origin {
	border-color: #f55;
	background: #fff;
	width: 12px;
	height: 12px;
	margin-top: -6px;
    margin-left: -6px;
	pointer-events: none;
}
`.concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(e){return`
.direction[data-rotation="`.concat(e,'"], :global .view-control-rotation').concat(e,` {
	`).concat(zm(e),`
}
`)}).join(`
`),`

.line.direction:before {
    content: "";
    position: absolute;
    width: 100%;
    height: calc(var(--moveable-line-padding, 0) * 1px);
    bottom: 0;
    left: 0;
}
.group {
    z-index: -1;
}
.area {
    position: absolute;
}
.area-pieces {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
}
.area.avoid, .area.pass {
    pointer-events: none;
}
.area.avoid+.area-pieces {
    display: block;
}
.area-piece {
    position: absolute;
}

`).concat(Jf?`:global svg *:before {
	content:"";
	transform-origin: inherit;
}`:"",`
`),Um=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Ys=1e-4,Ee=1e-7,xa=1e-9,Xs=Math.pow(10,10),uc=-Xs,Gm=["n","w","s","e"],$l=["n","w","s","e","nw","ne","sw","se"],Vm={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},Ul={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},tp={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},ep=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag"];function la(e,t,r,n,i,a){var o,s;a===void 0&&(a="draggable");var l=(s=(o=t.gestos[a])===null||o===void 0?void 0:o.move(r,e.inputEvent))!==null&&s!==void 0?s:{},u=l.originalDatas||l.datas,c=u[a]||(u[a]={});return M(M({},i?xp(t,l):l),{isPinch:!!n,parentEvent:!0,datas:c,originalDatas:e.originalDatas})}var jn=function(){function e(r){var n;r===void 0&&(r="draggable"),this.ableName=r,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(n={},n[r]={},n)}var t=e.prototype;return t.dragStart=function(r,n){this.isDrag=!1,this.isFlag=!1;var i=n.originalDatas;return this.datas=i,i[this.ableName]||(i[this.ableName]={}),M(M({},this.move(r,n.inputEvent)),{type:"dragstart"})},t.drag=function(r,n){return this.move([r[0]-this.prevX,r[1]-this.prevY],n)},t.move=function(r,n){var i,a,o=!1;if(!this.isFlag)this.prevX=r[0],this.prevY=r[1],this.startX=r[0],this.startY=r[1],i=r[0],a=r[1],this.isFlag=!0;else{var s=this.isDrag;i=this.prevX+r[0],a=this.prevY+r[1],(r[0]||r[1])&&(this.isDrag=!0),!s&&this.isDrag&&(o=!0)}return this.prevX=i,this.prevY=a,{type:"drag",clientX:i,clientY:a,inputEvent:n,isFirstDrag:o,isDrag:this.isDrag,distX:i-this.startX,distY:a-this.startY,deltaX:r[0],deltaY:r[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},e}();function rp(e,t){var r=t.clientX,n=t.clientY,i=t.datas,a=e.state,o=a.moveableClientRect,s=a.rootMatrix,l=a.is3d,u=a.pos1,c=o.left,d=o.top,f=l?4:3,p=ot(un(s,[r-c,n-d],f),u),h=p[0],v=p[1],g=ur({datas:i,distX:h,distY:v}),m=g[0],b=g[1];return[m,b]}function gn(e,t){var r=t.datas,n=e.state,i=n.allMatrix,a=n.beforeMatrix,o=n.is3d,s=n.left,l=n.top,u=n.origin,c=n.offsetMatrix,d=n.targetMatrix,f=n.transformOrigin,p=o?4:3;r.is3d=o,r.matrix=i,r.targetMatrix=d,r.beforeMatrix=a,r.offsetMatrix=c,r.transformOrigin=f,r.inverseMatrix=rr(i,p),r.inverseBeforeMatrix=rr(a,p),r.absoluteOrigin=cn(Et([s,l],u),p),r.startDragBeforeDist=ge(r.inverseBeforeMatrix,r.absoluteOrigin,p),r.startDragDist=ge(r.inverseMatrix,r.absoluteOrigin,p)}function Hm(e){return Ln(e.datas.beforeTransform,[50,50],100,100).direction}function bo(e,t){var r=e.datas,n=e.originalDatas.beforeRenderable,i=r.transformIndex,a=n.nextTransforms,o=a.length,s=n.nextTransformAppendedIndexes,l=0;i===-1?(t==="translate"?l=0:t==="rotate"&&(l=wr(a,function(f){return f.match(/scale\(/g)})),l===-1&&(l=a.length),r.transformIndex=l):Er(s,function(f){return f.index===i&&f.functionName===t})?l=i:l=i+s.filter(function(f){return f.index<i}).length;var u=g0(a,l),c=u.targetFunction,d=t==="rotate"?"rotateZ":t;r.beforeFunctionTexts=u.beforeFunctionTexts,r.afterFunctionTexts=u.afterFunctionTexts,r.beforeTransform=u.beforeFunctionMatrix,r.beforeTransform2=u.beforeFunctionMatrix2,r.targetTansform=u.targetFunctionMatrix,r.afterTransform=u.afterFunctionMatrix,r.afterTransform2=u.afterFunctionMatrix2,r.targetAllTransform=u.allFunctionMatrix,c.functionName===d?(r.afterFunctionTexts.splice(0,1),r.isAppendTransform=!1):o>l&&(r.isAppendTransform=!0,n.nextTransformAppendedIndexes=lt(lt([],s,!0),[{functionName:t,index:l,isAppend:!0}],!1))}function So(e,t,r){return"".concat(e.beforeFunctionTexts.join(" ")," ").concat(e.isAppendTransform?r:t," ").concat(e.afterFunctionTexts.join(" "))}function jm(e){var t=e.datas,r=e.distX,n=e.distY,i=ip({datas:t,distX:r,distY:n}),a=i[0],o=i[1],s=np(t,im([a,o],4));return ge(s,cn([0,0,0],4),4)}function np(e,t,r){var n=e.beforeTransform,i=e.afterTransform,a=e.beforeTransform2,o=e.afterTransform2,s=e.targetAllTransform,l=r?Rt(s,t,4):Rt(t,s,4),u=Rt(rr(r?a:n,4),l,4),c=Rt(u,rr(r?o:i,4),4);return c}function ip(e){var t=e.datas,r=e.distX,n=e.distY,i=t.inverseBeforeMatrix,a=t.is3d,o=t.startDragBeforeDist,s=t.absoluteOrigin,l=a?4:3;return ot(ge(i,Et(s,[r,n]),l),o)}function ur(e,t){var r=e.datas,n=e.distX,i=e.distY,a=r.inverseBeforeMatrix,o=r.inverseMatrix,s=r.is3d,l=r.startDragBeforeDist,u=r.startDragDist,c=r.absoluteOrigin,d=s?4:3;return ot(ge(t?a:o,Et(c,[n,i]),d),t?l:u)}function Wm(e,t){var r=e.datas,n=e.distX,i=e.distY,a=r.beforeMatrix,o=r.matrix,s=r.is3d,l=r.startDragBeforeDist,u=r.startDragDist,c=r.absoluteOrigin,d=s?4:3;return ot(ge(t?a:o,Et(t?l:u,[n,i]),d),c)}function qm(e,t,r,n,i,a){return n===void 0&&(n=t),i===void 0&&(i=r),a===void 0&&(a=[0,0]),e?e.map(function(o,s){var l=Kn(o),u=l.value,c=l.unit,d=s?i:n,f=s?r:t;if(o==="%"||isNaN(u)){var p=d?a[s]/d:0;return f*p}else if(c!=="%")return u;return f*u/100}):a}function ap(e){var t=[];return e[1]>=0&&(e[0]>=0&&t.push(3),e[0]<=0&&t.push(2)),e[1]<=0&&(e[0]>=0&&t.push(1),e[0]<=0&&t.push(0)),t}function Ym(e,t){return ap(t).map(function(r){return e[r]})}function Xt(e,t){var r=(t[0]+1)/2,n=(t[1]+1)/2,i=[Zr(e[0][0],e[1][0],r,1-r),Zr(e[0][1],e[1][1],r,1-r)],a=[Zr(e[2][0],e[3][0],r,1-r),Zr(e[2][1],e[3][1],r,1-r)];return[Zr(i[0],a[0],n,1-n),Zr(i[1],a[1],n,1-n)]}function Xm(e,t,r,n,i,a){var o=Ur(t,r,n,i),s=Xt(o,a),l=e[0]-s[0],u=e[1]-s[1];return[l,u]}function ua(e,t,r,n){return Rt(e,to(t,n,r),n)}function Km(e,t,r){var n=e.transformOrigin,i=e.offsetMatrix,a=e.is3d,o=t.beforeTransform,s=t.afterTransform,l=a?4:3,u=yo([r]);return ua(i,sr(Rt(Rt(o,u,4),s,4),4,l),n,l)}function Zm(e,t){var r=e.transformOrigin,n=e.offsetMatrix,i=e.is3d,a=e.targetMatrix,o=i?4:3;return ua(n,Rt(a,Al(t,o),o),r,o)}function wo(e){var t=Jn(e);return{setTransform:function(r,n){n===void 0&&(n=-1),t.startTransforms=qt(r)?r:Lr(r),Ks(e,n)},setTransformIndex:function(r){Ks(e,r)}}}function Eo(e,t){var r=Jn(e),n=r.startTransforms;Ks(e,wr(n,function(i){return i.indexOf("".concat(t,"("))===0}))}function Ks(e,t){var r=Jn(e),n=e.datas;if(n.transformIndex=t,t!==-1){var i=r.startTransforms[t];if(!!i){var a=Jr([i]);n.startValue=a[0].functionValue}}}function Gl(e,t){var r=Jn(e);r.nextTransforms=Lr(t)}function Jn(e){return e.originalDatas.beforeRenderable}function op(e){var t=e.originalDatas.beforeRenderable;return t.nextTransforms}function Da(e){return op(e).join(" ")}function _a(e){return Jn(e).nextStyle}function sp(e,t,r,n,i){Gl(i,t);var a=Se.drag(e,la(i,e.state,r,n,!1)),o=a?a.transform:t;return M(M({transform:t,drag:a},we({transform:o},i)),{afterTransform:o})}function lp(e,t,r,n,i){var a=e.state,o=a.left,s=a.top,l=e.props.groupable,u=Km(e.state,i,t),c=l?o:0,d=l?s:0,f=cp(e,r,u),p=ot(n,f);return ot(p,[c,d])}function Qm(e,t,r,n,i){var a=lp(e,"scale(".concat(t.join(", "),")"),r,n,i);return a}function up(e,t,r){return[-1+e[0]/(t/2),-1+e[1]/(r/2)]}function cp(e,t,r){r===void 0&&(r=e.state.allMatrix);var n=e.state,i=n.width,a=n.height,o=n.is3d,s=o?4:3,l=[i/2*(1+t[0]),a/2*(1+t[1])];return oe(r,l,s)}function Jm(e,t,r){var n=r.fixedDirection,i=r.fixedPosition;return lp(e,"rotate(".concat(t,"deg)"),n,i,r)}function t0(e,t,r,n,i,a){var o=e.props.groupable,s=e.state,l=s.transformOrigin,u=s.offsetMatrix,c=s.is3d,d=s.width,f=s.height,p=s.left,h=s.top,v=a.fixedDirection,g=a.nextTargetMatrix||s.targetMatrix,m=c?4:3,b=qm(i,t,r,d,f,l),w=o?p:0,S=o?h:0,x=ua(u,g,b,m),y=Xm(n,x,t,r,m,v);return ot(y,[w,S])}function dp(e,t){return Xt(Me(e.state),t)}function e0(e,t){var r=e.targetGesto,n=e.controlGesto,i;return r!=null&&r.isFlag()&&(i=r.getEventData()[t]),!i&&(n==null?void 0:n.isFlag())&&(i=n.getEventData()[t]),i||{}}function r0(e,t){return[e[0]*t[0],e[1]*t[1]]}function st(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return hg.apply(void 0,lt([Ll],e,!1))}function fp(e){e()}function n0(e){return!e||e==="none"?[1,0,0,1,0,0]:er(e)?e:yo(e)}function to(e,t,r){return Bs(t,Vi(r,t),e,Vi(r.map(function(n){return-n}),t))}function i0(e,t,r){if(t==="%"){var n=Vl(e.ownerSVGElement);return n[r?"width":"height"]/100}return 1}function a0(e){var t=eo(Cr(e,":before"));return t.map(function(r,n){var i=Kn(r),a=i.value,o=i.unit;return a*i0(e,o,n===0)})}function eo(e){var t=e.transformOrigin;return t?t.split(" "):["0","0"]}function pp(e,t){t===void 0&&(t=Cr(e));var r=t.transform;if(r&&r!=="none")return t.transform;if("transform"in e){var n=e.transform,i=n.baseVal;if(!i)return"";var a=i.length;if(!a)return"";for(var o=[],s=function(u){var c=i[u].matrix;o.push("matrix(".concat(["a","b","c","d","e","f"].map(function(d){return c[d]}).join(", "),")"))},l=0;l<a;++l)s(l);return o.join(" ")}return""}function Hi(e,t,r,n,i){var a,o,s,l=e&&e.ownerDocument?e.ownerDocument:document,u=l.documentElement||l.body,c=!1,d,f;if(!e||r)d=e;else{var p=(a=e==null?void 0:e.assignedSlot)===null||a===void 0?void 0:a.parentElement,h=e.parentElement;p?(c=!0,f=h,d=p):d=h}for(var v=!1,g=e===t||d===t,m="relative",b=1,w=parseFloat((o=i)===null||o===void 0?void 0:o.zoom)||1,S=i==null?void 0:i.position;d&&d!==u;){t===d&&(g=!0);var x=Cr(d),y=d.tagName.toLowerCase(),E=pp(d,x),_=x.willChange,D=parseFloat(x.zoom)||1;if(m=x.position,n&&D!==1){b=D;break}if(!r&&n&&w!==1&&S&&S!=="absolute"||y==="svg"||m!=="static"||E&&E!=="none"||_==="transform")break;var T=(s=e==null?void 0:e.assignedSlot)===null||s===void 0?void 0:s.parentNode,k=d.parentNode;T&&(c=!0,f=k);var O=T||k;if(O&&O.nodeType===11){d=O.host,v=!0;break}d=O,m="relative"}return{offsetZoom:b,hasSlot:c,parentSlotElement:f,isCustomElement:v,isStatic:m==="static",isEnd:g||!d||d===u,offsetParent:d||u}}function o0(e,t,r){var n,i=e.tagName.toLowerCase(),a=e.offsetLeft,o=e.offsetTop,s=Xn(a),l=!s,u,c;return!l&&i!=="svg"?(u=Jf?a0(e):eo(r).map(function(d){return parseFloat(d)}),c=u.slice(),l=!0,n=u0(e,u,e===t&&t.tagName.toLowerCase()==="g"),a=n[0],o=n[1],u[0]=n[2],u[1]=n[3]):(u=eo(r).map(function(d){return parseFloat(d)}),c=u.slice()),{tagName:i,isSVG:s,hasOffset:l,offset:[a||0,o||0],origin:u,targetOrigin:c}}function hp(e,t,r){r===void 0&&(r=Cr(e));var n=Cr(document.body),i=n.position;if(!t&&(!i||i==="static"))return[0,0];var a=parseInt(n.marginLeft,10),o=parseInt(n.marginTop,10);return r.position==="absolute"&&((r.top!=="auto"||r.bottom!=="auto")&&(o=0),(r.left!=="auto"||r.right!=="auto")&&(a=0)),[a,o]}function Zs(e){e.forEach(function(t){var r=t.matrix;r&&(t.matrix=sr(r,3,4))})}function s0(e){for(var t=e.parentElement,r=!1;t;){var n=Cr(t).transform;if(n&&n!=="none"){r=!0;break}if(t===document.body)break;t=t.parentElement}return{fixedContainer:t||document.body,hasTransform:r}}function Co(e,t){return t===void 0&&(t=e.length>9),"".concat(t?"matrix3d":"matrix","(").concat(Gf(e,!t).join(","),")")}function Vl(e){var t=e.clientWidth,r=e.clientHeight;if(!e)return{x:0,y:0,width:0,height:0,clientWidth:t,clientHeight:r};var n=e.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||t,height:i.height||r,clientWidth:t,clientHeight:r}}function l0(e,t){var r=Vl(e),n=r.width,i=r.height,a=r.clientWidth,o=r.clientHeight,s=a/n,l=o/i,u=e.preserveAspectRatio.baseVal,c=u.align,d=u.meetOrSlice,f=[0,0],p=[s,l],h=[0,0];if(c!==1){var v=(c-2)%3,g=Math.floor((c-2)/3);f[0]=n*v/2,f[1]=i*g/2;var m=d===2?Math.max(l,s):Math.min(s,l);p[0]=m,p[1]=m,h[0]=(a-n)/2*v,h[1]=(o-i)/2*g}var b=Al(p,t);return b[t*(t-1)]=h[0],b[t*(t-1)+1]=h[1],to(b,t,f)}function u0(e,t,r){if(!e.getBBox||!r&&e.tagName.toLowerCase()==="g")return[0,0,0,0];var n=e.getBBox(),i=Vl(e.ownerSVGElement),a=n.x-i.x,o=n.y-i.y;return[a,o,t[0]-a,t[1]-o]}function oe(e,t,r){return ge(e,cn(t,r),r)}function Ur(e,t,r,n){return[[0,0],[t,0],[0,r],[t,r]].map(function(i){return oe(e,i,n)})}function Ue(e){var t=e.map(function(u){return u[0]}),r=e.map(function(u){return u[1]}),n=Math.min.apply(Math,t),i=Math.min.apply(Math,r),a=Math.max.apply(Math,t),o=Math.max.apply(Math,r),s=a-n,l=o-i;return{left:n,top:i,right:a,bottom:o,width:s,height:l}}function cc(e,t,r,n){var i=Ur(e,t,r,n);return Ue(i)}function c0(e,t,r,n,i){var a,o=e.target,s=e.origin,l=t.matrix,u=gp(o),c=u.offsetWidth,d=u.offsetHeight,f=r.getBoundingClientRect(),p=[0,0];r===document.body&&(p=hp(o,!0));for(var h=o.getBoundingClientRect(),v=h.left-f.left+r.scrollLeft-(r.clientLeft||0)+p[0],g=h.top-f.top+r.scrollTop-(r.clientTop||0)+p[1],m=h.width,b=h.height,w=Bs(n,i,l),S=cc(w,c,d,n),x=S.left,y=S.top,E=S.width,_=S.height,D=oe(w,s,n),T=ot(D,[x,y]),k=[v+T[0]*m/E,g+T[1]*b/_],O=[0,0],I=0;++I<10;){var R=rr(i,n);a=ot(oe(R,k,n),oe(R,D,n)),O[0]=a[0],O[1]=a[1];var F=Bs(n,i,Vi(O,n),l),L=cc(F,c,d,n),N=L.left,$=L.top,U=N-v,z=$-g;if(Math.abs(U)<2&&Math.abs(z)<2)break;k[0]-=U,k[1]-=z}return O.map(function(H){return Math.round(H)})}function d0(e,t,r){var n=e.length===16,i=n?4:3,a=t.map(function(l){return oe(e,l,i)}),o=r.left,s=r.top;return a.map(function(l){return[l[0]+o,l[1]+s]})}function Ln(e,t,r,n){var i=e.length===16,a=i?4:3,o=Ur(e,r,n,a),s=o[0],l=s[0],u=s[1],c=o[1],d=c[0],f=c[1],p=o[2],h=p[0],v=p[1],g=o[3],m=g[0],b=g[1],w=oe(e,t,a),S=w[0],x=w[1],y=Math.min(l,d,h,m),E=Math.min(u,f,v,b),_=Math.max(l,d,h,m),D=Math.max(u,f,v,b);l=l-y||0,d=d-y||0,h=h-y||0,m=m-y||0,u=u-E||0,f=f-E||0,v=v-E||0,b=b-E||0,S=S-y||0,x=x-E||0;var T=Ps(Ur(e,100,100,a));return{left:y,top:E,right:_,bottom:D,origin:[S,x],pos1:[l,u],pos2:[d,f],pos3:[h,v],pos4:[m,b],direction:T}}function Je(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function vp(e,t){return Je([t[0]-e[0],t[1]-e[1]])}function xi(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=Zt(e,t));var i=vp(e,t);return{transform:"translateY(-50%) translate(".concat(e[0],"px, ").concat(e[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(i,"px")}}function Hl(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r.length,a=r.reduce(function(s,l){return s+l[0]},0)/i,o=r.reduce(function(s,l){return s+l[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(a,"px, ").concat(o,"px) rotate(").concat(e,"rad) scale(").concat(t,")")}}function dn(e,t){var r=e[t];return er(r)?M(M({},e),r):e}function gp(e,t){t===void 0&&(t=e?Cr(e):null);var r=e&&!Xn(e.offsetWidth),n=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,f=0,p=0,h=0,v=1/0,g=1/0,m=1/0,b=1/0,w=0,S=0,x=!1;if(e)if(!r&&e.tagName.toLowerCase()!=="svg"){var y=e.getBBox();x=!0,n=y.width,i=y.height,s=n,l=i,u=n,c=i,a=n,o=i}else{var E=e.style,_=t.boxSizing==="border-box",D=parseFloat(t.borderLeftWidth)||0,T=parseFloat(t.borderRightWidth)||0,k=parseFloat(t.borderTopWidth)||0,O=parseFloat(t.borderBottomWidth)||0,I=parseFloat(t.paddingLeft)||0,R=parseFloat(t.paddingRight)||0,F=parseFloat(t.paddingTop)||0,L=parseFloat(t.paddingBottom)||0,N=I+R,$=F+L,U=D+T,z=k+O,H=N+U,X=$+z,j=t.position,K=0,q=0;if("clientLeft"in e){var Z=null;if(j==="absolute"){var tt=Hi(e,document.body);Z=tt.offsetParent}else Z=e.parentElement;if(Z){var ut=Cr(Z);K=parseFloat(ut.width),q=parseFloat(ut.height)}}d=Math.max(N,Nt(t.minWidth,K)||0),f=Math.max($,Nt(t.minHeight,q)||0),v=Nt(t.maxWidth,K),g=Nt(t.maxHeight,q),isNaN(v)&&(v=1/0),isNaN(g)&&(g=1/0),w=Nt(E.width,0)||0,S=Nt(E.height,0)||0,s=parseFloat(t.width)||0,l=parseFloat(t.height)||0,u=Math.abs(s-w)<1?Ka(d,w||s,v):s,c=Math.abs(l-S)<1?Ka(f,S||l,g):l,n=u,i=c,a=u,o=c,_?(m=v,b=g,p=d,h=f,u=n-H,c=i-X):(m=v+H,b=g+X,p=d+H,h=f+X,n=u+H,i=c+X),a=u+N,o=c+$}return{svg:x,offsetWidth:n,offsetHeight:i,clientWidth:a,clientHeight:o,contentWidth:u,contentHeight:c,inlineCSSWidth:w,inlineCSSHeight:S,cssWidth:s,cssHeight:l,minWidth:d,minHeight:f,maxWidth:v,maxHeight:g,minOffsetWidth:p,minOffsetHeight:h,maxOffsetWidth:m,maxOffsetHeight:b}}function mp(e,t){return Zt(t>0?e[0]:e[1],t>0?e[1]:e[0])}function Ta(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function yp(e,t){var r=e===document.body||e===document.documentElement,n={clientLeft:e.clientLeft,clientTop:e.clientTop,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,overflow:!1};return r&&(n.clientHeight=Math.max(t.height,n.clientHeight),n.scrollHeight=Math.max(t.height,n.scrollHeight)),n.overflow=Cr(e).overflow!=="visible",M(M({},t),n)}function Wo(e,t,r,n){var i=e.left,a=e.right,o=e.top,s=e.bottom,l=t.top,u=t.left,c={left:u+i,top:l+o,right:u+a,bottom:l+s,width:a-i,height:s-o};return r&&n?yp(r,c):c}function Di(e,t){var r=0,n=0,i=0,a=0;if(e){var o=e.getBoundingClientRect();r=o.left,n=o.top,i=o.width,a=o.height}var s={left:r,top:n,width:i,height:a,right:r+i,bottom:n+a};return e&&t?yp(e,s):s}function bp(e,t,r,n){var i;if(e)i=e;else if(t)i=[0,0];else{var a=r.target;i=Sp(a,n)}return i}function Sp(e,t){if(!!e){var r=e.getAttribute("data-rotation")||"",n=e.getAttribute("data-direction");if(t.deg=r,!!n){var i=[0,0];return n.indexOf("w")>-1&&(i[0]=-1),n.indexOf("e")>-1&&(i[0]=1),n.indexOf("n")>-1&&(i[1]=-1),n.indexOf("s")>-1&&(i[1]=1),i}}}function jl(e,t){return[Et(t,e[0]),Et(t,e[1]),Et(t,e[2]),Et(t,e[3])]}function Me(e){var t=e.left,r=e.top,n=e.pos1,i=e.pos2,a=e.pos3,o=e.pos4;return jl([n,i,a,o],[t,r])}function f0(e){return Math.round(e%1===-.5?e-1:e)}function Mn(e,t){var r;(r=e[t])===null||r===void 0||r.unset(),e[t]=null}function we(e,t){if(t){var r=Jn(t);r.nextStyle=M(M({},r.nextStyle),e)}return{style:e,cssText:Zn(e).map(function(n){return"".concat(Ga(n,"-"),": ").concat(e[n],";")}).join("")}}function wp(e,t,r){var n=t.afterTransform||t.transform;return M(M({},we(M(M(M({},e.style),t.style),{transform:n}),r)),{afterTransform:n,transform:e.transform})}function pt(e,t,r,n){var i=t.datas;i.datas||(i.datas={});var a=M(M({},r),{target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,moveable:e,datas:i.datas,isFirstDrag:!!t.isFirstDrag,isTrusted:t.isTrusted!==!1,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var o;(o=t.stop)===null||o===void 0||o.call(t)}});return i.isStartEvent?n||(i.lastEvent=a):i.isStartEvent=!0,a}function Fe(e,t,r){var n=t.datas,i="isDrag"in r?r.isDrag:t.isDrag;return n.datas||(n.datas={}),M(M({isDrag:i},r),{moveable:e,target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,lastEvent:n.lastEvent,isDouble:t.isDouble,datas:n.datas,isFirstDrag:!!t.isFirstDrag})}function xo(e,t,r){e._emitter.on(t,r)}function rt(e,t,r,n){return e.triggerEvent(t,r,n)}function Cr(e,t){return window.getComputedStyle(e,t)}function Oa(e,t,r){var n={},i={};return e.filter(function(a){var o=a.name;if(n[o]||!t.some(function(s){return a[s]}))return!1;if(!r&&a.ableGroup){if(i[a.ableGroup])return!1;i[a.ableGroup]=!0}return n[o]=!0,!0})}function Qs(e,t){return e===t||e==null&&t==null}function p0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.length-1,n=0;n<r;++n){var i=e[n];if(!Xn(i))return i}return e[r]}function Ep(e,t){var r=[],n=[];return e.forEach(function(i,a){var o=t(i,a,e),s=n.indexOf(o),l=r[s]||[];s===-1&&(n.push(o),r.push(l)),l.push(i)}),r}function h0(e,t){var r=[],n={};return e.forEach(function(i,a){var o=t(i,a,e),s=n[o];s||(s=[],n[o]=s,r.push(s)),s.push(i)}),r}function Cp(e){return e.reduce(function(t,r){return t.concat(r)},[])}function Wn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.sort(function(r,n){return Math.abs(n)-Math.abs(r)}),e[0]}function un(e,t,r){return ge(rr(e,r),cn(t,r),r)}function xp(e,t){var r,n=e.is3d,i=e.rootMatrix,a=n?4:3;return r=un(i,[t.distX,t.distY],a),t.distX=r[0],t.distY=r[1],t}function Ma(e,t,r,n,i){return ot(oe(e,Et(r,t),i),n)}function Ye(e,t,r){return r?"".concat(e/t*100,"%"):"".concat(e,"px")}function ro(e){return Math.abs(e)<=Ee?0:e}function Wl(e){return function(t){if(!t.isDragging(e))return"";var r=e0(t,e),n=r.deg;return n?st("view-control-rotation".concat(n)):""}}function ql(e,t){return t===void 0&&(t=[e]),function(r,n){if(n.isRequest)return t.some(function(a){return n.requestAble===a})?n.parentDirection:!1;var i=n.inputEvent.target;return ie(i,st("direction"))&&(!e||ie(i,st(e)))}}function v0(e){var t={};for(var r in e)t[e[r]]=r;return t}function g0(e,t){var r=e.slice(0,t<0?void 0:t),n=e.slice(0,t<0?void 0:t+1),i=e[t]||"",a=t<0?[]:e.slice(t),o=t<0?[]:e.slice(t+1),s=Jr(r),l=Jr(n),u=Jr([i]),c=Jr(a),d=Jr(o),f=_n(s),p=_n(l),h=_n(c),v=_n(d),g=Rt(f,h,4);return{transforms:e,beforeFunctionMatrix:f,beforeFunctionMatrix2:p,targetFunctionMatrix:_n(u),afterFunctionMatrix:h,afterFunctionMatrix2:v,allFunctionMatrix:g,beforeFunctions:s,beforeFunctions2:l,targetFunction:u[0],afterFunctions:c,afterFunctions2:d,beforeFunctionTexts:r,beforeFunctionTexts2:n,targetFunctionText:i,afterFunctionTexts:a,afterFunctionTexts2:o}}function m0(e){return!e||!er(e)||e instanceof Element?!1:qt(e)||"length"in e}function fn(e,t){return e?e instanceof Element?e:ye(e)?t?document.querySelector(e):e:mo(e)?e():"current"in e?e.current:e:null}function Yl(e,t){if(!e)return[];var r=m0(e)?[].slice.call(e):[e];return r.reduce(function(n,i){return ye(i)&&t?lt(lt([],n,!0),[].slice.call(document.querySelectorAll(i)),!0):(qt(i)?n.push(Yl(i,t)):n.push(fn(i,t)),n)},[])}function y0(e,t,r){var n=Zt(e,t)/Math.PI*180;return n=r>=0?n:180-n,n=n>=0?n:360+n,n}function dc(e,t){var r=e.rootMatrix,n=e.is3d,i=n?4:3,a=rr(r,i);return n||(a=sr(a,3,4)),a[12]=0,a[13]=0,a[14]=0,Ha(a,t)}function Dp(e,t,r,n,i){var a=e[0],o=e[1],s=0,l=0;if(i&&a&&o){var u=Zt([0,0],t),c=Zt([0,0],n),d=Je(t),f=Math.cos(u-c)*d;if(!n[0])l=f,s=l*r;else if(!n[1])s=f,l=s/r;else{var p=n[0]*2*a,h=n[1]*2*o,v=Je([p+t[0],h+t[1]])-Je([p,h]),g=Zt([0,0],[r,1]);s=Math.cos(g)*v,l=Math.sin(g)*v}}else s=n[0]*t[0],l=n[1]*t[1];return[s,l]}function _p(e,t,r,n){var i,a=r.ratio,o=r.startOffsetWidth,s=r.startOffsetHeight,l=0,u=0,c=n.distX,d=n.distY,f=n.parentDistance,p=n.parentDist,h=n.parentScale,v=r.fixedDirection,g=[0,1].map(function(y){return Math.abs(e[y]-v[y])}),m=[0,1].map(function(y){var E=g[y];return E!==0&&(E=2/E),E});if(p)l=p[0],u=p[1],t&&(l?u||(u=l/a):l=u*a);else if(h)l=(h[0]-1)*o,u=(h[1]-1)*s;else if(f){var b=o*g[0],w=s*g[1],S=Je([b,w]);l=f/S*b*m[0],u=f/S*w*m[1]}else{var x=ur({datas:r,distX:c,distY:d});x=m.map(function(y,E){return x[E]*y}),i=Dp([o,s],x,a,e,t),l=i[0],u=i[1]}return{distWidth:l,distHeight:u}}function Js(e,t){if(t){if(e==="left")return{x:"0%",y:"50%"};if(e==="top")return{x:"50%",y:"50%"};if(e==="center")return{x:"50%",y:"50%"};if(e==="right")return{x:"100%",y:"50%"};if(e==="bottom")return{x:"50%",y:"100%"};var r=e.split(" "),n=r[0],i=r[1],a=Js(n||""),o=Js(i||""),s=M(M({},a),o),l={x:"50%",y:"50%"};return s.x&&(l.x=s.x),s.y&&(l.y=s.y),s.value&&(s.x&&!s.y&&(l.y=s.value),!s.x&&s.y&&(l.x=s.value)),l}return e==="left"?{x:"0%"}:e==="right"?{x:"100%"}:e==="top"?{y:"0%"}:e==="bottom"?{y:"100%"}:e?e==="center"?{value:"50%"}:{value:e}:{}}function b0(e,t,r){var n=Js(e,!0),i=n.x,a=n.y;return[Nt(i,t)||0,Nt(a,r)||0]}function S0(e,t,r){var n=e.map(function(a){return ot(a,t)}),i=n.map(function(a){return aa(a,r)});return{prev:n,next:i,result:i.map(function(a){return Et(a,t)})}}function Tp(e,t){return e.length===t.length&&e.every(function(r,n){var i=t[n],a=qt(r),o=qt(i);return a&&o?Tp(r,i):!a&&!o?r===i:!1})}var w0=sa("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(e,t){var r=t.datas,n=t.targets,i=t.angle,a=t.originalDatas,o=e.props,s=o.pinchable,l=o.ables;if(!s)return!1;var u="onPinch".concat(n?"Group":"","Start"),c="drag".concat(n?"Group":"","ControlStart"),d=(s===!0?e.controlAbles:l.filter(function(v){return s.indexOf(v.name)>-1})).filter(function(v){return v.canPinch&&v[c]}),f=pt(e,t,{});n&&(f.targets=n);var p=rt(e,u,f);r.isPinch=p!==!1,r.ables=d;var h=r.isPinch;return h?(d.forEach(function(v){if(a[v.name]=a[v.name]||{},!!v[c]){var g=M(M({},t),{datas:a[v.name],parentRotate:i,isPinch:!0});v[c](e,g)}}),e.state.snapRenderInfo={request:t.isRequest,direction:[0,0]},h):!1},pinch:function(e,t){var r=t.datas,n=t.scale,i=t.distance,a=t.originalDatas,o=t.inputEvent,s=t.targets,l=t.angle;if(!!r.isPinch){var u=i*(1-1/n),c=pt(e,t,{});s&&(c.targets=s);var d="onPinch".concat(s?"Group":"");rt(e,d,c);var f=r.ables,p="drag".concat(s?"Group":"","Control");return f.forEach(function(h){!h[p]||h[p](e,M(M({},t),{datas:a[h.name],inputEvent:o,parentDistance:u,parentRotate:l,isPinch:!0}))}),c}},pinchEnd:function(e,t){var r=t.datas,n=t.isPinch,i=t.inputEvent,a=t.targets,o=t.originalDatas;if(!!r.isPinch){var s="onPinch".concat(a?"Group":"","End"),l=Fe(e,t,{isDrag:n});a&&(l.targets=a),rt(e,s,l);var u=r.ables,c="drag".concat(a?"Group":"","ControlEnd");return u.forEach(function(d){!d[c]||d[c](e,M(M({},t),{isDrag:n,datas:o[d.name],inputEvent:i,isPinch:!0}))}),n}},pinchGroupStart:function(e,t){return this.pinchStart(e,M(M({},t),{targets:e.props.targets}))},pinchGroup:function(e,t){return this.pinch(e,M(M({},t),{targets:e.props.targets}))},pinchGroupEnd:function(e,t){return this.pinchEnd(e,M(M({},t),{targets:e.props.targets}))}});function tr(e,t,r){var n=r.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var a=i.childDatas;return e.moveables.map(function(o,s){return a[s]=a[s]||{},a[s][t]=a[s][t]||{},M(M({},r),{datas:a[s][t],originalDatas:a[s]})})}function qo(e,t,r,n,i,a,o){var s=!!r.match(/Start$/g),l=!!r.match(/End$/g),u=i.isPinch,c=i.datas,d=tr(e,t.name,i),f=e.moveables,p=d.map(function(h,v){var g=f[v],m=g.state,b=m.gestos,w=h;if(s)w=new jn(o).dragStart(n,h);else{if(b[o]||(b[o]=c.childGestos[v]),!b[o])return;w=la(h,m,n,u,a,o)}var S=t[r](g,M(M({},w),{parentFlag:!0}));return l&&(b[o]=null),S});return s&&(c.childGestos=f.map(function(h){return h.state.gestos[o]})),p}function Sr(e,t,r,n,i,a){i===void 0&&(i=function(c,d){return d});var o=!!r.match(/End$/g),s=tr(e,t.name,n),l=e.moveables,u=s.map(function(c,d){var f=l[d],p=c;p=i(f,c);var h=t[r](f,M(M({},p),{parentFlag:!0}));return h&&a&&a(f,c,h,d),o&&(f.state.gestos={}),h});return u}var E0=["left","right","center"],C0=["top","bottom","middle"],Gr={start:"left",end:"right",center:"center"},Vr={start:"top",end:"bottom",center:"middle"};function ti(e,t){var r=e.props,n=r.snappable,i=r.bounds,a=r.innerBounds,o=r.verticalGuidelines,s=r.horizontalGuidelines,l=r.snapGridWidth,u=r.snapGridHeight,c=e.state,d=c.guidelines,f=c.enableSnap;return!n||!f||t&&n!==!0&&n.indexOf(t)<0?!1:!!(l||u||i||a||d&&d.length||o&&o.length||s&&s.length)}function Xl(e){return e===!1?{}:e===!0||!e?{left:!0,right:!0,top:!0,bottom:!0}:e}function x0(e,t){var r=Xl(e),n={};for(var i in r)i in t&&r[i]&&(n[i]=t[i]);return n}function Kl(e,t){var r=x0(e,t),n=C0.filter(function(a){return a in r}),i=E0.filter(function(a){return a in r});return{horizontal:n.map(function(a){return r[a]}),vertical:i.map(function(a){return r[a]})}}function D0(e,t,r){var n=oe(e,[t.clientLeft,t.clientTop],r);return[t.left+n[0],t.top+n[1]]}function _0(e){var t=e[0],r=e[1],n=r[0]-t[0],i=r[1]-t[1];Math.abs(n)<ne&&(n=0),Math.abs(i)<ne&&(i=0);var a=0,o=0,s=0;return n?i?(a=-i/n,o=1,s=a*t[0]-t[1]):(o=1,s=-t[1]):(a=-1,s=t[0]),[a,o,s].map(function(l){return ft(l,ne)})}function Do(e,t,r,n){var i=e.props,a=p0(n,i.snapThreshold,5);return Op(e.state.guidelines,t,r,a)}function Op(e,t,r,n){return{vertical:pc(e,"vertical",t,n),horizontal:pc(e,"horizontal",r,n)}}function T0(e,t,r){var n=r[0],i=r[1],a=t[0],o=t[1],s=ot(r,t),l=s[0],u=s[1],c=u>0,d=l>0;l=ro(l),u=ro(u);var f={isSnap:!1,offset:0,pos:0},p={isSnap:!1,offset:0,pos:0};if(l===0&&u===0)return{vertical:f,horizontal:p};var h=Do(e,l?[n]:[],u?[i]:[]),v=h.vertical,g=h.horizontal;v.posInfos.filter(function(R){var F=R.pos;return d?F>=a:F<=a}),g.posInfos.filter(function(R){var F=R.pos;return c?F>=o:F<=o}),v.isSnap=v.posInfos.length>0,g.isSnap=g.posInfos.length>0;var m=tl(v),b=m.isSnap,w=m.guideline,S=tl(g),x=S.isSnap,y=S.guideline,E=x?y.pos[1]:0,_=b?w.pos[0]:0;if(l===0)x&&(p.isSnap=!0,p.pos=y.pos[1],p.offset=i-p.pos);else if(u===0)b&&(f.isSnap=!0,f.pos=_,f.offset=n-_);else{var D=u/l,T=r[1]-D*n,k=0,O=0,I=!1;b?(O=_,k=D*O+T,I=!0):x&&(k=E,O=(k-T)/D,I=!0),I&&(f.isSnap=!0,f.pos=O,f.offset=n-O,p.isSnap=!0,p.pos=k,p.offset=i-k)}return{vertical:f,horizontal:p}}function fc(e,t,r){var n=Kl(e.props.snapDirections,t);return Do(e,n.vertical,n.horizontal,r)}function tl(e){var t=e.isSnap;if(!t)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=e.posInfos[0],n=r.guidelineInfos[0],i=n.offset,a=n.dist,o=n.guideline;return{isSnap:t,offset:i,dist:a,pos:r.pos,guideline:o}}function pc(e,t,r,n){if(!e||!e.length)return{isSnap:!1,index:-1,posInfos:[]};var i=t==="vertical",a=i?0:1,o=r.map(function(l,u){var c=e.map(function(d){var f=d.pos,p=l-f[a];return{offset:p,dist:Math.abs(p),guideline:d}}).filter(function(d){var f=d.guideline,p=d.dist,h=f.type;return!(h!==t||p>n)}).sort(function(d,f){return d.dist-f.dist});return{pos:l,index:u,guidelineInfos:c}}).filter(function(l){return l.guidelineInfos.length>0}).sort(function(l,u){return l.guidelineInfos[0].dist-u.guidelineInfos[0].dist}),s=o.length>0;return{isSnap:s,index:s?o[0].index:-1,posInfos:o}}function O0(e,t,r,n){n===void 0&&(n=1);var i=[];if(r[0]&&r[1])i=[r,[-r[0],r[1]],[r[0],-r[1]]].map(function(s){return Xt(t,s)});else if(!r[0]&&!r[1])for(var a=[t[0],t[1],t[3],t[2],t[0]],o=0;o<4;++o)i.push(a[o]),i.push([(a[o][0]+a[o+1][0])/2,(a[o][1]+a[o+1][1])/2]);else e.props.keepRatio?i=[[-1,-1],[-1,1],[1,-1],[1,1],r].map(function(s){return Xt(t,s)}):(i=Ym(t,r),i.length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]));return Do(e,i.map(function(s){return s[0]}),i.map(function(s){return s[1]}),n)}function Mp(e,t){var r=Math.abs(e.offset),n=Math.abs(t.offset);return e.isBound&&t.isBound?n-r:e.isBound?-1:t.isBound?1:e.isSnap&&t.isSnap?n-r:e.isSnap?-1:t.isSnap||r<Ee?1:n<Ee?-1:r-n}function no(e,t){return e.slice().sort(function(r,n){var i=r.sign[t],a=n.sign[t],o=r.offset[t],s=n.offset[t];if(i){if(!a)return-1}else return 1;return Mp({isBound:r.isBound,isSnap:r.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:s})})[0]}function M0(e,t,r){var n=[];if(r)Math.abs(t[0])!==1||Math.abs(t[1])!==1?n.push([t,[-1,-1]],[t,[-1,1]],[t,[1,-1]],[t,[1,1]]):n.push([t,[e[0],-e[1]]],[t,[-e[0],e[1]]]),n.push([t,e]);else if(e[0]&&e[1]||!e[0]&&!e[1]){var i=e[0]?e:[1,1];[1,-1].forEach(function(o){[1,-1].forEach(function(s){var l=[o*i[0],s*i[1]];t[0]===l[0]&&t[1]===l[1]||n.push([t,l])})})}else if(e[0]){var a=Math.abs(t[0])===1?[1]:[1,-1];a.forEach(function(o){n.push([[t[0],-1],[o*e[0],-1]],[[t[0],0],[o*e[0],0]],[[t[0],1],[o*e[0],1]])})}else if(e[1]){var a=Math.abs(t[1])===1?[1]:[1,-1];a.forEach(function(s){n.push([[-1,t[1]],[-1,s*e[1]]],[[0,t[1]],[0,s*e[1]]],[[1,t[1]],[1,s*e[1]]])})}return n}function Pp(e,t){var r=Ms([t[0][0],t[1][0]]),n=Ms([t[0][1],t[1][1]]);return{vertical:r<=e[0],horizontal:n<=e[1]}}function Zl(e,t){var r=t[0],n=t[1],i=n[0]-r[0],a=n[1]-r[1];Math.abs(i)<Ee&&(i=0),Math.abs(a)<Ee&&(a=0);var o,s;if(!i)o=r[0],s=e[0];else if(!a)o=r[1],s=e[1];else{var l=a/i;o=l*(e[0]-r[0])+r[1],s=e[1]}return o-s}function kp(e,t,r,n){return n===void 0&&(n=Ee),e.every(function(i){var a=Zl(i,t),o=a<=0;return o===r||Math.abs(a)<=n})}function hc(e,t,r,n,i){return i===void 0&&(i=0),n&&t-i<=e||!n&&e<=r+i?{isBound:!0,offset:n?t-e:r-e}:{isBound:!1,offset:0}}function P0(e,t){var r=t.line,n=t.centerSign,i=t.verticalSign,a=t.horizontalSign,o=t.lineConstants,s=e.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=s.left,u=s.top,c=s.width,d=s.height,f=[[l,u],[l,u+d]],p=[[l,u],[l+c,u]],h=[[l+c,u],[l+c,u+d]],v=[[l,u+d],[l+c,u+d]];if(kp([[l,u],[l+c,u],[l,u+d],[l+c,u+d]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=Ar(r,o,p,i),m=Ar(r,o,v,i),b=Ar(r,o,f,a),w=Ar(r,o,h,a),S=g.isBound&&m.isBound,x=g.isBound||m.isBound,y=b.isBound&&w.isBound,E=b.isBound||w.isBound,_=Wn(g.offset,m.offset),D=Wn(b.offset,w.offset),T=[0,0],k=!1,O=!1;return Math.abs(D)<Math.abs(_)?(T=[_,0],k=x,O=S):(T=[0,D],k=E,O=y),{isAllBound:O,isVerticalBound:x,isHorizontalBound:E,isBound:k,offset:T}}function Ar(e,t,r,n,i,a){var o=t[0],s=t[1],l=e[0],u=r[0],c=r[1],d=ro(c[1]-u[1]),f=ro(c[0]-u[0]),p=s,h=o,v=-o/s;if(f){if(!d){if(a&&!p)return{isBound:!1,offset:0};if(h){var w=(u[1]-l[1])/v+l[0];return hc(w,u[0],c[0],n,i)}else{var m=u[1]-l[1],b=Math.abs(m)<=(i||0);return{isBound:b,offset:b?m:0}}}}else{if(a&&!h)return{isBound:!1,offset:0};if(p){var g=v*(u[0]-l[0])+l[1];return hc(g,u[1],c[1],n,i)}else{var m=u[0]-l[0],b=Math.abs(m)<=(i||0);return{isBound:b,offset:b?m:0}}}return{isBound:!1,offset:0}}function Ip(e,t,r){return t.map(function(n){var i=P0(e,n),a=i.isBound,o=i.offset,s=i.isVerticalBound,l=i.isHorizontalBound,u=n.multiple,c=ur({datas:r,distX:o[0],distY:o[1]}).map(function(d,f){return d*(u[f]?2/u[f]:0)});return{sign:u,isBound:a,isVerticalBound:s,isHorizontalBound:l,isSnap:!1,offset:c}})}function k0(e,t,r){var n,i=Ql(e,t,[0,0],!1).map(function(f){return M(M({},f),{multiple:f.multiple.map(function(p){return Math.abs(p)*2})})}),a=Ip(e,i,r),o=no(a,0),s=no(a,1),l=0,u=0,c=o.isVerticalBound||s.isVerticalBound,d=o.isHorizontalBound||s.isHorizontalBound;return(c||d)&&(n=Wm({datas:r,distX:-o.offset[0],distY:-s.offset[1]}),l=n[0],u=n[1]),{vertical:{isBound:c,offset:l},horizontal:{isBound:d,offset:u}}}function I0(e,t){var r=[],n=e[0],i=e[1];return n&&i?r.push([[0,i*2],e,[-n,i]],[[n*2,0],e,[n,-i]]):n?(r.push([[n*2,0],[n,1],[n,-1]]),t&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(r.push([[0,i*2],[1,i],[-1,i]]),t&&r.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function Ql(e,t,r,n){var i=e.state,a=i.allMatrix,o=i.is3d,s=Ur(a,100,100,o?4:3),l=Xt(s,[0,0]);return I0(r,n).map(function(u){var c=u[0],d=u[1],f=u[2],p=[Xt(s,d),Xt(s,f)],h=_0(p),v=Pp(l,p),g=v.vertical,m=v.horizontal,b=Zl(l,p)<=0;return{multiple:c,centerSign:b,verticalSign:g,horizontalSign:m,lineConstants:h,line:[Xt(t,d),Xt(t,f)]}})}function vc(e,t,r,n){var i=n?e.map(function(a){return aa(a,n)}):e;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(a){var o=Zl(r,a)<=0;return!kp(t,a,o)})}function R0(e){var t=e[0],r=e[1],n=r[0]-t[0],i=r[1]-t[1];if(!n)return Math.abs(t[0]);if(!i)return Math.abs(t[1]);var a=i/n;return Math.abs((-a*t[0]+t[1])/Math.sqrt(Math.pow(a,2)+1))}function F0(e){var t=e[0],r=e[1],n=r[0]-t[0],i=r[1]-t[1];if(!n)return[t[0],0];if(!i)return[0,t[1]];var a=i/n,o=-a*t[0]+t[1];return[-o/(a+1/a),o/(a*a+1)]}function A0(e,t,r,n,i){var a=e.props.innerBounds,o=i*Math.PI/180;if(!a)return[];var s=a.left,l=a.top,u=a.width,c=a.height,d=s-n[0],f=s+u-n[0],p=l-n[1],h=l+c-n[1],v=[[d,p],[f,p],[d,h],[f,h]],g=Xt(r,[0,0]);if(!vc(r,v,g,0))return[];var m=[],b=v.map(function(w){return[Je(w),Zt([0,0],w)]});return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach(function(w){var S=Zt([0,0],F0(w)),x=R0(w);m.push.apply(m,b.filter(function(y){var E=y[0];return E&&x<=E}).map(function(y){var E=y[0],_=y[1],D=Math.acos(E?x/E:0),T=_+D,k=_-D;return[o+T-S,o+k-S]}).reduce(function(y,E){return y.push.apply(y,E),y},[]).filter(function(y){return!vc(t,v,g,y)}).map(function(y){return ft(y*180/Math.PI,Ee)}))}),m}function B0(e){var t=e.props.innerBounds;if(!t)return{vertical:[],horizontal:[]};var r=e.getRect(),n=r.pos1,i=r.pos2,a=r.pos3,o=r.pos4,s=[n,i,a,o],l=Xt(s,[0,0]),u=t.left,c=t.top,d=t.width,f=t.height,p=[[u,c],[u,c+f]],h=[[u,c],[u+d,c]],v=[[u+d,c],[u+d,c+f]],g=[[u,c+f],[u+d,c+f]],m=Ql(e,s,[0,0],!1),b=[],w=[],S={top:!1,bottom:!1,left:!1,right:!1};return m.forEach(function(x){var y=x.line,E=x.lineConstants,_=Pp(l,y),D=_.horizontal,T=_.vertical,k=Ar(y,E,h,T,1,!0),O=Ar(y,E,g,T,1,!0),I=Ar(y,E,p,D,1,!0),R=Ar(y,E,v,D,1,!0);k.isBound&&!S.top&&(b.push(c),S.top=!0),O.isBound&&!S.bottom&&(b.push(c+f),S.bottom=!0),I.isBound&&!S.left&&(w.push(u),S.left=!0),R.isBound&&!S.right&&(w.push(u+d),S.right=!0)}),{horizontal:b,vertical:w}}function Jl(e,t,r){var n=e||{},i=n.position,a=i===void 0?"client":i,o=n.left,s=o===void 0?-1/0:o,l=n.top,u=l===void 0?-1/0:l,c=n.right,d=c===void 0?1/0:c,f=n.bottom,p=f===void 0?1/0:f,h={position:a,left:s,top:u,right:d,bottom:p};return{vertical:gc(h,t,!0),horizontal:gc(h,r,!1)}}function _o(e,t){var r=e.state,n=r.containerClientRect,i=n.clientHeight,a=n.clientWidth,o=n.clientLeft,s=n.clientTop,l=r.snapOffset,u=l.left,c=l.top,d=l.right,f=l.bottom,p=t||e.props.bounds||{},h=p.position||"client",v=h==="css",g=p.left,m=g===void 0?-1/0:g,b=p.top,w=b===void 0?-1/0:b,S=p.right,x=S===void 0?v?-1/0:1/0:S,y=p.bottom,E=y===void 0?v?-1/0:1/0:y;return v&&(x=a+d-u-x,E=i+f-c-E),{left:m+u-o,right:x+u-o,top:w+c-s,bottom:E+c-s}}function z0(e,t,r){var n=_o(e),i=n.left,a=n.top,o=n.right,s=n.bottom,l=r[0],u=r[1],c=ot(r,t),d=c[0],f=c[1];Math.abs(d)<Ee&&(d=0),Math.abs(f)<Ee&&(f=0);var p=f>0,h=d>0,v={isBound:!1,offset:0,pos:0},g={isBound:!1,offset:0,pos:0};if(d===0&&f===0)return{vertical:v,horizontal:g};if(d===0)p?s<u&&(g.pos=s,g.offset=u-s):a>u&&(g.pos=a,g.offset=u-a);else if(f===0)h?o<l&&(v.pos=o,v.offset=l-o):i>l&&(v.pos=i,v.offset=l-i);else{var m=f/d,b=r[1]-m*l,w=0,S=0,x=!1;h&&o<=l?(w=m*o+b,S=o,x=!0):!h&&l<=i&&(w=m*i+b,S=i,x=!0),x&&(w<a||w>s)&&(x=!1),x||(p&&s<=u?(w=s,S=(w-b)/m,x=!0):!p&&u<=a&&(w=a,S=(w-b)/m,x=!0)),x&&(v.isBound=!0,v.pos=S,v.offset=l-S,g.isBound=!0,g.pos=w,g.offset=u-w)}return{vertical:v,horizontal:g}}function gc(e,t,r){var n=e[r?"left":"top"],i=e[r?"right":"bottom"],a=Math.min.apply(Math,t),o=Math.max.apply(Math,t),s=[];return n+1>a&&s.push({isBound:!0,offset:a-n,pos:n}),i-1<o&&s.push({isBound:!0,offset:o-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(l,u){return Math.abs(u.offset)-Math.abs(l.offset)})}function mc(e,t,r){var n=r?e.map(function(i){return aa(i,r)}):e;return n.some(function(i){return i[0]<t.left&&Math.abs(i[0]-t.left)>.1||i[0]>t.right&&Math.abs(i[0]-t.right)>.1||i[1]<t.top&&Math.abs(i[1]-t.top)>.1||i[1]>t.bottom&&Math.abs(i[1]-t.bottom)>.1})}function N0(e,t,r){var n=Je(e),i=Math.sqrt(n*n-t*t)||0;return[i,-i].sort(function(a,o){return Math.abs(a-e[r?0:1])-Math.abs(o-e[r?0:1])}).map(function(a){return Zt([0,0],r?[a,t]:[t,a])})}function L0(e,t,r,n,i){if(!e.props.bounds)return[];var a=i*Math.PI/180,o=_o(e),s=o.left,l=o.top,u=o.right,c=o.bottom,d=s-n[0],f=u-n[0],p=l-n[1],h=c-n[1],v={left:d,top:p,right:f,bottom:h};if(!mc(r,v,0))return[];var g=[];return[[d,0],[f,0],[p,1],[h,1]].forEach(function(m){var b=m[0],w=m[1];r.forEach(function(S){var x=Zt([0,0],S);g.push.apply(g,N0(S,b,w).map(function(y){return a+y-x}).filter(function(y){return!mc(t,v,y)}).map(function(y){return ft(y*180/Math.PI,Ee)}))})}),g}function $0(e,t){var r,n=e.direction,i=e.classNames,a=e.size,o=e.pos,s=e.zoom,l=e.key,u=n==="horizontal",c=u?"Y":"X";return t.createElement("div",{key:l,className:i.join(" "),style:(r={},r[u?"width":"height"]="".concat(a),r.transform="translate(".concat(o[0],", ").concat(o[1],") translate").concat(c,"(-50%) scale").concat(c,"(").concat(s,")"),r)})}function tu(e,t){return $0(M(M({},e),{classNames:lt([st("line","guideline",e.direction)],e.classNames,!0).filter(function(r){return r}),size:e.size||"".concat(e.sizeValue,"px"),pos:e.pos||e.posValue.map(function(r){return"".concat(ft(r,.1),"px")})}),t)}function yc(e,t,r,n,i,a,o,s){var l=e.props.zoom;return r.map(function(u,c){var d=u.type,f=u.pos,p=[0,0];return p[o]=n,p[o?0:1]=-i+f,tu({key:"".concat(t,"TargetGuideline").concat(c),classNames:[st("target","bold",d)],posValue:p,sizeValue:a,zoom:l,direction:t},s)})}function bc(e,t,r,n,i,a){var o=e.props,s=o.zoom,l=o.isDisplayInnerSnapDigit,u=t==="horizontal"?Gr:Vr,c=i[u.start],d=i[u.end];return r.filter(function(f){var p=f.hide,h=f.elementRect;if(p)return!1;if(l&&h){var v=h.rect;if(v[u.start]<=c&&d<=v[u.end])return!1}return!0}).map(function(f,p){var h=f.pos,v=f.size,g=f.element,m=f.className,b=[-n[0]+h[0],-n[1]+h[1]];return tu({key:"".concat(t,"-default-guideline-").concat(p),classNames:g?[st("bold"),m]:[st("normal"),m],direction:t,posValue:b,sizeValue:v,zoom:s},a)})}function _i(e,t,r,n,i,a,o,s){var l,u=e.props,c=u.snapDigit,d=c===void 0?0:c,f=u.isDisplaySnapDigit,p=f===void 0?!0:f,h=u.snapDistFormat,v=h===void 0?function(x,y){return x}:h,g=u.zoom,m=t==="horizontal"?"X":"Y",b=t==="vertical"?"height":"width",w=Math.abs(i),S=p?parseFloat(w.toFixed(d)):0;return s.createElement("div",{key:"".concat(t,"-").concat(r,"-guideline-").concat(n),className:st("guideline-group",t),style:(l={left:"".concat(a[0],"px"),top:"".concat(a[1],"px")},l[b]="".concat(w,"px"),l)},tu({direction:t,classNames:[st(r),o],size:"100%",posValue:[0,0],sizeValue:w,zoom:g},s),s.createElement("div",{className:st("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(g,")")}},S>0?v(S,t):""))}function U0(e,t,r,n){var i=e==="vertical"?0:1,a=e==="vertical"?1:0,o=i?Gr:Vr,s=r[o.start],l=r[o.end];return Ep(t,function(u){return u.pos[i]}).map(function(u){var c=[],d=[],f=[];return u.forEach(function(p){var h,v,g=p.element,m=p.elementRect.rect;if(m[o.end]<s)c.push(p);else if(l<m[o.start])d.push(p);else if(m[o.start]<=s&&l<=m[o.end]&&n){var b=p.pos,w={element:g,rect:M(M({},m),(h={},h[o.end]=m[o.start],h))},S={element:g,rect:M(M({},m),(v={},v[o.start]=m[o.end],v))},x=[0,0],y=[0,0];x[i]=b[i],x[a]=b[a],y[i]=b[i],y[a]=b[a]+p.size,c.push({type:e,pos:x,size:0,elementRect:w}),d.push({type:e,pos:y,size:0,elementRect:S})}}),c.sort(function(p,h){return h.pos[a]-p.pos[a]}),d.sort(function(p,h){return p.pos[a]-h.pos[a]}),{total:u,start:c,end:d,inner:f}})}function G0(e,t,r,n,i){var a=e.props.isDisplayInnerSnapDigit,o=[];return["vertical","horizontal"].forEach(function(s){var l=t.filter(function(g){return g.type===s}),u=s==="vertical"?1:0,c=u?0:1,d=U0(s,l,n,a),f=u?Vr:Gr,p=u?Gr:Vr,h=n[f.start],v=n[f.end];d.forEach(function(g){var m=g.total,b=g.start,w=g.end,S=g.inner,x=r[c]+m[0].pos[c]-n[p.start],y=n;b.forEach(function(E){var _=E.elementRect.rect,D=y[f.start]-_[f.end];if(D>0){var T=[0,0];T[u]=r[u]+y[f.start]-h-D,T[c]=x,o.push(_i(e,s,"dashed",o.length,D,T,E.className,i))}y=_}),y=n,w.forEach(function(E){var _=E.elementRect.rect,D=_[f.start]-y[f.end];if(D>0){var T=[0,0];T[u]=r[u]+y[f.end]-h,T[c]=x,o.push(_i(e,s,"dashed",o.length,D,T,E.className,i))}y=_}),S.forEach(function(E){var _=E.elementRect.rect,D=h-_[f.start],T=_[f.end]-v,k=[0,0],O=[0,0];k[u]=r[u]-D,k[c]=x,O[u]=r[u]+v-h,O[c]=x,o.push(_i(e,s,"dashed",o.length,D,k,E.className,i)),o.push(_i(e,s,"dashed",o.length,T,O,E.className,i))})})}),o}function V0(e,t,r,n,i){var a=[];return["horizontal","vertical"].forEach(function(o){var s=t.filter(function(g){return g.type===o}).slice(0,1),l=o==="vertical"?0:1,u=l?0:1,c=l?Vr:Gr,d=l?Gr:Vr,f=n[c.start],p=n[c.end],h=n[d.start],v=n[d.end];s.forEach(function(g){var m=g.gap,b=g.gapRects,w=Math.max.apply(Math,lt([h],b.map(function(y){var E=y.rect;return E[d.start]}),!1)),S=Math.min.apply(Math,lt([v],b.map(function(y){var E=y.rect;return E[d.end]}),!1)),x=(w+S)/2;w===S||x===(h+v)/2||b.forEach(function(y){var E=y.rect,_=y.className,D=[r[0],r[1]];if(E[c.end]<f)D[l]+=E[c.end]-f;else if(p<E[c.start])D[l]+=E[c.start]-f-m;else return;D[u]+=x-h,a.push(_i(e,l?"vertical":"horizontal","gap",a.length,m,D,_,i))})})}),a}function H0(e,t,r,n){var i=t[0]-e[0],a=t[1]-e[1];if(Math.abs(i)<ne&&(i=0),Math.abs(a)<ne&&(a=0),!i)return n?[0,0]:[0,r];if(!a)return n?[r,0]:[0,0];var o=a/i,s=e[1]-o*e[0];if(n){var l=o*(t[0]+r)+s;return[r,l-t[1]]}else{var u=(t[1]+r-s)/o;return[u-t[0],r]}}function el(e,t,r,n,i){var a=H0(e,t,r,n);if(!a)return{isOutside:!1,offset:[0,0]};var o=Le(e,t),s=Le(a,e),l=Le(a,t),u=s>o||l>o,c=ur({datas:i,distX:a[0],distY:a[1]}),d=c[0],f=c[1];return{offset:[d,f],isOutside:u}}function io(e,t){return e.isBound?e.offset:t.isSnap?tl(t).offset:0}function j0(e,t,r,n,i){var a=t[0],o=t[1],s=r[0],l=r[1],u=n[0],c=n[1],d=i[0],f=i[1],p=-d,h=-f;if(e&&a&&o){p=0,h=0;var v=[];if(s&&l?v.push([0,f],[d,0]):s?v.push([d,0]):l?v.push([0,f]):u&&c?v.push([0,f],[d,0]):u?v.push([d,0]):c&&v.push([0,f]),v.length){v.sort(function(w,S){return Je(ot([a,o],w))-Je(ot([a,o],S))});var g=v[0];if(g[0]&&Math.abs(a)>ne)p=-g[0],h=o*Math.abs(a+p)/Math.abs(a)-o;else if(g[1]&&Math.abs(o)>ne){var m=o;h=-g[1],p=a*Math.abs(o+h)/Math.abs(m)-a}if(e&&l&&s)if(Math.abs(p)>ne&&Math.abs(p)<Math.abs(d)){var b=Math.abs(d)/Math.abs(p);p*=b,h*=b}else if(Math.abs(h)>ne&&Math.abs(h)<Math.abs(f)){var b=Math.abs(f)/Math.abs(h);p*=b,h*=b}else p=Wn(-d,p),h=Wn(-f,h)}}else p=a||s?-d:0,h=o||l?-f:0;return[p,h]}function W0(e,t,r,n,i,a){if(!ti(e,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=jl(a.absolutePoses,[t,r]),s=Ue(o),l=s.left,u=s.right,c=s.top,d=s.bottom,f={horizontal:o.map(function(R){return R[1]}),vertical:o.map(function(R){return R[0]})},p=Xl(e.props.snapDirections),h=Kl(p,{left:l,right:u,top:c,bottom:d,center:(l+u)/2,middle:(c+d)/2}),v=To(e,i,h,f),g=v.vertical,m=v.horizontal,b=k0(e,o,a),w=b.vertical,S=b.horizontal,x=g.isSnap,y=m.isSnap,E=g.isBound||w.isBound,_=m.isBound||S.isBound,D=Wn(g.offset,w.offset),T=Wn(m.offset,S.offset),k=j0(n,[t,r],[E,_],[x,y],[D,T]),O=k[0],I=k[1];return[{isBound:E,isSnap:x,offset:O},{isBound:_,isSnap:y,offset:I}]}function To(e,t,r,n){n===void 0&&(n=r);var i=Jl(_o(e),n.vertical,n.horizontal),a=i.horizontal,o=i.vertical,s=t?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Do(e,r.vertical,r.horizontal),l=s.horizontal,u=s.vertical,c=io(a[0],l),d=io(o[0],u),f=Math.abs(c),p=Math.abs(d);return{horizontal:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:c,dist:f,bounds:a,snap:l},vertical:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:d,dist:p,bounds:o,snap:u}}}function Sc(e,t,r,n,i){var a=Jl(t,r,n),o=a.horizontal,s=a.vertical,l=Op(e,r,n,i),u=l.horizontal,c=l.vertical,d=io(o[0],u),f=io(s[0],c),p=Math.abs(d),h=Math.abs(f);return{horizontal:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:d,dist:p,bounds:o,snap:u},vertical:{isBound:s[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:f,dist:h,bounds:s,snap:c}}}function q0(e,t,r,n){var i=Zt(e,t)/Math.PI*180,a=r.vertical,o=a.isBound,s=a.isSnap,l=a.dist,u=r.horizontal,c=u.isBound,d=u.isSnap,f=u.dist,p=i%180,h=p<3||p>177,v=p>87&&p<93;return f<l&&(o||s&&!v&&(!n||!h))?"vertical":c||d&&!h&&(!n||!v)?"horizontal":""}function Y0(e,t,r,n,i,a){return r.map(function(o){var s=o[0],l=o[1],u=Xt(t,s),c=Xt(t,l),d=n?X0(e,u,c,i):To(e,i,{vertical:[c[0]],horizontal:[c[1]]}),f=d.horizontal,p=f.offset,h=f.isBound,v=f.isSnap,g=d.vertical,m=g.offset,b=g.isBound,w=g.isSnap,S=ot(l,s);if(!m&&!p)return{isBound:b||h,isSnap:w||v,sign:S,offset:[0,0]};var x=q0(u,c,d,n);if(!x)return{sign:S,isBound:!1,isSnap:!1,offset:[0,0]};var y=x==="vertical",E=[0,0];return!n&&Math.abs(l[0])===1&&Math.abs(l[1])===1&&s[0]!==l[0]&&s[1]!==l[1]?E=ur({datas:a,distX:-m,distY:-p}):E=el(u,c,-(y?m:p),y,a).offset,E=E.map(function(_,D){return _*(S[D]?2/S[D]:0)}),{sign:S,isBound:y?b:h,isSnap:y?w:v,offset:E}})}function wc(e,t){return e.isBound?e.offset:t.isSnap?t.offset:0}function X0(e,t,r,n){var i=z0(e,t,r),a=i.horizontal,o=i.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:T0(e,t,r),l=s.horizontal,u=s.vertical,c=wc(a,l),d=wc(o,u),f=Math.abs(c),p=Math.abs(d);return{horizontal:{isBound:a.isBound,isSnap:l.isSnap,offset:c,dist:f},vertical:{isBound:o.isBound,isSnap:u.isSnap,offset:d,dist:p}}}function K0(e,t,r,n,i){var a=[-r[0],-r[1]],o=e.state,s=o.width,l=o.height,u=e.props.bounds,c=1/0,d=1/0;if(u){var f=[[r[0],-r[1]],[-r[0],r[1]]],p=u.left,h=p===void 0?-1/0:p,v=u.top,g=v===void 0?-1/0:v,m=u.right,b=m===void 0?1/0:m,w=u.bottom,S=w===void 0?1/0:w;f.forEach(function(x){var y=x[0]!==a[0],E=x[1]!==a[1],_=Xt(t,x),D=Zt(n,_)*360/Math.PI;if(E){var T=_.slice();(Math.abs(D-360)<2||Math.abs(D-180)<2)&&(T[1]=n[1]);var k=el(n,T,(n[1]<_[1]?S:g)-_[1],!1,i),O=k.offset,I=O[1],R=k.isOutside;isNaN(I)||(d=l+(R?1:-1)*Math.abs(I))}if(y){var T=_.slice();(Math.abs(D-90)<2||Math.abs(D-270)<2)&&(T[0]=n[0]);var F=el(n,T,(n[0]<_[0]?b:h)-_[0],!0,i),L=F.offset[0],N=F.isOutside;isNaN(L)||(c=s+(N?1:-1)*Math.abs(L))}})}return{maxWidth:c,maxHeight:d}}function rl(e){var t=e.state,r=t.containerClientRect,n=t.hasFixed,i=r.overflow,a=r.scrollHeight,o=r.scrollWidth,s=r.clientHeight,l=r.clientWidth,u=r.clientLeft,c=r.clientTop,d=e.props,f=d.snapGap,p=f===void 0?!0:f,h=d.verticalGuidelines,v=d.horizontalGuidelines,g=d.snapThreshold,m=g===void 0?5:g,b=d.snapGridWidth,w=b===void 0?0:b,S=d.snapGridHeight,x=S===void 0?0:S,y=d.maxSnapElementGuidelineDistance,E=y===void 0?1/0:y,_=Ue(Me(e.state)),D=_.top,T=_.left,k=_.bottom,O=_.right,I={top:D,left:T,bottom:k,right:O,center:(T+O)/2,middle:(D+k)/2},R=J0(e),F=lt([],R,!0);p&&F.push.apply(F,Z0(e,I,m)),F.push.apply(F,Q0(w,x,i?o:l,i?a:s,u,c));var L=M({},t.snapOffset||{left:0,top:0,bottom:0,right:0});if(n){var N=r.left,$=r.top;L.left+=N,L.top+=$,L.right+=N,L.bottom+=$}return F.push.apply(F,Fp(v||!1,h||!1,i?o:l,i?a:s,u,c,L)),F=F.filter(function(U){var z=U.element,H=U.elementRect,X=U.type;if(!z||!H)return!0;var j=H.rect;return Rp(I,j,X,E)}),F}function Z0(e,t,r){var n=e.props,i=n.maxSnapElementGuidelineDistance,a=i===void 0?1/0:i,o=n.maxSnapElementGapDistance,s=o===void 0?1/0:o,l=e.state.elementRects,u=[];return[["vertical",Gr,Vr],["horizontal",Vr,Gr]].forEach(function(c){var d=c[0],f=c[1],p=c[2],h=t[f.start],v=t[f.end],g=t[f.center],m=t[p.start],b=t[p.end];function w(y){var E=y.rect;return E[f.end]<h+r?h-E[f.end]:v-r<E[f.start]?E[f.start]-v:-1}var S=l.filter(function(y){var E=y.rect;return E[p.start]>b||E[p.end]<m?!1:w(y)>0}).sort(function(y,E){return w(y)-w(E)}),x=[];S.forEach(function(y){S.forEach(function(E){if(y!==E){var _=y.rect,D=E.rect,T=_[p.start],k=_[p.end],O=D[p.start],I=D[p.end];T>I||O>k||x.push([y,E])}})}),x.forEach(function(y){var E=y[0],_=y[1],D=E.rect,T=_.rect,k=D[f.start],O=D[f.end],I=T[f.start],R=T[f.end],F=0,L=0,N=!1,$=!1,U=!1;if(O<=h&&v<=I){if($=!0,F=(I-O-(v-h))/2,L=O+F+(v-h)/2,Math.abs(L-g)>r)return}else if(O<I&&R<h+r){if(N=!0,F=I-O,L=R+F,Math.abs(L-h)>r)return}else if(O<I&&v-r<k){if(U=!0,F=I-O,L=k-F,Math.abs(L-v)>r)return}else return;!F||!Rp(t,T,d,a)||F>s||u.push({type:d,pos:d==="vertical"?[L,0]:[0,L],element:_.element,size:0,className:_.className,isStart:N,isCenter:$,isEnd:U,gap:F,hide:!0,gapRects:[E,_]})})}),u}function Q0(e,t,r,n,i,a){i===void 0&&(i=0),a===void 0&&(a=0);var o=[];if(t)for(var s=0;s<=n;s+=t)o.push({type:"horizontal",pos:[0,ft(s-a,.1)],size:r,hide:!0});if(e)for(var s=0;s<=r;s+=e)o.push({type:"vertical",pos:[ft(s-i,.1),0],size:n,hide:!0});return o}function Rp(e,t,r,n){return r==="horizontal"?Math.abs(e.right-t.left)<=n||Math.abs(e.left-t.right)<=n||e.left<=t.right&&t.left<=e.right:r==="vertical"?Math.abs(e.bottom-t.top)<=n||Math.abs(e.top-t.bottom)<=n||e.top<=t.bottom&&t.top<=e.bottom:!0}function J0(e){var t=e.state,r=e.props.elementGuidelines,n=r===void 0?[]:r;if(!n.length)return t.elementRects=[],[];var i=(t.elementRects||[]).filter(function(f){return!f.refresh}),a=n.map(function(f){return er(f)&&"element"in f?M(M({},f),{element:fn(f.element,!0)}):{element:fn(f,!0)}}).filter(function(f){return f.element}),o=Pi(i.map(function(f){return f.element}),a.map(function(f){return f.element})),s=o.maintained,l=o.added,u=[];s.forEach(function(f){var p=f[0],h=f[1];u[h]=i[p]}),t1(e,l.map(function(f){return a[f]})).map(function(f,p){u[l[p]]=f}),t.elementRects=u;var c=Xl(e.props.elementSnapDirections),d=[];return u.forEach(function(f){var p=f.element,h=f.top,v=h===void 0?c.top:h,g=f.left,m=g===void 0?c.left:g,b=f.right,w=b===void 0?c.right:b,S=f.bottom,x=S===void 0?c.bottom:S,y=f.center,E=y===void 0?c.center:y,_=f.middle,D=_===void 0?c.middle:_,T=f.className,k=f.rect,O=Kl({top:v,right:w,left:m,bottom:x,center:E,middle:D},k),I=O.horizontal,R=O.vertical,F=k.top,L=k.left,N=k.right-L,$=k.bottom-F,U=[N,$];R.forEach(function(z){d.push({type:"vertical",element:p,pos:[ft(z,.1),F],size:$,sizes:U,className:T,elementRect:f})}),I.forEach(function(z){d.push({type:"horizontal",element:p,pos:[L,ft(z,.1)],size:N,sizes:U,className:T,elementRect:f})})}),d}function Fp(e,t,r,n,i,a,o){i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o={left:0,top:0,right:0,bottom:0});var s=[],l=o.left,u=o.top,c=o.bottom,d=o.right,f=r+d-l,p=n+c-u;return e&&e.forEach(function(h){var v=er(h)?h:{pos:h};s.push({type:"horizontal",pos:[l,ft(v.pos-a+u,.1)],size:f,className:v.className})}),t&&t.forEach(function(h){var v=er(h)?h:{pos:h};s.push({type:"vertical",pos:[ft(v.pos-i+l,.1),u],size:p,className:v.className})}),s}function t1(e,t){if(!t.length)return[];var r=e.state,n=r.containerClientRect,i=r.targetClientRect,a=i.top,o=i.left,s=r.rootMatrix,l=r.is3d,u=l?4:3,c=D0(s,n,u),d=c[0],f=c[1],p=Me(r),h=$r(p),v=h.minX,g=h.minY,m=ot([v,g],un(s,[o-d,a-f],u)).map(function(S){return f0(S)}),b=m[0],w=m[1];return t.map(function(S){var x=S.element.getBoundingClientRect(),y=x.left-d,E=x.top-f,_=E+x.height,D=y+x.width,T=un(s,[y,E],u),k=T[0],O=T[1],I=un(s,[D,_],u),R=I[0],F=I[1];return M(M({},S),{rect:{left:k+b,right:R+b,top:O+w,bottom:F+w,center:(k+R)/2+b,middle:(O+F)/2+w}})})}function Pa(e){var t=e.state,r=t.container,n=e.props.snapContainer||r;if(t.snapContainer===n&&t.guidelines&&t.guidelines.length)return!1;var i=t.containerClientRect,a={left:0,top:0,bottom:0,right:0};if(r!==n){var o=fn(n,!0);if(o){var s=Di(o),l=dc(t,[s.left-i.left,s.top-i.top]),u=dc(t,[s.right-i.right,s.bottom-i.bottom]);a.left=ft(l[0],1e-5),a.top=ft(l[1],1e-5),a.right=ft(u[0],1e-5),a.bottom=ft(u[1],1e-5)}}return t.snapContainer=n,t.snapOffset=a,t.guidelines=rl(e),t.enableSnap=!0,!0}function Ap(e,t,r,n,i,a){var o=Ur(e,t,r,a?4:3),s=Xt(o,n);return jl(o,ot(i,s))}function e1(e,t,r,n,i,a){var o=a.fixedDirection,s=M0(r,o,n),l=Ql(e,t,r,n),u=lt(lt([],Y0(e,t,s,n,i,a),!0),Ip(e,l,a),!0),c=no(u,0),d=no(u,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:d.isBound,offset:d.offset[1]}}}function r1(e,t,r,n,i,a,o,s,l){var u=Xt(t,o),c=To(e,s,{vertical:[u[0]],horizontal:[u[1]]}),d=c.horizontal.offset,f=c.vertical.offset;if(ft(f,Ys)||ft(d,Ys)){var p=ur({datas:l,distX:-f,distY:-d}),h=p[0],v=p[1],g=Math.min(i||1/0,r+o[0]*h),m=Math.min(a||1/0,n+o[1]*v);return[g-r,m-n]}return[0,0]}function Bp(e,t,r,n,i,a,o,s){for(var l=Me(e.state),u=e.props.keepRatio,c=0,d=0,f=0;f<2;++f){var p=t(c,d),h=e1(e,p,i,u,o,s),v=h.width,g=h.height,m=v.isBound,b=g.isBound,w=v.offset,S=g.offset;if(f===1&&(m||(w=0),b||(S=0)),f===0&&o&&!m&&!b)return[0,0];if(u){var x=Math.abs(w)*(r?1/r:1),y=Math.abs(S)*(n?1/n:1),E=m&&b?x<y:b||!m&&x<y;E?w=r*S/n:S=n*w/r}c+=w,d+=S}if(i[0]&&i[1]){var _=K0(e,l,i,a,s),D=_.maxWidth,T=_.maxHeight,k=r1(e,t(c,d).map(function(R){return R.map(function(F){return ft(F,Ys)})}),r+c,n+d,D,T,i,o,s),w=k[0],S=k[1];c+=w,d+=S}return[c,d]}function n1(e,t,r){if(!ti(e,"rotatable"))return{isSnap:!1,rotation:r};var n=t.pos1,i=t.pos2,a=t.pos3,o=t.pos4,s=t.origin,l=r*Math.PI/180,u=[n,i,a,o].map(function(p){return ot(p,s)}),c=u.map(function(p){return aa(p,l)}),d=lt(lt([],L0(e,u,c,s,r),!0),A0(e,u,c,s,r),!0);d.sort(function(p,h){return Math.abs(p-r)-Math.abs(h-r)});var f=d.length>0;return{isSnap:f,rotation:f?d[0]:r}}function i1(e,t,r,n,i,a,o){if(!ti(e,"resizable"))return[0,0];var s=o.fixedDirection,l=o.nextAllMatrix,u=e.state,c=u.allMatrix,d=u.is3d;return Bp(e,function(f,p){return Ap(l||c,t+f,r+p,s,i,d)},t,r,n,i,a,o)}function a1(e,t,r,n,i){if(!ti(e,"scalable"))return[0,0];var a=i.startOffsetWidth,o=i.startOffsetHeight,s=i.fixedPosition,l=i.fixedDirection,u=i.is3d,c=Bp(e,function(d,f){return Ap(Zm(i,Et(t,[d/a,f/o])),a,o,l,s,u)},a,o,r,s,n,i);return[c[0]/a,c[1]/o]}function o1(e,t){t.absolutePoses=Me(e.state)}function Ec(e){var t=[];return e.forEach(function(r){r.guidelineInfos.forEach(function(n){var i=n.guideline;t.indexOf(i)>-1||t.push(i)})}),t}function Cc(e,t,r,n,i,a){var o=Jl(_o(e,a),t,r),s=o.vertical,l=o.horizontal;s.forEach(function(f){f.isBound&&n.push({type:"bounds",pos:f.pos})}),l.forEach(function(f){f.isBound&&i.push({type:"bounds",pos:f.pos})});var u=B0(e),c=u.vertical,d=u.horizontal;c.forEach(function(f){wr(n,function(p){var h=p.type,v=p.pos;return h==="bounds"&&v===f})>=0||n.push({type:"bounds",pos:f})}),d.forEach(function(f){wr(i,function(p){var h=p.type,v=p.pos;return h==="bounds"&&v===f})>=0||i.push({type:"bounds",pos:f})})}var s1=ql("",["resizable","scalable"]),l1={name:"snappable",dragRelation:"strong",props:{snappable:[Boolean,Array],snapContainer:Object,snapDirections:[Boolean,Object],elementSnapDirections:[Boolean,Object],snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,snapRenderThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function,maxSnapElementGuidelineDistance:Number,maxSnapElementGapDistance:Number},events:{onSnap:"snap"},css:[`:host {
    --bounds-color: #d66;
}
.guideline {
    pointer-events: none;
    z-index: 2;
}
.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}
.guideline-group {
    position: absolute;
    top: 0;
    left: 0;
}
.guideline-group .size-value {
    position: absolute;
    color: #f55;
    font-size: 12px;
    font-weight: bold;
}
.guideline-group.horizontal .size-value {
    transform-origin: 50% 100%;
    transform: translateX(-50%);
    left: 50%;
    bottom: 5px;
}
.guideline-group.vertical .size-value {
    transform-origin: 0% 50%;
    top: 50%;
    transform: translateY(-50%);
    left: 5px;
}
.guideline.gap {
    background: #f55;
}
.size-value.gap {
    color: #f55;
}
`],render:function(e,t){var r=e.state,n=r.top,i=r.left,a=r.pos1,o=r.pos2,s=r.pos3,l=r.pos4,u=r.snapRenderInfo,c=e.props.snapRenderThreshold,d=c===void 0?1:c;if(!u||!u.render||!ti(e,""))return[];r.guidelines=rl(e);var f=Math.min(a[0],o[0],s[0],l[0]),p=Math.min(a[1],o[1],s[1],l[1]),h=u.externalPoses||[],v=Me(e.state),g=[],m=[],b=[],w=[],S=[],x=Ue(v),y=x.width,E=x.height,_=x.top,D=x.left,T=x.bottom,k=x.right,O={left:D,right:k,top:_,bottom:T,center:(D+k)/2,middle:(_+T)/2},I=h.length>0,R=I?Ue(h):{};if(!u.request){if(u.direction&&S.push(O0(e,v,u.direction,d)),u.snap){var F=Ue(v);u.center&&(F.middle=(F.top+F.bottom)/2,F.center=(F.left+F.right)/2),S.push(fc(e,F,d))}I&&(u.center&&(R.middle=(R.top+R.bottom)/2,R.center=(R.left+R.right)/2),S.push(fc(e,R,d))),S.forEach(function(U){var z=U.vertical.posInfos,H=U.horizontal.posInfos;g.push.apply(g,z.filter(function(X){var j=X.guidelineInfos;return j.some(function(K){var q=K.guideline;return!q.hide})}).map(function(X){return{type:"snap",pos:X.pos}})),m.push.apply(m,H.filter(function(X){var j=X.guidelineInfos;return j.some(function(K){var q=K.guideline;return!q.hide})}).map(function(X){return{type:"snap",pos:X.pos}})),b.push.apply(b,Ec(z)),w.push.apply(w,Ec(H))})}Cc(e,[D,k],[_,T],g,m),I&&Cc(e,[R.left,R.right],[R.top,R.bottom],g,m,u.externalBounds);var L=lt(lt([],b,!0),w,!0),N=L.filter(function(U){return U.element&&!U.gapRects}),$=L.filter(function(U){return U.gapRects}).sort(function(U,z){return U.gap-z.gap});return rt(e,"onSnap",{guidelines:L.filter(function(U){var z=U.element;return!z}),elements:N,gaps:$},!0),lt(lt(lt(lt(lt(lt([],G0(e,N,[f,p],O,t),!0),V0(e,$,[f,p],O,t),!0),bc(e,"horizontal",w,[i,n],O,t),!0),bc(e,"vertical",b,[i,n],O,t),!0),yc(e,"horizontal",m,f,n,y,0,t),!0),yc(e,"vertical",g,p,i,E,1,t),!0)},dragStart:function(e,t){e.state.snapRenderInfo={request:t.isRequest,snap:!0,center:!0},Pa(e)},drag:function(e){var t=e.state;Pa(e)||(t.guidelines=rl(e)),t.snapRenderInfo&&(t.snapRenderInfo.render=!0)},pinchStart:function(e){this.unset(e)},dragEnd:function(e){this.unset(e)},dragControlCondition:function(e,t){if(s1(e,t)||il(e,t))return!0;if(!t.isRequest&&t.inputEvent)return ie(t.inputEvent.target,st("snap-control"))},dragControlStart:function(e){e.state.snapRenderInfo=null,Pa(e)},dragControl:function(e){this.drag(e)},dragControlEnd:function(e){this.unset(e)},dragGroupStart:function(e,t){this.dragStart(e,t)},dragGroup:function(e){this.drag(e)},dragGroupEnd:function(e){this.unset(e)},dragGroupControlStart:function(e){e.state.snapRenderInfo=null,Pa(e)},dragGroupControl:function(e){this.drag(e)},dragGroupControlEnd:function(e){this.unset(e)},unset:function(e){var t=e.state;t.enableSnap=!1,t.guidelines=[],t.snapRenderInfo=null,t.elementRects=[]}};function zp(e,t,r,n){var i=e.getState(),a=i.renderPoses,o=i.rotation,s=i.direction,l=dn(e.props,t).zoom,u=s>0?1:-1,c=o/Math.PI*180,d={},f=e.renderState;f.renderDirectionMap||(f.renderDirectionMap={});var p=f.renderDirectionMap;return r.forEach(function(h){var v=h.dir;d[v]=!0}),r.map(function(h){var v=h.data,g=h.classNames,m=h.dir,b=Ul[m];if(!b||!d[m])return null;p[m]=!0;var w=(ft(c,15)+u*tp[m]+720)%180,S={};return Zn(v).forEach(function(x){S["data-".concat(x)]=v[x]}),n.createElement("div",M({className:st.apply(void 0,lt(["control","direction",m,t],g,!1)),"data-rotation":w,"data-direction":m},S,{key:"direction-".concat(m),style:Hl.apply(void 0,lt([o,l],b.map(function(x){return a[x]}),!1))}))})}function Np(e,t,r,n){var i=dn(e.props,r).renderDirections,a=i===void 0?t:i;if(!a)return[];var o=a===!0?$l:a;return zp(e,r,o.map(function(s){return{data:{},classNames:[],dir:s}}),n)}function u1(e,t){var r=e.renderState;r.renderDirectionMap||(r.renderDirectionMap={});var n=e.getState(),i=n.renderPoses,a=n.rotation,o=n.direction,s=r.renderDirectionMap,l=e.props.zoom,u=o>0?1:-1,c=a/Math.PI*180;return Zn(s).map(function(d){var f=Ul[d];if(!f)return null;var p=(ft(c,15)+u*tp[d]+720)%180;return t.createElement("div",{className:st("around-control"),"data-rotation":p,"data-direction":d,key:"direction-around-".concat(d),style:Hl.apply(void 0,lt([a,l],f.map(function(h){return i[h]}),!1))})})}function ji(e,t,r,n,i,a){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var l=Zt(r,n),u=t?ft(l/Math.PI*180,15)%180:-1;return e.createElement("div",{key:"line-".concat(a),className:st.apply(void 0,lt(["line","direction",t?"edge":"",t],o,!1)),"data-rotation":u,"data-line-key":a,"data-direction":t,style:xi(r,n,i,l)})}function Lp(e,t,r,n,i){var a=r===!0?Gm:r;return a.map(function(o,s){var l=Ul[o],u=l[0],c=l[1];if(c!=null)return ji(e,o,n[u],n[c],i,"".concat(t,"Edge").concat(s),t)}).filter(Boolean)}function $p(e){return function(t,r){var n=dn(t.props,e).edge;return n&&(n===!0||n.length)?lt(lt([],Lp(r,e,n,t.getState().renderPoses,t.props.zoom),!0),c1(t,e,r),!0):Up(t,e,r)}}function Up(e,t,r){return Np(e,$l,t,r)}function c1(e,t,r){return Np(e,["nw","ne","sw","se"],t,r)}var Se={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},requestStyle:function(){return["left","top","right","bottom"]},render:function(e,t){var r=e.props,n=r.throttleDragRotate,i=r.zoom,a=e.getState(),o=a.dragInfo,s=a.beforeOrigin;if(!n||!o)return[];var l=o.dist;if(!l[0]&&!l[1])return[];var u=Je(l),c=Zt(l,[0,0]);return[t.createElement("div",{className:st("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(u,"px"),transform:"translate(".concat(s[0],"px, ").concat(s[1],"px) rotate(").concat(c,"rad) scaleY(").concat(i,")")}})]},dragStart:function(e,t){var r=t.datas,n=t.parentEvent,i=t.parentGesto,a=e.state,o=a.gestos,s=a.style;if(o.draggable)return!1;o.draggable=i||e.targetGesto,r.datas={},r.left=parseFloat(s.left||"")||0,r.top=parseFloat(s.top||"")||0,r.bottom=parseFloat(s.bottom||"")||0,r.right=parseFloat(s.right||"")||0,r.startValue=[0,0],gn(e,t),Eo(t,"translate"),o1(e,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var l=pt(e,t,M({set:function(c){r.startValue=c}},wo(t))),u=n||rt(e,"onDragStart",l);return u!==!1?(r.isDrag=!0,e.state.dragInfo={startRect:e.getRect(),dist:[0,0]}):(o.draggable=null,r.isPinch=!1),r.isDrag?l:!1},drag:function(e,t){if(!!t){bo(t,"translate");var r=t.datas,n=t.parentEvent,i=t.parentFlag,a=t.isPinch,o=t.isRequest,s=t.deltaOffset,l=t.distX,u=t.distY,c=r.isDrag,d=r.prevDist,f=r.prevBeforeDist,p=r.startValue;if(!!c){s&&(l+=s[0],u+=s[1]);var h=e.props,v=h.parentMoveable,g=n?0:h.throttleDrag||0,m=n?0:h.throttleDragRotate||0,b=0,w=!1,S=!1,x=!1,y=!1;if(!n&&m>0&&(l||u)){var E=h.startDragRotate||0,_=ft(E+Zt([0,0],[l,u])*180/Math.PI,m)-E,D=u*Math.abs(Math.cos((_-90)/180*Math.PI)),T=l*Math.abs(Math.cos(_/180*Math.PI)),k=Je([T,D]);b=_*Math.PI/180,l=k*Math.cos(b),u=k*Math.sin(b)}if(!a&&!n&&!i){var O=W0(e,l,u,m,o||s,r),I=O[0],R=O[1];w=I.isSnap,S=I.isBound,x=R.isSnap,y=R.isBound;var F=I.offset,L=R.offset;l+=F,u+=L}var N=Et(ip({datas:r,distX:l,distY:u}),p),$=Et(jm({datas:r,distX:l,distY:u}),p);tc($,Ee),tc(N,Ee),m||(!w&&!S&&($[0]=ft($[0],g),N[0]=ft(N[0],g)),!x&&!y&&($[1]=ft($[1],g),N[1]=ft(N[1],g)));var U=ot(N,p),z=ot($,p),H=ot(z,d),X=ot(U,f);r.prevDist=z,r.prevBeforeDist=U,r.passDelta=H,r.passDist=z;var j=r.left+U[0],K=r.top+U[1],q=r.right-U[0],Z=r.bottom-U[1],tt=So(r,"translate(".concat($[0],"px, ").concat($[1],"px)"),"translate(".concat(z[0],"px, ").concat(z[1],"px)"));if(Gl(t,tt),e.state.dragInfo.dist=n?[0,0]:z,!(!n&&!v&&H.every(function(yt){return!yt})&&X.some(function(yt){return!yt}))){var ut=e.state,ht=ut.width,Q=ut.height,at=pt(e,t,M({transform:tt,dist:z,delta:H,translate:$,beforeDist:U,beforeDelta:X,beforeTranslate:N,left:j,top:K,right:q,bottom:Z,width:ht,height:Q,isPinch:a},we({transform:tt},t)));return!n&&rt(e,"onDrag",at),at}}}},dragAfter:function(e,t){var r=t.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(e,M(M({},t),{deltaOffset:n}))):!1},dragEnd:function(e,t){var r=t.parentEvent,n=t.datas;if(e.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var i=Fe(e,t,{});return!r&&rt(e,"onDragEnd",i),i}},dragGroupStart:function(e,t){var r=t.datas,n=t.clientX,i=t.clientY,a=this.dragStart(e,t);if(!a)return!1;var o=qo(e,this,"dragStart",[n||0,i||0],t,!1,"draggable"),s=M(M({},a),{targets:e.props.targets,events:o}),l=rt(e,"onDragGroupStart",s);return r.isDrag=l!==!1,r.isDrag?a:!1},dragGroup:function(e,t){var r=t.datas;if(!!r.isDrag){var n=this.drag(e,t),i=t.datas.passDelta,a=qo(e,this,"drag",i,t,!1,"draggable");if(!!n){var o=M({targets:e.props.targets,events:a},n);return rt(e,"onDragGroup",o),o}}},dragGroupEnd:function(e,t){var r=t.isDrag,n=t.datas;if(!!n.isDrag){this.dragEnd(e,t);var i=qo(e,this,"dragEnd",[0,0],t,!1,"draggable");return rt(e,"onDragGroupEnd",Fe(e,t,{targets:e.props.targets,events:i})),r}},request:function(e){var t={},r=e.getRect(),n=0,i=0;return{isControl:!1,requestStart:function(){return{datas:t}},request:function(a){return"x"in a?n=a.x-r.left:"deltaX"in a&&(n+=a.deltaX),"y"in a?i=a.y-r.top:"deltaY"in a&&(i+=a.deltaY),{datas:t,distX:n,distY:i}},requestEnd:function(){return{datas:t,isDrag:!0}}}},unset:function(e){e.state.gestos.draggable=null,e.state.dragInfo=null}},xc=ql("resizable"),nl={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean,resizeFormat:Function,keepRatioFinally:Boolean,edge:Boolean,checkResizableError:Boolean},events:{onResizeStart:"resizeStart",onBeforeResize:"beforeResize",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onBeforeResizeGroup:"beforeResizeGroup",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:$p("resizable"),dragControlCondition:xc,viewClassName:Wl("resizable"),dragControlStart:function(e,t){var r,n=t.inputEvent,i=t.isPinch,a=t.isGroup,o=t.parentDirection,s=t.parentGesto,l=t.datas,u=t.parentFixedDirection,c=t.parentEvent,d=bp(o,i,n,l),f=e.state,p=f.target,h=f.width,v=f.height,g=f.gestos;if(!d||!p||g.resizable)return!1;g.resizable=s||e.controlGesto,!i&&gn(e,t),l.datas={},l.direction=d,l.startOffsetWidth=h,l.startOffsetHeight=v,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=f.inlineCSSWidth||f.cssWidth,l.startHeight=f.inlineCSSHeight||f.cssHeight,l.maxSize=[1/0,1/0],a||(l.minSize=[f.minOffsetWidth,f.minOffsetHeight],l.maxSize=[f.maxOffsetWidth,f.maxOffsetHeight]);var m=e.props.transformOrigin||"% %";l.transformOrigin=m&&ye(m)?m.split(" "):m,l.startOffsetMatrix=f.offsetMatrix,l.startTransformOrigin=f.transformOrigin,l.isWidth=(r=t==null?void 0:t.parentIsWidth)!==null&&r!==void 0?r:!d[0]&&!d[1]||d[0]||!d[1];function b(D){l.ratio=D&&isFinite(D)?D:0}l.startPositions=Me(e.state);function w(D){l.fixedDirection=D,l.fixedPosition=Xt(l.startPositions,D)}function S(D){var T=e.state,k=T.width,O=T.height;l.fixedPosition=D,l.fixedDirection=up(D,k,O)}function x(D){l.minSize=[Nt("".concat(D[0]),0)||0,Nt("".concat(D[1]),0)||0]}function y(D){var T=[D[0]||1/0,D[1]||1/0];(!Ts(T[0])||isFinite(T[0]))&&(T[0]=Nt("".concat(T[0]),0)||1/0),(!Ts(T[1])||isFinite(T[1]))&&(T[1]=Nt("".concat(T[1]),0)||1/0),l.maxSize=T}b(h/v),w(u||[-d[0],-d[1]]),l.setFixedDirection=w,l.setFixedPosition=S,l.setMin=x,l.setMax=y;var E=pt(e,t,{direction:d,startRatio:l.ratio,set:function(D){var T=D[0],k=D[1];l.startWidth=T,l.startHeight=k},setMin:x,setMax:y,setRatio:b,setFixedDirection:w,setFixedPosition:S,setOrigin:function(D){l.transformOrigin=D},dragStart:Se.dragStart(e,new jn().dragStart([0,0],t))}),_=c||rt(e,"onResizeStart",E);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,_!==!1&&(l.isResize=!0,e.state.snapRenderInfo={request:t.isRequest,direction:d}),l.isResize?E:!1},dragControl:function(e,t){var r,n=t.datas,i=t.parentFlag,a=t.isPinch,o=t.parentKeepRatio,s=t.dragClient,l=t.parentDist,u=t.isRequest,c=t.isGroup,d=t.parentEvent,f=t.resolveMatrix,p=n.isResize,h=n.transformOrigin,v=n.startWidth,g=n.startHeight,m=n.prevWidth,b=n.prevHeight,w=n.minSize,S=n.maxSize,x=n.ratio,y=n.startOffsetWidth,E=n.startOffsetHeight,_=n.isWidth;if(!p)return;if(f){var D=e.state.is3d,T=n.startOffsetMatrix,k=n.startTransformOrigin,O=D?4:3,I=yo(op(t)),R=Math.sqrt(I.length);O!==R&&(I=sr(I,R,O));var F=ua(T,I,k,O),L=Ur(F,y,E,O);n.startPositions=L,n.nextTargetMatrix=I,n.nextAllMatrix=F}var N=dn(e.props,"resizable"),$=N.resizeFormat,U=N.throttleResize,z=U===void 0?i?0:1:U,H=N.parentMoveable,X=N.keepRatioFinally,j=n.direction,K=j,q=0,Z=0;!j[0]&&!j[1]&&(K=[1,1]);var tt=x&&(o!=null?o:N.keepRatio)||!1;function ut(){var Lt=n.fixedDirection,$t=_p(K,tt,n,t);q=$t.distWidth,Z=$t.distHeight;var Pe=K[0]-Lt[0]||tt?Math.max(y+q,Ee):y,je=K[1]-Lt[1]||tt?Math.max(E+Z,Ee):E;return tt&&y&&E&&(_?je=Pe/x:Pe=je*x),[Pe,je]}var ht=ut(),Q=ht[0],at=ht[1];d||(n.setFixedDirection(n.fixedDirection),rt(e,"onBeforeResize",pt(e,t,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(Lt){var $t;return n.setFixedDirection(Lt),$t=ut(),Q=$t[0],at=$t[1],[Q,at]},setFixedPosition:function(Lt){var $t;return n.setFixedPosition(Lt),$t=ut(),Q=$t[0],at=$t[1],[Q,at]},boundingWidth:Q,boundingHeight:at,setSize:function(Lt){Q=Lt[0],at=Lt[1]}},!0)));var yt=s;s||(!i&&a?yt=dp(e,[0,0]):yt=n.fixedPosition);var gt=[0,0];a||(gt=i1(e,Q,at,j,yt,u,n)),l&&(!l[0]&&(gt[0]=0),!l[1]&&(gt[1]=0));function Ht(){var Lt;$&&(Lt=$([Q,at]),Q=Lt[0],at=Lt[1]),Q=ft(Q,z),at=ft(at,z)}if(tt){K[0]&&K[1]&&gt[0]&&gt[1]&&(Math.abs(gt[0])>Math.abs(gt[1])?gt[1]=0:gt[0]=0);var Ct=!gt[0]&&!gt[1];Ct&&Ht(),K[0]&&!K[1]||gt[0]&&!gt[1]||Ct&&_?(Q+=gt[0],at=Q/x):(!K[0]&&K[1]||!gt[0]&&gt[1]||Ct&&!_)&&(at+=gt[1],Q=at*x)}else Q+=gt[0],at+=gt[1],Q=Math.max(0,Q),at=Math.max(0,at);r=Tf([Q,at],w,S,tt?x:!1),Q=r[0],at=r[1],Ht(),tt&&(c||X)&&(_?at=Q/x:Q=at*x),q=Q-y,Z=at-E;var St=[q-m,Z-b];n.prevWidth=q,n.prevHeight=Z;var Pt=t0(e,Q,at,yt,h,n);if(!(!H&&St.every(function(Lt){return!Lt})&&Pt.every(function(Lt){return!Lt}))){var vt=Se.drag(e,la(t,e.state,Pt,!!a,!1,"draggable")),mt=vt.transform,bt=v+q,le=g+Z,Ce=pt(e,t,M({width:bt,height:le,offsetWidth:Math.round(Q),offsetHeight:Math.round(at),startRatio:x,boundingWidth:Q,boundingHeight:at,direction:j,dist:[q,Z],delta:St,isPinch:!!a,drag:vt},wp({style:{width:"".concat(bt,"px"),height:"".concat(le,"px")},transform:mt},vt,t)));return!d&&rt(e,"onResize",Ce),Ce}},dragControlAfter:function(e,t){var r=t.datas,n=r.isResize,i=r.startOffsetWidth,a=r.startOffsetHeight,o=r.prevWidth,s=r.prevHeight;if(!(!n||e.props.checkResizableError===!1)){var l=e.state,u=l.width,c=l.height,d=u-(i+o),f=c-(a+s),p=Math.abs(d)>3,h=Math.abs(f)>3;if(p&&(r.startWidth+=d,r.startOffsetWidth+=d,r.prevWidth+=d),h&&(r.startHeight+=f,r.startOffsetHeight+=f,r.prevHeight+=f),p||h)return this.dragControl(e,t)}},dragControlEnd:function(e,t){var r=t.datas,n=t.parentEvent;if(!!r.isResize){r.isResize=!1;var i=Fe(e,t,{});return!n&&rt(e,"onResizeEnd",i),i}},dragGroupControlCondition:xc,dragGroupControlStart:function(e,t){var r=t.datas,n=this.dragControlStart(e,M(M({},t),{isGroup:!0}));if(!n)return!1;var i=tr(e,"resizable",t);function a(h,v){var g=r.fixedDirection,m=r.fixedPosition,b=v.datas.startPositions||Me(h.state),w=Xt(b,g),S=ge(Hn(-e.rotation/180*Math.PI,3),[w[0]-m[0],w[1]-m[1],1],3),x=S[0],y=S[1];return v.datas.originalX=x,v.datas.originalY=y,v}var o=r.startOffsetWidth,s=r.startOffsetHeight;function l(){var h=r.minSize;i.forEach(function(v){var g=v.datas,m=g.minSize,b=g.startOffsetWidth,w=g.startOffsetHeight,S=o*(b?m[0]/b:0),x=s*(w?m[1]/w:0);h[0]=Math.max(h[0],S),h[1]=Math.max(h[1],x)})}function u(){var h=r.maxSize;i.forEach(function(v){var g=v.datas,m=g.maxSize,b=g.startOffsetWidth,w=g.startOffsetHeight,S=o*(b?m[0]/b:0),x=s*(w?m[1]/w:0);h[0]=Math.min(h[0],S),h[1]=Math.min(h[1],x)})}var c=Sr(e,this,"dragControlStart",t,function(h,v){return a(h,v)});l(),u();var d=function(h){n.setFixedDirection(h),c.forEach(function(v,g){v.setFixedDirection(h),a(v.moveable,i[g])})};r.setFixedDirection=d;var f=M(M({},n),{targets:e.props.targets,events:c.map(function(h){return M(M({},h),{setMin:function(v){h.setMin(v),l()},setMax:function(v){h.setMax(v),u()}})}),setFixedDirection:d,setMin:function(h){n.setMin(h),l()},setMax:function(h){n.setMax(h),u()}}),p=rt(e,"onResizeGroupStart",f);return r.isResize=p!==!1,r.isResize?n:!1},dragGroupControl:function(e,t){var r=t.datas;if(!!r.isResize){var n=dn(e.props,"resizable");xo(e,"onBeforeResize",function(p){rt(e,"onBeforeResizeGroup",pt(e,t,M(M({},p),{targets:n.targets}),!0))});var i=this.dragControl(e,M(M({},t),{isGroup:!0}));if(!!i){var a=i.boundingWidth,o=i.boundingHeight,s=i.dist,l=n.keepRatio,u=[a/(a-s[0]),o/(o-s[1])],c=r.fixedPosition,d=Sr(e,this,"dragControl",t,function(p,h){var v=ge(Hn(e.rotation/180*Math.PI,3),[h.datas.originalX*u[0],h.datas.originalY*u[1],1],3),g=v[0],m=v[1];return M(M({},h),{parentDist:null,parentScale:u,dragClient:Et(c,[g,m]),parentKeepRatio:l})}),f=M({targets:n.targets,events:d},i);return rt(e,"onResizeGroup",f),f}}},dragGroupControlEnd:function(e,t){var r=t.isDrag,n=t.datas;if(!!n.isResize){this.dragControlEnd(e,t);var i=Sr(e,this,"dragControlEnd",t),a=Fe(e,t,{targets:e.props.targets,events:i});return rt(e,"onResizeGroupEnd",a),r}},request:function(e){var t={},r=0,n=0,i=e.getRect();return{isControl:!0,requestStart:function(a){var o;return{datas:t,parentDirection:a.direction||[1,1],parentIsWidth:(o=a==null?void 0:a.horizontal)!==null&&o!==void 0?o:!0}},request:function(a){return"offsetWidth"in a?r=a.offsetWidth-i.offsetWidth:"deltaWidth"in a&&(r+=a.deltaWidth),"offsetHeight"in a?n=a.offsetHeight-i.offsetHeight:"deltaHeight"in a&&(n+=a.deltaHeight),{datas:t,parentDist:[r,n],parentKeepRatio:a.keepRatio}},requestEnd:function(){return{datas:t,isDrag:!0}}}},unset:function(e){e.state.gestos.resizable=null}};function Yo(e,t,r,n,i){var a=e.props.groupable,o=e.state,s=o.is3d?4:3,l=t.origin,u=oe(e.state.rootMatrix,ot([l[0],l[1]],a?[0,0]:[o.left,o.top]),s),c=Et([i.left,i.top],u);t.startAbsoluteOrigin=c,t.prevDeg=Zt(c,[r,n])/Math.PI*180,t.defaultDeg=t.prevDeg,t.prevSnapDeg=0,t.loop=0,t.startDist=Le(c,[r,n])}function ja(e,t,r){var n=r.defaultDeg,i=r.prevDeg,a=i%360,o=Math.floor(i/360);a<0&&(a+=360),a>e&&a>270&&e<90?++o:a<e&&a<90&&e>270&&--o;var s=t*(o*360+e-n);return r.prevDeg=n+s,s}function Xo(e,t,r,n){return ja(Zt(n.startAbsoluteOrigin,[e,t])/Math.PI*180,r,n)}function Ko(e,t,r,n,i,a){var o=e.props.throttleRotate,s=o===void 0?0:o,l=r.prevSnapDeg,u=0,c=!1;if(a){var d=n1(e,t,n);c=d.isSnap,u=i+d.rotation}c||(u=ft(i+n,s));var f=u-i;return r.prevSnapDeg=f,[f-l,f,u]}function Gp(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];if(e==="none")return[];if(qt(e))return e.map(function(v){return Gp(v,[n,i,a,o],r)[0]});var s=(e||"top").split("-"),l=s[0],u=s[1],c=[n,i];l==="left"?c=[a,n]:l==="right"?c=[i,o]:l==="bottom"&&(c=[o,a]);var d=[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2],f=mp(c,r);if(u){var p=u==="top"||u==="left",h=l==="bottom"||l==="left";d=c[p&&!h||!p&&h?0:1]}return[[d,f]]}function il(e,t){if(t.isRequest)return t.requestAble==="rotatable";var r=t.inputEvent.target;if(ie(r,st("rotation-control"))||ie(r,st("around-control"))||ie(r,st("control"))&&ie(r,st("rotatable")))return!0;var n=e.props.rotationTarget;return n?Yl(n,!0).some(function(i){return i?r===i||r.contains(i):!1}):!1}var d1=$l.map(function(e){var t="",r="",n="center",i="center";return e.indexOf("n")>-1&&(t="top: -20px;",i="bottom"),e.indexOf("s")>-1&&(t="top: 0px;",i="top"),e.indexOf("w")>-1&&(r="left: -20px;",n="right"),e.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(e,`"] {
        `).concat(r).concat(t,`
        transform-origin: `).concat(n," ").concat(i,`;
    }`)}).join(`
`),f1=`.rotation {
    position: absolute;
    height: 40px;
    width: 1px;
    transform-origin: 50% 100%;
    height: calc(40px * var(--zoom));
    top: auto;
    left: 0;
    bottom: 100%;
    will-change: transform;
}
.rotation .rotation-line {
    display: block;
    width: 100%;
    height: 100%;
    transform-origin: 50% 50%;
}
.rotation .rotation-control {
    border-color: #4af;
    border-color: var(--moveable-color);
    background:#fff;
    cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
    cursor: alias;
}
.around-control {
    position: absolute;
    will-change: transform;
    width: 20px;
    height: 20px;
    left: -10px;
    top: -10px;
    box-sizing: border-box;
    background: transparent;
    z-index: 8;
    cursor: alias;
    transform-origin: center center;
}
.rotatable.direction.control.move {
    cursor: move;
}
`.concat(d1,`
`),p1={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object,rotateAroundControls:Boolean,edge:Boolean,resolveAblesWithRotatable:Object},events:{onRotateStart:"rotateStart",onBeforeRotate:"beforeRotate",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onBeforeRotateGroup:"beforeRotateGroup",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[f1],viewClassName:function(e){return e.isDragging("rotatable")?st("view-rotation-dragging"):""},render:function(e,t){var r=dn(e.props,"rotatable"),n=r.rotatable,i=r.rotationPosition,a=r.zoom,o=r.renderDirections,s=r.rotateAroundControls,l=r.resolveAblesWithRotatable,u=e.getState(),c=u.renderPoses,d=u.direction;if(!n)return null;var f=Gp(i,c,d),p=[];if(f.forEach(function(m,b){var w=m[0],S=m[1];p.push(t.createElement("div",{key:"rotation".concat(b),className:st("rotation"),style:{transform:"translate(-50%) translate(".concat(w[0],"px, ").concat(w[1],"px) rotate(").concat(S,"rad)")}},t.createElement("div",{className:st("line rotation-line"),style:{transform:"scaleX(".concat(a,")")}}),t.createElement("div",{className:st("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(a,")")}})))}),o){var h=Zn(l||{}),v={};h.forEach(function(m){l[m].forEach(function(b){v[b]=m})});var g=[];qt(o)&&(g=o.map(function(m){var b=v[m];return{data:b?{resolve:b}:{},classNames:b?["move"]:[],dir:m}})),p.push.apply(p,zp(e,"rotatable",g,t))}return s&&p.push.apply(p,u1(e,t)),p},dragControlCondition:il,dragControlStart:function(e,t){var r,n,i=t.datas,a=t.clientX,o=t.clientY,s=t.parentRotate,l=t.parentFlag,u=t.isPinch,c=t.isRequest,d=e.state,f=d.target,p=d.left,h=d.top,v=d.direction,g=d.beforeDirection,m=d.targetTransform,b=d.moveableClientRect,w=d.offsetMatrix,S=d.targetMatrix,x=d.allMatrix,y=d.width,E=d.height;if(!c&&!f)return!1;var _=e.getRect();i.rect=_,i.transform=m,i.left=p,i.top=h;var D=function(q){var Z=e.state,tt=Z.allMatrix,ut=Z.is3d,ht=Z.width,Q=Z.height,at=up(q,ht,Q);i.fixedDirection=at,i.fixedPosition=oe(tt,q,ut?4:3),H&&H.setFixedPosition(q)},T=function(q){i.fixedDirection=q,i.fixedPosition=cp(e,q),H&&H.setFixedDirection(q)},k=a,O=o;if(c||u||l){var I=s||0;i.beforeInfo={origin:_.beforeOrigin,prevDeg:I,defaultDeg:I,prevSnapDeg:0,startDist:0},i.afterInfo=M(M({},i.beforeInfo),{origin:_.origin}),i.absoluteInfo=M(M({},i.beforeInfo),{origin:_.origin,startValue:I})}else{var R=(n=t.inputEvent)===null||n===void 0?void 0:n.target;if(R){var F=R.getAttribute("data-direction")||"",L=Vm[F];if(L){i.isControl=!0,i.isAroundControl=ie(R,st("around-control")),i.controlDirection=L;var N=R.getAttribute("data-resolve");N&&(i.resolveAble=N);var $=d0(d.rootMatrix,d.renderPoses,b);r=Xt($,L),k=r[0],O=r[1]}}i.beforeInfo={origin:_.beforeOrigin},i.afterInfo={origin:_.origin},i.absoluteInfo={origin:_.origin,startValue:_.rotation};var U=D;D=function(q){var Z=d.is3d?4:3,tt=Et(Uf(S,Z),q),ut=tt[0],ht=tt[1],Q=ge(w,cn([ut,ht],Z)),at=ge(x,cn([q[0],q[1]],Z));U(q);var yt=d.posDelta;i.beforeInfo.origin=ot(Q,yt),i.afterInfo.origin=ot(at,yt),i.absoluteInfo.origin=ot(at,yt),Yo(e,i.beforeInfo,k,O,b),Yo(e,i.afterInfo,k,O,b),Yo(e,i.absoluteInfo,k,O,b)},T=function(q){var Z=Xt([[0,0],[y,0],[0,E],[y,E]],q);D(Z)}}i.startClientX=k,i.startClientY=O,i.direction=v,i.beforeDirection=g,i.startValue=0,i.datas={},Eo(t,"rotate");var z=!1,H=!1;if(i.isControl&&i.resolveAble){var X=i.resolveAble;X==="resizable"&&(H=nl.dragControlStart(e,M(M({},new jn("resizable").dragStart([0,0],t)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition})))}H||(z=Se.dragStart(e,new jn().dragStart([0,0],t))),D(d.transformOrigin);var j=pt(e,t,M(M({set:function(q){i.startValue=q*Math.PI/180},setFixedDirection:T,setFixedPosition:D},wo(t)),{dragStart:z,resizeStart:H})),K=rt(e,"onRotateStart",j);return i.isRotate=K!==!1,d.snapRenderInfo={request:t.isRequest},i.isRotate?j:!1},dragControl:function(e,t){var r,n,i,a=t.datas,o=t.clientDistX,s=t.clientDistY,l=t.parentRotate,u=t.parentFlag,c=t.isPinch,d=t.groupDelta,f=a.beforeDirection,p=a.beforeInfo,h=a.afterInfo,v=a.absoluteInfo,g=a.isRotate,m=a.startValue,b=a.rect,w=a.startClientX,S=a.startClientY;if(!!g){bo(t,"rotate");var x=Hm(t),y=f*x,E=e.props.parentMoveable,_=0,D,T,k=0,O,I,R=0,F,L,N=180/Math.PI*m,$=v.startValue,U=!1,z=w+o,H=S+s;if(!u&&"parentDist"in t){var X=t.parentDist;D=X,O=X,F=X}else c||u?(D=ja(l,f,p),O=ja(l,y,h),F=ja(l,y,v)):(D=Xo(z,H,f,p),O=Xo(z,H,y,h),F=Xo(z,H,y,v),U=!0);if(T=N+D,I=N+O,L=$+F,rt(e,"onBeforeRotate",pt(e,t,{beforeRotation:T,rotation:I,absoluteRotation:L,setRotation:function(yt){O=yt-N,D=O,F=O}},!0)),r=Ko(e,b,p,D,N,U),_=r[0],D=r[1],T=r[2],n=Ko(e,b,h,O,N,U),k=n[0],O=n[1],I=n[2],i=Ko(e,b,v,F,$,U),R=i[0],F=i[1],L=i[2],!(!R&&!k&&!_&&!E)){var j=So(a,"rotate(".concat(I,"deg)"),"rotate(".concat(O,"deg)")),K=Jm(e,O,a),q=ot(Et(d||[0,0],K),a.prevInverseDist||[0,0]);a.prevInverseDist=K,a.requestValue=null;var Z=sp(e,j,q,c,t),tt=Z,ut=Le([z,H],v.startAbsoluteOrigin)-v.startDist,ht=void 0;if(a.resolveAble==="resizable"){var Q=nl.dragControl(e,M(M({},la(t,e.state,[t.deltaX,t.deltaY],!!c,!1,"resizable")),{resolveMatrix:!0,parentDistance:ut}));Q&&(ht=Q,tt=wp(tt,Q,t))}var at=pt(e,t,M(M({delta:k,dist:O,rotate:I,rotation:I,beforeDist:D,beforeDelta:_,beforeRotate:T,beforeRotation:T,absoluteDist:F,absoluteDelta:R,absoluteRotate:L,absoluteRotation:L,isPinch:!!c,resize:ht},Z),tt));return rt(e,"onRotate",at),at}}},dragControlEnd:function(e,t){var r=t.datas;if(!!r.isRotate){r.isRotate=!1;var n=Fe(e,t,{});return rt(e,"onRotateEnd",n),n}},dragGroupControlCondition:il,dragGroupControlStart:function(e,t){var r=t.datas,n=e.state,i=n.left,a=n.top,o=n.beforeOrigin,s=this.dragControlStart(e,t);if(!s)return!1;s.set(r.beforeDirection*e.rotation);var l=Sr(e,this,"dragControlStart",t,function(d,f){var p=d.state,h=p.left,v=p.top,g=p.beforeOrigin,m=Et(ot([h,v],[i,a]),ot(g,o));return f.datas.startGroupClient=m,f.datas.groupClient=m,M(M({},f),{parentRotate:0})}),u=M(M({},s),{targets:e.props.targets,events:l}),c=rt(e,"onRotateGroupStart",u);return r.isRotate=c!==!1,r.isRotate?s:!1},dragGroupControl:function(e,t){var r=t.datas;if(!!r.isRotate){xo(e,"onBeforeRotate",function(u){rt(e,"onBeforeRotateGroup",pt(e,t,M(M({},u),{targets:e.props.targets}),!0))});var n=this.dragControl(e,t);if(!!n){var i=r.beforeDirection,a=n.beforeDist,o=a/180*Math.PI,s=Sr(e,this,"dragControl",t,function(u,c){var d=c.datas.startGroupClient,f=c.datas.groupClient,p=f[0],h=f[1],v=aa(d,o*i),g=v[0],m=v[1],b=[g-p,m-h];return c.datas.groupClient=[g,m],M(M({},c),{parentRotate:a,groupDelta:b})});e.rotation=i*n.beforeRotation;var l=M({targets:e.props.targets,events:s,set:function(u){e.rotation=u},setGroupRotation:function(u){e.rotation=u}},n);return rt(e,"onRotateGroup",l),l}}},dragGroupControlEnd:function(e,t){var r=t.isDrag,n=t.datas;if(!!n.isRotate){this.dragControlEnd(e,t);var i=Sr(e,this,"dragControlEnd",t),a=Fe(e,t,{targets:e.props.targets,events:i});return rt(e,"onRotateGroupEnd",a),r}},request:function(e){var t={},r=0,n=e.getRotation();return{isControl:!0,requestStart:function(){return{datas:t}},request:function(i){return"deltaRotate"in i?r+=i.deltaRotate:"rotate"in i&&(r=i.rotate-n),{datas:t,parentDist:r}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},Dc=ql("scalable"),h1={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean,edge:Boolean},events:{onScaleStart:"scaleStart",onBeforeScale:"beforeScale",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onBeforeScaleGroup:"beforeScaleGroup",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:$p("scalable"),dragControlCondition:Dc,viewClassName:Wl("scalable"),dragControlStart:function(e,t){var r=t.datas,n=t.isPinch,i=t.inputEvent,a=t.parentDirection,o=bp(a,n,i,r),s=e.state,l=s.width,u=s.height,c=s.targetTransform,d=s.target,f=s.pos1,p=s.pos2,h=s.pos4;if(!o||!d)return!1;n||gn(e,t),r.datas={},r.transform=c,r.prevDist=[1,1],r.direction=o,r.startOffsetWidth=l,r.startOffsetHeight=u,r.startValue=[1,1];var v=Le(f,p),g=Le(p,h),m=!o[0]&&!o[1]||o[0]||!o[1];r.scaleWidth=v,r.scaleHeight=g,r.scaleXRatio=v/l,r.scaleYRatio=g/u,Eo(t,"scale"),r.isWidth=m;function b(y){r.ratio=y&&isFinite(y)?y:0}r.startPositions=Me(e.state);function w(y){r.fixedDirection=y,r.fixedPosition=Xt(r.startPositions,y)}r.setFixedDirection=w,b(Le(f,p)/Le(p,h)),w([-o[0],-o[1]]);var S=pt(e,t,M(M({direction:o,set:function(y){r.startValue=y},setRatio:b,setFixedDirection:w},wo(t)),{dragStart:Se.dragStart(e,new jn().dragStart([0,0],t))})),x=rt(e,"onScaleStart",S);return r.startFixedDirection=r.fixedDirection,x!==!1&&(r.isScale=!0,e.state.snapRenderInfo={request:t.isRequest,direction:o}),r.isScale?S:!1},dragControl:function(e,t){bo(t,"scale");var r=t.datas,n=t.parentKeepRatio,i=t.parentFlag,a=t.isPinch,o=t.dragClient,s=t.isRequest,l=r.prevDist,u=r.direction,c=r.startOffsetWidth,d=r.startOffsetHeight,f=r.isScale,p=r.startValue,h=r.isWidth,v=r.ratio;if(!f)return!1;var g=e.props,m=g.throttleScale,b=g.parentMoveable,w=u;!u[0]&&!u[1]&&(w=[1,1]);var S=v&&(n!=null?n:g.keepRatio)||!1,x=e.state;function y(){var H=_p(w,S,r,t),X=H.distWidth,j=H.distHeight,K=c?(c+X)/c:1,q=d?(d+j)/d:1;return K=w[0]||S?K*p[0]:p[0],q=w[1]||S?q*p[1]:p[1],K===0&&(K=(l[0]>0?1:-1)*xa),q===0&&(q=(l[1]>0?1:-1)*xa),[K,q]}var E=y();if(!a&&e.props.groupable){var _=x.snapRenderInfo||{},D=_.direction;qt(D)&&(D[0]||D[1])&&(x.snapRenderInfo={direction:u,request:t.isRequest})}rt(e,"onBeforeScale",pt(e,t,{scale:E,setFixedDirection:function(H){return r.setFixedDirection(H),E=y(),E},startFixedDirection:r.startFixedDirection,setScale:function(H){E=H}},!0));var T=[E[0]/p[0],E[1]/p[1]],k=o,O=[0,0];if(o||(!i&&a?k=dp(e,[0,0]):k=r.fixedPosition),a||(O=a1(e,T,u,s,r)),S){w[0]&&w[1]&&O[0]&&O[1]&&(Math.abs(O[0]*c)>Math.abs(O[1]*d)?O[1]=0:O[0]=0);var I=!O[0]&&!O[1];if(I&&(h?T[0]=ft(T[0]*p[0],m)/p[0]:T[1]=ft(T[1]*p[1],m)/p[1]),w[0]&&!w[1]||O[0]&&!O[1]||I&&h){T[0]+=O[0];var R=c*T[0]*p[0]/v;T[1]=R/d/p[1]}else if(!w[0]&&w[1]||!O[0]&&O[1]||I&&!h){T[1]+=O[1];var F=d*T[1]*p[1]*v;T[0]=F/c/p[0]}}else T[0]+=O[0],T[1]+=O[1],O[0]||(T[0]=ft(T[0]*p[0],m)/p[0]),O[1]||(T[1]=ft(T[1]*p[1],m)/p[1]);T[0]===0&&(T[0]=(l[0]>0?1:-1)*xa),T[1]===0&&(T[1]=(l[1]>0?1:-1)*xa);var L=[T[0]/l[0],T[1]/l[1]];E=r0(T,p);var N=Qm(e,T,r.fixedDirection,k,r),$=ot(N,r.prevInverseDist||[0,0]);if(r.prevDist=T,r.prevInverseDist=N,E[0]===l[0]&&E[1]===l[1]&&$.every(function(H){return!H})&&!b)return!1;var U=So(r,"scale(".concat(E.join(", "),")"),"scale(".concat(T.join(", "),")")),z=pt(e,t,M({offsetWidth:c,offsetHeight:d,direction:u,scale:E,dist:T,delta:L,isPinch:!!a},sp(e,U,$,a,t)));return rt(e,"onScale",z),z},dragControlEnd:function(e,t){var r=t.datas;if(!r.isScale)return!1;r.isScale=!1;var n=Fe(e,t,{});return rt(e,"onScaleEnd",n),n},dragGroupControlCondition:Dc,dragGroupControlStart:function(e,t){var r=t.datas,n=this.dragControlStart(e,t);if(!n)return!1;var i=tr(e,"resizable",t);function a(c,d){var f=r.fixedDirection,p=r.fixedPosition,h=d.datas.startPositions||Me(c.state),v=Xt(h,f),g=ge(Hn(-e.rotation/180*Math.PI,3),[v[0]-p[0],v[1]-p[1],1],3),m=g[0],b=g[1];return d.datas.originalX=m,d.datas.originalY=b,d}r.moveableScale=e.scale;var o=Sr(e,this,"dragControlStart",t,function(c,d){return a(c,d)}),s=function(c){n.setFixedDirection(c),o.forEach(function(d,f){d.setFixedDirection(c),a(d.moveable,i[f])})};r.setFixedDirection=s;var l=M(M({},n),{targets:e.props.targets,events:o,setFixedDirection:s}),u=rt(e,"onScaleGroupStart",l);return r.isScale=u!==!1,r.isScale?l:!1},dragGroupControl:function(e,t){var r=t.datas;if(!!r.isScale){xo(e,"onBeforeScale",function(d){rt(e,"onBeforeScaleGroup",pt(e,t,M(M({},d),{targets:e.props.targets}),!0))});var n=this.dragControl(e,t);if(!!n){var i=r.moveableScale;e.scale=[n.scale[0]*i[0],n.scale[1]*i[1]];var a=e.props.keepRatio,o=n.dist,s=n.scale,l=r.fixedPosition,u=Sr(e,this,"dragControl",t,function(d,f){var p=ge(Hn(e.rotation/180*Math.PI,3),[f.datas.originalX*o[0],f.datas.originalY*o[1],1],3),h=p[0],v=p[1];return M(M({},f),{parentDist:null,parentScale:s,parentKeepRatio:a,dragClient:Et(l,[h,v])})}),c=M({targets:e.props.targets,events:u},n);return rt(e,"onScaleGroup",c),c}}},dragGroupControlEnd:function(e,t){var r=t.isDrag,n=t.datas;if(!!n.isScale){this.dragControlEnd(e,t);var i=Sr(e,this,"dragControlEnd",t),a=Fe(e,t,{targets:e.props.targets,events:i});return rt(e,"onScaleGroupEnd",a),r}},request:function(){var e={},t=0,r=0;return{isControl:!0,requestStart:function(n){return{datas:e,parentDirection:n.direction||[1,1]}},request:function(n){return t+=n.deltaWidth,r+=n.deltaHeight,{datas:e,parentDist:[t,r],parentKeepRatio:n.keepRatio}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Mr(e,t){return e.map(function(r,n){return Zr(r,t[n],1,2)})}function _c(e,t,r){var n=Zt(e,t),i=Zt(e,r),a=i-n;return a>=0?a:a+2*Math.PI}function v1(e,t){var r=_c(e[0],e[1],e[2]),n=_c(t[0],t[1],t[2]),i=Math.PI;return!(r>=i&&n<=i||r<=i&&n>=i)}var g1={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array,edge:Boolean},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},viewClassName:Wl("warpable"),render:function(e,t){var r=e.props,n=r.resizable,i=r.scalable,a=r.warpable,o=r.zoom;if(n||i||!a)return[];var s=e.state,l=s.pos1,u=s.pos2,c=s.pos3,d=s.pos4,f=Mr(l,u),p=Mr(u,l),h=Mr(l,c),v=Mr(c,l),g=Mr(c,d),m=Mr(d,c),b=Mr(u,d),w=Mr(d,u);return lt([t.createElement("div",{className:st("line"),key:"middeLine1",style:xi(f,g,o)}),t.createElement("div",{className:st("line"),key:"middeLine2",style:xi(p,m,o)}),t.createElement("div",{className:st("line"),key:"middeLine3",style:xi(h,b,o)}),t.createElement("div",{className:st("line"),key:"middeLine4",style:xi(v,w,o)})],Up(e,"warpable",t),!0)},dragControlCondition:function(e,t){if(t.isRequest)return!1;var r=t.inputEvent.target;return ie(r,st("direction"))&&ie(r,st("warpable"))},dragControlStart:function(e,t){var r=t.datas,n=t.inputEvent,i=e.props.target,a=n.target,o=Sp(a,r);if(!o||!i)return!1;var s=e.state,l=s.transformOrigin,u=s.is3d,c=s.targetTransform,d=s.targetMatrix,f=s.width,p=s.height,h=s.left,v=s.top;r.datas={},r.targetTransform=c,r.warpTargetMatrix=u?d:sr(d,3,4),r.targetInverseMatrix=$f(rr(r.warpTargetMatrix,4),3,4),r.direction=o,r.left=h,r.top=v,r.poses=[[0,0],[f,0],[0,p],[f,p]].map(function(b){return ot(b,l)}),r.nextPoses=r.poses.map(function(b){var w=b[0],S=b[1];return ge(r.warpTargetMatrix,[w,S,0,1],4)}),r.startValue=Vt(4),r.prevMatrix=Vt(4),r.absolutePoses=Me(s),r.posIndexes=ap(o),gn(e,t),Eo(t,"matrix3d"),s.snapRenderInfo={request:t.isRequest,direction:o};var g=pt(e,t,M({set:function(b){r.startValue=b}},wo(t))),m=rt(e,"onWarpStart",g);return m!==!1&&(r.isWarp=!0),r.isWarp},dragControl:function(e,t){var r=t.datas,n=t.isRequest,i=t.distX,a=t.distY,o=r.targetInverseMatrix,s=r.prevMatrix,l=r.isWarp,u=r.startValue,c=r.poses,d=r.posIndexes,f=r.absolutePoses;if(!l)return!1;if(bo(t,"matrix3d"),ti(e,"warpable")){var p=d.map(function(D){return f[D]});p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var h=To(e,n,{horizontal:p.map(function(D){return D[1]+a}),vertical:p.map(function(D){return D[0]+i})}),v=h.horizontal,g=h.vertical;a-=v.offset,i-=g.offset}var m=ur({datas:r,distX:i,distY:a},!0),b=r.nextPoses.slice();if(d.forEach(function(D){b[D]=Et(b[D],m)}),!Um.every(function(D){return v1(D.map(function(T){return c[T]}),D.map(function(T){return b[T]}))}))return!1;var w=Bl(c[0],c[2],c[1],c[3],b[0],b[2],b[1],b[3]);if(!w.length)return!1;var S=Rt(o,w,4),x=np(r,S,!0),y=Rt(rr(s,4),x,4);r.prevMatrix=x;var E=Rt(u,x,4),_=So(r,"matrix3d(".concat(E.join(", "),")"),"matrix3d(".concat(x.join(", "),")"));return Gl(t,_),rt(e,"onWarp",pt(e,t,M({delta:y,matrix:E,dist:x,multiply:Rt,transform:_},we({transform:_},t)))),!0},dragControlEnd:function(e,t){var r=t.datas,n=t.isDrag;return r.isWarp?(r.isWarp=!1,rt(e,"onWarpEnd",Fe(e,t,{})),n):!1}},m1=st("area-pieces"),ka=st("area-piece"),Vp=st("avoid"),y1=st("view-dragging");function Zo(e){var t=e.areaElement;if(!!t){var r=e.state,n=r.width,i=r.height;Of(t,Vp),t.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(i,"px")}}function Tc(e){return e.createElement("div",{key:"area_pieces",className:m1},e.createElement("div",{className:ka}),e.createElement("div",{className:ka}),e.createElement("div",{className:ka}),e.createElement("div",{className:ka}))}var Hp={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(e,t){var r=e.props,n=r.target,i=r.dragArea,a=r.groupable,o=r.passDragArea,s=e.getState(),l=s.width,u=s.height,c=s.renderPoses,d=o?st("area","pass"):st("area");if(a)return[t.createElement("div",{key:"area",ref:ar(e,"areaElement"),className:d}),Tc(t)];if(!n||!i)return[];var f=Bl([0,0],[l,0],[0,u],[l,u],c[0],c[1],c[2],c[3]),p=f.length?Co(f,!0):"none";return[t.createElement("div",{key:"area",ref:ar(e,"areaElement"),className:d,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:p}}),Tc(t)]},dragStart:function(e,t){var r=t.datas,n=t.clientX,i=t.clientY,a=t.inputEvent;if(!a)return!1;r.isDragArea=!1;var o=e.areaElement,s=e.state,l=s.moveableClientRect,u=s.renderPoses,c=s.rootMatrix,d=s.is3d,f=l.left,p=l.top,h=Ue(u),v=h.left,g=h.top,m=h.width,b=h.height,w=d?4:3,S=un(c,[n-f,i-p],w),x=S[0],y=S[1];x-=v,y-=g;var E=[{left:v,top:g,width:m,height:y-10},{left:v,top:g,width:x-10,height:b},{left:v,top:g+y+10,width:m,height:b-y-10},{left:v+x+10,top:g,width:m-x-10,height:b}],_=[].slice.call(o.nextElementSibling.children);E.forEach(function(D,T){_[T].style.cssText="left: ".concat(D.left,"px;top: ").concat(D.top,"px; width: ").concat(D.width,"px; height: ").concat(D.height,"px;")}),Ol(o,Vp),s.disableNativeEvent=!0},drag:function(e,t){var r=t.datas,n=t.inputEvent;if(this.enableNativeEvent(e),!n)return!1;r.isDragArea||(r.isDragArea=!0,Zo(e))},dragEnd:function(e,t){this.enableNativeEvent(e);var r=t.inputEvent,n=t.datas;if(!r)return!1;n.isDragArea||Zo(e)},dragGroupStart:function(e,t){return this.dragStart(e,t)},dragGroup:function(e,t){return this.drag(e,t)},dragGroupEnd:function(e,t){return this.dragEnd(e,t)},unset:function(e){Zo(e),e.state.disableNativeEvent=!1},enableNativeEvent:function(e){var t=e.state;t.disableNativeEvent&&_f(function(){t.disableNativeEvent=!1})}},b1=sa("origin",{render:function(e,t){var r=e.props.zoom,n=e.getState(),i=n.beforeOrigin,a=n.rotation;return[t.createElement("div",{className:st("control","origin"),style:Hl(a,r,i),key:"beforeOrigin"})]}});function S1(e){var t=e.scrollContainer;return[t.scrollLeft,t.scrollTop]}var w1={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,scrollThrottleTime:Number,getScrollPosition:Function,scrollOptions:Object},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragRelation:"strong",dragStart:function(e,t){var r=e.props,n=r.scrollContainer,i=n===void 0?e.getContainer():n,a=r.scrollOptions,o=new Wf,s=fn(i,!0);t.datas.dragScroll=o,e.state.dragScroll=o;var l=t.isControl?"controlGesto":"targetGesto",u=t.targets;o.on("scroll",function(c){var d=c.container,f=c.direction,p=pt(e,t,{scrollContainer:d,direction:f}),h=u?"onScrollGroup":"onScroll";u&&(p.targets=u),rt(e,h,p)}).on("move",function(c){var d=c.offsetX,f=c.offsetY,p=c.inputEvent;e[l].scrollBy(d,f,p.inputEvent,!0)}).on("scrollDrag",function(c){var d=c.next;d(e[l].getCurrentEvent())}),o.dragStart(t,M({container:s},a))},checkScroll:function(e,t){var r=t.datas.dragScroll;if(!!r){var n=e.props,i=n.scrollContainer,a=i===void 0?e.getContainer():i,o=n.scrollThreshold,s=o===void 0?0:o,l=n.scrollThrottleTime,u=l===void 0?0:l,c=n.getScrollPosition,d=c===void 0?S1:c,f=n.scrollOptions;return r.drag(t,M({container:a,threshold:s,throttleTime:u,getScrollPosition:function(p){return d({scrollContainer:p.container,direction:p.direction})}},f)),!0}},drag:function(e,t){return this.checkScroll(e,t)},dragEnd:function(e,t){t.datas.dragScroll.dragEnd(),t.datas.dragScroll=null},dragControlStart:function(e,t){return this.dragStart(e,M(M({},t),{isControl:!0}))},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupStart:function(e,t){return this.dragStart(e,M(M({},t),{targets:e.props.targets}))},dragGroup:function(e,t){return this.drag(e,M(M({},t),{targets:e.props.targets}))},dragGroupEnd:function(e,t){return this.dragEnd(e,M(M({},t),{targets:e.props.targets}))},dragGroupControlStart:function(e,t){return this.dragStart(e,M(M({},t),{targets:e.props.targets,isControl:!0}))},dragGroupControl:function(e,t){return this.drag(e,M(M({},t),{targets:e.props.targets}))},dragGroupControEnd:function(e,t){return this.dragEnd(e,M(M({},t),{targets:e.props.targets}))},unset:function(e){var t,r=e.state;(t=r.dragScroll)===null||t===void 0||t.dragEnd(),r.dragScroll=null}},jp={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,useResizeObserver:Boolean,zoom:Number,transformOrigin:Array,edge:Object,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,hideDefaultLines:Boolean,props:Object,flushSync:Function,stopPropagation:Boolean,preventClickEventOnDrag:Boolean,preventClickDefault:Boolean,viewContainer:Object,persistData:Object,useAccuratePosition:Boolean,firstRenderState:Object,linePadding:Boolean},events:{onChangeTargets:"changeTargets"}},E1=sa("padding",{render:function(e,t){var r=e.props;if(r.dragArea)return[];var n=r.padding||{},i=n.left,a=i===void 0?0:i,o=n.top,s=o===void 0?0:o,l=n.right,u=l===void 0?0:l,c=n.bottom,d=c===void 0?0:c,f=e.getState(),p=f.renderPoses,h=f.pos1,v=f.pos2,g=f.pos3,m=f.pos4,b=[h,v,g,m],w=[];return a>0&&w.push([0,2]),s>0&&w.push([0,1]),u>0&&w.push([1,3]),d>0&&w.push([2,3]),w.map(function(S,x){var y=S[0],E=S[1],_=b[y],D=b[E],T=p[y],k=p[E],O=Bl([0,0],[100,0],[0,100],[100,100],_,D,T,k);if(!!O.length)return t.createElement("div",{key:"padding".concat(x),className:st("padding"),style:{transform:Co(O,!0)}})})}}),Oc=["nw","ne","se","sw"];function Ia(e,t){var r=e[0]+e[1],n=r>t?t/r:1;return e[0]*=n,e[1]=t-e[1]*n,e}var C1=[1,2,5,6],x1=[0,3,4,7],tn=[1,-1,-1,1],en=[1,1,-1,-1];function eu(e,t,r,n,i,a,o,s){i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=r),s===void 0&&(s=n);var l=[],u=!1,c=e.filter(function(f){return!f.virtual}),d=c.map(function(f){var p=f.horizontal,h=f.vertical,v=f.pos;if(h&&!u&&(u=!0,l.push("/")),u){var g=Math.max(0,h===1?v[1]-a:s-v[1]);return l.push(Ye(g,n,t)),g}else{var g=Math.max(0,p===1?v[0]-i:o-v[0]);return l.push(Ye(g,r,t)),g}});return{radiusPoses:c,styles:l,raws:d}}function Wp(e){for(var t=[0,0],r=[0,0],n=e.length,i=0;i<n;++i){var a=e[i];!a.sub||(a.horizontal&&(t[1]===0&&(t[0]=i),t[1]=i-t[0]+1,r[0]=i+1),a.vertical&&(r[1]===0&&(r[0]=i),r[1]=i-r[0]+1))}return{horizontalRange:t,verticalRange:r}}function qp(e,t,r,n,i,a,o){var s,l,u,c;a===void 0&&(a=[0,0]),o===void 0&&(o=!1);var d=e.indexOf("/"),f=(d>-1?e.slice(0,d):e).length,p=e.slice(0,f),h=e.slice(f+1),v=p.length,g=h.length,m=g>0,b=p[0],w=b===void 0?"0px":b,S=p[1],x=S===void 0?w:S,y=p[2],E=y===void 0?w:y,_=p[3],D=_===void 0?x:_,T=h[0],k=T===void 0?w:T,O=h[1],I=O===void 0?m?k:x:O,R=h[2],F=R===void 0?m?k:E:R,L=h[3],N=L===void 0?m?I:D:L,$=[w,x,E,D].map(function(K){return Nt(K,t)}),U=[k,I,F,N].map(function(K){return Nt(K,r)}),z=$.slice(),H=U.slice();s=Ia([z[0],z[1]],t),z[0]=s[0],z[1]=s[1],l=Ia([z[3],z[2]],t),z[3]=l[0],z[2]=l[1],u=Ia([H[0],H[3]],r),H[0]=u[0],H[3]=u[1],c=Ia([H[1],H[2]],r),H[1]=c[0],H[2]=c[1];var X=o?z:z.slice(0,Math.max(a[0],v)),j=o?H:H.slice(0,Math.max(a[1],g));return lt(lt([],X.map(function(K,q){var Z=Oc[q];return{virtual:q>=v,horizontal:tn[q],vertical:0,pos:[n+K,i+(en[q]===-1?r:0)],sub:!0,raw:$[q],direction:Z}}),!0),j.map(function(K,q){var Z=Oc[q];return{virtual:q>=g,horizontal:0,vertical:en[q],pos:[n+(tn[q]===-1?t:0),i+K],sub:!0,raw:U[q],direction:Z}}),!0)}function D1(e,t,r,n,i){i===void 0&&(i=t.length);var a=Wp(e.slice(n)),o=a.horizontalRange,s=a.verticalRange,l=r-n,u=0;if(l===0)u=i;else if(l>0&&l<o[1])u=o[1]-l;else if(l>=s[0])u=s[0]+s[1]-l;else return;e.splice(r,u),t.splice(r,u)}function _1(e,t,r,n,i,a,o,s,l,u,c){u===void 0&&(u=0),c===void 0&&(c=0);var d=Wp(e.slice(r)),f=d.horizontalRange,p=d.verticalRange;if(n>-1)for(var h=tn[n]===1?a-u:s-a,v=f[1];v<=n;++v){var g=en[v]===1?c:l,m=0;if(n===v?m=a:v===0?m=u+h:tn[v]===-1&&(m=s-(t[r][0]-u)),e.splice(r+v,0,{horizontal:tn[v],vertical:0,pos:[m,g]}),t.splice(r+v,0,[m,g]),v===0)break}else if(i>-1){var b=en[i]===1?o-c:l-o;if(f[1]===0&&p[1]===0){var w=[u+b,c];e.push({horizontal:tn[0],vertical:0,pos:w}),t.push(w)}for(var S=p[0],v=p[1];v<=i;++v){var m=tn[v]===1?u:s,g=0;if(i===v?g=o:v===0?g=c+b:en[v]===1?g=t[r+S][1]:en[v]===-1&&(g=l-(t[r+S][1]-c)),e.push({horizontal:0,vertical:en[v],pos:[m,g]}),t.push([m,g]),v===0)break}}}function T1(e,t){t===void 0&&(t=e.map(function(i){return i.raw}));var r=e.map(function(i,a){return i.horizontal?t[a]:null}).filter(function(i){return i!=null}),n=e.map(function(i,a){return i.vertical?t[a]:null}).filter(function(i){return i!=null});return{horizontals:r,verticals:n}}var O1=[[0,-1,"n"],[1,0,"e"]],M1=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function ru(e,t,r){var n=e.props.clipRelative,i=e.state,a=i.width,o=i.height,s=t,l=s.type,u=s.poses,c=l==="rect",d=l==="circle";if(l==="polygon")return r.map(function(y){return"".concat(Ye(y[0],a,n)," ").concat(Ye(y[1],o,n))});if(c||l==="inset"){var f=r[1][1],p=r[3][0],h=r[7][0],v=r[5][1];if(c)return[f,p,v,h].map(function(y){return"".concat(y,"px")});var g=[f,a-p,o-v,h].map(function(y,E){return Ye(y,E%2?a:o,n)});if(r.length>8){var m=ot(r[4],r[0]),b=m[0],w=m[1];g.push.apply(g,lt(["round"],eu(u.slice(8).map(function(y,E){return M(M({},y),{pos:r[E]})}),n,b,w,h,f,p,v).styles,!1))}return g}else if(d||l==="ellipse"){var S=r[0],x=Ye(Math.abs(r[1][1]-S[1]),d?Math.sqrt((a*a+o*o)/2):o,n),g=d?[x]:[Ye(Math.abs(r[2][0]-S[0]),a,n),x];return g.push("at",Ye(S[0],a,n),Ye(S[1],o,n)),g}}function ao(e,t,r,n){var i=[n,(n+t)/2,t],a=[e,(e+r)/2,r];return M1.map(function(o){var s=o[0],l=o[1],u=o[2],c=i[s+1],d=a[l+1];return{vertical:Math.abs(l),horizontal:Math.abs(s),direction:u,pos:[c,d]}})}function Yp(e){var t=[1/0,-1/0],r=[1/0,-1/0];return e.forEach(function(n){var i=n.pos;t[0]=Math.min(t[0],i[0]),t[1]=Math.max(t[1],i[0]),r[0]=Math.min(r[0],i[1]),r[1]=Math.max(r[1],i[1])}),[Math.abs(t[1]-t[0]),Math.abs(r[1]-r[0])]}function Mc(e,t,r,n,i){var a,o,s,l,u,c,d;if(!!e){var f=i;if(!f){var p=getComputedStyle(e),h=p.clipPath;f=h!=="none"?h:p.clip}if(!((!f||f==="none"||f==="auto")&&(f=n,!f))){var v=Df(f),g=v.prefix,m=g===void 0?f:g,b=v.value,w=b===void 0?"":b,S=m==="circle",x=" ";if(m==="polygon"){var y=on(w||"0% 0%, 100% 0%, 100% 100%, 0% 100%");x=",";var E=y.map(function(vt){var mt=vt.split(" "),bt=mt[0],le=mt[1];return{vertical:1,horizontal:1,pos:[Nt(bt,t),Nt(le,r)]}}),_=$r(E.map(function(vt){return vt.pos}));return{type:m,clipText:f,poses:E,splitter:x,left:_.minX,right:_.maxX,top:_.minY,bottom:_.maxY}}else if(S||m==="ellipse"){var D="",T="",k=0,O=0,y=Lr(w);if(S){var I="";a=y[0],I=a===void 0?"50%":a,o=y[2],D=o===void 0?"50%":o,s=y[3],T=s===void 0?"50%":s,k=Nt(I,Math.sqrt((t*t+r*r)/2)),O=k}else{var R="",F="";l=y[0],R=l===void 0?"50%":l,u=y[1],F=u===void 0?"50%":u,c=y[3],D=c===void 0?"50%":c,d=y[4],T=d===void 0?"50%":d,k=Nt(R,t),O=Nt(F,r)}var L=[Nt(D,t),Nt(T,r)],E=lt([{vertical:1,horizontal:1,pos:L,direction:"nesw"}],O1.slice(0,S?1:2).map(function(bt){return{vertical:Math.abs(bt[1]),horizontal:bt[0],direction:bt[2],sub:!0,pos:[L[0]+bt[0]*k,L[1]+bt[1]*O]}}),!0);return{type:m,clipText:f,radiusX:k,radiusY:O,left:L[0]-k,top:L[1]-O,right:L[0]+k,bottom:L[1]+O,poses:E,splitter:x}}else if(m==="inset"){var y=Lr(w||"0 0 0 0"),N=y.indexOf("round"),$=(N>-1?y.slice(0,N):y).length,U=y.slice($+1),z=y.slice(0,$),H=z[0],X=z[1],j=X===void 0?H:X,K=z[2],q=K===void 0?H:K,Z=z[3],tt=Z===void 0?j:Z,ut=[H,q].map(function(bt){return Nt(bt,r)}),ht=ut[0],Q=ut[1],at=[tt,j].map(function(bt){return Nt(bt,t)}),yt=at[0],gt=at[1],Ht=t-gt,Ct=r-Q,St=qp(U,Ht-yt,Ct-ht,yt,ht),E=lt(lt([],ao(ht,Ht,Ct,yt),!0),St,!0);return{type:"inset",clipText:f,poses:E,top:ht,left:yt,right:Ht,bottom:Ct,radius:U,splitter:x}}else if(m==="rect"){var y=on(w||"0px, ".concat(t,"px, ").concat(r,"px, 0px"));x=",";var Pt=y.map(function($t){var Pe=Kn($t).value;return Pe}),ht=Pt[0],gt=Pt[1],Q=Pt[2],yt=Pt[3],E=ao(ht,gt,Q,yt);return{type:"rect",clipText:f,poses:E,top:ht,right:gt,bottom:Q,left:yt,values:y,splitter:x}}}}}function P1(e,t,r,n,i){var a=e[t],o=a.direction,s=a.sub,l=e.map(function(){return[0,0]}),u=o?o.split(""):[];if(n&&t<8){var c=u.filter(function(I){return I==="w"||I==="e"}),d=u.filter(function(I){return I==="n"||I==="s"}),f=c[0],p=d[0];l[t]=r;var h=Yp(e),v=h[0],g=h[1],m=v&&g?v/g:0;if(m&&i){var b=(t+4)%8,w=e[b].pos,S=[0,0];o.indexOf("w")>-1?S[0]=-1:o.indexOf("e")>-1&&(S[0]=1),o.indexOf("n")>-1?S[1]=-1:o.indexOf("s")>-1&&(S[1]=1);var x=Dp([v,g],r,m,S,!0),y=v+x[0],E=g+x[1],_=w[1],D=w[1],T=w[0],k=w[0];S[0]===-1?T=k-y:S[0]===1?k=T+y:(T=T-y/2,k=k+y/2),S[1]===-1?_=D-E:(S[1]===1||(_=D-E/2),D=_+E);var O=ao(_,k,D,T);e.forEach(function(I,R){l[R][0]=O[R].pos[0]-I.pos[0],l[R][1]=O[R].pos[1]-I.pos[1]})}else e.forEach(function(I,R){var F=I.direction;!F||(F.indexOf(f)>-1&&(l[R][0]=r[0]),F.indexOf(p)>-1&&(l[R][1]=r[1]))}),f&&(l[1][0]=r[0]/2,l[5][0]=r[0]/2),p&&(l[3][1]=r[1]/2,l[7][1]=r[1]/2)}else o&&!s?u.forEach(function(I){var R=I==="n"||I==="s";e.forEach(function(F,L){var N=F.direction,$=F.horizontal,U=F.vertical;!N||N.indexOf(I)===-1||(l[L]=[R||!$?0:r[0],!R||!U?0:r[1]])})}):l[t]=r;return l}function k1(e,t){var r=rp(e,t),n=r[0],i=r[1],a=t.datas,o=a.clipPath,s=a.clipIndex,l=o,u=l.type,c=l.poses,d=l.splitter,f=c.map(function(b){return b.pos});if(u==="polygon")f.splice(s,0,[n,i]);else if(u==="inset"){var p=C1.indexOf(s),h=x1.indexOf(s),v=c.length;if(_1(c,f,8,p,h,n,i,f[4][0],f[4][1],f[0][0],f[0][1]),v===c.length)return}else return;var g=ru(e,o,f),m="".concat(u,"(").concat(g.join(d),")");rt(e,"onClip",pt(e,t,M({clipEventType:"added",clipType:u,poses:f,clipStyles:g,clipStyle:m,distX:0,distY:0},we({clipPath:m},t))))}function I1(e,t){var r=t.datas,n=r.clipPath,i=r.clipIndex,a=n,o=a.type,s=a.poses,l=a.splitter,u=s.map(function(p){return p.pos}),c=u.length;if(o==="polygon")s.splice(i,1),u.splice(i,1);else if(o==="inset"){if(i<8||(D1(s,u,i,8,c),c===s.length))return}else return;var d=ru(e,n,u),f="".concat(o,"(").concat(d.join(l),")");rt(e,"onClip",pt(e,t,M({clipEventType:"removed",clipType:o,poses:u,clipStyles:d,clipStyle:f,distX:0,distY:0},we({clipPath:f},t))))}var R1={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,keepRatio:Boolean,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[`.control.clip-control {
    background: #6d6;
    cursor: pointer;
}
.control.clip-control.clip-radius {
    background: #d66;
}
.line.clip-line {
    background: #6e6;
    cursor: move;
    z-index: 1;
}
.clip-area {
    position: absolute;
    top: 0;
    left: 0;
}
.clip-ellipse {
    position: absolute;
    cursor: move;
    border: 1px solid #6d6;
    border: var(--zoompx) solid #6d6;
    border-radius: 50%;
    transform-origin: 0px 0px;
}`,`:host {
    --bounds-color: #d66;
}`,`.guideline {
    pointer-events: none;
    z-index: 2;
}`,`.line.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}`],render:function(e,t){var r=e.props,n=r.customClipPath,i=r.defaultClipPath,a=r.clipArea,o=r.zoom,s=r.groupable,l=e.getState(),u=l.target,c=l.width,d=l.height,f=l.allMatrix,p=l.is3d,h=l.left,v=l.top,g=l.pos1,m=l.pos2,b=l.pos3,w=l.pos4,S=l.clipPathState,x=l.snapBoundInfos,y=l.rotation;if(!u||s)return[];var E=Mc(u,c,d,i||"inset",S||n);if(!E)return[];var _=p?4:3,D=E.type,T=E.poses,k=T.map(function(Ct){var St=oe(f,Ct.pos,_);return[St[0]-h,St[1]-v]}),O=[],I=[],R=D==="rect",F=D==="inset",L=D==="polygon";if(R||F||L){var N=F?k.slice(0,8):k;I=N.map(function(Ct,St){var Pt=St===0?N[N.length-1]:N[St-1],vt=Zt(Pt,Ct),mt=vp(Pt,Ct);return t.createElement("div",{key:"clipLine".concat(St),className:st("line","clip-line","snap-control"),"data-clip-index":St,style:{width:"".concat(mt,"px"),transform:"translate(".concat(Pt[0],"px, ").concat(Pt[1],"px) rotate(").concat(vt,"rad) scaleY(").concat(o,")")}})})}if(O=k.map(function(Ct,St){return t.createElement("div",{key:"clipControl".concat(St),className:st("control","clip-control","snap-control"),"data-clip-index":St,style:{transform:"translate(".concat(Ct[0],"px, ").concat(Ct[1],"px) rotate(").concat(y,"rad) scale(").concat(o,")")}})}),F&&O.push.apply(O,k.slice(8).map(function(Ct,St){return t.createElement("div",{key:"clipRadiusControl".concat(St),className:st("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+St,style:{transform:"translate(".concat(Ct[0],"px, ").concat(Ct[1],"px) rotate(").concat(y,"rad) scale(").concat(o,")")}})})),D==="circle"||D==="ellipse"){var $=E.left,U=E.top,z=E.radiusX,H=E.radiusY,X=ot(oe(f,[$,U],_),oe(f,[0,0],_)),j=X[0],K=X[1],q="none";if(!a){for(var Z=Math.max(10,z/5,H/5),tt=[],ut=0;ut<=Z;++ut){var ht=Math.PI*2/Z*ut;tt.push([z+(z-o)*Math.cos(ht),H+(H-o)*Math.sin(ht)])}tt.push([z,-2]),tt.push([-2,-2]),tt.push([-2,H*2+2]),tt.push([z*2+2,H*2+2]),tt.push([z*2+2,-2]),tt.push([z,-2]),q="polygon(".concat(tt.map(function(Ct){return"".concat(Ct[0],"px ").concat(Ct[1],"px")}).join(", "),")")}O.push(t.createElement("div",{key:"clipEllipse",className:st("clip-ellipse","snap-control"),style:{width:"".concat(z*2,"px"),height:"".concat(H*2,"px"),clipPath:q,transform:"translate(".concat(-h+j,"px, ").concat(-v+K,"px) ").concat(Co(f))}}))}if(a){var Q=Ue(lt([g,m,b,w],k,!0)),at=Q.width,yt=Q.height,gt=Q.left,Ht=Q.top;if(L||R||F){var tt=F?k.slice(0,8):k;O.push(t.createElement("div",{key:"clipArea",className:st("clip-area","snap-control"),style:{width:"".concat(at,"px"),height:"".concat(yt,"px"),transform:"translate(".concat(gt,"px, ").concat(Ht,"px)"),clipPath:"polygon(".concat(tt.map(function(St){return"".concat(St[0]-gt,"px ").concat(St[1]-Ht,"px")}).join(", "),")")}}))}}return x&&["vertical","horizontal"].forEach(function(Ct){var St=x[Ct],Pt=Ct==="horizontal";St.isSnap&&I.push.apply(I,St.snap.posInfos.map(function(vt,mt){var bt=vt.pos,le=ot(oe(f,Pt?[0,bt]:[bt,0],_),[h,v]),Ce=ot(oe(f,Pt?[c,bt]:[bt,d],_),[h,v]);return ji(t,"",le,Ce,o,"clip".concat(Ct,"snap").concat(mt),"guideline")})),St.isBound&&I.push.apply(I,St.bounds.map(function(vt,mt){var bt=vt.pos,le=ot(oe(f,Pt?[0,bt]:[bt,0],_),[h,v]),Ce=ot(oe(f,Pt?[c,bt]:[bt,d],_),[h,v]);return ji(t,"",le,Ce,o,"clip".concat(Ct,"bounds").concat(mt),"guideline","bounds","bold")}))}),lt(lt([],O,!0),I,!0)},dragControlCondition:function(e,t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(e,t){var r=e.props,n=r.dragWithClip,i=n===void 0?!0:n;return i?!1:this.dragControlStart(e,t)},drag:function(e,t){return this.dragControl(e,M(M({},t),{isDragTarget:!0}))},dragEnd:function(e,t){return this.dragControlEnd(e,t)},dragControlStart:function(e,t){var r=e.state,n=e.props,i=n.defaultClipPath,a=n.customClipPath,o=r.target,s=r.width,l=r.height,u=t.inputEvent?t.inputEvent.target:null,c=u&&u.getAttribute("class")||"",d=t.datas,f=Mc(o,s,l,i||"inset",a);if(!f)return!1;var p=f.clipText,h=f.type,v=f.poses,g=rt(e,"onClipStart",pt(e,t,{clipType:h,clipStyle:p,poses:v.map(function(m){return m.pos})}));return g===!1?(d.isClipStart=!1,!1):(d.isControl=c&&c.indexOf("clip-control")>-1,d.isLine=c.indexOf("clip-line")>-1,d.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,d.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,d.clipPath=f,d.isClipStart=!0,r.clipPathState=p,gn(e,t),!0)},dragControl:function(e,t){var r,n,i=t.datas,a=t.originalDatas,o=t.isDragTarget;if(!i.isClipStart)return!1;var s=i,l=s.isControl,u=s.isLine,c=s.isArea,d=s.clipIndex,f=s.clipPath;if(!f)return!1;var p=dn(e.props,"clippable"),h=p.keepRatio,v=0,g=0,m=a.draggable,b=ur(t);o&&m?(r=m.prevBeforeDist,v=r[0],g=r[1]):(v=b[0],g=b[1]);var w=[v,g],S=e.state,x=S.width,y=S.height,E=!c&&!l&&!u,_=f.type,D=f.poses,T=f.splitter,k=D.map(function(_t){return _t.pos});E&&(v=-v,g=-g);var O=!l||D[d].direction==="nesw",I=_==="inset"||_==="rect",R=D.map(function(){return[0,0]});if(l&&!O){var F=D[d],L=F.horizontal,N=F.vertical,$=[v*Math.abs(L),g*Math.abs(N)];R=P1(D,d,$,I,h)}else O&&(R=k.map(function(){return[v,g]}));var U=k.map(function(_t,Yt){return Et(_t,R[Yt])}),z=lt([],U,!0);S.snapBoundInfos=null;var H=f.type==="circle",X=f.type==="ellipse";if(H||X){var j=Ue(U),K=Math.abs(j.bottom-j.top),q=Math.abs(X?j.right-j.left:K),Z=U[0][1]+K,tt=U[0][0]-q,ut=U[0][0]+q;H&&(z.push([ut,j.bottom]),R.push([1,0])),z.push([j.left,Z]),R.push([0,1]),z.push([tt,j.bottom]),R.push([1,0])}var ht=Fp((p.clipHorizontalGuidelines||[]).map(function(_t){return Nt("".concat(_t),y)}),(p.clipVerticalGuidelines||[]).map(function(_t){return Nt("".concat(_t),x)}),x,y),Q=[],at=[];if(H||X)Q=[z[4][0],z[2][0]],at=[z[1][1],z[3][1]];else if(I){var yt=[z[0],z[2],z[4],z[6]],gt=[R[0],R[2],R[4],R[6]];Q=yt.filter(function(_t,Yt){return gt[Yt][0]}).map(function(_t){return _t[0]}),at=yt.filter(function(_t,Yt){return gt[Yt][1]}).map(function(_t){return _t[1]})}else Q=z.filter(function(_t,Yt){return R[Yt][0]}).map(function(_t){return _t[0]}),at=z.filter(function(_t,Yt){return R[Yt][1]}).map(function(_t){return _t[1]});var Ht=[0,0],Ct=Sc(ht,p.clipTargetBounds&&{left:0,top:0,right:x,bottom:y},Q,at,5),St=Ct.horizontal,Pt=Ct.vertical,vt=St.offset,mt=Pt.offset;if(St.isBound&&(Ht[1]+=vt),Pt.isBound&&(Ht[0]+=mt),(X||H)&&R[0][0]===0&&R[0][1]===0){var j=Ue(U),bt=j.bottom-j.top,le=X?j.right-j.left:bt,Ce=Pt.isBound?Math.abs(mt):Pt.snapIndex===0?-mt:mt,Lt=St.isBound?Math.abs(vt):St.snapIndex===0?-vt:vt;le-=Ce,bt-=Lt,H&&(bt=Mp(Pt,St)>0?bt:le,le=bt);var $t=z[0];z[1][1]=$t[1]-bt,z[2][0]=$t[0]+le,z[3][1]=$t[1]+bt,z[4][0]=$t[0]-le}else if(I&&h&&l){var Pe=Yp(D),je=Pe[0],Hr=Pe[1],Dr=je&&Hr?je/Hr:0,yn=D[d],We=yn.direction||"",_r=z[1][1],Z=z[5][1],tt=z[7][0],ut=z[3][0];vt<=mt?vt=mt/Dr:mt=vt*Dr,We.indexOf("w")>-1?tt-=mt:We.indexOf("e")>-1?ut-=mt:(tt+=mt/2,ut-=mt/2),We.indexOf("n")>-1?_r-=vt:We.indexOf("s")>-1?Z-=vt:(_r+=vt/2,Z-=vt/2);var bn=ao(_r,ut,Z,tt);z.forEach(function(ri,Ao){var ni;ni=bn[Ao].pos,ri[0]=ni[0],ri[1]=ni[1]})}else z.forEach(function(_t,Yt){var Sn=R[Yt];Sn[0]&&(_t[0]-=mt),Sn[1]&&(_t[1]-=vt)});var P=ru(e,f,U),V="".concat(_,"(").concat(P.join(T),")");if(S.clipPathState=V,H||X)Q=[z[4][0],z[2][0]],at=[z[1][1],z[3][1]];else if(I){var yt=[z[0],z[2],z[4],z[6]];Q=yt.map(function(Yt){return Yt[0]}),at=yt.map(function(Yt){return Yt[1]})}else Q=z.map(function(_t){return _t[0]}),at=z.map(function(_t){return _t[1]});if(S.snapBoundInfos=Sc(ht,p.clipTargetBounds&&{left:0,top:0,right:x,bottom:y},Q,at,1),m){var nt=S.is3d,dt=S.allMatrix,kt=nt?4:3,xe=Ht;o&&(xe=[w[0]+Ht[0]-b[0],w[1]+Ht[1]-b[1]]),m.deltaOffset=Rt(dt,[xe[0],xe[1],0,0],kt)}return rt(e,"onClip",pt(e,t,M({clipEventType:"changed",clipType:_,poses:U,clipStyle:V,clipStyles:P,distX:v,distY:g},we((n={},n[_==="rect"?"clip":"clipPath"]=V,n),t)))),!0},dragControlEnd:function(e,t){this.unset(e);var r=t.isDrag,n=t.datas,i=t.isDouble,a=n.isLine,o=n.isClipStart,s=n.isControl;return o?(rt(e,"onClipEnd",Fe(e,t,{})),i&&(s?I1(e,t):a&&k1(e,t)),i||r):!1},unset:function(e){e.state.clipPathState="",e.state.snapBoundInfos=null}},F1={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[`:host[data-able-origindraggable] .control.origin {
    pointer-events: auto;
}`],dragControlCondition:function(e,t){return t.isRequest?t.requestAble==="originDraggable":ie(t.inputEvent.target,st("origin"))},dragControlStart:function(e,t){var r=t.datas;gn(e,t);var n=pt(e,t,{dragStart:Se.dragStart(e,new jn().dragStart([0,0],t))}),i=rt(e,"onDragOriginStart",n);return r.startOrigin=e.state.transformOrigin,r.startTargetOrigin=e.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,i===!1?(r.isDragOrigin=!1,!1):n},dragControl:function(e,t){var r=t.datas,n=t.isPinch,i=t.isRequest;if(!r.isDragOrigin)return!1;var a=ur(t),o=a[0],s=a[1],l=e.state,u=l.width,c=l.height,d=l.offsetMatrix,f=l.targetMatrix,p=l.is3d,h=e.props.originRelative,v=h===void 0?!0:h,g=p?4:3,m=[o,s];if(i){var b=t.distOrigin;(b[0]||b[1])&&(m=b)}var w=Et(r.startOrigin,m),S=Et(r.startTargetOrigin,m),x=ot(m,r.prevOrigin),y=ua(d,f,w,g),E=e.getRect(),_=Ue(Ur(y,u,c,g)),D=[E.left-_.left,E.top-_.top];r.prevOrigin=m;var T=[Ye(S[0],u,v),Ye(S[1],c,v)].join(" "),k=Se.drag(e,la(t,e.state,D,!!n,!1)),O=pt(e,t,M(M({width:u,height:c,origin:w,dist:m,delta:x,transformOrigin:T,drag:k},we({transformOrigin:T,transform:k.transform},t)),{afterTransform:k.transform}));return rt(e,"onDragOrigin",O),O},dragControlEnd:function(e,t){var r=t.datas;return r.isDragOrigin?(rt(e,"onDragOriginEnd",Fe(e,t,{})),!0):!1},dragGroupControlCondition:function(e,t){return this.dragControlCondition(e,t)},dragGroupControlStart:function(e,t){var r=this.dragControlStart(e,t);return!!r},dragGroupControl:function(e,t){var r=this.dragControl(e,t);return r?(e.transformOrigin=r.transformOrigin,!0):!1},request:function(e){var t={},r=e.getRect(),n=0,i=0,a=r.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:t}},request:function(s){return"deltaOrigin"in s?(o[0]+=s.deltaOrigin[0],o[1]+=s.deltaOrigin[1]):"origin"in s?(o[0]=s.origin[0]-a[0],o[1]=s.origin[1]-a[1]):("x"in s?n=s.x-r.left:"deltaX"in s&&(n+=s.deltaX),"y"in s?i=s.y-r.top:"deltaY"in s&&(i+=s.deltaY)),{datas:t,distX:n,distY:i,distOrigin:o}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function A1(e,t,r,n){var i=e.filter(function(l){var u=l.virtual,c=l.horizontal;return c&&!u}).length,a=e.filter(function(l){var u=l.virtual,c=l.vertical;return c&&!u}).length,o=-1;if(t===0&&(i===0?o=0:i===1&&(o=1)),t===2&&(i<=2?o=2:i<=3&&(o=3)),t===3&&(a===0?o=4:a<4&&(o=7)),t===1&&(a<=1?o=5:a<=2&&(o=6)),!(o===-1||!e[o].virtual)){var s=e[o];B1(e,o),o<4?s.pos[0]=r:s.pos[1]=n}}function B1(e,t){t<4?e.slice(0,t+1).forEach(function(r){r.virtual=!1}):(e[0].virtual&&(e[0].virtual=!1),e.slice(4,t+1).forEach(function(r){r.virtual=!1}))}function z1(e,t){t<4?e.slice(t,4).forEach(function(r){r.virtual=!0}):e.slice(t).forEach(function(r){r.virtual=!0})}function Pc(e,t,r,n,i){n===void 0&&(n=[0,0]);var a=[];return!e||e==="0px"?a=[]:a=Lr(e),qp(a,t,r,0,0,n,i)}function kc(e,t,r,n,i){var a=e.state,o=a.width,s=a.height,l=eu(i,e.props.roundRelative,o,s),u=l.raws,c=l.styles,d=l.radiusPoses,f=T1(d,u),p=f.horizontals,h=f.verticals,v=c.join(" ");a.borderRadiusState=v;var g=pt(e,t,M({horizontals:p,verticals:h,borderRadius:v,width:o,height:s,delta:n,dist:r},we({borderRadius:v},t)));return rt(e,"onRound",g),g}function Ic(e){var t=e.getState().style,r=t.borderRadius||"";if(!r&&e.props.groupable){var n=e.getTargets()[0];n&&(r=getComputedStyle(n).borderRadius,t.borderRadius=r)}return r}var N1={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean,roundPadding:Number,isDisplayShadowRoundControls:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd",onRoundGroupStart:"roundGroupStart",onRoundGroup:"roundGroup",onRoundGroupEnd:"roundGroupEnd"},css:[`.control.border-radius {
    background: #d66;
    cursor: pointer;
    z-index: 3;
}`,`.control.border-radius.vertical {
    background: #d6d;
    z-index: 2;
}`,`.control.border-radius.virtual {
    opacity: 0.5;
    z-index: 1;
}`,`:host.round-line-clickable .line.direction {
    cursor: pointer;
}`],className:function(e){var t=e.props.roundClickable;return t===!0||t==="line"?st("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},render:function(e,t){var r=e.getState(),n=r.target,i=r.width,a=r.height,o=r.allMatrix,s=r.is3d,l=r.left,u=r.top,c=r.borderRadiusState,d=e.props,f=d.minRoundControls,p=f===void 0?[0,0]:f,h=d.maxRoundControls,v=h===void 0?[4,4]:h,g=d.zoom,m=d.roundPadding,b=m===void 0?0:m,w=d.isDisplayShadowRoundControls,S=d.groupable;if(!n)return null;var x=c||Ic(e),y=s?4:3,E=Pc(x,i,a,p,!0);if(!E)return null;var _=0,D=0,T=S?[0,0]:[l,u];return E.map(function(k,O){var I=k.horizontal,R=k.vertical,F=k.direction||"",L=lt([],k.pos,!0);D+=Math.abs(I),_+=Math.abs(R),I&&F.indexOf("n")>-1&&(L[1]-=b),R&&F.indexOf("w")>-1&&(L[0]-=b),I&&F.indexOf("s")>-1&&(L[1]+=b),R&&F.indexOf("e")>-1&&(L[0]+=b);var N=ot(oe(o,L,y),T),$=k.vertical?_<=v[1]&&(w||!k.virtual):D<=v[0]&&(w||!k.virtual);return t.createElement("div",{key:"borderRadiusControl".concat(O),className:st("control","border-radius",k.vertical?"vertical":"",k.virtual?"virtual":""),"data-radius-index":O,style:{display:$?"block":"none",transform:"translate(".concat(N[0],"px, ").concat(N[1],"px) scale(").concat(g,")")}})})},dragControlCondition:function(e,t){if(!t.inputEvent||t.isRequest)return!1;var r=t.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(e,t){return this.dragControlCondition(e,t)},dragControlStart:function(e,t){var r=t.inputEvent,n=t.datas,i=r.target,a=i.getAttribute("class")||"",o=a.indexOf("border-radius")>-1,s=a.indexOf("moveable-line")>-1&&a.indexOf("moveable-direction")>-1,l=o?parseInt(i.getAttribute("data-radius-index"),10):-1,u=-1;if(s){var c=i.getAttribute("data-line-key")||"";c&&(u=parseInt(c.replace(/render-line-/g,""),10),isNaN(u)&&(u=-1))}if(!o&&!s)return!1;var d=pt(e,t,{}),f=rt(e,"onRoundStart",d);if(f===!1)return!1;n.lineIndex=u,n.controlIndex=l,n.isControl=o,n.isLine=s,gn(e,t);var p=e.props,h=p.roundRelative,v=p.minRoundControls,g=v===void 0?[0,0]:v,m=e.state,b=m.width,w=m.height;n.isRound=!0,n.prevDist=[0,0];var S=Ic(e),x=Pc(S||"",b,w,g,!0)||[];return n.controlPoses=x,m.borderRadiusState=eu(x,h,b,w).styles.join(" "),d},dragControl:function(e,t){var r=t.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var i=r.controlIndex,a=ur(t),o=a[0],s=a[1],l=[o,s],u=ot(l,r.prevDist),c=e.props.maxRoundControls,d=c===void 0?[4,4]:c,f=e.state,p=f.width,h=f.height,v=n[i],g=v.vertical,m=v.horizontal,b=n.map(function(S){var x=S.horizontal,y=S.vertical,E=[x*m*l[0],y*g*l[1]];if(x){if(d[0]===1)return E;if(d[0]<4&&x!==m)return E}else{if(d[1]===0)return E[1]=y*m*l[0]/p*h,E;if(g){if(d[1]===1)return E;if(d[1]<4&&y!==g)return E}}return[0,0]});b[i]=l;var w=n.map(function(S,x){return M(M({},S),{pos:Et(S.pos,b[x])})});return i<4?w.slice(0,i+1).forEach(function(S){S.virtual=!1}):w.slice(4,i+1).forEach(function(S){S.virtual=!1}),r.prevDist=[o,s],kc(e,t,l,u,w)},dragControlEnd:function(e,t){var r=e.state;r.borderRadiusState="";var n=t.datas,i=t.isDouble;if(!n.isRound)return!1;var a=n.isControl,o=n.controlIndex,s=n.isLine,l=n.lineIndex,u=n.controlPoses,c=u.filter(function(m){var b=m.virtual;return b}).length,d=e.props.roundClickable,f=d===void 0?!0:d;if(i&&f){if(a&&(f===!0||f==="control"))z1(u,o);else if(s&&(f===!0||f==="line")){var p=rp(e,t),h=p[0],v=p[1];A1(u,l,h,v)}c!==u.filter(function(m){var b=m.virtual;return b}).length&&kc(e,t,[0,0],[0,0],u)}var g=Fe(e,t,{});return rt(e,"onRoundEnd",g),r.borderRadiusState="",g},dragGroupControlStart:function(e,t){var r=this.dragControlStart(e,t);if(!r)return!1;var n=e.moveables,i=e.props.targets,a=tr(e,"roundable",t),o=M({targets:e.props.targets,events:a.map(function(s,l){return M(M({},s),{target:i[l],moveable:n[l],currentTarget:n[l]})})},r);return rt(e,"onRoundGroupStart",o),r},dragGroupControl:function(e,t){var r=this.dragControl(e,t);if(!r)return!1;var n=e.moveables,i=e.props.targets,a=tr(e,"roundable",t),o=M({targets:e.props.targets,events:a.map(function(s,l){return M(M(M({},s),{target:i[l],moveable:n[l],currentTarget:n[l]}),we({borderRadius:r.borderRadius},s))})},r);return rt(e,"onRoundGroup",o),o},dragGroupControlEnd:function(e,t){var r=e.moveables,n=e.props.targets,i=tr(e,"roundable",t);xo(e,"onRound",function(s){var l=M({targets:e.props.targets,events:i.map(function(u,c){return M(M(M({},u),{target:n[c],moveable:r[c],currentTarget:r[c]}),we({borderRadius:s.borderRadius},u))})},s);rt(e,"onRoundGroup",l)});var a=this.dragControlEnd(e,t);if(!a)return!1;var o=M({targets:e.props.targets,events:i.map(function(s,l){var u;return M(M({},s),{target:n[l],moveable:r[l],currentTarget:r[l],lastEvent:(u=s.datas)===null||u===void 0?void 0:u.lastEvent})})},a);return rt(e,"onRoundGroupEnd",o),o},unset:function(e){e.state.borderRadiusState=""}};function L1(e,t){var r=t?4:3,n=Vt(r),i="matrix".concat(t?"3d":"","(").concat(n.join(","),")");return e===i||e==="matrix(1,0,0,1,0,0)"}var Xp={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},dragRelation:"weak",setTransform:function(e,t){var r=e.state,n=r.is3d,i=r.target,a=r.targetMatrix,o=i==null?void 0:i.style.transform,s=n?"matrix3d(".concat(a.join(","),")"):"matrix(".concat(Gf(a,!0),")"),l=!o||o==="none"?s:o;t.datas.startTransforms=L1(l,n)?[]:Lr(l)},resetStyle:function(e){var t=e.datas;t.nextStyle={},t.nextTransforms=e.datas.startTransforms,t.nextTransformAppendedIndexes=[]},fillDragStartParams:function(e,t){return pt(e,t,{setTransform:function(r){t.datas.startTransforms=qt(r)?r:Lr(r)},isPinch:!!t.isPinch})},fillDragParams:function(e,t){return pt(e,t,{isPinch:!!t.isPinch})},dragStart:function(e,t){this.setTransform(e,t),this.resetStyle(t),rt(e,"onBeforeRenderStart",this.fillDragStartParams(e,t))},drag:function(e,t){this.resetStyle(t),rt(e,"onBeforeRender",pt(e,t,{isPinch:!!t.isPinch}))},dragEnd:function(e,t){rt(e,"onBeforeRenderEnd",pt(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(e,t){var r=this;this.dragStart(e,t);var n=tr(e,"beforeRenderable",t),i=e.moveables,a=n.map(function(o,s){var l=i[s];return r.setTransform(l,o),r.resetStyle(o),r.fillDragStartParams(l,o)});rt(e,"onBeforeRenderGroupStart",pt(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,setTransform:function(){},events:a}))},dragGroup:function(e,t){var r=this;this.drag(e,t);var n=tr(e,"beforeRenderable",t),i=e.moveables,a=n.map(function(o,s){var l=i[s];return r.resetStyle(o),r.fillDragParams(l,o)});rt(e,"onBeforeRenderGroup",pt(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,events:a}))},dragGroupEnd:function(e,t){this.dragEnd(e,t),rt(e,"onBeforeRenderGroupEnd",pt(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:e.props.targets}))},dragControlStart:function(e,t){return this.dragStart(e,t)},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupControlStart:function(e,t){return this.dragGroupStart(e,t)},dragGroupControl:function(e,t){return this.dragGroup(e,t)},dragGroupControlEnd:function(e,t){return this.dragGroupEnd(e,t)}},Kp={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragRelation:"weak",dragStart:function(e,t){rt(e,"onRenderStart",pt(e,t,{isPinch:!!t.isPinch}))},drag:function(e,t){rt(e,"onRender",this.fillDragParams(e,t))},dragAfter:function(e,t){if(t.resultCount)return this.drag(e,t)},dragEnd:function(e,t){rt(e,"onRenderEnd",this.fillDragEndParams(e,t))},dragGroupStart:function(e,t){rt(e,"onRenderGroupStart",pt(e,t,{isPinch:!!t.isPinch,targets:e.props.targets}))},dragGroup:function(e,t){var r=this,n=tr(e,"beforeRenderable",t),i=e.moveables,a=n.map(function(o,s){var l=i[s];return r.fillDragParams(l,o)});rt(e,"onRenderGroup",pt(e,t,M(M({isPinch:!!t.isPinch,targets:e.props.targets,transform:Da(t)},we(_a(t))),{events:a})))},dragGroupEnd:function(e,t){var r=this,n=tr(e,"beforeRenderable",t),i=e.moveables,a=n.map(function(o,s){var l=i[s];return r.fillDragEndParams(l,o)});rt(e,"onRenderGroupEnd",pt(e,t,M({isPinch:!!t.isPinch,isDrag:t.isDrag,targets:e.props.targets,events:a,transform:Da(t)},we(_a(t)))))},dragControlStart:function(e,t){return this.dragStart(e,t)},dragControl:function(e,t){return this.drag(e,t)},dragControlAfter:function(e,t){return this.dragAfter(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupControlStart:function(e,t){return this.dragGroupStart(e,t)},dragGroupControl:function(e,t){return this.dragGroup(e,t)},dragGroupControlEnd:function(e,t){return this.dragGroupEnd(e,t)},fillDragParams:function(e,t){return pt(e,t,M({isPinch:!!t.isPinch,transform:Da(t)},we(_a(t))))},fillDragEndParams:function(e,t){return pt(e,t,M({isPinch:!!t.isPinch,isDrag:t.isDrag,transform:Da(t)},we(_a(t))))}};function Ri(e,t,r,n,i,a,o){var s=i==="Start",l=e.state.target,u=a.isRequest;if(!l||s&&n.indexOf("Control")>-1&&!u&&e.areaElement===a.inputEvent.target)return!1;var c="".concat(r).concat(n).concat(i),d="".concat(r).concat(n,"Condition"),f=i==="End",p=i==="After",h=s&&(!e.targetGesto||!e.controlGesto||!e.targetGesto.isFlag()||!e.controlGesto.isFlag());h&&e.updateRect(i,!0,!1),a.clientDistX=a.distX,a.clientDistY=a.distY,i===""&&!u&&xp(e.state,a);var v=lt([],e[t],!0);if(u){var g=a.requestAble;v.some(function(O){return O.name===g})||v.push.apply(v,e.props.ables.filter(function(O){return O.name===g}))}if(!v.length||v.every(function(O){return O.dragRelation}))return!1;var m=lt(lt([Xp],v,!0),[Kp],!1).filter(function(O){return O[c]}),b=a.datas;h&&m.forEach(function(O){O.unset&&O.unset(e)});var w=a.inputEvent,S;f&&w&&(S=document.elementFromPoint(a.clientX,a.clientY)||w.target);var x=0,y=!1,E=function(){var O;y=!0,(O=a.stop)===null||O===void 0||O.call(a)},_=m.filter(function(O){var I=O.name,R=b[I]||(b[I]={});if(s&&(R.isEventStart=!O[d]||O[d](e,a)),R.isEventStart){var F=O[c](e,M(M({},a),{stop:E,resultCount:x,datas:R,originalDatas:b,inputTarget:S}));return e._emitter.off(),s&&F===!1&&(R.isEventStart=!1),x+=F||R.isEventStart?1:0,F}return!1}),D=_.length,T=!1;if(y&&(T=!0),!T&&s&&m.length&&!D&&(T=m.filter(function(O){var I=O.name,R=b[I];return R.isEventStart?O.dragRelation!=="strong":!1}).length),(f||T)&&(e.state.gestos={},e.moveables&&e.moveables.forEach(function(O){O.state.gestos={}}),m.forEach(function(O){O.unset&&O.unset(e)})),s&&!T&&!u&&D&&(a==null||a.preventDefault()),e.isUnmounted||T)return!1;if(!s&&D&&!o||f){var k=e.props.flushSync||fp;k(function(){e.updateRect(f?i:"",!0,!1),e.forceUpdate()})}return!s&&!f&&!p&&D&&!o&&Ri(e,t,r,n,i+"After",a),!0}function al(e){return function(t){var r=e.props.dragTarget,n=t.inputEvent.target,i=e.areaElement;return r&&(n===r||r.contains(n))||n===i||!e.isMoveableElement(n)&&!e.controlBox.getElement().contains(n)||ie(n,"moveable-area")||ie(n,"moveable-padding")||ie(n,"moveable-edgeDraggable")}}function Zp(e,t,r){var n=e.controlBox.getElement(),i=[],a=e.props.dragTarget;return i.push(n),(!e.props.dragArea||a)&&i.push(t),nu(e,i,"targetAbles",r,{dragStart:al(e),pinchStart:al(e)})}function nu(e,t,r,n,i){i===void 0&&(i={});var a=r==="targetAbles",o=e.props,s=o.pinchOutside,l=o.pinchThreshold,u=o.preventClickEventOnDrag,c=o.preventClickDefault,d=o.checkInput,f={preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,container:window,pinchThreshold:l,pinchOutside:s,preventClickEventOnDrag:a?u:!1,preventClickEventOnDragStart:a?c:!1,preventClickEventByCondition:a?null:function(v){return e.controlBox.getElement().contains(v.target)},checkInput:a?d:!1},p=new Yf(t,f),h=n==="Control";return["drag","pinch"].forEach(function(v){["Start","","End"].forEach(function(g){p.on("".concat(v).concat(g),function(m){var b,w=m.eventType;if(i[w]&&!i[w](m)){m.stop();return}var S=Ri(e,r,v,n,g,m);S?(e.props.stopPropagation||g==="Start"&&h)&&((b=m==null?void 0:m.inputEvent)===null||b===void 0||b.stopPropagation()):m.stop()})})}),p}var $1=function(){function e(r,n,i){var a=this;this.target=r,this.moveable=n,this.eventName=i,this.ables=[],this._onEvent=function(o){var s=a.eventName,l=a.moveable;l.state.disableNativeEvent||a.ables.forEach(function(u){u[s](l,{inputEvent:o})})},r.addEventListener(i.toLowerCase(),this._onEvent)}var t=e.prototype;return t.setAbles=function(r){this.ables=r},t.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},e}();function U1(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function Rc(e,t,r){for(var n=e,i=[],a=document.documentElement||document.body,o=!r&&e===t||e===a,s=o,l=!1,u=3,c,d,f,p=!1,h=Hi(t,t,!0).offsetParent,v=1;n&&!s;){s=o;var g=getComputedStyle(n),m=g.position,b=pp(n,g),w=am(n0(b)),S=m==="fixed",x={hasTransform:!1,fixedContainer:null};S&&(p=!0,x=s0(n),h=x.fixedContainer);var y=w.length;!l&&y===16&&(l=!0,u=4,Zs(i),f&&(f=sr(f,3,4))),l&&y===9&&(w=sr(w,3,4));var E=o0(n,e,g),_=E.tagName,D=E.hasOffset,T=E.isSVG,k=E.origin,O=E.targetOrigin,I=E.offset,R=I[0],F=I[1];_==="svg"&&f&&(i.push({type:"target",target:n,matrix:l0(n,u)}),i.push({type:"offset",target:n,matrix:Vt(u)}));var L=void 0,N=!1,$=!1,U=parseFloat(g.zoom)||1;if(S)L=x.fixedContainer,N=!0;else{var z=Hi(n,t,!1,!0,g),H=z.offsetZoom;if(L=z.offsetParent,N=z.isEnd,$=z.isStatic,v*=H,H!==1&&$)R-=L.offsetLeft,F-=L.offsetTop;else if(Nm){var X=z.parentSlotElement;if(X){for(var j=L,K=0,q=0;j&&U1(j);)K+=j.offsetLeft,q+=j.offsetTop,j=j.offsetParent;R-=K,F-=q}}}Qf&&!Lm&&D&&!T&&$&&(m==="relative"||m==="static")&&(R-=L.offsetLeft,F-=L.offsetTop,o=o||N);var Z=0,tt=0,ut=0,ht=0;if(S)D&&x.hasTransform&&(ut=L.clientLeft,ht=L.clientTop);else if(D&&h!==L&&(Z=L.clientLeft,tt=L.clientTop),D&&L===a){var Q=hp(n,!1,g);R+=Q[0],F+=Q[1]}if(i.push({type:"target",target:n,matrix:to(w,u,k)}),D){var at=n===e,yt=at?0:n.scrollLeft,gt=at?0:n.scrollTop;i.push({type:"offset",target:n,matrix:Vi([R-yt+Z-ut,F-gt+tt-ht],u)})}else i.push({type:"offset",target:n,origin:k});if(U!==1&&i.push({type:"zoom",target:n,matrix:to(Al([U,U],u),u,[0,0])}),f||(f=w),c||(c=k),d||(d=O),s||S)break;n=L,o=N,(!r||n===a)&&(s=o)}return f||(f=Vt(u)),c||(c=[0,0]),d||(d=[0,0]),{zoom:v,offsetContainer:h,matrixes:i,targetMatrix:f,transformOrigin:c,targetOrigin:d,is3d:l,hasFixed:p}}function G1(e,t,r,n){var i;r===void 0&&(r=t);var a=Rc(e,t),o=a.matrixes,s=a.is3d,l=a.targetMatrix,u=a.transformOrigin,c=a.targetOrigin,d=a.offsetContainer,f=a.hasFixed,p=a.zoom,h=Rc(d,r,!0),v=h.matrixes,g=h.is3d,m=h.offsetContainer,b=h.zoom,w=n||g||s,S=w?4:3,x=e.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in e,y=l,E=Vt(S),_=Vt(S),D=Vt(S),T=Vt(S),k=o.length;v.reverse(),o.reverse(),!s&&w&&(y=sr(y,3,4),Zs(o)),!g&&w&&Zs(v),v.forEach(function($){_=Rt(_,$.matrix,S)});var O=r||document.body,I=((i=v[0])===null||i===void 0?void 0:i.target)||Hi(O,O,!0).offsetParent,R=v.slice(1).reduce(function($,U){return Rt($,U.matrix,S)},Vt(S));o.forEach(function($,U){if(k-2===U&&(D=E.slice()),k-1===U&&(T=E.slice()),!$.matrix){var z=o[U+1],H=c0($,z,I,S,Rt(R,E,S));$.matrix=Vi(H,S)}E=Rt(E,$.matrix,S)});var F=!x&&s;y||(y=Vt(F?4:3));var L=Co(x&&y.length===16?sr(y,4,3):y,F),N=_;return _=$f(_,S,S),{hasZoom:p!==1||b!==1,hasFixed:f,rootMatrix:_,originalRootMatrix:N,beforeMatrix:D,offsetMatrix:T,allMatrix:E,targetMatrix:y,targetTransform:L,transformOrigin:u,targetOrigin:c,is3d:w,offsetContainer:d,offsetRootContainer:m}}function V1(e,t,r,n){r===void 0&&(r=t);var i=0,a=0,o=0,s={},l=gp(e);if(e&&(i=l.offsetWidth,a=l.offsetHeight),e){var u=G1(e,t,r,n),c=Ln(u.allMatrix,u.transformOrigin,i,a);s=M(M({},u),c);var d=Ln(u.allMatrix,[50,50],100,100);o=mp([d.pos1,d.pos2],d.direction)}var f=n?4:3;return M(M(M({hasZoom:!1,width:i,height:a,rotation:o},l),{originalRootMatrix:Vt(f),rootMatrix:Vt(f),beforeMatrix:Vt(f),offsetMatrix:Vt(f),allMatrix:Vt(f),targetMatrix:Vt(f),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null}),s)}function ol(e,t,r,n,i,a){a===void 0&&(a=[]);var o=1,s=[0,0],l=Ta(),u=Ta(),c=Ta(),d=Ta(),f=[0,0],p={},h=V1(t,r,i,!0);if(t){var v=getComputedStyle(t);a.forEach(function(O){p[O]=v[O]});var g=h.is3d?4:3,m=Ln(h.offsetMatrix,Et(h.transformOrigin,Uf(h.targetMatrix,g)),h.width,h.height);o=m.direction,s=Et(m.origin,[m.left-h.left,m.top-h.top]),d=Di(h.offsetRootContainer);var b=Hi(n,n,!0).offsetParent||h.offsetRootContainer;if(h.hasZoom){var w=Ln(Rt(h.originalRootMatrix,h.allMatrix),h.transformOrigin,h.width,h.height),S=Ln(h.originalRootMatrix,eo(getComputedStyle(b)).map(function(O){return parseFloat(O)}),b.offsetWidth,b.offsetHeight);if(l=Wo(w,d),c=Wo(S,d,b,!0),e){var x=w.left,y=w.top;u=Wo({left:x,top:y,bottom:y,right:y},d)}}else{l=Di(t),c=Di(b,!0),e&&(u=Di(e));var E=c.left,_=c.top,D=c.clientLeft,T=c.clientTop,k=[l.left-E,l.top-_];f=ot(un(h.rootMatrix,k,4),[D+h.left,T+h.top])}}return M({targetClientRect:l,containerClientRect:c,moveableClientRect:u,rootContainerClientRect:d,beforeDirection:o,beforeOrigin:s,originalBeforeOrigin:s,target:t,style:p,offsetDelta:f},h)}function Fc(e){var t=e.pos1,r=e.pos2,n=e.pos3,i=e.pos4;if(!t||!r||!n||!i)return null;var a=$r([t,r,n,i]),o=[a.minX,a.minY],s=ot(e.origin,o);return t=ot(t,o),r=ot(r,o),n=ot(n,o),i=ot(i,o),M(M({},e),{left:e.left,top:e.top,posDelta:o,pos1:t,pos2:r,pos3:n,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var qn=function(e){oa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state=M({container:null,gestos:{},renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},ol(null)),n.renderState={},n.enabledAbles=[],n.targetAbles=[],n.controlAbles=[],n.rotation=0,n.scale=[1,1],n.isMoveableMounted=!1,n.isUnmounted=!1,n.events={mouseEnter:null,mouseLeave:null},n._emitter=new Qn,n._prevTarget=null,n._prevDragArea=!1,n._isPropTargetChanged=!1,n._hasFirstTarget=!1,n._observer=null,n._observerId=0,n._rootContainer=null,n._viewContainer=null,n._viewClassNames=[],n.checkUpdateRect=function(){if(!n.isDragging()){var i=n.props.parentMoveable;if(i){i.checkUpdateRect();return}Ig(n._observerId),n._observerId=_f(function(){n.isDragging()||n.updateRect()})}},n._onPreventClick=function(i){i.stopPropagation(),i.preventDefault()},n}var r=t.prototype;return r.render=function(){var n=this.props,i=this.getState(),a=n.parentPosition,o=n.className,s=n.target,l=n.zoom,u=n.cspNonce,c=n.translateZ,d=n.cssStyled,f=n.portalContainer,p=n.groupable,h=n.linePadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var v=a||[0,0],g=v[0],m=v[1],b=i.left,w=i.top,S=i.target,x=i.direction,y=i.hasFixed,E=i.offsetDelta,_=n.targets,D=this.isDragging(),T={};this.getEnabledAbles().forEach(function(L){T["data-able-".concat(L.name.toLowerCase())]=!0});var k=this._getAbleClassName(),O=_&&_.length&&(S||p)||s||!this._hasFirstTarget&&this.state.isPersisted,I=this.controlBox||this.props.firstRenderState||this.props.persistData,R=[b-g,w-m];!p&&n.useAccuratePosition&&(R[0]+=E[0],R[1]+=E[1]);var F={position:y?"fixed":"absolute",display:O?"block":"none",visibility:I?"visible":"hidden",transform:"translate3d(".concat(R[0],"px, ").concat(R[1],"px, ").concat(c,")"),"--zoom":l,"--zoompx":"".concat(l,"px")};return h&&(F["--moveable-line-padding"]=h),$e(d,M({cspNonce:u,ref:ar(this,"controlBox"),className:"".concat(st("control-box",x===-1?"reverse":"",D?"dragging":"")," ").concat(k," ").concat(o)},T,{onClick:this._onPreventClick,portalContainer:f,style:F}),this.renderAbles(),this._renderLines())},r.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1,this.controlBox.getElement();var n=this.props,i=n.parentMoveable,a=n.container,o=n.wrapperMoveable;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!a&&!i&&!o&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},r.componentDidUpdate=function(n){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateEvents(),this._updateTargets(),this.updateCheckInput(),this._updateObserver(n)},r.componentWillUnmount=function(){this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off();var n=this._viewContainer;n&&this._changeAbleViewClassNames([]),Mn(this,"targetGesto"),Mn(this,"controlGesto");var i=this.events;for(var a in i){var o=i[a];o&&o.destroy()}},r.getTargets=function(){var n=this.props.target;return n?[n]:[]},r.getAble=function(n){var i=this.props.ables||[];return Er(i,function(a){return a.name===n})},r.getContainer=function(){var n=this.props,i=n.parentMoveable,a=n.wrapperMoveable,o=n.container;return o||a&&a.getContainer()||i&&i.getContainer()||this.controlBox.getElement().parentElement},r.isMoveableElement=function(n){var i;return n&&(((i=n.getAttribute)===null||i===void 0?void 0:i.call(n,"class"))||"").indexOf(Ll)>-1},r.dragStart=function(n){var i=this.targetGesto,a=this.controlGesto;return i&&al(this)({inputEvent:n})?i.isFlag()||i.triggerDragStart(n):a&&this.isMoveableElement(n.target)&&(a.isFlag()||a.triggerDragStart(n)),this},r.hitTest=function(n){var i=this.state,a=i.target,o=i.pos1,s=i.pos2,l=i.pos3,u=i.pos4,c=i.targetClientRect;if(!a)return 0;var d;if(n instanceof Element){var f=n.getBoundingClientRect();d={left:f.left,top:f.top,width:f.width,height:f.height}}else d=M({width:0,height:0},n);var p=d.left,h=d.top,v=d.width,g=d.height,m=Ls([o,s,u,l],c),b=vm(m,[[p,h],[p+v,h],[p+v,h+g],[p,h+g]]),w=ki(m);return!b||!w?0:Math.min(100,b/w*100)},r.isInside=function(n,i){var a=this.state,o=a.target,s=a.pos1,l=a.pos2,u=a.pos3,c=a.pos4,d=a.targetClientRect;return o?Za([n,i],Ls([s,l,c,u],d)):!1},r.updateRect=function(n,i,a){a===void 0&&(a=!0);var o=this.props,s=o.parentMoveable,l=this.state,u=l.target||this.props.target,c=this.getContainer(),d=s?s._rootContainer:this._rootContainer,f=ol(this.controlBox&&this.controlBox.getElement(),u,c,c,d||c,this._getRequestStyles());if(!u&&this._hasFirstTarget&&o.persistData){var p=Fc(o.persistData);for(var h in p)f[h]=p[h]}this.updateState(f,s?!1:a)},r.isDragging=function(n){var i,a,o=this.targetGesto,s=this.controlGesto;if(o!=null&&o.isFlag()){if(!n)return!0;var l=o.getEventData();return!!(!((i=l[n])===null||i===void 0)&&i.isEventStart)}if(s!=null&&s.isFlag()){if(!n)return!0;var l=s.getEventData();return!!(!((a=l[n])===null||a===void 0)&&a.isEventStart)}return!1},r.updateTarget=function(n){this.updateRect(n,!0)},r.getRect=function(){var n=this.state,i=Me(this.state),a=i[0],o=i[1],s=i[2],l=i[3],u=Ue(i),c=n.width,d=n.height,f=u.width,p=u.height,h=u.left,v=u.top,g=[n.left,n.top],m=Et(g,n.origin),b=Et(g,n.beforeOrigin),w=n.transformOrigin;return{width:f,height:p,left:h,top:v,pos1:a,pos2:o,pos3:s,pos4:l,offsetWidth:c,offsetHeight:d,beforeOrigin:b,origin:m,transformOrigin:w,rotation:this.getRotation()}},r.getManager=function(){return this},r.stopDrag=function(n){var i,a;(!n||n==="target")&&((i=this.targetGesto)===null||i===void 0||i.stop()),(!n||n==="control")&&((a=this.controlGesto)===null||a===void 0||a.stop())},r.getRotation=function(){var n=this.state,i=n.pos1,a=n.pos2,o=n.direction;return y0(i,a,o)},r.request=function(n,i,a){i===void 0&&(i={});var o=this.props,s=o.ables,l=o.groupable,u=s.filter(function(g){return g.name===n})[0];if(this.isDragging()||!u||!u.request)return{request:function(){return this},requestEnd:function(){return this}};var c=this,d=u.request(this),f=a||i.isInstant,p=d.isControl?"controlAbles":"targetAbles",h="".concat(l?"Group":"").concat(d.isControl?"Control":""),v={request:function(g){return Ri(c,p,"drag",h,"",M(M({},d.request(g)),{requestAble:n,isRequest:!0}),f),this},requestEnd:function(){return Ri(c,p,"drag",h,"End",M(M({},d.requestEnd()),{requestAble:n,isRequest:!0}),f),this}};return Ri(c,p,"drag",h,"Start",M(M({},d.requestStart(i)),{requestAble:n,isRequest:!0}),f),f?v.request(i).requestEnd():v},r.destroy=function(){this.componentWillUnmount()},r.updateRenderPoses=function(){var n=this.getState(),i=this.props,a=n.originalBeforeOrigin,o=n.transformOrigin,s=n.allMatrix,l=n.is3d,u=n.pos1,c=n.pos2,d=n.pos3,f=n.pos4,p=n.left,h=n.top,v=n.isPersisted,g=i.padding||{},m=g.left,b=m===void 0?0:m,w=g.top,S=w===void 0?0:w,x=g.bottom,y=x===void 0?0:x,E=g.right,_=E===void 0?0:E,D=l?4:3,T=[];v?T=o:this.controlBox&&i.groupable?T=a:T=Et(a,[p,h]),n.renderPoses=[Et(u,Ma(s,[-b,-S],o,T,D)),Et(c,Ma(s,[_,-S],o,T,D)),Et(d,Ma(s,[-b,y],o,T,D)),Et(f,Ma(s,[_,y],o,T,D))]},r.checkUpdate=function(){this._isPropTargetChanged=!1;var n=this.props,i=n.target,a=n.container,o=n.parentMoveable,s=this.state,l=s.target,u=s.container;if(!(!l&&!i)){this.updateAbles();var c=!Qs(l,i),d=c||!Qs(u,a);if(!!d){var f=a||this.controlBox;f&&this.unsetAbles(),this.updateState({target:i,container:a}),!o&&f&&this.updateRect("End",!1,!1),this._isPropTargetChanged=c}}},r.waitToChangeTarget=function(){return new Promise(function(){})},r.triggerEvent=function(n,i){this._emitter.trigger(n,i);var a=this.props[n];return a&&a(i)},r.useCSS=function(n,i){var a=this.props.customStyledMap,o=n+i;return a[o]||(a[o]=Zf(n,i)),a[o]},r.getState=function(){var n,i=this.props;(i.target||((n=i.targets)===null||n===void 0?void 0:n.length))&&(this._hasFirstTarget=!0);var a=this.controlBox,o=i.persistData,s=i.firstRenderState;if(s&&!a)return s;if(!this._hasFirstTarget&&o){var l=Fc(o);if(l)return this.updateState(l,!1),this.state}return this.state.isPersisted=!1,this.state},r.updateSelectors=function(){},r.unsetAbles=function(){var n=this;this.targetAbles.forEach(function(i){i.unset&&i.unset(n)})},r.updateAbles=function(n,i){n===void 0&&(n=this.props.ables),i===void 0&&(i="");var a=this.props,o=a.triggerAblesSimultaneously,s=this.getEnabledAbles(n),l="drag".concat(i,"Start"),u="pinch".concat(i,"Start"),c="drag".concat(i,"ControlStart"),d=Oa(s,[l,u],o),f=Oa(s,[c],o);this.enabledAbles=s,this.targetAbles=d,this.controlAbles=f},r.updateState=function(n,i){if(i){if(this.isUnmounted)return;this.setState(n)}else{var a=this.state;for(var o in n)a[o]=n[o]}},r.getEnabledAbles=function(n){n===void 0&&(n=this.props.ables);var i=this.props;return n.filter(function(a){return a&&(a.always&&i[a.name]!==!1||i[a.name])})},r.renderAbles=function(){var n=this,i=this.props,a=i.triggerAblesSimultaneously,o={createElement:$e};return this.renderState={},h0(Cp(Oa(this.getEnabledAbles(),["render"],a).map(function(s){var l=s.render;return l(n,o)||[]})).filter(function(s){return s}),function(s){var l=s.key;return l}).map(function(s){return s[0]})},r.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},r._getRequestStyles=function(){var n=this.getEnabledAbles().reduce(function(i,a){var o,s,l=(s=(o=a.requestStyle)===null||o===void 0?void 0:o.call(a))!==null&&s!==void 0?s:[];return lt(lt([],i,!0),l,!0)},[]);return n},r._updateObserver=function(n){var i,a=this.props,o=a.target;if(!window.ResizeObserver||!o||!a.useResizeObserver){(i=this._observer)===null||i===void 0||i.disconnect();return}if(!(n.target===o&&this._observer)){var s=new ResizeObserver(this.checkUpdateRect);s.observe(o,{box:"border-box"}),this._observer=s}},r._updateEvents=function(){var n=this.controlBox.getElement(),i=this.targetAbles.length,a=this.controlAbles.length,o=this.props,s=o.dragTarget||o.target,l=!i&&this.targetGesto||this._isTargetChanged(!0);l&&(Mn(this,"targetGesto"),this.updateState({gesto:null})),a||Mn(this,"controlGesto"),s&&i&&!this.targetGesto&&(this.targetGesto=Zp(this,s,"")),!this.controlGesto&&a&&(this.controlGesto=nu(this,n,"controlAbles","Control"))},r._updateTargets=function(){var n=this.props;this._prevTarget=n.dragTarget||n.target,this._prevDragArea=n.dragArea},r._renderLines=function(){var n=this.props,i=n,a=i.zoom,o=i.hideDefaultLines,s=i.hideChildMoveableDefaultLines,l=i.parentMoveable;if(o||l&&s)return[];var u=this.getState().renderPoses,c={createElement:$e};return[[0,1],[1,3],[3,2],[2,0]].map(function(d,f){var p=d[0],h=d[1];return ji(c,"",u[p],u[h],a,"render-line-".concat(f))})},r._isTargetChanged=function(n){var i=this.props,a=i.dragTarget||i.target,o=this._prevTarget,s=this._prevDragArea,l=i.dragArea,u=!l&&o!==a,c=(n||l)&&s!==l;return u||c},r._updateNativeEvents=function(){var n=this,i=this.props,a=i.dragArea?this.areaElement:this.state.target,o=this.events,s=Zn(o);if(this._isTargetChanged())for(var l in o){var u=o[l];u&&u.destroy(),o[l]=null}if(!!a){var c=this.enabledAbles;s.forEach(function(d){var f=Oa(c,[d]),p=f.length>0,h=o[d];if(!p){h&&(h.destroy(),o[d]=null);return}h||(h=new $1(a,n,d),o[d]=h),h.setAbles(f)})}},r._checkUpdateRootContainer=function(){var n=this.props.rootContainer;!this._rootContainer&&n&&(this._rootContainer=fn(n,!0))},r._checkUpdateViewContainer=function(){var n=this.props.viewContainer;!this._viewContainer&&n&&(this._viewContainer=fn(n,!0));var i=this._viewContainer;i&&this._changeAbleViewClassNames(lt(lt([],this._getAbleViewClassNames(),!0),[this.isDragging()?y1:""],!1))},r._changeAbleViewClassNames=function(n){var i=this._viewContainer,a=Ep(n.filter(Boolean),function(c){return c}).map(function(c){var d=c[0];return d}),o=this._viewClassNames,s=ra(o,a),l=s.removed,u=s.added;l.forEach(function(c){Of(i,o[c])}),u.forEach(function(c){Ol(i,a[c])}),this._viewClassNames=a},r._getAbleViewClassNames=function(){var n=this;return(this.getEnabledAbles().map(function(i){var a;return((a=i.viewClassName)===null||a===void 0?void 0:a.call(i,n))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},r._getAbleClassName=function(n){var i=this;n===void 0&&(n="");var a=this.getEnabledAbles(),o=this.targetGesto,s=this.controlGesto,l=o!=null&&o.isFlag()?o.getEventData():{},u=s!=null&&s.isFlag()?s.getEventData():{};return a.map(function(c){var d,f,p,h=c.name,v=((d=c.className)===null||d===void 0?void 0:d.call(c,i))||"";return(((f=l[h])===null||f===void 0?void 0:f.isEventStart)||((p=u[h])===null||p===void 0?void 0:p.isEventStart))&&(v+=" ".concat(st("".concat(h).concat(n,"-dragging")))),v.trim()}).filter(Boolean).join(" ")},t.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,portalContainer:null,useResizeObserver:!1,linePadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:fp,firstRenderState:null,persistData:null,viewContainer:null,useAccuratePosition:!1},t}(Il),iu={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean,groupableProps:Object,targetGroups:Object,hideChildMoveableDefaultLines:Boolean},events:{},render:function(e,t){var r,n=e.props,i=n.targets||[];e.moveables=[];var a=e.getState(),o=a.left,s=a.top,l=a.isPersisted,u=[o,s],c=n.zoom||1,d=e.renderGroupRects,f=((r=n.persistData)===null||r===void 0?void 0:r.children)||[];return l?i=f.map(function(){return null}):f=[],lt(lt([],i.map(function(p,h){return t.createElement(qn,{key:"moveable"+h,ref:wf(e,"moveables",h),target:p,origin:!1,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:e,parentPosition:u,persistData:f[h],zoom:c})}),!0),Cp(d.map(function(p,h){var v=p.pos1,g=p.pos2,m=p.pos3,b=p.pos4,w=[v,g,m,b];return[[0,1],[1,3],[3,2],[2,0]].map(function(S,x){var y=S[0],E=S[1];return ji(t,"",ot(w[y],u),ot(w[E],u),c,"group-rect-".concat(h,"-").concat(x))})})),!0)}},H1=sa("clickable",{props:{clickable:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(e,t){t.datas.inputTarget=t.inputEvent&&t.inputEvent.target},dragEnd:function(e,t){var r=e.props.target,n=t.inputEvent,i=t.inputTarget,a=e.isMoveableElement(i),o=!a&&e.controlBox.getElement().contains(i);if(!(!n||!i||t.isDrag||e.isMoveableElement(i)||o)){var s=r.contains(i);rt(e,"onClick",pt(e,t,{isDouble:t.isDouble,inputTarget:i,isTarget:r===i,moveableTarget:e.props.target,containsTarget:s}))}},dragGroupEnd:function(e,t){var r=t.inputEvent,n=t.inputTarget;if(!(!r||!n||t.isDrag||e.isMoveableElement(n)||t.datas.inputTarget===n)){var i=e.props.targets,a=i.indexOf(n),o=a>-1,s=!1;a===-1&&(a=wr(i,function(l){return l.contains(n)}),s=a>-1),rt(e,"onClickGroup",pt(e,t,{isDouble:t.isDouble,targets:i,inputTarget:n,targetIndex:a,isTarget:o,containsTarget:s,moveableTarget:i[a]}))}},dragControlEnd:function(e,t){this.dragEnd(e,t)},dragGroupControlEnd:function(e,t){this.dragEnd(e,t)}});function Cn(e){var t=e.originalDatas.draggable;return t||(e.originalDatas.draggable={},t=e.originalDatas.draggable),M(M({},e),{datas:t})}var j1=sa("edgeDraggable",{css:[`.edge.edgeDraggable.line {
    cursor: move;
}`],render:function(e,t){var r=e.props,n=r.edgeDraggable;return n?Lp(t,"edgeDraggable",n,e.getState().renderPoses,r.zoom):[]},dragCondition:function(e,t){var r,n=e.props,i=(r=t.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&ie(i,st("direction"))&&ie(i,st("edge"))&&ie(i,st("edgeDraggable"))},dragStart:function(e,t){return Se.dragStart(e,Cn(t))},drag:function(e,t){return Se.drag(e,Cn(t))},dragEnd:function(e,t){return Se.dragEnd(e,Cn(t))},dragGroupCondition:function(e,t){var r,n=e.props,i=(r=t.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&ie(i,st("direction"))&&ie(i,st("line"))},dragGroupStart:function(e,t){return Se.dragGroupStart(e,Cn(t))},dragGroup:function(e,t){return Se.dragGroup(e,Cn(t))},dragGroupEnd:function(e,t){return Se.dragGroupEnd(e,Cn(t))},unset:function(e){return Se.unset(e)}}),Qp={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},au=[Xp,jp,l1,w0,Se,j1,nl,h1,g1,p1,w1,E1,b1,F1,R1,N1,iu,Qp,H1,Hp,Kp],W1=au.reduce(function(e,t){return M(M({},e),"events"in t?t.events:{})},{}),q1=au.reduce(function(e,t){return M(M({},e),t.props)},{}),Y1=v0(W1),X1=Object.keys(Y1),K1=Object.keys(q1);function Ac(e,t){var r=e[0],n=e[1],i=e[2];return(r*t[0]+n*t[1]+i)/Math.sqrt(r*r+n*n)}function Ra(e,t){var r=e[0],n=e[1];return-r*t[0]-n*t[1]}function Bc(e,t){return Math.max.apply(Math,e.map(function(r){var n=r[0],i=r[1],a=r[2],o=r[3];return Math.max(n[t],i[t],a[t],o[t])}))}function zc(e,t){return Math.min.apply(Math,e.map(function(r){var n=r[0],i=r[1],a=r[2],o=r[3];return Math.min(n[t],i[t],a[t],o[t])}))}function Z1(e,t){var r,n=[0,0],i=[0,0],a=[0,0],o=[0,0],s=0,l=0;if(!e.length)return{pos1:n,pos2:i,pos3:a,pos4:o,minX:0,minY:0,maxX:0,maxY:0,width:s,height:l,rotation:t};var u=ft(t,Ee);if(u%90){var c=u/180*Math.PI,d=Math.tan(c),f=-1/d,p=[Xs,uc],h=[[0,0],[0,0]],v=[Xs,uc],g=[[0,0],[0,0]];e.forEach(function(U){U.forEach(function(z){var H=Ac([-d,1,0],z),X=Ac([-f,1,0],z);p[0]>H&&(h[0]=z,p[0]=H),p[1]<H&&(h[1]=z,p[1]=H),v[0]>X&&(g[0]=z,v[0]=X),v[1]<X&&(g[1]=z,v[1]=X)})});var m=h[0],b=h[1],w=g[0],S=g[1],x=[-d,1,Ra([-d,1],m)],y=[-d,1,Ra([-d,1],b)],E=[-f,1,Ra([-f,1],w)],_=[-f,1,Ra([-f,1],S)];r=[[x,E],[x,_],[y,E],[y,_]].map(function(U){var z=U[0],H=U[1];return Nl(z,H)[0]}),n=r[0],i=r[1],a=r[2],o=r[3],s=v[1]-v[0],l=p[1]-p[0]}else{var D=zc(e,0),T=zc(e,1),k=Bc(e,0),O=Bc(e,1);if(n=[D,T],i=[k,T],a=[D,O],o=[k,O],s=k-D,l=O-T,u%180){var I=[a,n,o,i];n=I[0],i=I[1],a=I[2],o=I[3],s=O-T,l=k-D}}if(u%360>180){var I=[o,a,i,n];n=I[0],i=I[1],a=I[2],o=I[3]}var R=$r([n,i,a,o]),F=R.minX,L=R.minY,N=R.maxX,$=R.maxY;return{pos1:n,pos2:i,pos3:a,pos4:o,width:s,height:l,minX:F,minY:L,maxX:N,maxY:$,rotation:t}}function Jp(e,t){var r=t.map(function(n){if(qt(n)){var i=Jp(e,n),a=i.length;return a>1?i:a===1?i[0]:null}else{var o=Er(e,function(s){var l=s.manager;return l.props.target===n});return o?(o.finded=!0,o.manager):null}}).filter(Boolean);return r.length===1&&qt(r[0])?r[0]:r}var Q1=function(e){oa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.differ=new Hf,n.moveables=[],n.transformOrigin="50% 50%",n.renderGroupRects=[],n._targetGroups=[],n._hasFirstTargets=!1,n}var r=t.prototype;return r.componentDidMount=function(){e.prototype.componentDidMount.call(this)},r.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},r.getTargets=function(){return this.props.targets},r.updateRect=function(n,i,a){var o;a===void 0&&(a=!0);var s=this.state;if(!this.controlBox||s.isPersisted)return;this.moveables.forEach(function(ut){ut.updateRect(n,!1,!1)});var l=this.props,u=this.moveables,c=s.target||l.target,d=u.map(function(ut){return{finded:!1,manager:ut}}),f=this.props.targetGroups||[],p=Jp(d,f);p.push.apply(p,d.filter(function(ut){var ht=ut.finded;return!ht}).map(function(ut){var ht=ut.manager;return ht}));var h=[],v=!i||n!==""&&l.updateGroup,g=l.defaultGroupRotate||0;if(!this._hasFirstTargets){var m=(o=this.props.persistData)===null||o===void 0?void 0:o.rotation;m!=null&&(g=m)}function b(ut,ht,Q){var at=ut.map(function(vt){if(qt(vt)){var mt=b(vt,ht),bt=[mt.pos1,mt.pos2,mt.pos3,mt.pos4];return h.push(mt),{poses:bt,rotation:mt.rotation}}else return{poses:Me(vt.state),rotation:vt.getRotation()}}),yt=at.map(function(vt){var mt=vt.rotation;return mt}),gt=0,Ht=yt[0],Ct=yt.every(function(vt){return Math.abs(Ht-vt)<.1});v?gt=Ct?Ht:g:gt=!Q&&Ct?Ht:ht;var St=at.map(function(vt){var mt=vt.poses;return mt}),Pt=Z1(St,gt);return Pt}var w=b(p,this.rotation,!0);v&&(this.rotation=w.rotation,this.transformOrigin=l.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=f,this.renderGroupRects=h;var S=this.transformOrigin,x=this.rotation,y=this.scale,E=w.width,_=w.height,D=w.minX,T=w.minY,k=S0([[0,0],[E,0],[0,_],[E,_]],b0(S,E,_),this.rotation/180*Math.PI),O=$r(k.result),I=O.minX,R=O.minY,F=" rotate(".concat(x,"deg)")+" scale(".concat(y[0]>=0?1:-1,", ").concat(y[1]>=0?1:-1,")"),L="translate(".concat(-I,"px, ").concat(-R,"px)").concat(F);this.controlBox.getElement().style.transform="translate3d(".concat(D,"px, ").concat(T,"px, ").concat(this.props.translateZ||0,")"),c.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(S,";")+"width:".concat(E,"px;height:").concat(_,"px;")+"transform: ".concat(L),s.width=E,s.height=_;var N=this.getContainer(),$=ol(this.controlBox.getElement(),c,this.controlBox.getElement(),this.getContainer(),this._rootContainer||N,[]),U=[$.left,$.top],z=Me($),H=z[0],X=z[1],j=z[2],K=z[3],q=$r([H,X,j,K]),Z=[q.minX,q.minY],tt=y[0]*y[1]>0?1:-1;$.pos1=ot(H,Z),$.pos2=ot(X,Z),$.pos3=ot(j,Z),$.pos4=ot(K,Z),$.left=D-$.left+Z[0],$.top=T-$.top+Z[1],$.origin=ot(Et(U,$.origin),Z),$.beforeOrigin=ot(Et(U,$.beforeOrigin),Z),$.originalBeforeOrigin=Et(U,$.originalBeforeOrigin),$.transformOrigin=ot(Et(U,$.transformOrigin),Z),c.style.transform="translate(".concat(-I-Z[0],"px, ").concat(-R-Z[1],"px)")+F,this.updateState(M(M({},$),{posDelta:Z,direction:tt,beforeDirection:tt}),a)},r.getRect=function(){return M(M({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},r.triggerEvent=function(n,i,a){if(a||n.indexOf("Group")>-1)return e.prototype.triggerEvent.call(this,n,i);this._emitter.trigger(n,i)},r.updateAbles=function(){e.prototype.updateAbles.call(this,lt(lt([],this.props.ables,!0),[iu],!1),"Group")},r._updateTargets=function(){e.prototype._updateTargets.call(this),this._prevTarget=this.props.dragTarget||this.areaElement},r._updateEvents=function(){var n=this.state,i=this.props,a=this._prevTarget,o=i.dragTarget||this.areaElement;a!==o&&(Mn(this,"targetGesto"),Mn(this,"controlGesto"),n.target=null),n.target||(n.target=this.areaElement,this.controlBox.getElement().style.display="block"),n.target&&(this.targetGesto||(this.targetGesto=Zp(this,o,"Group")),this.controlGesto||(this.controlGesto=nu(this,this.controlBox.getElement(),"controlAbles","GroupControl")));var s=!Qs(n.container,i.container);s&&(n.container=i.container);var l=i.targets,u=this.differ.update(l),c=u.added,d=u.changed,f=u.removed,p=c.length||f.length;(s||p||this.transformOrigin!==(i.defaultGroupOrigin||"50% 50%")||d.length||l.length&&!Tp(this._targetGroups,i.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!p},r._updateObserver=function(){},t.defaultProps=M(M({},qn.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),t}(qn),J1=function(e){oa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.moveables=[],n}var r=t.prototype;return r.render=function(){var n=this,i,a=this.props,o=a.cspNonce,s=a.cssStyled,l=a.persistData,u=a.targets||[],c=u.length,d=this.isUnmounted||!c,f=(i=l==null?void 0:l.children)!==null&&i!==void 0?i:[];return d&&!c&&f.length?u=f.map(function(){return null}):d||(f=[]),$e(s,{cspNonce:o,ref:ar(this,"controlBox"),className:st("control-box")},u.map(function(p,h){return $e(qn,M({key:"moveable"+h,ref:wf(n,"moveables",h)},n.props,{target:p,wrapperMoveable:n,isWrapperMounted:n.isMoveableMounted,persistData:f[h]}))}))},r.componentDidUpdate=function(){},r.getTargets=function(){return this.props.targets},r.updateRect=function(n,i,a){a===void 0&&(a=!0),this.moveables.forEach(function(o){o.updateRect(n,i,a)})},r.getRect=function(){return M(M({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},r.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},r.dragStart=function(){return this},r.hitTest=function(){return 0},r.isInside=function(){return!1},r.isDragging=function(){return!1},r.updateRenderPoses=function(){},r.checkUpdate=function(){},r.triggerEvent=function(){},r.updateAbles=function(){},r._updateEvents=function(){},r._updateObserver=function(){},t}(qn);function th(e,t){var r=[];return e.forEach(function(n){if(!!n){if(ye(n)){t[n]&&r.push.apply(r,t[n]);return}qt(n)?r.push.apply(r,th(n,t)):r.push(n)}}),r}function eh(e,t){var r=[];return e.forEach(function(n){if(!!n){if(ye(n)){t[n]&&r.push.apply(r,t[n]);return}qt(n)?r.push(eh(n,t)):r.push(n)}}),r}function rh(e,t){return e.length!==t.length||e.some(function(r,n){var i=t[n];return!r&&!i?!1:r!=i?qt(r)&&qt(i)?rh(r,i):!0:!1})}var ty=function(e){oa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.refTargets=[],n.selectorMap={},n._differ=new Hf,n._elementTargets=[],n._onChangeTargets=null,n}var r=t.prototype;return t.makeStyled=function(){var n={},i=this.getTotalAbles();i.forEach(function(o){var s=o.css;!s||s.forEach(function(l){n[l]=!0})});var a=Zn(n).join(`
`);this.defaultStyled=Zf("div",vg(Ll,$m+a))},t.getTotalAbles=function(){return lt([jp,iu,Qp,Hp],this.defaultAbles,!0)},r.render=function(){var n,i=this.constructor;i.defaultStyled||i.makeStyled();var a=this.props,o=a.ables,s=a.props,l=Fm(a,["ables","props"]),u=this._updateRefs(!0),c=th(u,this.selectorMap),d=c.length>1,f=i.getTotalAbles(),p=lt(lt([],f,!0),o||[],!0),h=M(M(M({},l),s||{}),{ables:p,cssStyled:i.defaultStyled,customStyledMap:i.customStyledMap});this._elementTargets=c;var v=null,g=this.moveable,m=l.persistData;if(m!=null&&m.children&&(d=!0),d){if(l.individualGroupable)return $e(J1,M({key:"individual-group",ref:ar(this,"moveable")},h,{target:null,targets:c}));var b=eh(u,this.selectorMap);if(g&&!g.props.groupable&&!g.props.individualGroupable){var w=g.props.target;w&&c.indexOf(w)>-1&&(v=M({},g.state))}return $e(Q1,M({key:"group",ref:ar(this,"moveable")},h,(n=l.groupableProps)!==null&&n!==void 0?n:{},{target:null,targets:c,targetGroups:b,firstRenderState:v}))}else{var S=c[0];if(g&&(g.props.groupable||g.props.individualGroupable)){var x=g.moveables||[],y=Er(x,function(E){return E.props.target===S});y&&(v=M({},y.state))}return $e(qn,M({key:"single",ref:ar(this,"moveable")},h,{target:S,firstRenderState:v}))}},r.componentDidMount=function(){this._checkChangeTargets(),this._updateRefs()},r.componentDidUpdate=function(){this._checkChangeTargets()},r.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},r.getTargets=function(){var n,i;return(i=(n=this.moveable)===null||n===void 0?void 0:n.getTargets())!==null&&i!==void 0?i:[]},r.updateSelectors=function(){this.selectorMap={},this._updateRefs()},r.waitToChangeTarget=function(){var n=this,i;return this._onChangeTargets=function(){n._onChangeTargets=null,i()},new Promise(function(a){i=a})},r.waitToChangeTargets=function(){return this.waitToChangeTarget()},r.getManager=function(){return this.moveable},r._updateRefs=function(n){var i=this.refTargets,a=Yl(this.props.target||this.props.targets),o=typeof document!="undefined",s=rh(i,a),l=this.selectorMap,u={};return this.refTargets.forEach(function c(d){if(ye(d)){var f=l[d];f?u[d]=l[d]:o&&(s=!0,u[d]=[].slice.call(document.querySelectorAll(d)))}else qt(d)&&d.forEach(c)}),this.refTargets=a,this.selectorMap=u,!n&&s&&this.forceUpdate(),a},r._checkChangeTargets=function(){var n,i,a,o=this._differ.update(this._elementTargets),s=o.added,l=o.removed,u=s.length||l.length;u&&((i=(n=this.props).onChangeTargets)===null||i===void 0||i.call(n,{moveable:this.moveable,targets:this._elementTargets}),(a=this._onChangeTargets)===null||a===void 0||a.call(this)),this._updateRefs()},t.defaultAbles=[],t.customStyledMap={},t.defaultStyled=null,Am([gg(ep)],t.prototype,"moveable",void 0),t}(Il),ey=function(e){oa(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.defaultAbles=au,t}(ty),ry=ey;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sl=function(e,t){return sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sl(e,t)};function ou(e,t){sl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wi=function(){return Wi=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Wi.apply(this,arguments)};function ny(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}var iy=function(e){ou(t,e);function t(n){var i=e.call(this,n)||this;return i.state={},i.state=i.props,i}var r=t.prototype;return r.render=function(){return qg($e(ry,Wi({ref:ar(this,"moveable")},this.state)),this.state.parentElement)},t}(kl),oo=K1,nh=ep,ih=X1,ay=function(e){ou(t,e);function t(n,i){i===void 0&&(i={});var a=e.call(this)||this;a.tempElement=document.createElement("div");var o=Wi({},i),s={};ih.forEach(function(u){s[Os("on ".concat(u))]=function(c){return a.trigger(u,c)}}),ac($e(iy,Wi({ref:ar(a,"innerMoveable"),parentElement:n},o,s)),a.tempElement);var l=o.target;return qt(l)&&l.length>1&&a.updateRect(),a}var r=t.prototype;return r.setState=function(n,i){this.innerMoveable.setState(n,i)},r.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},r.dragStart=function(n){var i=this.innerMoveable;i.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n)},r.destroy=function(){ac(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},r.getMoveable=function(){return this.innerMoveable.moveable},t=ny([_s(nh,function(n,i){n[i]||(n[i]=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=this.getMoveable();if(!(!s||!s[i]))return s[i].apply(s,a)})}),_s(oo,function(n,i){Object.defineProperty(n,i,{get:function(){return this.getMoveable().props[i]},set:function(a){var o;this.setState((o={},o[i]=a,o))},enumerable:!0,configurable:!0})})],t),t}(Qn),oy=function(e){ou(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(ay),Fi=function(){return Fi=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Fi.apply(this,arguments)},ah={};nh.forEach(function(e){ah[e]=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(t=this.$_moveable)[e].apply(t,r)}});var oh={};oo.forEach(function(e){oh[e]=function(t){this.$_moveable[e]=t}});var su=Ve({name:"moveable",methods:ah,props:oo,watch:oh,mounted:function(){var e=this,t={},r=this.$props;oo.forEach(function(o){var s=r[o];Xn(s)||(t[o]=r[o])});var n=this.$refs,i=n.moveableElement,a=new oy(i,Fi(Fi({},t),{portalContainer:i}));ih.forEach(function(o){a.on(o,function(s){e.$emit(o,Fi({},s))})}),this.$_moveable=a},beforeUnmount:function(){this.$_moveable.destroy()}});const sy={ref:"moveableElement"};function ly(e,t,r,n,i,a){return J(),Ot("div",sy,null,512)}su.render=ly;su.__file="src/Moveable.vue";var ll=function(e,t){return ll=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ll(e,t)};function uy(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ll(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function cy(e,t){return t={exports:{}},e(t,t.exports),t.exports}var ca=cy(function(e,t){function r(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return o[l];var c=String(l),d=n[c.toLowerCase()];if(d)return d;var d=i[c.toLowerCase()];if(d)return d;if(c.length===1)return c.charCodeAt(0)}r.isEventKey=function(u,c){if(u&&typeof u=="object"){var d=u.which||u.keyCode||u.charCode;if(d==null)return!1;if(typeof c=="string"){var f=n[c.toLowerCase()];if(f)return f===d;var f=i[c.toLowerCase()];if(f)return f===d}else if(typeof c=="number")return c===d;return!1}},t=e.exports=r;var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)n[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)n[a-48]=a;for(a=1;a<13;a++)n["f"+a]=a+111;for(a=0;a<10;a++)n["numpad "+a]=a+96;var o=t.names=t.title={};for(a in n)o[n[a]]=a;for(var s in i)n[s]=i[s]});ca.code;ca.codes;ca.aliases;var dy=ca.names;ca.title;var Nc={"+":"plus","left command":"meta","right command":"meta"},Lc={shift:1,ctrl:2,alt:3,meta:4};function sh(e,t){var r=(dy[e]||t||"").toLowerCase();for(var n in Nc)r=r.replace(n,Nc[n]);return r.replace(/\s/g,"")}function lh(e,t){t===void 0&&(t=sh(e.keyCode,e.key));var r=fy(e);return r.indexOf(t)===-1&&r.push(t),r.filter(Boolean)}function fy(e){var t=[e.shiftKey&&"shift",e.ctrlKey&&"ctrl",e.altKey&&"alt",e.metaKey&&"meta"];return t.filter(Boolean)}function $c(e){var t=e.slice();return t.sort(function(r,n){var i=Lc[r]||5,a=Lc[n]||5;return i-a}),t}var Uc,py=function(e){uy(t,e);function t(n){n===void 0&&(n=window);var i=e.call(this)||this;return i.container=n,i.ctrlKey=!1,i.altKey=!1,i.shiftKey=!1,i.metaKey=!1,i.clear=function(){return i.ctrlKey=!1,i.altKey=!1,i.shiftKey=!1,i.metaKey=!1,i},i.keydownEvent=function(a){i.triggerEvent("keydown",a)},i.keyupEvent=function(a){i.triggerEvent("keyup",a)},i.blur=function(){i.clear(),i.trigger("blur")},ve(n,"blur",i.blur),ve(n,"keydown",i.keydownEvent),ve(n,"keyup",i.keyupEvent),i}var r=t.prototype;return Object.defineProperty(t,"global",{get:function(){return Uc||(Uc=new t)},enumerable:!1,configurable:!0}),t.setGlobal=function(){return this.global},r.destroy=function(){var n=this.container;this.clear(),this.off(),ce(n,"blur",this.blur),ce(n,"keydown",this.keydownEvent),ce(n,"keyup",this.keyupEvent)},r.keydown=function(n,i){return this.addEvent("keydown",n,i)},r.offKeydown=function(n,i){return this.removeEvent("keydown",n,i)},r.offKeyup=function(n,i){return this.removeEvent("keyup",n,i)},r.keyup=function(n,i){return this.addEvent("keyup",n,i)},r.addEvent=function(n,i,a){return qt(i)?this.on("".concat(n,".").concat($c(i).join(".")),a):ye(i)?this.on("".concat(n,".").concat(i),a):this.on(n,i),this},r.removeEvent=function(n,i,a){return qt(i)?this.off("".concat(n,".").concat($c(i).join(".")),a):ye(i)?this.off("".concat(n,".").concat(i),a):this.off(n,i),this},r.triggerEvent=function(n,i){this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.altKey=i.altKey,this.metaKey=i.metaKey;var a=sh(i.keyCode,i.key),o=a==="ctrl"||a==="shift"||a==="meta"||a==="alt",s={key:a,isToggle:o,inputEvent:i,keyCode:i.keyCode,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey,metaKey:i.metaKey};this.trigger(n,s),this.trigger("".concat(n,".").concat(a),s);var l=lh(i,a);l.length>1&&this.trigger("".concat(n,".").concat(l.join(".")),s)},t}(Qn),uh=py,ul=function(e,t){return ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ul(e,t)};function ch(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ul(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ue=function(){return ue=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ue.apply(this,arguments)};function hy(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function vy(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function Ai(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function gy(e){if("touches"in e){var t=e.touches[0]||e.changedTouches[0];return{clientX:t.clientX,clientY:t.clientY}}else return{clientX:e.clientX,clientY:e.clientY}}function my(e){if(typeof Map=="undefined")return e.filter(function(r,n){return e.indexOf(r)===n});var t=new Map;return e.filter(function(r){return t.has(r)?!1:(t.set(r,!0),!0)})}function Gc(e,t){return document.elementFromPoint&&document.elementFromPoint(e,t)||null}function dh(e,t,r){var n=e.tag,i=e.children,a=e.attributes,o=e.className,s=e.style,l=t||document.createElement(n);for(var u in a)l.setAttribute(u,a[u]);var c=l.children;if(i.forEach(function(f,p){dh(f,c[p],l)}),o&&o.split(" ").forEach(function(f){ie(l,f)||Ol(l,f)}),s){var d=l.style;for(var u in s)d[u]=s[u]}return!t&&r&&r.appendChild(l),l}function yy(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=t||{},a=i.className,o=a===void 0?"":a,s=i.style,l=s===void 0?{}:s,u=hy(i,["className","style"]);return{tag:e,className:o,style:l,attributes:u,children:r}}function Qo(e,t,r){e!==t&&r(e,t)}function Vc(e,t,r){var n;r===void 0&&(r=e.data.boundArea);var i=e.distX,a=i===void 0?0:i,o=e.distY,s=o===void 0?0:o,l=e.data,u=l.startX,c=l.startY;if(t>0){var d=Math.sqrt((a*a+s*s)/(1+t*t)),f=t*d;a=(a>=0?1:-1)*f,s=(s>=0?1:-1)*d}var p=Math.abs(a),h=Math.abs(s),v=a<0?u-r.left:r.right-u,g=s<0?c-r.top:r.bottom-c;n=Tf([p,h],[0,0],[v,g],!!t),p=n[0],h=n[1],a=(a>=0?1:-1)*p,s=(s>=0?1:-1)*h;var m=Math.min(0,a),b=Math.min(0,s),w=u+m,S=c+b;return{left:w,top:S,right:w+p,bottom:S+h,width:p,height:h}}function Fa(e){var t=e.getBoundingClientRect(),r=t.left,n=t.top,i=t.width,a=t.height;return{pos1:[r,n],pos2:[r+i,n],pos3:[r,n+a],pos4:[r+i,n+a]}}function Hc(e,t,r){var n=Pi(e,t),i=n.list,a=n.prevList,o=n.added,s=n.removed,l=n.maintained;return Ai(Ai(Ai([],o.map(function(u){return i[u]}),!0),s.map(function(u){return a[u]}),!0),r?l.map(function(u){var c=u[1];return i[c]}):[],!0)}function jc(e){for(var t=0,r=e.length,n=1;n<r;++n)t=Math.max(Le(e[n],e[n-1]),t);return t}var fh=Xf(`
:host {
    position: fixed;
    display: none;
    border: 1px solid #4af;
    background: rgba(68, 170, 255, 0.5);
    pointer-events: none;
    will-change: transform;
    z-index: 100;
}
`),by="selecto-selection ".concat(fh.className),lu=["boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd","checkOverflow","innerScrollOptions"],Wc=Ai(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],lu,!0),Sy=["dragStart","drag","dragEnd","selectStart","select","selectEnd","keydown","keyup","scroll","innerScroll"],wy=["clickTarget","getSelectableElements","setSelectedTargets","getElementPoints","getSelectedTargets","findSelectableTargets","triggerDragStart","checkScroll","selectTargetsByPoints","setSelectedTargetsByPoints"],Ey=function(e){ch(t,e);function t(n){n===void 0&&(n={});var i=e.call(this)||this;i.selectedTargets=[],i.dragScroll=new Wf,i._onDragStart=function(s,l){var u=s.data,c=s.clientX,d=s.clientY,f=s.inputEvent,p=i.options,h=p.selectFromInside,v=p.selectByClick,g=p.rootContainer,m=p.boundContainer,b=p.preventDragFromInside,w=b===void 0?!0:b,S=p.clickBySelectEnd,x=p.dragCondition;if(x&&!x(s)){s.stop();return}u.data={},u.innerWidth=window.innerWidth,u.innerHeight=window.innerHeight,i.findSelectableTargets(u),u.startSelectedTargets=i.selectedTargets,u.scaleMatrix=zl(),u.containerX=0,u.containerY=0;var y={left:-1/0,top:-1/0,right:1/0,bottom:1/0};if(g){var E=i.container.getBoundingClientRect();u.containerX=E.left,u.containerY=E.top,u.scaleMatrix=um(i.container,g)}if(m){var _=er(m)&&"element"in m?ue({left:!0,top:!0,bottom:!0,right:!0},m):{element:m,left:!0,top:!0,bottom:!0,right:!0},D=_.element,T=void 0;if(D){ye(D)?T=document.querySelector(D):D===!0?T=i.container:T=D;var k=T.getBoundingClientRect();_.left&&(y.left=k.left),_.top&&(y.top=k.top),_.right&&(y.right=k.right),_.bottom&&(y.bottom=k.bottom)}}u.boundArea=y;var O={left:c,top:d,right:c,bottom:d,width:0,height:0},I=[];if(!h||v&&!S){var R=i._findElement(l||Gc(c,d),u.selectableTargets);I=R?[R]:[]}var F=I.length>0,L=!h&&F;if(L&&!v)return s.stop(),!1;var N=f.type,$=N==="mousedown"||N==="touchstart",U=!s.isClick&&$?i.emit("dragStart",ue(ue({},s),{data:u.data})):!0;if(!U)return s.stop(),!1;if(i.continueSelect?(I=Hc(i.selectedTargets,I,i.continueSelectWithoutDeselect),u.startPassedTargets=i.selectedTargets):u.startPassedTargets=[],i._select(I,O,s,!0),u.startX=c,u.startY=d,u.selectFlag=!1,u.preventDragFromInside=!1,f.target){var z=Ha(u.scaleMatrix,[c-u.containerX,d-u.containerY]);i.target.style.cssText+="position: ".concat(g?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(z[0],"px, ").concat(z[1],"px)")}if(L&&v&&!S)f.preventDefault(),w&&(i._selectEnd(u.startSelectedTargets,u.startPassedTargets,O,s),u.preventDragFromInside=!0);else{u.selectFlag=!0,N==="touchstart"&&f.preventDefault();var H=i.options,X=H.scrollOptions,j=H.innerScrollOptions,K=!1;if(j){for(var q=s.inputEvent,Z=q.target,tt=null,ut=Z;ut&&ut!==document.body;){var ht=getComputedStyle(ut).overflow!=="visible";if(ht){tt=ut;break}ut=ut.parentElement}tt&&(u.innerScrollOptions=ue({container:tt,checkScrollEvent:!0},j===!0?{}:j),i.dragScroll.dragStart(s,u.innerScrollOptions),K=!0)}!K&&X&&X.container&&i.dragScroll.dragStart(s,X),S&&(u.selectFlag=!1,s.preventDrag())}return!0},i._onDrag=function(s){if(s.data.selectFlag){var l=i.scrollOptions,u=s.data.innerScrollOptions,c=u||(l==null?void 0:l.container);if(c&&!s.isScroll&&i.dragScroll.drag(s,u||l))return}i._checkSelected(s)},i._onDragEnd=function(s){var l=s.data,u=s.inputEvent,c=Vc(s,i.options.ratio),d=l.selectFlag;if(u&&i.emit("dragEnd",ue(ue({isDouble:!!s.isDouble,isClick:!!s.isClick,isDrag:!1,isSelect:d},s),{data:l.data,rect:c})),i.target.style.cssText+="display: none;",d)l.selectFlag=!1,i.dragScroll.dragEnd();else if(i.selectByClick&&i.clickBySelectEnd){var f=i._findElement(Gc(s.clientX,s.clientY),l.selectableTargets);i._select(f?[f]:[],c,s)}l.preventDragFromInside||i._selectEnd(l.startSelectedTargets,l.startPassedTargets,c,s)},i._onKeyDown=function(s){var l=i.options,u=!1;if(!i._keydownContinueSelect){var c=i._sameCombiKey(s,l.toggleContinueSelect);i._keydownContinueSelect=c,u=c}if(!i._keydownContinueSelectWithoutDeselection){var c=i._sameCombiKey(s,l.toggleContinueSelectWithoutDeselect);i._keydownContinueSelectWithoutDeselection=c,u=u||c}!u||i.emit("keydown",{keydownContinueSelect:i._keydownContinueSelect,keydownContinueSelectWithoutDeselection:i._keydownContinueSelectWithoutDeselection})},i._onKeyUp=function(s){var l=i.options,u=!1;if(i._keydownContinueSelect){var c=i._sameCombiKey(s,l.toggleContinueSelect,!0);i._keydownContinueSelect=!c,u=c}if(i._keydownContinueSelectWithoutDeselection){var c=i._sameCombiKey(s,l.toggleContinueSelectWithoutDeselect,!0);i._keydownContinueSelectWithoutDeselection=!c,u=u||c}!u||i.emit("keyup",{keydownContinueSelect:i._keydownContinueSelect,keydownContinueSelectWithoutDeselection:i._keydownContinueSelectWithoutDeselection})},i._onBlur=function(){(i._keydownContinueSelect||i._keydownContinueSelectWithoutDeselection)&&(i._keydownContinueSelect=!1,i._keydownContinueSelectWithoutDeselection=!1,i.emit("keyup",{keydownContinueSelect:i._keydownContinueSelect,keydownContinueSelectWithoutDeselection:i._keydownContinueSelectWithoutDeselection}))},i._onDocumentSelectStart=function(s){if(!!i.gesto.isFlag()){var l=i.dragContainer;l===window&&(l=document.documentElement);var u=l instanceof Element?[l]:[].slice.call(l),c=s.target;u.some(function(d){if(d===c||d.contains(c))return s.preventDefault(),!0})}},i.target=n.portalContainer;var a=n.container;i.options=ue({portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:void 0,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,checkOverflow:!1,innerScrollOptions:!1,getElementRect:Fa,cspNonce:"",ratio:0},n);var o=i.options.portalContainer;return o&&(a=o.parentElement),i.container=a||document.body,i.initElement(),i.initDragScroll(),i.setKeyController(),i}var r=t.prototype;return r.setSelectedTargets=function(n){var i=this.selectedTargets,a=Pi(i,n),o=a.added,s=a.removed,l=a.prevList,u=a.list;return this.selectedTargets=n,{added:o.map(function(c){return u[c]}),removed:s.map(function(c){return l[c]}),beforeSelected:i,selected:n}},r.setSelectedTargetsByPoints=function(n,i){var a=Math.min(n[0],i[0]),o=Math.min(n[1],i[1]),s=Math.max(n[0],i[0]),l=Math.max(n[1],i[1]),u={left:a,top:o,right:s,bottom:l,width:s-a,height:l-o},c={ignoreClick:!0};this.findSelectableTargets(c);var d=this.hitTest(u,c),f=this.setSelectedTargets(d);return ue(ue({},f),{rect:u})},r.selectTargetsByPoints=function(n,i){var a=new MouseEvent("mousedown",{clientX:n[0],clientY:n[1],cancelable:!0,bubbles:!0}),o=new MouseEvent("mousemove",{clientX:i[0],clientY:i[1],cancelable:!0,bubbles:!0}),s=new MouseEvent("mousemove",{clientX:i[0],clientY:i[1],cancelable:!0,bubbles:!0}),l=this.gesto,u=l.onDragStart(a);u!==!1&&(l.onDrag(o),l.onDragEnd(s))},r.getSelectedTargets=function(){return this.selectedTargets},r.triggerDragStart=function(n){return this.gesto.triggerDragStart(n),this},r.destroy=function(){this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),this.dragScroll.dragEnd(),ce(document,"selectstart",this._onDocumentSelectStart),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},r.getElementPoints=function(n){var i=this.getElementRect||Fa,a=i(n),o=[a.pos1,a.pos2,a.pos4,a.pos3];if(i!==Fa){var s=n.getBoundingClientRect();return Ls(o,s)}return o},r.getSelectableElements=function(){var n=[];return this.options.selectableTargets.forEach(function(i){if(mo(i)){var a=i();a&&n.push.apply(n,[].slice.call(a))}else if(i instanceof Node)n.push(i);else if(er(i))n.push(i.value||i.current);else{var o=[].slice.call(document.querySelectorAll(i));n.push.apply(n,o)}}),n},r.checkScroll=function(){if(!!this.gesto.isFlag()){var n=this.scrollOptions,i=this.gesto.getEventData().innerScrollOptions,a=i||(n==null?void 0:n.container);a&&this.dragScroll.checkScroll(ue({inputEvent:this.gesto.getCurrentEvent()},i||n))}},r.findSelectableTargets=function(n){var i=this;n===void 0&&(n=this.gesto.getEventData());var a=this.getSelectableElements(),o=a.map(function(c){return i.getElementPoints(c)});n.selectableTargets=a,n.selectablePoints=o,n.selectableParentMap=null;var s=this.options,l=s.checkOverflow||s.innerScrollOptions;if(l){var u=new Map;n.selectableInnerScrollParentMap=u,n.selectableInnerScrollPathsList=a.map(function(c,d){for(var f=c.parentElement,p=[],h=[],v=function(){var g=u.get(f);if(!g){var m=getComputedStyle(f).overflow!=="visible";if(m){var b=Fa(f);g={parentElement:f,indexes:[],points:[b.pos1,b.pos2,b.pos4,b.pos3],paths:Ai([],h,!0)},p.push(f),p.forEach(function(w){u.set(w,g)}),p=[]}}g?(f=g.parentElement,u.get(f).indexes.push(d),h.push(f)):p.push(f),f=f.parentElement};f&&f!==document.body;)v();return h})}return s.checkOverflow||(n.selectableInners=a.map(function(){return!0})),this._refreshGroups(n),a},r.clickTarget=function(n,i){var a=gy(n),o=a.clientX,s=a.clientY,l={data:{selectFlag:!1},clientX:o,clientY:s,inputEvent:n,isClick:!0,isTrusted:!1,stop:function(){return!1}};return this._onDragStart(l,i)&&this._onDragEnd(l),this},r.setKeyController=function(){var n=this.options,i=n.keyContainer,a=n.toggleContinueSelect,o=n.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(a||o)&&(this.keycon=new uh(i||window),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},r.setKeyEvent=function(){var n=this.options,i=n.toggleContinueSelect,a=n.toggleContinueSelectWithoutDeselect;!i&&!a||this.keycon||this.setKeyController()},r.setKeyContainer=function(n){var i=this,a=this.options;Qo(a.keyContainer,n,function(){a.keyContainer=n,i.setKeyController()})},r.getContinueSelect=function(){var n=this.options,i=n.continueSelect,a=n.toggleContinueSelect;return!a||!this._keydownContinueSelect?i:!i},r.getContinueSelectWithoutDeselect=function(){var n=this.options,i=n.continueSelectWithoutDeselect,a=n.toggleContinueSelectWithoutDeselect;return!a||!this._keydownContinueSelectWithoutDeselection?i:!i},r.setToggleContinueSelect=function(n){var i=this,a=this.options;Qo(a.toggleContinueSelect,n,function(){a.toggleContinueSelect=n,i.setKeyEvent()})},r.setToggleContinueSelectWithoutDeselect=function(n){var i=this,a=this.options;Qo(a.toggleContinueSelectWithoutDeselect,n,function(){a.toggleContinueSelectWithoutDeselect=n,i.setKeyEvent()})},r.setPreventDefault=function(n){this.gesto.options.preventDefault=n},r.setCheckInput=function(n){this.gesto.options.checkInput=n},r.initElement=function(){this.target=dh(yy("div",{className:by}),this.target,this.container);var n=this.target,i=this.options,a=i.dragContainer,o=i.checkInput,s=i.preventDefault,l=i.preventClickEventOnDragStart,u=i.preventClickEventOnDrag,c=i.preventClickEventByCondition,d=i.preventRightClick,f=d===void 0?!0:d;this.dragContainer=typeof a=="string"?[].slice.call(document.querySelectorAll(a)):a||this.target.parentNode,this.gesto=new Yf(this.dragContainer,{checkWindowBlur:!0,container:window,checkInput:o,preventDefault:s,preventClickEventOnDragStart:l,preventClickEventOnDrag:u,preventClickEventByCondition:c,preventRightClick:f}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),ve(document,"selectstart",this._onDocumentSelectStart),this.injectResult=fh.inject(n,{nonce:this.options.cspNonce})},r.hitTest=function(n,i,a){var o=this.options,s=o.hitRate,l=o.selectByClick,u=n.left,c=n.top,d=n.right,f=n.bottom,p=i.innerGroups,h=i.innerWidth,v=i.innerHeight,g=a==null?void 0:a.clientX,m=a==null?void 0:a.clientY,b=i.ignoreClick,w=[[u,c],[d,c],[d,f],[u,f]],S=Kn("".concat(s)),x=function($,U){var z=b?!1:Za([g,m],$);if(l&&z)return!0;var H=Us(w,$);if(!H.length)return!1;var X=ki(H),j=0;if(X===0&&ki($)===0?(j=jc($),X=jc(H)):j=ki($),S.unit==="px")return X>=S.value;var K=Ka(Math.round(X/j*100),0,100);return K>=Math.min(100,S.value)},y=i.selectableTargets,E=i.selectablePoints,_=i.selectableInners;if(!p)return y.filter(function($,U){return _[U]?x(E[U],y[U]):!1});for(var D=[],T=Math.floor(u/h),k=Math.floor(d/h),O=Math.floor(c/v),I=Math.floor(f/v),R=T;R<=k;++R){var F=p[R];if(!!F)for(var L=O;L<=I;++L){var N=F[L];!N||N.forEach(function($){var U=E[$],z=_[$],H=y[$];z&&x(U)&&D.push(H)})}}return my(D)},r.initDragScroll=function(){var n=this;this.dragScroll.on("scrollDrag",function(i){var a=i.next;a(n.gesto.getCurrentEvent())}).on("scroll",function(i){var a=i.container,o=i.direction,s=n.gesto.getEventData().innerScrollOptions;s?n.emit("innerScroll",{container:a,direction:o}):n.emit("scroll",{container:a,direction:o})}).on("move",function(i){var a=i.offsetX,o=i.offsetY,s=i.inputEvent,l=n.gesto;if(!(!l||!l.isFlag())){var u=n.gesto.getEventData(),c=u.boundArea;u.startX-=a,u.startY-=o;var d=n.gesto.getEventData().innerScrollOptions,f=d==null?void 0:d.container,p=!1;if(f){var h=u.selectableInnerScrollParentMap,v=h.get(f);v&&(v.paths.forEach(function(g){var m=h.get(g);m.points.forEach(function(b){b[0]-=a,b[1]-=o})}),v.indexes.forEach(function(g){u.selectablePoints[g].forEach(function(m){m[0]-=a,m[1]-=o})}),p=!0)}p||u.selectablePoints.forEach(function(g){g.forEach(function(m){m[0]-=a,m[1]-=o})}),n._refreshGroups(u),c.left-=a,c.right-=a,c.top-=o,c.bottom-=o,n.gesto.scrollBy(a,o,s.inputEvent),n._checkSelected(n.gesto.getCurrentEvent())}})},r._select=function(n,i,a,o){var s=a.inputEvent,l=a.data,u=this.setSelectedTargets(n);o&&this.emit("selectStart",ue(ue({},u),{rect:i,inputEvent:s,data:l.data,isTrusted:a.isTrusted})),(u.added.length||u.removed.length)&&this.emit("select",ue(ue({},u),{rect:i,inputEvent:s,data:l.data,isTrusted:a.isTrusted}))},r._selectEnd=function(n,i,a,o){var s=o.inputEvent,l=o.isDouble,u=o.data,c=Pi(n,this.selectedTargets),d=c.added,f=c.removed,p=c.prevList,h=c.list,v=Pi(i,this.selectedTargets),g=v.added,m=v.removed,b=v.prevList,w=v.list,S=s&&s.type,x=S==="mousedown"||S==="touchstart";this.emit("selectEnd",{startSelected:n,beforeSelected:i,selected:this.selectedTargets,added:d.map(function(y){return h[y]}),removed:f.map(function(y){return p[y]}),afterAdded:g.map(function(y){return w[y]}),afterRemoved:m.map(function(y){return b[y]}),isDragStart:x,isClick:!!o.isClick,isDouble:!!l,rect:a,inputEvent:s,data:u.data,isTrusted:o.isTrusted})},r._checkSelected=function(n,i){i===void 0&&(i=Vc(n,this.options.ratio));var a=n.data,o=i.top,s=i.left,l=i.width,u=i.height,c=a.selectFlag,d=a.containerX,f=a.containerY,p=a.scaleMatrix,h=Ha(p,[s-d,o-f]),v=Ha(p,[l,u]),g=[];if(c){this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(h[0],"px, ").concat(h[1],"px);")+"width:".concat(v[0],"px;height:").concat(v[1],"px;");var m=this.hitTest(i,a,n);g=Hc(a.startPassedTargets,m,this.continueSelect&&this.continueSelectWithoutDeselect)}var b=this.emit("drag",ue(ue({},n),{data:a.data,isSelect:c,rect:i}));if(b===!1){this.target.style.cssText+="display: none;",n.stop();return}c&&this._select(g,i,n)},r._sameCombiKey=function(n,i,a){if(!i)return!1;var o=lh(n.inputEvent,n.key),s=[].concat(i),l=qt(s[0])?s:[s];if(a){var u=n.key;return l.some(function(c){return c.some(function(d){return d===u})})}return l.some(function(c){return c.every(function(d){return o.indexOf(d)>-1})})},r._findElement=function(n,i){for(var a=n;a&&!(i.indexOf(a)>-1);)a=a.parentElement;return a},r._refreshGroups=function(n){var i,a=n.innerWidth,o=n.innerHeight,s=n.selectablePoints;if(this.options.checkOverflow){var l=(i=this.gesto.getEventData().innerScrollOptions)===null||i===void 0?void 0:i.container,u=n.selectableInnerScrollParentMap,c=n.selectableInnerScrollPathsList;n.selectableInners=c.map(function(p,h){var v=!1;return p.every(function(g){if(v)return!0;if(g===l)return v=!0,!0;var m=u.get(g);if(m){var b=s[h],w=m.points,S=Us(b,w);if(!S.length)return!1}return!0})})}if(!a||!o)n.innerGroups=null;else{var d=n.selectablePoints,f={};d.forEach(function(p,h){var v=1/0,g=-1/0,m=1/0,b=-1/0;p.forEach(function(x){var y=Math.floor(x[0]/a),E=Math.floor(x[1]/o);v=Math.min(y,v),g=Math.max(y,g),m=Math.min(E,m),b=Math.max(E,b)});for(var w=v;w<=g;++w)for(var S=m;S<=b;++S)f[w]=f[w]||{},f[w][S]=f[w][S]||[],f[w][S].push(h)}),n.innerGroups=f}},t=vy([_s(lu,function(n,i){var a={enumerable:!0,configurable:!0,get:function(){return this.options[i]}},o=Os("get ".concat(i));n[o]?a.get=function(){return this[o]()}:a.get=function(){return this.options[i]};var s=Os("set ".concat(i));n[s]?a.set=function(u){this[s](u)}:a.set=function(u){this.options[i]=u},Object.defineProperty(n,i,a)})],t),t}(Qn),Cy=function(e){ch(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Ey),xy=Cy,Bi=function(){return Bi=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Bi.apply(this,arguments)},ph={};wy.forEach(function(e){ph[e]=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(t=this.$_selecto)[e].apply(t,r)}});var hh={};lu.forEach(function(e){hh[e]=function(t){return this.$_selecto[e]=t}});var uu={name:"selecto",methods:ph,props:Wc,watch:hh,mounted:function(){var e=this,t=this.$props,r={};Wc.forEach(function(i){var a=t[i];Xn(a)||(r[i]=a)});var n=new xy(Bi(Bi({},r),{portalContainer:this.$refs.selectoElement}));this.$_selecto=n,Sy.forEach(function(i){n.on(i,function(a){e.$emit(i,Bi({},a))})})},beforeUnmount:function(){this.$_selecto.destroy()}};const Dy={ref:"selectoElement"};function _y(e,t,r,n,i,a){return J(),Ot("div",Dy,null,512)}uu.render=_y;uu.__file="src/Selecto.vue";var Oo={exports:{}};Oo.exports=vh;Oo.exports.addWheelListener=vh;Oo.exports.removeWheelListener=Ty;function vh(e,t,r){e.addEventListener("wheel",t,r)}function Ty(e,t,r){e.removeEventListener("wheel",t,r)}var Mo={exports:{}},Oy=4,My=.001,Py=1e-7,ky=10,Ti=11,Aa=1/(Ti-1),Iy=typeof Float32Array=="function";function gh(e,t){return 1-3*t+3*e}function mh(e,t){return 3*t-6*e}function yh(e){return 3*e}function so(e,t,r){return((gh(t,r)*e+mh(t,r))*e+yh(t))*e}function bh(e,t,r){return 3*gh(t,r)*e*e+2*mh(t,r)*e+yh(t)}function Ry(e,t,r,n,i){var a,o,s=0;do o=t+(r-t)/2,a=so(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>Py&&++s<ky);return o}function Fy(e,t,r,n){for(var i=0;i<Oy;++i){var a=bh(t,r,n);if(a===0)return t;var o=so(t,r,n)-e;t-=o/a}return t}function Ay(e){return e}var By=function(t,r,n,i){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&n===i)return Ay;for(var a=Iy?new Float32Array(Ti):new Array(Ti),o=0;o<Ti;++o)a[o]=so(o*Aa,t,n);function s(l){for(var u=0,c=1,d=Ti-1;c!==d&&a[c]<=l;++c)u+=Aa;--c;var f=(l-a[c])/(a[c+1]-a[c]),p=u+f*Aa,h=bh(p,t,n);return h>=My?Fy(l,p,t,n):h===0?p:Ry(l,u,u+Aa,t,n)}return function(u){return u===0?0:u===1?1:so(s(u),r,i)}},li=By,qc={ease:li(.25,.1,.25,1),easeIn:li(.42,0,1,1),easeOut:li(0,0,.58,1),easeInOut:li(.42,0,.58,1),linear:li(0,0,1,1)};Mo.exports=zy;Mo.exports.makeAggregateRaf=Sh;Mo.exports.sharedScheduler=Sh();function zy(e,t,r){var n=Object.create(null),i=Object.create(null);r=r||{};var a=typeof r.easing=="function"?r.easing:qc[r.easing];a||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),a=qc.ease);var o=typeof r.step=="function"?r.step:Yc,s=typeof r.done=="function"?r.done:Yc,l=Ny(r.scheduler),u=Object.keys(t);u.forEach(function(m){n[m]=e[m],i[m]=t[m]-e[m]});var c=typeof r.duration=="number"?r.duration:400,d=Math.max(1,c*.06),f,p=0;return f=l.next(v),{cancel:h};function h(){l.cancel(f),f=0}function v(){var m=a(p/d);p+=1,g(m),p<=d?(f=l.next(v),o(e)):(f=0,setTimeout(function(){s(e)},0))}function g(m){u.forEach(function(b){e[b]=i[b]*m+n[b]})}}function Yc(){}function Ny(e){if(!e){var t=typeof window!="undefined"&&window.requestAnimationFrame;return t?Ly():$y()}if(typeof e.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof e.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return e}function Ly(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function $y(){return{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}function Sh(){var e=new Set,t=new Set,r=0;return{next:i,cancel:i,clearAll:n};function n(){e.clear(),t.clear(),cancelAnimationFrame(r),r=0}function i(s){t.add(s),a()}function a(){r||(r=requestAnimationFrame(o))}function o(){r=0;var s=t;t=e,e=s,e.forEach(function(l){l()}),e.clear()}}var Uy=function(t){Vy(t);var r=Gy(t);return t.on=r.on,t.off=r.off,t.fire=r.fire,t};function Gy(e){var t=Object.create(null);return{on:function(r,n,i){if(typeof n!="function")throw new Error("callback is expected to be a function");var a=t[r];return a||(a=t[r]=[]),a.push({callback:n,ctx:i}),e},off:function(r,n){var i=typeof r=="undefined";if(i)return t=Object.create(null),e;if(t[r]){var a=typeof n!="function";if(a)delete t[r];else for(var o=t[r],s=0;s<o.length;++s)o[s].callback===n&&o.splice(s,1)}return e},fire:function(r){var n=t[r];if(!n)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var a=0;a<n.length;++a){var o=n[a];o.callback.apply(o.ctx,i)}return e}}}function Vy(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}var Hy=jy;function jy(e,t,r){typeof r!="object"&&(r={});var n=typeof r.minVelocity=="number"?r.minVelocity:5,i=typeof r.amplitude=="number"?r.amplitude:.25,a=typeof r.cancelAnimationFrame=="function"?r.cancelAnimationFrame:Wy(),o=typeof r.requestAnimationFrame=="function"?r.requestAnimationFrame:qy(),s,l,u=342,c,d,f,p,h,v,g,m;return{start:w,stop:x,cancel:b};function b(){a(c),a(m)}function w(){s=e(),p=g=d=h=0,l=new Date,a(c),a(m),c=o(S)}function S(){var E=Date.now(),_=E-l;l=E;var D=e(),T=D.x-s.x,k=D.y-s.y;s=D;var O=1e3/(1+_);d=.8*T*O+.2*d,h=.8*k*O+.2*h,c=o(S)}function x(){a(c),a(m);var E=e();f=E.x,v=E.y,l=Date.now(),(d<-n||d>n)&&(p=i*d,f+=p),(h<-n||h>n)&&(g=i*h,v+=g),m=o(y)}function y(){var E=Date.now()-l,_=!1,D=0,T=0;p&&(D=-p*Math.exp(-E/u),D>.5||D<-.5?_=!0:D=p=0),g&&(T=-g*Math.exp(-E/u),T>.5||T<-.5?_=!0:T=g=0),_&&(t(f+D,v+T),m=o(y))}}function Wy(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function qy(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(e){return setTimeout(e,16)}}var Yy=Xy;function Xy(e){if(e)return{capture:Kc,release:Kc};var t,r,n,i=!1;return{capture:a,release:o};function a(s){i=!0,r=window.document.onselectstart,n=window.document.ondragstart,window.document.onselectstart=Xc,t=s,t.ondragstart=Xc}function o(){!i||(i=!1,window.document.onselectstart=r,t&&(t.ondragstart=n))}}function Xc(e){return e.stopPropagation(),!1}function Kc(){}var Ky=Zy;function Zy(){this.x=0,this.y=0,this.scale=1}var cu={exports:{}};cu.exports=Qy;cu.exports.canAttach=wh;function Qy(e,t){if(!wh(e))throw new Error("svg element is required for svg.panzoom to work");var r=e.ownerSVGElement;if(!r)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");t.disableKeyboardInteraction||r.setAttribute("tabindex",0);var n={getBBox:a,getScreenCTM:o,getOwner:i,applyTransform:l,initTransform:s};return n;function i(){return r}function a(){var u=e.getBBox();return{left:u.x,top:u.y,width:u.width,height:u.height}}function o(){var u=r.getCTM();return u||r.getScreenCTM()}function s(u){var c=e.getCTM();c===null&&(c=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),u.x=c.e,u.y=c.f,u.scale=c.a,r.removeAttributeNS(null,"viewBox")}function l(u){e.setAttribute("transform","matrix("+u.scale+" 0 0 "+u.scale+" "+u.x+" "+u.y+")")}}function wh(e){return e&&e.ownerSVGElement&&e.getCTM}var du={exports:{}};du.exports=Jy;du.exports.canAttach=Eh;function Jy(e,t){var r=Eh(e);if(!r)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var n=e.parentElement;e.scrollTop=0,t.disableKeyboardInteraction||n.setAttribute("tabindex",0);var i={getBBox:o,getOwner:a,applyTransform:s};return i;function a(){return n}function o(){return{left:0,top:0,width:e.clientWidth,height:e.clientHeight}}function s(l){e.style.transformOrigin="0 0 0",e.style.transform="matrix("+l.scale+", 0, 0, "+l.scale+", "+l.x+", "+l.y+")"}}function Eh(e){return e&&e.parentElement&&e.style}var Zc=Oo.exports,Jo=Mo.exports,tb=Uy,eb=Hy,Ch=Yy,rb=Ch(),nb=Ch(!0),ib=Ky,Qc=cu.exports,Jc=du.exports,ab=1,ob=1.75,td=300,ed=200,sb=xh;function xh(e,t){t=t||{};var r=t.controller;if(r||(Qc.canAttach(e)?r=Qc(e,t):Jc.canAttach(e)&&(r=Jc(e,t))),!r)throw new Error("Cannot create panzoom for the current type of dom element");var n=r.getOwner(),i={x:0,y:0},a=!1,o=new ib;r.initTransform&&r.initTransform(o);var s=typeof t.filterKey=="function"?t.filterKey:$n,l=typeof t.pinchSpeed=="number"?t.pinchSpeed:1,u=t.bounds,c=typeof t.maxZoom=="number"?t.maxZoom:Number.POSITIVE_INFINITY,d=typeof t.minZoom=="number"?t.minZoom:0,f=typeof t.boundsPadding=="number"?t.boundsPadding:.05,p=typeof t.zoomDoubleClickSpeed=="number"?t.zoomDoubleClickSpeed:ob,h=t.beforeWheel||$n,v=t.beforeMouseDown||$n,g=typeof t.zoomSpeed=="number"?t.zoomSpeed:ab,m=rd(t.transformOrigin),b=t.enableTextSelection?nb:rb;lb(u),t.autocenter&&at();var w,S=0,x=0,y=0,E=null,_=new Date,D,T=!1,k=!1,O,I,R,F,L,N;"smoothScroll"in t&&!t.smoothScroll?N=ub():N=eb(le,V,t.smoothScroll);var $,U,z,H=!1;dt();var X={dispose:nt,moveBy:P,moveTo:Ce,smoothMoveTo:bn,centerOn:_r,zoomTo:ma,zoomAbs:We,smoothZoom:ga,smoothZoomAbs:zv,showRectangle:ht,pause:Z,resume:tt,isPaused:ut,getTransform:yt,getMinZoom:gt,setMinZoom:Ht,getMaxZoom:Ct,setMaxZoom:St,getTransformOrigin:Pt,setTransformOrigin:vt,getZoomSpeed:mt,setZoomSpeed:bt};tb(X);var j=typeof t.initialX=="number"?t.initialX:o.x,K=typeof t.initialY=="number"?t.initialY:o.y,q=typeof t.initialZoom=="number"?t.initialZoom:o.scale;return(j!=o.x||K!=o.y||q!=o.scale)&&We(j,K,q),X;function Z(){kt(),H=!0}function tt(){H&&(dt(),H=!1)}function ut(){return H}function ht(A){var W=n.getBoundingClientRect(),Y=Q(W.width,W.height),et=A.right-A.left,Dt=A.bottom-A.top;if(!Number.isFinite(et)||!Number.isFinite(Dt))throw new Error("Invalid rectangle");var Ft=Y.x/et,At=Y.y/Dt,pe=Math.min(Ft,At);o.x=-(A.left+et/2)*pe+Y.x/2,o.y=-(A.top+Dt/2)*pe+Y.y/2,o.scale=pe}function Q(A,W){if(r.getScreenCTM){var Y=r.getScreenCTM(),et=Y.a,Dt=Y.d,Ft=Y.e,At=Y.f;i.x=A*et-Ft,i.y=W*Dt-At}else i.x=A,i.y=W;return i}function at(){var A,W,Y=0,et=0,Dt=Pe();if(Dt)Y=Dt.left,et=Dt.top,A=Dt.right-Dt.left,W=Dt.bottom-Dt.top;else{var Ft=n.getBoundingClientRect();A=Ft.width,W=Ft.height}var At=r.getBBox();if(!(At.width===0||At.height===0)){var pe=W/At.height,En=A/At.width,jr=Math.min(En,pe);o.x=-(At.left+At.width/2)*jr+A/2+Y,o.y=-(At.top+At.height/2)*jr+W/2+et,o.scale=jr}}function yt(){return o}function gt(){return d}function Ht(A){d=A}function Ct(){return c}function St(A){c=A}function Pt(){return m}function vt(A){m=rd(A)}function mt(){return g}function bt(A){if(!Number.isFinite(A))throw new Error("Zoom speed should be a number");g=A}function le(){return{x:o.x,y:o.y}}function Ce(A,W){o.x=A,o.y=W,$t(),wn("pan"),Dr()}function Lt(A,W){Ce(o.x+A,o.y+W)}function $t(){var A=Pe();if(!!A){var W=!1,Y=je(),et=A.left-Y.right;return et>0&&(o.x+=et,W=!0),et=A.right-Y.left,et<0&&(o.x+=et,W=!0),et=A.top-Y.bottom,et>0&&(o.y+=et,W=!0),et=A.bottom-Y.top,et<0&&(o.y+=et,W=!0),W}}function Pe(){if(!!u){if(typeof u=="boolean"){var A=n.getBoundingClientRect(),W=A.width,Y=A.height;return{left:W*f,top:Y*f,right:W*(1-f),bottom:Y*(1-f)}}return u}}function je(){var A=r.getBBox(),W=Hr(A.left,A.top);return{left:W.x,top:W.y,right:A.width*o.scale+W.x,bottom:A.height*o.scale+W.y}}function Hr(A,W){return{x:A*o.scale+o.x,y:W*o.scale+o.y}}function Dr(){a=!0,w=window.requestAnimationFrame(xe)}function yn(A,W,Y){if(ts(A)||ts(W)||ts(Y))throw new Error("zoom requires valid numbers");var et=o.scale*Y;if(et<d){if(o.scale===d)return;Y=d/o.scale}if(et>c){if(o.scale===c)return;Y=c/o.scale}var Dt=Q(A,W);if(o.x=Dt.x-Y*(Dt.x-o.x),o.y=Dt.y-Y*(Dt.y-o.y),u&&f===1&&d===1)o.scale*=Y,$t();else{var Ft=$t();Ft||(o.scale*=Y)}wn("zoom"),Dr()}function We(A,W,Y){var et=Y/o.scale;yn(A,W,et)}function _r(A){var W=A.ownerSVGElement;if(!W)throw new Error("ui element is required to be within the scene");var Y=A.getBoundingClientRect(),et=Y.left+Y.width/2,Dt=Y.top+Y.height/2,Ft=W.getBoundingClientRect(),At=Ft.width/2-et,pe=Ft.height/2-Dt;P(At,pe,!0)}function bn(A,W){P(A-o.x,W-o.y,!0)}function P(A,W,Y){if(!Y)return Lt(A,W);$&&$.cancel();var et={x:0,y:0},Dt={x:A,y:W},Ft=0,At=0;$=Jo(et,Dt,{step:function(pe){Lt(pe.x-Ft,pe.y-At),Ft=pe.x,At=pe.y}})}function V(A,W){ya(),Ce(A,W)}function nt(){kt()}function dt(){n.addEventListener("mousedown",ku,{passive:!1}),n.addEventListener("dblclick",Pu,{passive:!1}),n.addEventListener("touchstart",ri,{passive:!1}),n.addEventListener("keydown",Yt,{passive:!1}),Zc.addWheelListener(n,Bu,{passive:!1}),Dr()}function kt(){Zc.removeWheelListener(n,Bu),n.removeEventListener("mousedown",ku),n.removeEventListener("keydown",Yt),n.removeEventListener("dblclick",Pu),n.removeEventListener("touchstart",ri),w&&(window.cancelAnimationFrame(w),w=0),N.cancel(),Fu(),Au(),b.release(),Bo()}function xe(){a&&_t()}function _t(){a=!1,r.applyTransform(o),wn("transform"),w=0}function Yt(A){var W=0,Y=0,et=0;if(A.keyCode===38?Y=1:A.keyCode===40?Y=-1:A.keyCode===37?W=1:A.keyCode===39?W=-1:A.keyCode===189||A.keyCode===109?et=1:(A.keyCode===187||A.keyCode===107)&&(et=-1),!s(A,W,Y,et)){if(W||Y){A.preventDefault(),A.stopPropagation();var Dt=n.getBoundingClientRect(),Ft=Math.min(Dt.width,Dt.height),At=.05,pe=Ft*At*W,En=Ft*At*Y;P(pe,En)}if(et){var jr=zu(et*100),Ft=m?ai():Sn();ma(Ft.x,Ft.y,jr)}}}function Sn(){var A=n.getBoundingClientRect();return{x:A.width/2,y:A.height/2}}function ri(A){if(Ao(A),ii(),A.touches.length===1)return Bv(A,A.touches[0]);A.touches.length===2&&(L=Mu(A.touches[0],A.touches[1]),z=!0,_u())}function Ao(A){t.onTouch&&!t.onTouch(A)||(A.stopPropagation(),A.preventDefault())}function ni(A){ii(),!(t.onDoubleClick&&!t.onDoubleClick(A))&&(A.preventDefault(),A.stopPropagation())}function Bv(A){x=new Date;var W=A.touches[0],Y=cr(W);D=Y;var et=Q(Y.x,Y.y);O=et.x,I=et.y,R=O,F=I,N.cancel(),_u()}function _u(){T||(T=!0,document.addEventListener("touchmove",Tu),document.addEventListener("touchend",va),document.addEventListener("touchcancel",va))}function Tu(A){if(A.touches.length===1){A.stopPropagation();var W=A.touches[0],Y=cr(W),et=Q(Y.x,Y.y),Dt=et.x-O,Ft=et.y-I;Dt!==0&&Ft!==0&&Nu(),O=et.x,I=et.y,P(Dt,Ft)}else if(A.touches.length===2){z=!0;var At=A.touches[0],pe=A.touches[1],En=Mu(At,pe),jr=1+(En/L-1)*l,Lu=cr(At),$u=cr(pe);if(O=(Lu.x+$u.x)/2,I=(Lu.y+$u.y)/2,m){var Y=ai();O=Y.x,I=Y.y}ma(O,I,jr),L=En,A.stopPropagation(),A.preventDefault()}}function ii(){y&&(clearTimeout(y),y=0)}function Ou(A){if(!!t.onClick){ii();var W=O-R,Y=I-F,et=Math.sqrt(W*W+Y*Y);et>5||(y=setTimeout(function(){y=0,t.onClick(A)},td))}}function va(A){if(ii(),A.touches.length>0){var W=cr(A.touches[0]),Y=Q(W.x,W.y);O=Y.x,I=Y.y}else{var et=new Date;if(et-S<td)if(m){var W=ai();ga(W.x,W.y,p)}else ga(D.x,D.y,p);else et-x<ed&&Ou(A);S=et,Bo(),Au()}}function Mu(A,W){var Y=A.clientX-W.clientX,et=A.clientY-W.clientY;return Math.sqrt(Y*Y+et*et)}function Pu(A){ni(A);var W=cr(A);m&&(W=ai()),ga(W.x,W.y,p)}function ku(A){if(ii(),!v(A)){if(E=A,_=new Date,T)return A.stopPropagation(),!1;var W=A.button===1&&window.event!==null||A.button===0;if(!!W){N.cancel();var Y=cr(A),et=Q(Y.x,Y.y);return R=O=et.x,F=I=et.y,document.addEventListener("mousemove",Iu),document.addEventListener("mouseup",Ru),b.capture(A.target||A.srcElement),!1}}}function Iu(A){if(!T){Nu();var W=cr(A),Y=Q(W.x,W.y),et=Y.x-O,Dt=Y.y-I;O=Y.x,I=Y.y,P(et,Dt)}}function Ru(){var A=new Date;A-_<ed&&Ou(E),b.release(),Bo(),Fu()}function Fu(){document.removeEventListener("mousemove",Iu),document.removeEventListener("mouseup",Ru),k=!1}function Au(){document.removeEventListener("touchmove",Tu),document.removeEventListener("touchend",va),document.removeEventListener("touchcancel",va),k=!1,z=!1,T=!1}function Bu(A){if(!h(A)){N.cancel();var W=A.deltaY;A.deltaMode>0&&(W*=100);var Y=zu(W);if(Y!==1){var et=m?ai():cr(A);ma(et.x,et.y,Y),A.preventDefault()}}}function cr(A){var W,Y,et=n.getBoundingClientRect();return W=A.clientX-et.left,Y=A.clientY-et.top,{x:W,y:Y}}function ga(A,W,Y){var et=o.scale,Dt={scale:et},Ft={scale:Y*et};N.cancel(),ya(),U=Jo(Dt,Ft,{step:function(At){We(A,W,At.scale)},done:Nv})}function zv(A,W,Y){var et=o.scale,Dt={scale:et},Ft={scale:Y};N.cancel(),ya(),U=Jo(Dt,Ft,{step:function(At){We(A,W,At.scale)}})}function ai(){var A=n.getBoundingClientRect();return{x:A.width*m.x,y:A.height*m.y}}function ma(A,W,Y){return N.cancel(),ya(),yn(A,W,Y)}function ya(){U&&(U.cancel(),U=null)}function zu(A){var W=Math.sign(A),Y=Math.min(.25,Math.abs(g*A/128));return 1-W*Y}function Nu(){k||(wn("panstart"),k=!0,N.start())}function Bo(){k&&(z||N.stop(),wn("panend"))}function Nv(){wn("zoomend")}function wn(A){X.fire(A,X)}}function rd(e){if(!!e){if(typeof e=="object")return(!Pn(e.x)||!Pn(e.y))&&nd(e),e;nd()}}function nd(e){throw console.error(e),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function $n(){}function lb(e){var t=typeof e;if(!(t==="undefined"||t==="boolean")){var r=Pn(e.left)&&Pn(e.top)&&Pn(e.bottom)&&Pn(e.right);if(!r)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function Pn(e){return Number.isFinite(e)}function ts(e){return Number.isNaN?Number.isNaN(e):e!==e}function ub(){return{start:$n,stop:$n,cancel:$n}}function cb(){if(typeof document=="undefined")return;var e=document.getElementsByTagName("script");if(!e)return;for(var t,r=0;r<e.length;++r){var n=e[r];if(n.src&&n.src.match(/\bpanzoom(\.min)?\.js/)){t=n;break}}if(!t)return;var i=t.getAttribute("query");if(!i)return;var a=t.getAttribute("name")||"pz",o=Date.now();s();function s(){var c=document.querySelector(i);if(!c){var d=Date.now(),f=d-o;if(f<2e3){setTimeout(s,100);return}console.error("Cannot find the panzoom element",a);return}var p=l(t);console.log(p),window[a]=xh(c,p)}function l(c){for(var d=c.attributes,f={},p=0;p<d.length;++p){var h=d[p],v=u(h);v&&(f[v.name]=v.value)}return f}function u(c){if(!!c.name){var d=c.name[0]==="p"&&c.name[1]==="z"&&c.name[2]==="-";if(!!d){var f=c.name.substr(3),p=JSON.parse(c.value);return{name:f,value:p}}}}}cb();const db=Ve({name:"DuctEl"}),fb={viewBox:"29.11 -4.312 470.89 47.466",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",width:"100%",height:"100%"},pb=Wt("g",{style:{},transform:"matrix(0.894879, 0, 0, 0.632443, -173.045822, -2.156334)"},[Wt("path",{d:"M 225.903 35.245 L 250 71.643 L 752.108 71.643 L 735.361 35.245 L 752.108 -3.408 L 250 -1.153 L 225.903 35.245 Z",style:{fill:"rgb(166, 166, 166)"}})],-1),hb=[pb];function vb(e,t,r,n,i,a){return J(),Ot("svg",fb,hb)}var gb=He(db,[["render",vb]]);const mb=Ve({name:"FanEl",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),yb=ea('<g fill="#659dc5" transform="matrix(1, 0, 0, 1, -0.231, -4.151388)" data-v-48423e73><g class="fan" data-v-48423e73><g id="g8" data-v-48423e73><path class="fan-background" d="m12.297 5.154c-6.117 0-11.066 4.9492-11.066 11.066 0 6.117 4.9492 11.066 11.066 11.066 5.7137 0 10.408-4.3091 11.003-9.8647h7.525v-12.268h-18.148c-0.12601-0.0043-0.25236 0-0.37941 0z" fill-rule="evenodd" stroke="#000" stroke-width="1px" fill="inherit" data-v-48423e73></path></g><g id="g4148" transform="translate(12.464 16.395)" data-v-48423e73><g id="g4162" stroke="#000" stroke-width="1.5" fill="none" class="rotating-middle" data-v-48423e73><path id="use3009" d="m-1.8112-3.9787 3.6227-4.4971" data-v-48423e73></path><path id="use3011" d="m0.87376-4.2835 5.5741-1.5089" data-v-48423e73></path><path id="use3013" d="m3.2243-2.9521 5.3965 2.0557" data-v-48423e73></path><path id="use3015" d="m4.3433-0.4935 3.1575 4.835" data-v-48423e73></path><path id="use3017" d="m3.8043 2.1547-0.28747 5.7676" data-v-48423e73></path><path id="use3019" d="m1.8113 3.9787-3.6227 4.4971" data-v-48423e73></path><path id="use3021" d="m-0.87324 4.2837-5.5741 1.5089" data-v-48423e73></path><path id="use3023" d="m-3.2242 2.9527-5.3965-2.0559" data-v-48423e73></path><path id="use3025" d="m-4.3432 0.4935-3.158-4.8353" data-v-48423e73></path><path id="use3027" d="m-3.8032-2.1541 0.2875-5.7676" data-v-48423e73></path></g></g></g></g>',1),bb=[yb];function Sb(e,t,r,n,i,a){return J(),Ot("svg",{height:"100%",width:"100%",viewBox:"0 0 32 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:ta({active:e.active,"in-alarm":e.inAlarm})},bb,2)}var wb=He(mb,[["render",Sb],["__scopeId","data-v-48423e73"]]);const Eb=Ve({name:"CoolingCoil",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),Cb=ea('<g stroke="#000" transform="matrix(1, 0, 0, 1, -6.058399, -1.3729)" data-v-7495a0c9><rect id="rect4367" height="27.246" width="17.868" x="7.066" y="2.3772" fill="#659dc5" data-v-7495a0c9></rect><g transform="translate(24.9334,29.6232) rotate(180)" data-v-7495a0c9><rect id="rect4367" class="cooling-coil" height="27.246" width="17.875" x="0" y="0" fill="#659dc5" stroke="none" data-v-7495a0c9></rect></g><rect id="rect4367" height="27.246" width="17.868" x="7.066" y="2.3772" fill="none" data-v-7495a0c9></rect><path id="path3001" d="m7.322 2.3729 17.424 27.254" stroke-width="1px" fill="none" data-v-7495a0c9></path><path id="path3003" d="m24.929 2.3734-17.642 27.182" stroke-width="1px" fill="none" data-v-7495a0c9></path></g>',1),xb=[Cb];function Db(e,t,r,n,i,a){return J(),Ot("svg",{viewBox:"0 0 20 29",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:ta({active:e.active,"in-alarm":e.inAlarm})},xb,2)}var _b=He(Eb,[["render",Db],["__scopeId","data-v-7495a0c9"]]);const Tb=Ve({name:"HeatingCoil",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),Ob=ea('<defs id="defs3" data-v-255f5864><rect id="heating-coil-rect" height="27.246" width="17.868" x="0" y="0" data-v-255f5864></rect></defs><g stroke="#000000" id="g15" transform="translate(-6.129206,-1.5327875)" data-v-255f5864><use xlink:href="#heating-coil-rect" fill="#659dc5" stroke="none" x="7.066" y="2.3771999" id="use6" data-v-255f5864></use><g transform="rotate(180,12.4667,14.8116)" id="g10" data-v-255f5864><use xlink:href="#heating-coil-rect" class="heating-coil" x="0" y="0" fill="#659dc5" stroke="none" id="use8" data-v-255f5864></use></g><use xlink:href="#heating-coil-rect" stroke-width="1" fill="none" x="7.066" y="2.3771999" id="use12" data-v-255f5864></use><path id="path3003" stroke-linejoin="miter" d="M 24.929,2.3734 7.2868,29.555" stroke="#000000" stroke-linecap="butt" stroke-width="1px" fill="none" data-v-255f5864></path></g>',2),Mb=[Ob];function Pb(e,t,r,n,i,a){return J(),Ot("svg",{viewBox:"0 0 19.526541 28.758413",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:ta({active:e.active,"in-alarm":e.inAlarm})},Mb,2)}var kb=He(Tb,[["render",Pb],["__scopeId","data-v-255f5864"]]);const Ib=Ve({name:"FilterEl"}),Rb={viewBox:"0 0 13 29",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Fb=Wt("g",{stroke:"#000","stroke-width":"1",transform:"matrix(1, 0, 0, 1, -9.37, -1.3252)"},[Wt("rect",{id:"rect4367",height:"27.35",width:"11.26",y:"2.3252",x:"10.37",fill:"#659dc5"}),Wt("path",{id:"path3756","stroke-linejoin":"miter",d:"m11.892,2.6997,8.2165,4.4334-8.2165,4.4334,8.2165,4.4334-8.2165,4.4334,8.2165,4.4334-8.2165,4.4334","stroke-linecap":"round","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-width":"1.2694304",fill:"none"})],-1),Ab=[Fb];function Bb(e,t,r,n,i,a){return J(),Ot("svg",Rb,Ab)}var zb=He(Ib,[["render",Bb]]);const Nb=Ve({name:"HumidifierEl",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),Lb=ea('<g class="duct-humidifier" transform="matrix(1, 0, 0, 1, -3.324199, -7.877)" data-v-451def2c><g id="g11" transform="translate(0 5.1505)" data-v-451def2c><g id="g13" stroke="#000" stroke-width=".5" class="water-drops" fill="#00f0ff" data-v-451def2c><path id="path4150" d="m14.291 6.7851c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><g id="g4236" transform="translate(0 .17167)" data-v-451def2c><path id="path4150-7" d="m18.179 5.3612c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><path id="path4150-7-1" d="m18.234 7.8656c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path></g></g><g id="g19" transform="translate(0,8)" data-v-451def2c><g id="g21" stroke="#000" stroke-width=".5" class="water-drops water-drops-2" fill="#00f0ff" data-v-451def2c><path id="path23" d="m14.291 6.7851c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><g id="g25" transform="translate(0 .17167)" data-v-451def2c><path id="path27" d="m18.179 5.3612c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><path id="path29" d="m18.234 7.8656c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path></g></g></g></g><path id="rect4136-6" class="humidifier-body" d="m4.3242 8.877v22.586h4.0059v-9.883h4.3789v-2.617h-4.3789v-5.721h4.3789v-2.617h-4.3789v-1.748h-4.0059z" stroke="#000" fill="#659dc5" data-v-451def2c></path></g>',1),$b=[Lb];function Ub(e,t,r,n,i,a){return J(),Ot("svg",{viewBox:"0 0 18 25",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:bx":"https://boxy-svg.com",class:ta({inactive:!e.active,active:e.active,"in-alarm":e.inAlarm})},$b,2)}var Gb=He(Nb,[["render",Ub],["__scopeId","data-v-451def2c"]]);const Vb=Ve({name:"DamperEl",props:{inAlarm:{type:Boolean,required:!1,default:!1}}}),Hb=ea('<rect id="rect4367" class="damper" height="27.5" width="12" stroke="#000000" stroke-miterlimit="4" x="0.69481522" y="0.67645228" stroke-dasharray="none" stroke-width="1" fill="#659dc5" data-v-5ff604df></rect><g stroke="#000000" stroke-width="1.5px" id="g19" transform="translate(-9.3051848,-1.5735477)" data-v-5ff604df><g transform="translate(16,7)" id="g5" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line3" data-v-5ff604df></line></g><g transform="translate(16,13)" id="g9" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line7" data-v-5ff604df></line></g><g transform="translate(16,19)" id="g13" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line11" data-v-5ff604df></line></g><g transform="translate(16,25)" id="g17" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line15" data-v-5ff604df></line></g></g><g id="g4877" stroke-linejoin="miter" transform="matrix(1.2268237,0,0,0.94845469,-13.299764,-1.1862851)" stroke="#000000" stroke-linecap="butt" fill="none" data-v-5ff604df><path id="path4317" stroke-width="1.06273px" d="m 16.298,2.2402 v 28.442" data-v-5ff604df></path></g>',3),jb=[Hb];function Wb(e,t,r,n,i,a){return J(),Ot("svg",{viewBox:"0 0 13.431694 28.950886",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:ta({"in-alarm":e.inAlarm})},jb,2)}var qb=He(Vb,[["render",Wb],["__scopeId","data-v-5ff604df"]]);const Yb=Ve({name:"TextEl",props:{content:{type:String,default:"Text element"},fontSize:{type:Number,default:16},color:{type:String,default:"black"}},setup(){const e=Jt(!1),t=Jt(null);return Dl(()=>{t.value.focus()}),{editable:e,editableElement:t}}});function Xb(e,t,r,n,i,a){return J(),Ot("div",{ref:"editableElement",contenteditable:!0,style:mf(`font-size: ${e.fontSize}px; color: ${e.color}`)},Nn(e.content),5)}var Kb=He(Yb,[["render",Xb],["__scopeId","data-v-4471ed3f"]]);const Zb=Ve({name:"TemperatureEl"}),Qb={height:"100%",width:"100%",version:"1.1",viewBox:"0 0 10.423067 22.852614",xmlns:"http://www.w3.org/2000/svg"},Jb=Wt("g",{id:"layer1",stroke:"#000000","stroke-width":"1px",transform:"translate(-10.804626,-9.2243756)"},[Wt("rect",{id:"rect3012",height:"14.505",width:"2.901",y:"9.9127998",x:"14.557",fill:"#ffff00"}),Wt("path",{id:"path3010","stroke-width":"1.2px",transform:"matrix(0.74098,0,0,0.74098,7.3047,15.679)",fill:"#659dc5",d:"m 17.949,15.898 -3.1021,5.373 H 8.6427 L 5.5406,15.898 8.6427,10.525 h 6.2042 z"})],-1),tS=Wt("g",{id:"g4141",transform:"translate(-1.2033861,-8.1217684)"},[Wt("circle",{r:"0.77312505",cy:"28.129852",cx:"6.4061227",id:"path4137",style:{fill:"none","fill-opacity":"1",stroke:"#000000","stroke-width":"0.5","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Wt("path",{"inkscape:connector-curvature":"0",id:"path4139",d:"M 6.4061205,27.157211 V 23.65349",style:{fill:"none","fill-rule":"evenodd",stroke:"#000000","stroke-width":"0.5","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}})],-1),eS=[Jb,tS];function rS(e,t,r,n,i,a){return J(),Ot("svg",Qb,eS)}var nS=He(Zb,[["render",rS]]);const iS=Ve({name:"ObjectType",components:{Duct:gb,Fan:wb,CoolingCoil:_b,HeatingCoil:kb,FilterEl:zb,Humidifier:Gb,Damper:qb,TextEl:Kb,Temperature:nS},props:{item:{type:Object,required:!0}},setup(e){return{range:te(()=>{if(e.item.t3Entry.range){const r=Ds.find(n=>n.id===e.item.t3Entry.range);if(r)return r.label}return"Unused"})}}}),aS={key:0,class:"object-title"},oS={key:0},sS={class:"ml-2 text-lg"},lS={key:1},uS={key:2},cS={key:3},dS={key:4},fS={key:5},pS={key:6},hS={key:7},vS={key:8},gS={key:9},mS={key:10},yS=["innerHTML"];function bS(e,t,r,n,i,a){const o=Te("fan"),s=Te("duct"),l=Te("cooling-coil"),u=Te("heating-coil"),c=Te("filter-el"),d=Te("humidifier"),f=Te("damper"),p=Te("text-el"),h=Te("temperature");return J(),Ot(Ei,null,[e.item.t3Entry?(J(),Ot("div",aS,[Tt(Nn(e.item.t3Entry[e.item.t3EntryDisplayField]||"N/A")+" - "+Nn(e.range)+" ",1),e.item.t3Entry.hw_switch_status!==1?(J(),Ot("span",oS," - "+Nn(e.item.t3Entry.type==="OUTPUT"&&e.item.t3Entry.hw_switch_status!==1?e.item.t3Entry.hw_switch_status?"MAN-ON":"MAN-OFF":""),1)):Ne("",!0),Wt("span",sS,[e.item.t3Entry.auto_manual?(J(),wt(yr,{key:1,name:"swipe_up"},{default:G(()=>[B(Tn,{anchor:"top middle",self:"center middle"},{default:G(()=>[Tt(" In manual mode ")]),_:1})]),_:1})):(J(),wt(yr,{key:0,name:"motion_photos_auto"},{default:G(()=>[B(Tn,{anchor:"top middle",self:"center middle"},{default:G(()=>[Tt(" In auto mode ")]),_:1})]),_:1}))])])):Ne("",!0),e.item.type==="Fan"?(J(),Ot("div",lS,[B(o,Tr({class:"movable-item fan"},e.item.props),null,16)])):e.item.type==="Duct"?(J(),Ot("div",uS,[B(s,{class:"movable-item duct"})])):e.item.type==="CoolingCoil"?(J(),Ot("div",cS,[B(l,Tr({class:"movable-item cooling-coil"},e.item.props),null,16)])):e.item.type==="HeatingCoil"?(J(),Ot("div",dS,[B(u,Tr({class:"movable-item heating-coil"},e.item.props),null,16)])):e.item.type==="Filter"?(J(),Ot("div",fS,[B(c,Tr({class:"movable-item filter"},e.item.props),null,16)])):e.item.type==="Humidifier"?(J(),Ot("div",pS,[B(d,Tr({class:"movable-item humidifier"},e.item.props),null,16)])):e.item.type==="Damper"?(J(),Ot("div",hS,[B(f,Tr({class:"movable-item damper"},e.item.props),null,16)])):e.item.type==="Text"?(J(),Ot("div",vS,[B(p,Tr({class:"movable-item text"},e.item.props),null,16)])):e.item.type==="Temperature"?(J(),Ot("div",gS,[B(h,Tr({class:"movable-item temperature"},e.item.props),null,16)])):e.item.type.startsWith("Custom-")?(J(),Ot("div",mS,[Wt("div",{innerHTML:e.item.svg},null,8,yS)])):Ne("",!0)],64)}var SS=He(iS,[["render",bS],["__scopeId","data-v-25770a0c"]]),da,Kt,Dh,zi,id,lo={},_h=[],wS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function br(e,t){for(var r in t)e[r]=t[r];return e}function Th(e){var t=e.parentNode;t&&t.removeChild(e)}function C(e,t,r){var n,i,a,o={};for(a in t)a=="key"?n=t[a]:a=="ref"?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?da.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return Ni(e,o,n,i,null)}function Ni(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Dh:i};return i==null&&Kt.vnode!=null&&Kt.vnode(a),a}function ES(){return{current:null}}function ei(e){return e.children}function Ge(e,t){this.props=e,this.context=t}function qi(e,t){if(t==null)return e.__?qi(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?qi(e):null}function Oh(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Oh(e)}}function ad(e){(!e.__d&&(e.__d=!0)&&zi.push(e)&&!uo.__r++||id!==Kt.debounceRendering)&&((id=Kt.debounceRendering)||setTimeout)(uo)}function uo(){for(var e;uo.__r=zi.length;)e=zi.sort(function(t,r){return t.__v.__b-r.__v.__b}),zi=[],e.some(function(t){var r,n,i,a,o,s;t.__d&&(o=(a=(r=t).__v).__e,(s=r.__P)&&(n=[],(i=br({},a)).__v=a.__v+1,fu(s,a,i,r.__n,s.ownerSVGElement!==void 0,a.__h!=null?[o]:null,n,o==null?qi(a):o,a.__h),Ih(n,a),a.__e!=o&&Oh(a)))})}function Mh(e,t,r,n,i,a,o,s,l,u){var c,d,f,p,h,v,g,m=n&&n.__k||_h,b=m.length;for(r.__k=[],c=0;c<t.length;c++)if((p=r.__k[c]=(p=t[c])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Ni(null,p,null,null,p):Array.isArray(p)?Ni(ei,{children:p},null,null,null):p.__b>0?Ni(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(f=m[c])===null||f&&p.key==f.key&&p.type===f.type)m[c]=void 0;else for(d=0;d<b;d++){if((f=m[d])&&p.key==f.key&&p.type===f.type){m[d]=void 0;break}f=null}fu(e,p,f=f||lo,i,a,o,s,l,u),h=p.__e,(d=p.ref)&&f.ref!=d&&(g||(g=[]),f.ref&&g.push(f.ref,null,p),g.push(d,p.__c||h,p)),h!=null?(v==null&&(v=h),typeof p.type=="function"&&p.__k===f.__k?p.__d=l=Ph(p,l,e):l=kh(e,p,f,m,h,l),typeof r.type=="function"&&(r.__d=l)):l&&f.__e==l&&l.parentNode!=e&&(l=qi(f))}for(r.__e=v,c=b;c--;)m[c]!=null&&Fh(m[c],m[c]);if(g)for(c=0;c<g.length;c++)Rh(g[c],g[++c],g[++c])}function Ph(e,t,r){for(var n,i=e.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=e,t=typeof n.type=="function"?Ph(n,t,r):kh(r,n,n,i,n.__e,t));return t}function kr(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(r){kr(r,t)}):t.push(e)),t}function kh(e,t,r,n,i,a){var o,s,l;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(r==null||i!=a||i.parentNode==null)t:if(a==null||a.parentNode!==e)e.appendChild(i),o=null;else{for(s=a,l=0;(s=s.nextSibling)&&l<n.length;l+=1)if(s==i)break t;e.insertBefore(i,a),o=a}return o!==void 0?o:i.nextSibling}function CS(e,t,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in t||co(e,a,null,r[a],n);for(a in t)i&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===t[a]||co(e,a,t[a],r[a],n)}function od(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=r==null?"":typeof r!="number"||wS.test(t)?r:r+"px"}function co(e,t,r,n,i){var a;t:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||od(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||od(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n||e.addEventListener(t,a?ld:sd,a):e.removeEventListener(t,a?ld:sd,a);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=r==null?"":r;break t}catch{}typeof r=="function"||(r==null||r===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,r))}}function sd(e){this.l[e.type+!1](Kt.event?Kt.event(e):e)}function ld(e){this.l[e.type+!0](Kt.event?Kt.event(e):e)}function fu(e,t,r,n,i,a,o,s,l){var u,c,d,f,p,h,v,g,m,b,w,S,x,y,E,_=t.type;if(t.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,s=t.__e=r.__e,t.__h=null,a=[s]),(u=Kt.__b)&&u(t);try{t:if(typeof _=="function"){if(g=t.props,m=(u=_.contextType)&&n[u.__c],b=u?m?m.props.value:u.__:n,r.__c?v=(c=t.__c=r.__c).__=c.__E:("prototype"in _&&_.prototype.render?t.__c=c=new _(g,b):(t.__c=c=new Ge(g,b),c.constructor=_,c.render=DS),m&&m.sub(c),c.props=g,c.state||(c.state={}),c.context=b,c.__n=n,d=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),_.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=br({},c.__s)),br(c.__s,_.getDerivedStateFromProps(g,c.__s))),f=c.props,p=c.state,d)_.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(_.getDerivedStateFromProps==null&&g!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(g,b),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(g,c.__s,b)===!1||t.__v===r.__v){for(c.props=g,c.state=c.__s,t.__v!==r.__v&&(c.__d=!1),c.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(D){D&&(D.__=t)}),w=0;w<c._sb.length;w++)c.__h.push(c._sb[w]);c._sb=[],c.__h.length&&o.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(g,c.__s,b),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,p,h)})}if(c.context=b,c.props=g,c.__v=t,c.__P=e,S=Kt.__r,x=0,"prototype"in _&&_.prototype.render){for(c.state=c.__s,c.__d=!1,S&&S(t),u=c.render(c.props,c.state,c.context),y=0;y<c._sb.length;y++)c.__h.push(c._sb[y]);c._sb=[]}else do c.__d=!1,S&&S(t),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++x<25);c.state=c.__s,c.getChildContext!=null&&(n=br(br({},n),c.getChildContext())),d||c.getSnapshotBeforeUpdate==null||(h=c.getSnapshotBeforeUpdate(f,p)),E=u!=null&&u.type===ei&&u.key==null?u.props.children:u,Mh(e,Array.isArray(E)?E:[E],t,r,n,i,a,o,s,l),c.base=t.__e,t.__h=null,c.__h.length&&o.push(c),v&&(c.__E=c.__=null),c.__e=!1}else a==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=xS(r.__e,t,r,n,i,a,o,l);(u=Kt.diffed)&&u(t)}catch(D){t.__v=null,(l||a!=null)&&(t.__e=s,t.__h=!!l,a[a.indexOf(s)]=null),Kt.__e(D,t,r)}}function Ih(e,t){Kt.__c&&Kt.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){Kt.__e(n,r.__v)}})}function xS(e,t,r,n,i,a,o,s){var l,u,c,d=r.props,f=t.props,p=t.type,h=0;if(p==="svg"&&(i=!0),a!=null){for(;h<a.length;h++)if((l=a[h])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){e=l,a[h]=null;break}}if(e==null){if(p===null)return document.createTextNode(f);e=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,f.is&&f),a=null,s=!1}if(p===null)d===f||s&&e.data===f||(e.data=f);else{if(a=a&&da.call(e.childNodes),u=(d=r.props||lo).dangerouslySetInnerHTML,c=f.dangerouslySetInnerHTML,!s){if(a!=null)for(d={},h=0;h<e.attributes.length;h++)d[e.attributes[h].name]=e.attributes[h].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(CS(e,f,d,i,s),c)t.__k=[];else if(h=t.props.children,Mh(e,Array.isArray(h)?h:[h],t,r,n,i&&p!=="foreignObject",a,o,a?a[0]:r.__k&&qi(r,0),s),a!=null)for(h=a.length;h--;)a[h]!=null&&Th(a[h]);s||("value"in f&&(h=f.value)!==void 0&&(h!==e.value||p==="progress"&&!h||p==="option"&&h!==d.value)&&co(e,"value",h,d.value,!1),"checked"in f&&(h=f.checked)!==void 0&&h!==e.checked&&co(e,"checked",h,d.checked,!1))}return e}function Rh(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){Kt.__e(n,r)}}function Fh(e,t,r){var n,i;if(Kt.unmount&&Kt.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||Rh(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){Kt.__e(a,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&Fh(n[i],t,r||typeof e.type!="function");r||e.__e==null||Th(e.__e),e.__=e.__e=e.__d=void 0}function DS(e,t,r){return this.constructor(e,r)}function ud(e,t,r){var n,i,a;Kt.__&&Kt.__(e,t),i=(n=typeof r=="function")?null:r&&r.__k||t.__k,a=[],fu(t,e=(!n&&r||t).__k=C(ei,null,[e]),i||lo,lo,t.ownerSVGElement!==void 0,!n&&r?[r]:i?null:t.firstChild?da.call(t.childNodes):null,a,!n&&r?r:i?i.__e:t.firstChild,n),Ih(a,e)}function Ah(e,t,r){var n,i,a,o=br({},e.props);for(a in t)a=="key"?n=t[a]:a=="ref"?i=t[a]:o[a]=t[a];return arguments.length>2&&(o.children=arguments.length>3?da.call(arguments,2):r),Ni(e.type,o,n||e.key,i||e.ref,null)}da=_h.slice,Kt={__e:function(e,t,r,n){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(s){e=s}throw e}},Dh=0,Ge.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=br({},this.state),typeof e=="function"&&(e=e(br({},r),this.props)),e&&br(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),ad(this))},Ge.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ad(this))},Ge.prototype.render=ei,zi=[],uo.__r=0;function _S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cd(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var TS=0;function OS(e){return"__private_"+TS+++"_"+e}function MS(e,t,r){const n=[];return e.forEach(i=>typeof i!="string"?n.push(i):t[Symbol.split](i).forEach((a,o,s)=>{a!==""&&n.push(a),o<s.length-1&&n.push(r)})),n}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */function dd(e,t){const r=/\$/g,n="$$$$";let i=[e];if(t==null)return i;for(const a of Object.keys(t))if(a!=="_"){let o=t[a];typeof o=="string"&&(o=r[Symbol.replace](o,n)),i=MS(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}var ui=OS("apply");class Bh{constructor(t){Object.defineProperty(this,ui,{value:PS}),this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(t)?t.forEach(cd(this,ui)[ui],this):cd(this,ui)[ui](t)}translate(t,r){return this.translateArray(t,r).join("")}translateArray(t,r){if(!_S(this.locale.strings,t))throw new Error(`missing string: ${t}`);const n=this.locale.strings[t];if(typeof n=="object"){if(r&&typeof r.smart_count!="undefined"){const a=this.locale.pluralize(r.smart_count);return dd(n[a],r)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return dd(n,r)}}function PS(e){if(!(e!=null&&e.strings))return;const t=this.locale;this.locale={...t,strings:{...t.strings,...e.strings}},this.locale.pluralize=e.pluralize||t.pluralize}var kS=function(){var t={},r=t._fns={};t.emit=function(o,s,l,u,c,d,f){var p=n(o);p.length&&i(o,p,[s,l,u,c,d,f])},t.on=function(o,s){r[o]||(r[o]=[]),r[o].push(s)},t.once=function(o,s){function l(){s.apply(this,arguments),t.off(o,l)}this.on(o,l)},t.off=function(o,s){var l=[];if(o&&s){var u=this._fns[o],c=0,d=u?u.length:0;for(c;c<d;c++)u[c]!==s&&l.push(u[c])}l.length?this._fns[o]=l:delete this._fns[o]};function n(a){var o=r[a]?r[a]:[],s=a.indexOf(":"),l=s===-1?[a]:[a.substring(0,s),a.substring(s+1)],u=Object.keys(r),c=0,d=u.length;for(c;c<d;c++){var f=u[c];if(f==="*"&&(o=o.concat(r[f])),l.length===2&&l[0]===f){o=o.concat(r[f]);break}}return o}function i(a,o,s){var l=0,u=o.length;for(l;l<u&&o[l];l++)o[l].event=a,o[l].apply(o[l],s)}return t};let IS="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",pu=(e=21)=>{let t="",r=e;for(;r--;)t+=IS[Math.random()*64|0];return t};var zh="Expected a function",fd=0/0,RS="[object Symbol]",FS=/^\s+|\s+$/g,AS=/^[-+]0x[0-9a-f]+$/i,BS=/^0b[01]+$/i,zS=/^0o[0-7]+$/i,NS=parseInt,LS=typeof Rr=="object"&&Rr&&Rr.Object===Object&&Rr,$S=typeof self=="object"&&self&&self.Object===Object&&self,US=LS||$S||Function("return this")(),GS=Object.prototype,VS=GS.toString,HS=Math.max,jS=Math.min,es=function(){return US.Date.now()};function WS(e,t,r){var n,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(zh);t=pd(t)||0,fo(r)&&(c=!!r.leading,d="maxWait"in r,a=d?HS(pd(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function p(y){var E=n,_=i;return n=i=void 0,u=y,o=e.apply(_,E),o}function h(y){return u=y,s=setTimeout(m,t),c?p(y):o}function v(y){var E=y-l,_=y-u,D=t-E;return d?jS(D,a-_):D}function g(y){var E=y-l,_=y-u;return l===void 0||E>=t||E<0||d&&_>=a}function m(){var y=es();if(g(y))return b(y);s=setTimeout(m,v(y))}function b(y){return s=void 0,f&&n?p(y):(n=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function S(){return s===void 0?o:b(es())}function x(){var y=es(),E=g(y);if(n=arguments,i=this,l=y,E){if(s===void 0)return h(l);if(d)return s=setTimeout(m,t),p(l)}return s===void 0&&(s=setTimeout(m,t)),o}return x.cancel=w,x.flush=S,x}function qS(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(zh);return fo(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),WS(e,t,{leading:n,maxWait:t,trailing:i})}function fo(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function YS(e){return!!e&&typeof e=="object"}function XS(e){return typeof e=="symbol"||YS(e)&&VS.call(e)==RS}function pd(e){if(typeof e=="number")return e;if(XS(e))return fd;if(fo(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fo(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(FS,"");var r=BS.test(e);return r||zS.test(e)?NS(e.slice(2),r?2:8):AS.test(e)?fd:+e}var Nh=qS;function Wa(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var KS=0;function Lh(e){return"__private_"+KS+++"_"+e}const ZS={version:"3.0.2"};var rn=Lh("callbacks"),rs=Lh("publish");class $h{constructor(){Object.defineProperty(this,rs,{value:QS}),Object.defineProperty(this,rn,{writable:!0,value:new Set}),this.state={}}getState(){return this.state}setState(t){const r={...this.state},n={...this.state,...t};this.state=n,Wa(this,rs)[rs](r,n,t)}subscribe(t){return Wa(this,rn)[rn].add(t),()=>{Wa(this,rn)[rn].delete(t)}}}function QS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Wa(this,rn)[rn].forEach(n=>{n(...t)})}$h.VERSION=ZS.version;function Uh(e){const t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}var hd={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function JS(e){var t;if(e.type)return e.type;const r=e.name?(t=Uh(e.name).extension)==null?void 0:t.toLowerCase():null;return r&&r in hd?hd[r]:"application/octet-stream"}function tw(e){return e.charCodeAt(0).toString(32)}function vd(e){let t="";return e.replace(/[^A-Z0-9]/ig,r=>(t+=`-${tw(r)}`,"/"))+t}function ew(e){let t="uppy";return typeof e.name=="string"&&(t+=`-${vd(e.name.toLowerCase())}`),e.type!==void 0&&(t+=`-${e.type}`),e.meta&&typeof e.meta.relativePath=="string"&&(t+=`-${vd(e.meta.relativePath.toLowerCase())}`),e.data.size!==void 0&&(t+=`-${e.data.size}`),e.data.lastModified!==void 0&&(t+=`-${e.data.lastModified}`),t}function rw(e){if(e==null&&typeof navigator!="undefined"&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const r=t[1];let[n,i]=r.split(".");return n=parseInt(n,10),i=parseInt(i,10),n<15||n===15&&i<15063||n>18||n===18&&i>=18218}function nw(e,t){return t.name?t.name:e.split("/")[0]==="image"?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}function ns(e){return e<10?`0${e}`:e.toString()}function qa(){const e=new Date,t=ns(e.getHours()),r=ns(e.getMinutes()),n=ns(e.getSeconds());return`${t}:${r}:${n}`}const iw={debug:()=>{},warn:()=>{},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.error(`[Uppy] [${qa()}]`,...t)}},aw={debug:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.debug(`[Uppy] [${qa()}]`,...t)},warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.warn(`[Uppy] [${qa()}]`,...t)},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.error(`[Uppy] [${qa()}]`,...t)}};var Li=function(t){if(typeof t!="number"||isNaN(t))throw new TypeError(`Expected a number, got ${typeof t}`);const r=t<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(t=-t),t<1)return`${(r?"-":"")+t} B`;const i=Math.min(Math.floor(Math.log(t)/Math.log(1024)),n.length-1);t=Number(t/Math.pow(1024,i));const a=n[i];return t>=10||t%1===0?`${(r?"-":"")+t.toFixed(0)} ${a}`:`${(r?"-":"")+t.toFixed(1)} ${a}`};function Gh(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}Gh.prototype.match=function(e){var t=!0,r=this.parts,n,i=r.length,a;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(a=(e||"").split(this.separator),n=0;t&&n<i;n++)r[n]!=="*"&&(n<a.length?t=r[n]===a[n]:t=!1);t=t&&a}else if(typeof e.splice=="function")for(t=[],n=e.length;n--;)this.match(e[n])&&(t[t.length]=e[n]);else if(typeof e=="object"){t={};for(var o in e)this.match(o)&&(t[o]=e[o])}return t};var ow=function(e,t,r){var n=new Gh(e,r||/[\/\.]/);return typeof t!="undefined"?n.match(t):n},sw=ow,lw=/[\/\+\.]/,uw=function(e,t){function r(n){var i=sw(n,e,lw);return i&&i.length>=2}return t?r(t.split(";")[0]):r};const cw={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Xe extends Error{constructor(){super(...arguments),this.isRestriction=!0}}class dw{constructor(t,r){this.i18n=r,this.getOpts=()=>{const n=t();if(n.restrictions.allowedFileTypes!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}validate(t,r){const{maxFileSize:n,minFileSize:i,maxTotalFileSize:a,maxNumberOfFiles:o,allowedFileTypes:s}=this.getOpts().restrictions;if(o&&r.filter(u=>!u.isGhost).length+1>o)throw new Xe(`${this.i18n("youCanOnlyUploadX",{smart_count:o})}`);if(s&&!s.some(u=>u.includes("/")?t.type?uw(t.type.replace(/;.*?$/,""),u):!1:u[0]==="."&&t.extension?t.extension.toLowerCase()===u.slice(1).toLowerCase():!1)){const u=s.join(", ");throw new Xe(this.i18n("youCanOnlyUploadFileTypes",{types:u}))}if(a&&t.size!=null&&r.reduce((u,c)=>u+c.size,t.size)>a)throw new Xe(this.i18n("exceedsSize",{size:Li(a),file:t.name}));if(n&&t.size!=null&&t.size>n)throw new Xe(this.i18n("exceedsSize",{size:Li(n),file:t.name}));if(i&&t.size!=null&&t.size<i)throw new Xe(this.i18n("inferiorSize",{size:Li(i)}))}validateMinNumberOfFiles(t){const{minNumberOfFiles:r}=this.getOpts().restrictions;if(Object.keys(t).length<r)throw new Xe(this.i18n("youHaveToAtLeastSelectX",{smart_count:r}))}getMissingRequiredMetaFields(t){const r=new Xe(this.i18n("missingRequiredMetaFieldOnFile",{fileName:t.name})),{requiredMetaFields:n}=this.getOpts().restrictions,i=[];for(const a of n)(!Object.hasOwn(t.meta,a)||t.meta[a]==="")&&i.push(a);return{missingFields:i,error:r}}}var fw={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};let Vh,Hh;function it(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var pw=0;function se(e){return"__private_"+pw+++"_"+e}const hw={version:"3.0.5"};var he=se("plugins"),Ke=se("restricter"),ci=se("storeUnsubscribe"),dr=se("emitter"),nn=se("preProcessors"),an=se("uploaders"),mr=se("postProcessors"),Re=se("informAndEmit"),Yi=se("checkRequiredMetaFieldsOnFile"),is=se("checkRequiredMetaFields"),di=se("assertNewUploadAllowed"),fi=se("checkAndCreateFileStateObject"),pi=se("startIfAutoProceed"),as=se("addListeners"),Ze=se("updateOnlineStatus"),fr=se("createUpload"),os=se("getUpload"),sn=se("removeUpload"),pr=se("runUpload");Vh=Symbol.for("uppy test: getPlugins");Hh=Symbol.for("uppy test: createUpload");class jh{constructor(t){Object.defineProperty(this,pr,{value:Dw}),Object.defineProperty(this,sn,{value:xw}),Object.defineProperty(this,os,{value:Cw}),Object.defineProperty(this,fr,{value:Ew}),Object.defineProperty(this,as,{value:ww}),Object.defineProperty(this,pi,{value:Sw}),Object.defineProperty(this,fi,{value:bw}),Object.defineProperty(this,di,{value:yw}),Object.defineProperty(this,is,{value:mw}),Object.defineProperty(this,Yi,{value:gw}),Object.defineProperty(this,Re,{value:vw}),Object.defineProperty(this,he,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,Ke,{writable:!0,value:void 0}),Object.defineProperty(this,ci,{writable:!0,value:void 0}),Object.defineProperty(this,dr,{writable:!0,value:kS()}),Object.defineProperty(this,nn,{writable:!0,value:new Set}),Object.defineProperty(this,an,{writable:!0,value:new Set}),Object.defineProperty(this,mr,{writable:!0,value:new Set}),Object.defineProperty(this,Ze,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=fw;const r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:cw,meta:{},onBeforeFileAdded:n=>n,onBeforeUpload:n=>n,store:new $h,logger:iw,infoTimeout:5e3};this.opts={...r,...t,restrictions:{...r.restrictions,...t&&t.restrictions}},t&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t&&t.debug&&(this.opts.logger=aw),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.calculateProgress=Nh(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:rw(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),it(this,Ke)[Ke]=new dw(()=>this.opts,this.i18n),it(this,ci)[ci]=this.store.subscribe((n,i,a)=>{this.emit("state-update",n,i,a),this.updateAll(i)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),it(this,as)[as]()}emit(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];it(this,dr)[dr].emit(t,...n)}on(t,r){return it(this,dr)[dr].on(t,r),this}once(t,r){return it(this,dr)[dr].once(t,r),this}off(t,r){return it(this,dr)[dr].off(t,r),this}updateAll(t){this.iteratePlugins(r=>{r.update(t)})}setState(t){this.store.setState(t)}getState(){return this.store.getState()}setFileState(t,r){if(!this.getState().files[t])throw new Error(`Can\u2019t set state for ${t} (the file could have been removed)`);this.setState({files:{...this.getState().files,[t]:{...this.getState().files[t],...r}}})}i18nInit(){const t=new Bh([this.defaultLocale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}setOptions(t){this.opts={...this.opts,...t,restrictions:{...this.opts.restrictions,...t&&t.restrictions}},t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(r=>{r.setOptions()}),this.setState()}resetProgress(){const t={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},r={...this.getState().files},n={};Object.keys(r).forEach(i=>{const a={...r[i]};a.progress={...a.progress,...t},n[i]=a}),this.setState({files:n,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(t){it(this,nn)[nn].add(t)}removePreProcessor(t){return it(this,nn)[nn].delete(t)}addPostProcessor(t){it(this,mr)[mr].add(t)}removePostProcessor(t){return it(this,mr)[mr].delete(t)}addUploader(t){it(this,an)[an].add(t)}removeUploader(t){return it(this,an)[an].delete(t)}setMeta(t){const r={...this.getState().meta,...t},n={...this.getState().files};Object.keys(n).forEach(i=>{n[i]={...n[i],meta:{...n[i].meta,...t}}}),this.log("Adding metadata:"),this.log(t),this.setState({meta:r,files:n})}setFileMeta(t,r){const n={...this.getState().files};if(!n[t]){this.log("Was trying to set metadata for a file that has been removed: ",t);return}const i={...n[t].meta,...r};n[t]={...n[t],meta:i},this.setState({files:n})}getFile(t){return this.getState().files[t]}getFiles(){const{files:t}=this.getState();return Object.values(t)}getObjectOfFilesPerState(){const{files:t,totalProgress:r,error:n}=this.getState(),i=Object.values(t),a=i.filter(h=>{let{progress:v}=h;return!v.uploadComplete&&v.uploadStarted}),o=i.filter(h=>!h.progress.uploadStarted),s=i.filter(h=>h.progress.uploadStarted||h.progress.preprocess||h.progress.postprocess),l=i.filter(h=>h.progress.uploadStarted),u=i.filter(h=>h.isPaused),c=i.filter(h=>h.progress.uploadComplete),d=i.filter(h=>h.error),f=a.filter(h=>!h.isPaused),p=i.filter(h=>h.progress.preprocess||h.progress.postprocess);return{newFiles:o,startedFiles:s,uploadStartedFiles:l,pausedFiles:u,completeFiles:c,erroredFiles:d,inProgressFiles:a,inProgressNotPausedFiles:f,processingFiles:p,isUploadStarted:l.length>0,isAllComplete:r===100&&c.length===i.length&&p.length===0,isAllErrored:!!n&&d.length===i.length,isAllPaused:a.length!==0&&u.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(h=>h.isGhost)}}validateRestrictions(t,r){r===void 0&&(r=this.getFiles());try{it(this,Ke)[Ke].validate(t,r)}catch(n){return n}return null}checkIfFileAlreadyExists(t){const{files:r}=this.getState();return!!(r[t]&&!r[t].isGhost)}addFile(t){it(this,di)[di](t);const{files:r}=this.getState();let n=it(this,fi)[fi](r,t);return r[n.id]&&r[n.id].isGhost&&(n={...r[n.id],data:t.data,isGhost:!1},this.log(`Replaced the blob in the restored ghost file: ${n.name}, ${n.id}`)),this.setState({files:{...r,[n.id]:n}}),this.emit("file-added",n),this.emit("files-added",[n]),this.log(`Added file: ${n.name}, ${n.id}, mime type: ${n.type}`),it(this,pi)[pi](),n.id}addFiles(t){it(this,di)[di]();const r={...this.getState().files},n=[],i=[];for(let a=0;a<t.length;a++)try{let o=it(this,fi)[fi](r,t[a]);r[o.id]&&r[o.id].isGhost&&(o={...r[o.id],data:t[a].data,isGhost:!1},this.log(`Replaced blob in a ghost file: ${o.name}, ${o.id}`)),r[o.id]=o,n.push(o)}catch(o){o.isRestriction||i.push(o)}if(this.setState({files:r}),n.forEach(a=>{this.emit("file-added",a)}),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.keys(n).forEach(a=>{this.log(`Added file: ${n[a].name}
 id: ${n[a].id}
 type: ${n[a].type}`)}),n.length>0&&it(this,pi)[pi](),i.length>0){let a=`Multiple errors occurred while adding files:
`;if(i.forEach(o=>{a+=`
 * ${o.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:i.length}),details:a},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(i,a);{const o=new Error(a);throw o.errors=i,o}}}removeFiles(t,r){const{files:n,currentUploads:i}=this.getState(),a={...n},o={...i},s=Object.create(null);t.forEach(d=>{n[d]&&(s[d]=n[d],delete a[d])});function l(d){return s[d]===void 0}Object.keys(o).forEach(d=>{const f=i[d].fileIDs.filter(l);if(f.length===0){delete o[d];return}const{capabilities:p}=this.getState();if(f.length!==i[d].fileIDs.length&&!p.individualCancellation)throw new Error("individualCancellation is disabled");o[d]={...i[d],fileIDs:f}});const u={currentUploads:o,files:a};Object.keys(a).length===0&&(u.allowNewUpload=!0,u.error=null,u.recoveredState=null),this.setState(u),this.calculateTotalProgress();const c=Object.keys(s);c.forEach(d=>{this.emit("file-removed",s[d],r)}),c.length>5?this.log(`Removed ${c.length} files`):this.log(`Removed files: ${c.join(", ")}`)}removeFile(t,r){r===void 0&&(r=null),this.removeFiles([t],r)}pauseResume(t){if(!this.getState().capabilities.resumableUploads||this.getFile(t).uploadComplete)return;const n=!(this.getFile(t).isPaused||!1);return this.setFileState(t,{isPaused:n}),this.emit("upload-pause",t,n),n}pauseAll(){const t={...this.getState().files};Object.keys(t).filter(n=>!t[n].progress.uploadComplete&&t[n].progress.uploadStarted).forEach(n=>{const i={...t[n],isPaused:!0};t[n]=i}),this.setState({files:t}),this.emit("pause-all")}resumeAll(){const t={...this.getState().files};Object.keys(t).filter(n=>!t[n].progress.uploadComplete&&t[n].progress.uploadStarted).forEach(n=>{const i={...t[n],isPaused:!1,error:null};t[n]=i}),this.setState({files:t}),this.emit("resume-all")}retryAll(){const t={...this.getState().files},r=Object.keys(t).filter(i=>t[i].error);if(r.forEach(i=>{const a={...t[i],isPaused:!1,error:null};t[i]=a}),this.setState({files:t,error:null}),this.emit("retry-all",r),r.length===0)return Promise.resolve({successful:[],failed:[]});const n=it(this,fr)[fr](r,{forceAllowNewUpload:!0});return it(this,pr)[pr](n)}cancelAll(t){let{reason:r="user"}=t===void 0?{}:t;if(this.emit("cancel-all",{reason:r}),r==="user"){const{files:n}=this.getState(),i=Object.keys(n);i.length&&this.removeFiles(i,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",t);const r=it(this,fr)[fr]([t],{forceAllowNewUpload:!0});return it(this,pr)[pr](r)}logout(){this.iteratePlugins(t=>{t.provider&&t.provider.logout&&t.provider.logout()})}calculateProgress(t,r){if(t==null||!this.getFile(t.id)){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}const n=Number.isFinite(r.bytesTotal)&&r.bytesTotal>0;this.setFileState(t.id,{progress:{...this.getFile(t.id).progress,bytesUploaded:r.bytesUploaded,bytesTotal:r.bytesTotal,percentage:n?Math.round(r.bytesUploaded/r.bytesTotal*100):0}}),this.calculateTotalProgress()}calculateTotalProgress(){const r=this.getFiles().filter(u=>u.progress.uploadStarted||u.progress.preprocess||u.progress.postprocess);if(r.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}const n=r.filter(u=>u.progress.bytesTotal!=null),i=r.filter(u=>u.progress.bytesTotal==null);if(n.length===0){const u=r.length*100,c=i.reduce((f,p)=>f+p.progress.percentage,0),d=Math.round(c/u*100);this.setState({totalProgress:d});return}let a=n.reduce((u,c)=>u+c.progress.bytesTotal,0);const o=a/n.length;a+=o*i.length;let s=0;n.forEach(u=>{s+=u.progress.bytesUploaded}),i.forEach(u=>{s+=o*(u.progress.percentage||0)/100});let l=a===0?0:Math.round(s/a*100);l>100&&(l=100),this.setState({totalProgress:l}),this.emit("progress",l)}updateOnlineStatus(){(typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(t,r){if(typeof t!="function"){const o=`Expected a plugin class, but got ${t===null?"null":typeof t}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const n=new t(this,r),i=n.id;if(!i)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(o)}return t.VERSION&&this.log(`Using ${i} v${t.VERSION}`),n.type in it(this,he)[he]?it(this,he)[he][n.type].push(n):it(this,he)[he][n.type]=[n],n.install(),this}getPlugin(t){for(const r of Object.values(it(this,he)[he])){const n=r.find(i=>i.id===t);if(n!=null)return n}}[Vh](t){return it(this,he)[he][t]}iteratePlugins(t){Object.values(it(this,he)[he]).flat(1).forEach(t)}removePlugin(t){this.log(`Removing plugin ${t.id}`),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();const r=it(this,he)[he][t.type],n=r.findIndex(o=>o.id===t.id);n!==-1&&r.splice(n,1);const a={plugins:{...this.getState().plugins,[t.id]:void 0}};this.setState(a)}close(t){let{reason:r}=t===void 0?{}:t;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:r}),it(this,ci)[ci](),this.iteratePlugins(n=>{this.removePlugin(n)}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",it(this,Ze)[Ze]),window.removeEventListener("offline",it(this,Ze)[Ze]))}hideInfo(){const{info:t}=this.getState();this.setState({info:t.slice(1)}),this.emit("info-hidden")}info(t,r,n){r===void 0&&(r="info"),n===void 0&&(n=3e3);const i=typeof t=="object";this.setState({info:[...this.getState().info,{type:r,message:i?t.message:t,details:i?t.details:null}]}),setTimeout(()=>this.hideInfo(),n),this.emit("info-visible")}log(t,r){const{logger:n}=this.opts;switch(r){case"error":n.error(t);break;case"warning":n.warn(t);break;default:n.debug(t);break}}restore(t){return this.log(`Core: attempting to restore upload "${t}"`),this.getState().currentUploads[t]?it(this,pr)[pr](t):(it(this,sn)[sn](t),Promise.reject(new Error("Nonexistent upload")))}[Hh](){return it(this,fr)[fr](...arguments)}addResultData(t,r){if(!it(this,os)[os](t)){this.log(`Not setting result for an upload that has been removed: ${t}`);return}const{currentUploads:n}=this.getState(),i={...n[t],result:{...n[t].result,...r}};this.setState({currentUploads:{...n,[t]:i}})}upload(){var t;(t=it(this,he)[he].uploader)!=null&&t.length||this.log("No uploader type plugins are used","warning");let{files:r}=this.getState();const n=this.opts.onBeforeUpload(r);return n===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&typeof n=="object"&&(r=n,this.setState({files:r})),Promise.resolve().then(()=>it(this,Ke)[Ke].validateMinNumberOfFiles(r)).catch(i=>{throw it(this,Re)[Re](i),i}).then(()=>{if(!it(this,is)[is](r))throw new Xe(this.i18n("missingRequiredMetaField"))}).catch(i=>{throw i}).then(()=>{const{currentUploads:i}=this.getState(),a=Object.values(i).flatMap(l=>l.fileIDs),o=[];Object.keys(r).forEach(l=>{const u=this.getFile(l);!u.progress.uploadStarted&&a.indexOf(l)===-1&&o.push(u.id)});const s=it(this,fr)[fr](o);return it(this,pr)[pr](s)}).catch(i=>{throw this.emit("error",i),this.log(i,"error"),i}))}}function vw(e,t){const{message:r,details:n=""}=e;e.isRestriction?this.emit("restriction-failed",t,e):this.emit("error",e),this.info({message:r,details:n},"error",this.opts.infoTimeout),this.log(`${r} ${n}`.trim(),"error")}function gw(e){const{missingFields:t,error:r}=it(this,Ke)[Ke].getMissingRequiredMetaFields(e);return t.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:t}),this.log(r.message),this.emit("restriction-failed",e,r),!1):!0}function mw(e){let t=!0;for(const r of Object.values(e))it(this,Yi)[Yi](r)||(t=!1);return t}function yw(e){const{allowNewUpload:t}=this.getState();if(t===!1){const r=new Xe(this.i18n("noMoreFilesAllowed"));throw it(this,Re)[Re](r,e),r}}function bw(e,t){t instanceof File&&(t={name:t.name,type:t.type,size:t.size,data:t});const r=JS(t),n=nw(r,t),i=Uh(n).extension,a=Boolean(t.isRemote),o=ew({...t,type:r});if(this.checkIfFileAlreadyExists(o)){const d=new Xe(this.i18n("noDuplicates",{fileName:n}));throw it(this,Re)[Re](d,t),d}const s=t.meta||{};s.name=n,s.type=r;const l=Number.isFinite(t.data.size)?t.data.size:null;let u={source:t.source||"",id:o,name:n,extension:i||"",meta:{...this.getState().meta,...s},type:r,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isRemote:a,remote:t.remote||"",preview:t.preview};const c=this.opts.onBeforeFileAdded(u,e);if(c===!1){const d=new Xe("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",t,d),d}else typeof c=="object"&&c!==null&&(u=c);try{const d=Object.keys(e).map(f=>e[f]);it(this,Ke)[Ke].validate(u,d)}catch(d){throw it(this,Re)[Re](d,u),d}return u}function Sw(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))}function ww(){const e=(t,r,n)=>{let i=t.message||"Unknown error";t.details&&(i+=` ${t.details}`),this.setState({error:i}),r!=null&&r.id in this.getState().files&&this.setFileState(r.id,{error:i,response:n})};this.on("error",e),this.on("upload-error",(t,r,n)=>{if(e(r,t,n),typeof r=="object"&&r.message){const i=new Error(r.message);i.details=r.message,r.details&&(i.details+=` ${r.details}`),i.message=this.i18n("failedToUpload",{file:t==null?void 0:t.name}),it(this,Re)[Re](i)}else it(this,Re)[Re](r)}),this.on("upload",()=>{this.setState({error:null})}),this.on("upload-started",t=>{if(t==null||!this.getFile(t.id)){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}this.setFileState(t.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:t.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(t,r)=>{if(t==null||!this.getFile(t.id)){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}const n=this.getFile(t.id).progress;this.setFileState(t.id,{progress:{...n,postprocess:it(this,mr)[mr].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:n.bytesTotal},response:r,uploadURL:r.uploadURL,isPaused:!1}),t.size==null&&this.setFileState(t.id,{size:r.bytesUploaded||n.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(t,r)=>{if(t==null||!this.getFile(t.id)){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}this.setFileState(t.id,{progress:{...this.getFile(t.id).progress,preprocess:r}})}),this.on("preprocess-complete",t=>{if(t==null||!this.getFile(t.id)){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}const r={...this.getState().files};r[t.id]={...r[t.id],progress:{...r[t.id].progress}},delete r[t.id].progress.preprocess,this.setState({files:r})}),this.on("postprocess-progress",(t,r)=>{if(t==null||!this.getFile(t.id)){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}this.setFileState(t.id,{progress:{...this.getState().files[t.id].progress,postprocess:r}})}),this.on("postprocess-complete",t=>{if(t==null||!this.getFile(t.id)){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}const r={...this.getState().files};r[t.id]={...r[t.id],progress:{...r[t.id].progress}},delete r[t.id].progress.postprocess,this.setState({files:r})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",t=>{t&&it(this,Yi)[Yi](t)}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",it(this,Ze)[Ze]),window.addEventListener("offline",it(this,Ze)[Ze]),setTimeout(it(this,Ze)[Ze],3e3))}function Ew(e,t){t===void 0&&(t={});const{forceAllowNewUpload:r=!1}=t,{allowNewUpload:n,currentUploads:i}=this.getState();if(!n&&!r)throw new Error("Cannot create a new upload: already uploading.");const a=pu();return this.emit("upload",{id:a,fileIDs:e}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...i,[a]:{fileIDs:e,step:0,result:{}}}}),a}function Cw(e){const{currentUploads:t}=this.getState();return t[e]}function xw(e){const t={...this.getState().currentUploads};delete t[e],this.setState({currentUploads:t})}async function Dw(e){let{currentUploads:t}=this.getState(),r=t[e];const n=r.step||0,i=[...it(this,nn)[nn],...it(this,an)[an],...it(this,mr)[mr]];try{for(let o=n;o<i.length&&r;o++){const s=i[o],l={...r,step:o};this.setState({currentUploads:{...t,[e]:l}}),await s(l.fileIDs,e),t=this.getState().currentUploads,r=t[e]}}catch(o){throw it(this,sn)[sn](e),o}if(r){r.fileIDs.forEach(u=>{const c=this.getFile(u);c&&c.progress.postprocess&&this.emit("postprocess-complete",c)});const o=r.fileIDs.map(u=>this.getFile(u)),s=o.filter(u=>!u.error),l=o.filter(u=>u.error);await this.addResultData(e,{successful:s,failed:l,uploadID:e}),t=this.getState().currentUploads,r=t[e]}let a;return r&&(a=r.result,this.emit("complete",a),it(this,sn)[sn](e)),a==null&&this.log(`Not setting result for an upload that has been removed: ${e}`),a}jh.VERSION=hw.version;function Wh(e){return(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE}function _w(e,t){return t===void 0&&(t=document),typeof e=="string"?t.querySelector(e):Wh(e)?e:null}function qh(e){for(var t;e&&!e.dir;)e=e.parentNode;return(t=e)==null?void 0:t.dir}class Tw{constructor(t,r){r===void 0&&(r={}),this.uppy=t,this.opts=r}getPluginState(){const{plugins:t}=this.uppy.getState();return t[this.id]||{}}setPluginState(t){const{plugins:r}=this.uppy.getState();this.uppy.setState({plugins:{...r,[this.id]:{...r[this.id],...t}}})}setOptions(t){this.opts={...this.opts,...t},this.setPluginState(),this.i18nInit()}i18nInit(){const t=new Bh([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}}function gd(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ow=0;function Mw(e){return"__private_"+Ow+++"_"+e}function Pw(e){let t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=i,t||(t=Promise.resolve().then(()=>(t=null,e(...r)))),t}}var hi=Mw("updateUI");class xr extends Tw{constructor(){super(...arguments),Object.defineProperty(this,hi,{writable:!0,value:void 0})}getTargetPlugin(t){let r;if(typeof t=="object"&&t instanceof xr)r=t;else if(typeof t=="function"){const n=t;this.uppy.iteratePlugins(i=>{i instanceof n&&(r=i)})}return r}mount(t,r){const n=r.id,i=_w(t);if(i){this.isTargetDOMEl=!0;const s=document.createElement("div");return s.classList.add("uppy-Root"),gd(this,hi)[hi]=Pw(l=>{!this.uppy.getPlugin(this.id)||(ud(this.render(l),s),this.afterUpdate())}),this.uppy.log(`Installing ${n} to a DOM element '${t}'`),this.opts.replaceTargetContent&&(i.innerHTML=""),ud(this.render(this.uppy.getState()),s),this.el=s,i.appendChild(s),s.dir=this.opts.direction||qh(s)||"ltr",this.onMount(),this.el}const a=this.getTargetPlugin(t);if(a)return this.uppy.log(`Installing ${n} to ${a.id}`),this.parent=a,this.el=a.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${n}`);let o=`Invalid target option given to ${n}.`;throw typeof t=="function"?o+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":o+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(o)}update(t){if(this.el!=null){var r,n;(r=(n=gd(this,hi))[hi])==null||r.call(n,t)}}unmount(){if(this.isTargetDOMEl){var t;(t=this.el)==null||t.remove()}this.onUnmount()}onMount(){}onUnmount(){}}function kw(e){if(!e.bytesUploaded)return 0;const t=Date.now()-e.uploadStarted;return e.bytesUploaded/(t/1e3)}function Iw(e){return e.bytesTotal-e.bytesUploaded}var ze={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},Yh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var a=arguments[i];if(!!a){var o=typeof a;if(o==="string"||o==="number")n.push(a);else if(Array.isArray(a)){if(a.length){var s=r.apply(null,a);s&&n.push(s)}}else if(o==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){n.push(a.toString());continue}for(var l in a)t.call(a,l)&&a[l]&&n.push(l)}}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Yh);var nr=Yh.exports;function ss(e){const t=[];let r,n;for(const{progress:a}of Object.values(e)){const{preprocess:o,postprocess:s}=a;n==null&&(o||s)&&({mode:r,message:n}=o||s),(o==null?void 0:o.mode)==="determinate"&&t.push(o.value),(s==null?void 0:s.mode)==="determinate"&&t.push(s.value)}const i=t.reduce((a,o)=>a+o/t.length,0);return{mode:r,message:n,value:i}}function Rw(e){const t=Math.floor(e/3600)%24,r=Math.floor(e/60)%60,n=Math.floor(e%60);return{hours:t,minutes:r,seconds:n}}function Fw(e){const t=Rw(e),r=t.hours===0?"":`${t.hours}h`,n=t.minutes===0?"":`${t.hours===0?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`,i=t.hours!==0?"":`${t.minutes===0?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`;return`${r}${n}${i}`}const Aw="\xB7",md=()=>` ${Aw} `;function Bw(e){const{newFiles:t,isUploadStarted:r,recoveredState:n,i18n:i,uploadState:a,isSomeGhost:o,startUpload:s}=e,l=nr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===ze.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),u=t&&r&&!n?i("uploadXNewFiles",{smart_count:t}):i("uploadXFiles",{smart_count:t});return C("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:s,disabled:o,"data-uppy-super-focusable":!0},u)}function zw(e){const{i18n:t,uppy:r}=e;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>r.retryAll(),"data-uppy-super-focusable":!0},C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},C("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function Nw(e){const{i18n:t,uppy:r}=e;return C("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>r.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},C("g",{fill:"none",fillRule:"evenodd"},C("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),C("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function Lw(e){const{isAllPaused:t,i18n:r,isAllComplete:n,resumableUploads:i,uppy:a}=e,o=r(t?"resume":"pause");function s(){return n?null:i?t?a.resumeAll():a.pauseAll():a.cancelAll()}return C("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:s,"data-uppy-super-focusable":!0},C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},C("g",{fill:"none",fillRule:"evenodd"},C("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),C("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function $w(e){const{i18n:t,doneButtonHandler:r}=e;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},t("done"))}function Xh(){return C("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},C("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function Uw(e){const{progress:t}=e,{value:r,mode:n,message:i}=t,a=Math.round(r*100),o="\xB7";return C("div",{className:"uppy-StatusBar-content"},C(Xh,null),n==="determinate"?`${a}% ${o} `:"",i)}function Gw(e){const{numUploads:t,complete:r,totalUploadedSize:n,totalSize:i,totalETA:a,i18n:o}=e,s=t>1;return C("div",{className:"uppy-StatusBar-statusSecondary"},s&&o("filesUploadedOfTotal",{complete:r,smart_count:t}),C("span",{className:"uppy-StatusBar-additionalInfo"},s&&md(),o("dataUploadedOfTotal",{complete:Li(n),total:Li(i)}),md(),o("xTimeLeft",{time:Fw(a)})))}function Kh(e){const{i18n:t,complete:r,numUploads:n}=e;return C("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:r,smart_count:n}))}function Vw(e){const{i18n:t,newFiles:r,startUpload:n}=e,i=nr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return C("div",{className:"uppy-StatusBar-statusSecondary"},C("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:r})),C("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:r}),onClick:n},t("upload")))}const Hw=Nh(Gw,500,{leading:!0,trailing:!0});function jw(e){const{i18n:t,supportsUploadProgress:r,totalProgress:n,showProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:s,newFiles:l,numUploads:u,complete:c,totalUploadedSize:d,totalSize:f,totalETA:p,startUpload:h}=e,v=l&&a;if(!a||o)return null;const g=t(s?"paused":"uploading");function m(){return!s&&!v&&i?r?C(Hw,{numUploads:u,complete:c,totalUploadedSize:d,totalSize:f,totalETA:p,i18n:t}):C(Kh,{i18n:t,complete:c,numUploads:u}):null}return C("div",{className:"uppy-StatusBar-content","aria-label":g,title:g},s?null:C(Xh,null),C("div",{className:"uppy-StatusBar-status"},C("div",{className:"uppy-StatusBar-statusPrimary"},r?`${g}: ${n}%`:g),m(),v?C(Vw,{i18n:t,newFiles:l,startUpload:h}):null))}function Ww(e){const{i18n:t}=e;return C("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},C("div",{className:"uppy-StatusBar-status"},C("div",{className:"uppy-StatusBar-statusPrimary"},C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},C("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function qw(e){const{error:t,i18n:r,complete:n,numUploads:i}=e;function a(){const o=`${r("uploadFailed")} 

 ${t}`;alert(o)}return C("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},C("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),C("div",{className:"uppy-StatusBar-status"},C("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),C("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button"},"?")),C(Kh,{i18n:r,complete:n,numUploads:i})))}const{STATE_ERROR:yd,STATE_WAITING:bd,STATE_PREPROCESSING:ls,STATE_UPLOADING:Ba,STATE_POSTPROCESSING:us,STATE_COMPLETE:za}=ze;function Yw(e){const{newFiles:t,allowNewUpload:r,isUploadInProgress:n,isAllPaused:i,resumableUploads:a,error:o,hideUploadButton:s,hidePauseResumeButton:l,hideCancelButton:u,hideRetryButton:c,recoveredState:d,uploadState:f,totalProgress:p,files:h,supportsUploadProgress:v,hideAfterFinish:g,isSomeGhost:m,doneButtonHandler:b,isUploadStarted:w,i18n:S,startUpload:x,uppy:y,isAllComplete:E,showProgressDetails:_,numUploads:D,complete:T,totalSize:k,totalETA:O,totalUploadedSize:I}=e;function R(){switch(f){case us:case ls:{const tt=ss(h);return tt.mode==="determinate"?tt.value*100:p}case yd:return null;case Ba:return v?p:null;default:return p}}function F(){switch(f){case us:case ls:{const{mode:tt}=ss(h);return tt==="indeterminate"}case Ba:return!v;default:return!1}}function L(){if(d)return!1;switch(f){case bd:return s||t===0;case za:return g;default:return!1}}const N=R(),$=L(),U=N!=null?N:100,z=!o&&t&&!n&&!i&&r&&!s,H=!u&&f!==bd&&f!==za,X=a&&!l&&f===Ba,j=o&&!E&&!c,K=b&&f===za,q=nr("uppy-StatusBar-progress",{"is-indeterminate":F()}),Z=nr("uppy-StatusBar",`is-${f}`,{"has-ghosts":m});return C("div",{className:Z,"aria-hidden":$},C("div",{className:q,style:{width:`${U}%`},role:"progressbar","aria-label":`${U}%`,"aria-valuetext":`${U}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":N}),(()=>{switch(f){case ls:case us:return C(Uw,{progress:ss(h)});case za:return C(Ww,{i18n:S});case yd:return C(qw,{error:o,i18n:S,numUploads:D,complete:T});case Ba:return C(jw,{i18n:S,supportsUploadProgress:v,totalProgress:p,showProgressDetails:_,isUploadStarted:w,isAllComplete:E,isAllPaused:i,newFiles:t,numUploads:D,complete:T,totalUploadedSize:I,totalSize:k,totalETA:O,startUpload:x});default:return null}})(),C("div",{className:"uppy-StatusBar-actions"},d||z?C(Bw,{newFiles:t,isUploadStarted:w,recoveredState:d,i18n:S,isSomeGhost:m,startUpload:x,uploadState:f}):null,j?C(zw,{i18n:S,uppy:y}):null,X?C(Lw,{isAllPaused:i,i18n:S,isAllComplete:E,resumableUploads:a,uppy:y}):null,H?C(Nw,{i18n:S,uppy:y}):null,K?C($w,{i18n:S,doneButtonHandler:b}):null))}var Xw={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};const Kw={version:"3.0.1"};function Zw(e){let t=0;return e.forEach(r=>{t+=kw(r.progress)}),t}function Qw(e){const t=Zw(e);if(t===0)return 0;const r=e.reduce((n,i)=>n+Iw(i.progress),0);return Math.round(r/t*10)/10}function Jw(e,t,r,n){if(e&&!t)return ze.STATE_ERROR;if(t)return ze.STATE_COMPLETE;if(r)return ze.STATE_WAITING;let i=ze.STATE_WAITING;const a=Object.keys(n);for(let o=0;o<a.length;o++){const{progress:s}=n[a[o]];if(s.uploadStarted&&!s.uploadComplete)return ze.STATE_UPLOADING;s.preprocess&&i!==ze.STATE_UPLOADING&&(i=ze.STATE_PREPROCESSING),s.postprocess&&i!==ze.STATE_UPLOADING&&i!==ze.STATE_PREPROCESSING&&(i=ze.STATE_POSTPROCESSING)}return i}class Zh extends xr{constructor(t,r){super(t,r),this.startUpload=()=>{const{recoveredState:i}=this.uppy.getState();if(i){this.uppy.emit("restore-confirmed");return}return this.uppy.upload().catch(()=>{})},this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Xw;const n={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};this.opts={...n,...r},this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(t){const{capabilities:r,files:n,allowNewUpload:i,totalProgress:a,error:o,recoveredState:s}=t,{newFiles:l,startedFiles:u,completeFiles:c,inProgressNotPausedFiles:d,isUploadStarted:f,isAllComplete:p,isAllErrored:h,isAllPaused:v,isUploadInProgress:g,isSomeGhost:m}=this.uppy.getObjectOfFilesPerState(),b=s?Object.values(n):l,w=Qw(d),S=!!r.resumableUploads,x=r.uploadProgress!==!1;let y=0,E=0;return u.forEach(_=>{y+=_.progress.bytesTotal||0,E+=_.progress.bytesUploaded||0}),Yw({error:o,uploadState:Jw(o,p,s,t.files||{}),allowNewUpload:i,totalProgress:a,totalSize:y,totalUploadedSize:E,isAllComplete:!1,isAllPaused:v,isAllErrored:h,isUploadStarted:f,isUploadInProgress:g,isSomeGhost:m,recoveredState:s,complete:c.length,newFiles:b.length,numUploads:u.length,totalETA:w,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:S,supportsUploadProgress:x,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){const t=this.el;qh(t)||(t.dir="ltr")}install(){const{target:t}=this.opts;t&&this.mount(t,this)}uninstall(){this.unmount()}}Zh.VERSION=Kw.version;const Sd=300;class t2 extends Ge{constructor(){super(...arguments),this.ref=ES()}componentWillEnter(t){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(t,Sd)}componentWillLeave(t){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(t,Sd)}render(){const{children:t}=this.props;return C("div",{className:"uppy-Informer-animated",ref:this.ref},t)}}function e2(e,t){return Object.assign(e,t)}function r2(e,t){var r;return(r=e==null?void 0:e.key)!=null?r:t}function n2(e,t){const r=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return r[t]||(r[t]=n=>{e.refs[t]=n})}function vi(e){const t={};for(let r=0;r<e.length;r++)if(e[r]!=null){const n=r2(e[r],r.toString(36));t[n]=e[r]}return t}function i2(e,t){e=e||{},t=t||{};const r=o=>t.hasOwnProperty(o)?t[o]:e[o],n={};let i=[];for(const o in e)t.hasOwnProperty(o)?i.length&&(n[o]=i,i=[]):i.push(o);const a={};for(const o in t){if(n.hasOwnProperty(o))for(let s=0;s<n[o].length;s++){const l=n[o][s];a[n[o][s]]=r(l)}a[o]=r(o)}for(let o=0;o<i.length;o++)a[i[o]]=r(i[o]);return a}const a2=e=>e;class Qh extends Ge{constructor(t,r){super(t,r),this.refs={},this.state={children:vi(kr(kr(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const t=this.state.children;for(const r in t)t[r]&&this.performAppear(r)}componentWillReceiveProps(t){const r=vi(kr(t.children)||[]),n=this.state.children;this.setState(a=>({children:i2(a.children,r)}));let i;for(i in r)if(r.hasOwnProperty(i)){const a=n&&n.hasOwnProperty(i);r[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in n)if(n.hasOwnProperty(i)){const a=r&&r.hasOwnProperty(i);n[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:t}=this;this.keysToEnter=[],t.forEach(this.performEnter);const{keysToLeave:r}=this;this.keysToLeave=[],r.forEach(this.performLeave)}_finishAbort(t){const r=this.keysToAbortLeave.indexOf(t);r!==-1&&this.keysToAbortLeave.splice(r,1)}performAppear(t){this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];r.componentWillAppear?r.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)}_handleDoneAppearing(t){const r=this.refs[t];r.componentDidAppear&&r.componentDidAppear(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const n=vi(kr(this.props.children)||[]);(!n||!n.hasOwnProperty(t))&&this.performLeave(t)}performEnter(t){this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];r.componentWillEnter?r.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)}_handleDoneEntering(t){const r=this.refs[t];r.componentDidEnter&&r.componentDidEnter(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const n=vi(kr(this.props.children)||[]);(!n||!n.hasOwnProperty(t))&&this.performLeave(t)}performLeave(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;this.currentlyTransitioningKeys[t]=!0;const n=this.refs[t];n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)}_handleDoneLeaving(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;const n=this.refs[t];n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[t];const i=vi(kr(this.props.children)||[]);if(i&&i.hasOwnProperty(t))this.performEnter(t);else{const a=e2({},this.state.children);delete a[t],this.setState({children:a})}}render(t,r){let{childFactory:n,transitionLeave:i,transitionName:a,transitionAppear:o,transitionEnter:s,transitionLeaveTimeout:l,transitionEnterTimeout:u,transitionAppearTimeout:c,component:d,...f}=t,{children:p}=r;const h=Object.entries(p).map(v=>{let[g,m]=v;if(!m)return;const b=n2(this,g);return Ah(n(m),{ref:b,key:g})}).filter(Boolean);return C(d,f,h)}}Qh.defaultProps={component:"span",childFactory:a2};const o2={version:"3.0.1"};class Jh extends xr{constructor(t,r){super(t,r),this.render=i=>C("div",{className:"uppy uppy-Informer"},C(Qh,null,i.info.map(a=>C(t2,{key:a.message},C("p",{role:"alert"},a.message," ",a.details&&C("span",{"aria-label":a.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${a.message} 

 ${a.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";const n={};this.opts={...n,...r}}install(){const{target:t}=this.opts;t&&this.mount(t,this)}}Jh.VERSION=o2.version;const s2=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function l2(e,t,r){var n,i;const a=s2.exec(e),o=(n=(i=t.mimeType)!=null?i:a==null?void 0:a[1])!=null?n:"plain/text";let s;if(a[2]!=null){const l=atob(decodeURIComponent(a[3])),u=new Uint8Array(l.length);for(let c=0;c<l.length;c++)u[c]=l.charCodeAt(c);s=[u]}else s=[decodeURIComponent(a[3])];return r?new File(s,t.name||"",{type:o}):new Blob(s,{type:o})}function wd(e){return e.startsWith("blob:")}function Ed(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}function Mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tv=typeof self!="undefined"?self:global;const Xi=typeof navigator!="undefined",u2=Xi&&typeof HTMLImageElement=="undefined",Cd=!(typeof global=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),ev=tv.Buffer,rv=!!ev,c2=e=>e!==void 0;function nv(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(c2).length===0)}function fe(e){let t=new Error(e);throw delete t.stack,t}function xd(e){let t=function(r){let n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const cs=e=>String.fromCharCode.apply(null,e),Dd=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0;class Qe{static from(t,r){return t instanceof this&&t.le===r?t:new Qe(t,void 0,void 0,r)}constructor(t,r=0,n,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){n===void 0&&(n=t.byteLength-r);let a=new DataView(t,r,n);this._swapDataView(a)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof Qe){n===void 0&&(n=t.byteLength-r),(r+=t.byteOffset)+n>t.byteOffset+t.byteLength&&fe("Creating view outside of available memory in ArrayBuffer");let a=new DataView(t.buffer,r,n);this._swapDataView(a)}else if(typeof t=="number"){let a=new DataView(new ArrayBuffer(t));this._swapDataView(a)}else fe("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,r,n=Qe){return t instanceof DataView||t instanceof Qe?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||fe("BufferView.set(): Invalid data argument."),this.toUint8().set(t,r),new n(this,r,t.byteLength)}subarray(t,r){return r=r||this._lengthToEnd(t),new Qe(this,t,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,r){return new Uint8Array(this.buffer,this.byteOffset+t,r)}getString(t=0,r=this.byteLength){return i=this.getUint8Array(t,r),Dd?Dd.decode(i):rv?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(cs(i)));var i}getLatin1String(t=0,r=this.byteLength){let n=this.getUint8Array(t,r);return cs(n)}getUnicodeString(t=0,r=this.byteLength){const n=[];for(let i=0;i<r&&t+i<this.byteLength;i+=2)n.push(this.getUint16(t+i));return cs(n)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,r=this.le){return this.dataView.getInt16(t,r)}getInt32(t,r=this.le){return this.dataView.getInt32(t,r)}getUint16(t,r=this.le){return this.dataView.getUint16(t,r)}getUint32(t,r=this.le){return this.dataView.getUint32(t,r)}getFloat32(t,r=this.le){return this.dataView.getFloat32(t,r)}getFloat64(t,r=this.le){return this.dataView.getFloat64(t,r)}getFloat(t,r=this.le){return this.dataView.getFloat32(t,r)}getDouble(t,r=this.le){return this.dataView.getFloat64(t,r)}getUintBytes(t,r,n){switch(r){case 1:return this.getUint8(t,n);case 2:return this.getUint16(t,n);case 4:return this.getUint32(t,n);case 8:return this.getUint64&&this.getUint64(t,n)}}getUint(t,r,n){switch(r){case 8:return this.getUint8(t,n);case 16:return this.getUint16(t,n);case 32:return this.getUint32(t,n);case 64:return this.getUint64&&this.getUint64(t,n)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}}function cl(e,t){fe(`${e} '${t}' was not loaded, try using full build of exifr.`)}class hu extends Map{constructor(t){super(),this.kind=t}get(t,r){return this.has(t)||cl(this.kind,t),r&&(t in r||function(n,i){fe(`Unknown ${n} '${i}'.`)}(this.kind,t),r[t].enabled||cl(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}}var Po=new hu("file parser"),Ie=new hu("segment parser"),fa=new hu("file reader");let d2=tv.fetch;function _d(e,t){return(r=e).startsWith("data:")||r.length>1e4?fl(e,t,"base64"):Cd&&e.includes("://")?dl(e,t,"url",po):Cd?fl(e,t,"fs"):Xi?dl(e,t,"url",po):void fe("Invalid input argument");var r}async function dl(e,t,r,n){return fa.has(r)?fl(e,t,r):n?async function(i,a){let o=await a(i);return new Qe(o)}(e,n):void fe(`Parser ${r} is not loaded`)}async function fl(e,t,r){let n=new(fa.get(r))(e,t);return await n.read(),n}const po=e=>d2(e).then(t=>t.arrayBuffer()),Ki=e=>new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>t(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(e)});class f2 extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function iv(e,t,r){let n=new f2;for(let[i,a]of r)n.set(i,a);if(Array.isArray(t))for(let i of t)e.set(i,n);else e.set(t,n);return n}function av(e,t,r){let n,i=e.get(t);for(n of r)i.set(n[0],n[1])}const pa=new Map,vu=new Map,gu=new Map,kn=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],ko=["jfif","xmp","icc","iptc","ihdr"],Zi=["tiff",...ko],re=["ifd0","ifd1","exif","gps","interop"],In=[...Zi,...re],Rn=["makerNote","userComment"],Io=["translateKeys","translateValues","reviveValues","multiSegment"],Fn=[...Io,"sanitize","mergeOutput","silentErrors"];class ov{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class gi extends ov{get needed(){return this.enabled||this.deps.size>0}constructor(t,r,n,i){if(super(),Mt(this,"enabled",!1),Mt(this,"skip",new Set),Mt(this,"pick",new Set),Mt(this,"deps",new Set),Mt(this,"translateKeys",!1),Mt(this,"translateValues",!1),Mt(this,"reviveValues",!1),this.key=t,this.enabled=r,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=re.includes(t),this.canBeFiltered&&(this.dict=pa.get(t)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=n;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:fe(`Invalid options argument: ${n}`)}applyInheritables(t){let r,n;for(r of Io)n=t[r],n!==void 0&&(this[r]=n)}translateTagSet(t,r){if(this.dict){let n,i,{tagKeys:a,tagValues:o}=this.dict;for(n of t)typeof n=="string"?(i=o.indexOf(n),i===-1&&(i=a.indexOf(Number(n))),i!==-1&&r.add(Number(a[i]))):r.add(n)}else for(let n of t)r.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,ho(this.pick,this.deps)):this.enabled&&this.pick.size>0&&ho(this.pick,this.deps)}}var be={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Td=new Map;class ha extends ov{static useCached(t){let r=Td.get(t);return r!==void 0||(r=new this(t),Td.set(t,r)),r}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):fe(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Xi?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of kn)this[t]=be[t];for(t of Fn)this[t]=be[t];for(t of Rn)this[t]=be[t];for(t of In)this[t]=new gi(t,be[t],void 0,this)}setupFromTrue(){let t;for(t of kn)this[t]=be[t];for(t of Fn)this[t]=be[t];for(t of Rn)this[t]=!0;for(t of In)this[t]=new gi(t,!0,void 0,this)}setupFromArray(t){let r;for(r of kn)this[r]=be[r];for(r of Fn)this[r]=be[r];for(r of Rn)this[r]=be[r];for(r of In)this[r]=new gi(r,!1,void 0,this);this.setupGlobalFilters(t,void 0,re)}setupFromObject(t){let r;for(r of(re.ifd0=re.ifd0||re.image,re.ifd1=re.ifd1||re.thumbnail,Object.assign(this,t),kn))this[r]=ds(t[r],be[r]);for(r of Fn)this[r]=ds(t[r],be[r]);for(r of Rn)this[r]=ds(t[r],be[r]);for(r of Zi)this[r]=new gi(r,be[r],t[r],this);for(r of re)this[r]=new gi(r,be[r],t[r],this.tiff);this.setupGlobalFilters(t.pick,t.skip,re,In),t.tiff===!0?this.batchEnableWithBool(re,!0):t.tiff===!1?this.batchEnableWithUserValue(re,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,re):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,re)}batchEnableWithBool(t,r){for(let n of t)this[n].enabled=r}batchEnableWithUserValue(t,r){for(let n of t){let i=r[n];this[n].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(t,r,n,i=n){if(t&&t.length){for(let o of i)this[o].enabled=!1;let a=Od(t,n);for(let[o,s]of a)ho(this[o].pick,s),this[o].enabled=!0}else if(r&&r.length){let a=Od(r,n);for(let[o,s]of a)ho(this[o].skip,s)}}filterNestedSegmentTags(){let{ifd0:t,exif:r,xmp:n,iptc:i,icc:a}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),n.enabled||t.skip.add(700),i.enabled||t.skip.add(33723),a.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:r,gps:n,interop:i}=this;i.needed&&(r.deps.add(40965),t.deps.add(40965)),r.needed&&t.deps.add(34665),n.needed&&t.deps.add(34853),this.tiff.enabled=re.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of re)this[a].finalizeFilters()}get onlyTiff(){return!ko.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of Zi)this[t].enabled&&!Ie.has(t)&&cl("segment parser",t)}}function Od(e,t){let r,n,i,a,o=[];for(i of t){for(a of(r=pa.get(i),n=[],r))(e.includes(a[0])||e.includes(a[1]))&&n.push(a[0]);n.length&&o.push([i,n])}return o}function ds(e,t){return e!==void 0?e:t!==void 0?t:void 0}function ho(e,t){for(let r of t)e.add(r)}Mt(ha,"default",be);class Ro{constructor(t){Mt(this,"parsers",{}),Mt(this,"output",{}),Mt(this,"errors",[]),Mt(this,"pushToErrors",r=>this.errors.push(r)),this.options=ha.useCached(t)}async read(t){this.file=await function(r,n){return typeof r=="string"?_d(r,n):Xi&&!u2&&r instanceof HTMLImageElement?_d(r.src,n):r instanceof Uint8Array||r instanceof ArrayBuffer||r instanceof DataView?new Qe(r):Xi&&r instanceof Blob?dl(r,n,"blob",Ki):void fe("Invalid input argument")}(t,this.options)}setup(){if(this.fileParser)return;let{file:t}=this,r=t.getUint16(0);for(let[n,i]of Po)if(i.canHandle(t,r))return this.fileParser=new i(this.options,this.file,this.parsers),t[n]=!0;this.file.close&&this.file.close(),fe("Unknown file format")}async parse(){let{output:t,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(t.errors=r),nv(n=t)?void 0:n;var n}async executeParsers(){let{output:t}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map(async n=>{let i=await n.parse();n.assignToOutput(t,i)});this.options.silentErrors&&(r=r.map(n=>n.catch(this.pushToErrors))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:t,file:r}=this,n=Ie.get("tiff",t);var i;if(r.tiff?i={start:0,type:"tiff"}:r.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new n(a,t,r),s=await o.extractThumbnail();return r.close&&r.close(),s}}async function sv(e,t){let r=new Ro(t);return await r.read(e),r.parse()}var p2=Object.freeze({__proto__:null,parse:sv,Exifr:Ro,fileParsers:Po,segmentParsers:Ie,fileReaders:fa,tagKeys:pa,tagValues:vu,tagRevivers:gu,createDictionary:iv,extendDictionary:av,fetchUrlAsArrayBuffer:po,readBlobAsArrayBuffer:Ki,chunkedProps:kn,otherSegments:ko,segments:Zi,tiffBlocks:re,segmentsAndBlocks:In,tiffExtractables:Rn,inheritables:Io,allFormatters:Fn,Options:ha});class An{static findPosition(t,r){let n=t.getUint16(r+2)+2,i=typeof this.headerLength=="function"?this.headerLength(t,r,n):this.headerLength,a=r+i,o=n-i;return{offset:r,length:n,headerLength:i,start:a,size:o,end:a+o}}static parse(t,r={}){return new this(t,new ha({[this.type]:r}),t).parse()}normalizeInput(t){return t instanceof Qe?t:new Qe(t)}constructor(t,r={},n){Mt(this,"errors",[]),Mt(this,"raw",new Map),Mt(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(t),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,r){let n=gu.get(r),i=vu.get(r),a=pa.get(r),o=this.options[r],s=o.reviveValues&&!!n,l=o.translateValues&&!!i,u=o.translateKeys&&!!a,c={};for(let[d,f]of t)s&&n.has(d)?f=n.get(d)(f):l&&i.has(d)&&(f=this.translateValue(f,i.get(d))),u&&a.has(d)&&(d=a.get(d)||d),c[d]=f;return c}translateValue(t,r){return r[t]||r.DEFAULT||t}assignToOutput(t,r){this.assignObjectToOutput(t,this.constructor.type,r)}assignObjectToOutput(t,r,n){if(this.globalOptions.mergeOutput)return Object.assign(t,n);t[r]?Object.assign(t[r],n):t[r]=n}}Mt(An,"headerLength",4),Mt(An,"type",void 0),Mt(An,"multiSegment",!1),Mt(An,"canHandle",()=>!1);function h2(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function v2(e){return e>=224&&e<=239}function g2(e,t,r){for(let[n,i]of Ie)if(i.canHandle(e,t,r))return n}class Md extends class{constructor(t,r,n){Mt(this,"errors",[]),Mt(this,"ensureSegmentChunk",async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(s){fe(`Couldn't read segment: ${JSON.stringify(i)}. ${s.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):fe("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=r,this.parsers=n}injectSegment(t,r){this.options[t].enabled&&this.createParser(t,r)}createParser(t,r){let n=new(Ie.get(t))(r,this.options,this.file);return this.parsers[t]=n}createParsers(t){for(let r of t){let{type:n,chunk:i}=r,a=this.options[n];if(a&&a.enabled){let o=this.parsers[n];o&&o.append||o||this.createParser(n,i)}}}async readSegments(t){let r=t.map(this.ensureSegmentChunk);await Promise.all(r)}}{constructor(...t){super(...t),Mt(this,"appSegments",[]),Mt(this,"jpegSegments",[]),Mt(this,"unknownSegments",[])}static canHandle(t,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set(Ie.keyList())):(t=t===void 0?Ie.keyList().filter(r=>this.options[r].enabled):t.filter(r=>this.options[r].enabled&&Ie.has(r)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}async findAppSegments(t=0,r){this.setupSegmentFinderArgs(r);let{file:n,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some(s=>{let l=Ie.get(s),u=this.options[s];return l.multiSegment&&u.multiSegment}),i&&await this.file.readWhole()),t=this.findAppSegmentsInRange(t,n.byteLength),!this.options.onlyTiff&&n.chunked){let s=!1;for(;o.size>0&&!s&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=n,u=this.appSegments.some(c=>!this.file.available(c.offset||c.start,c.length||c.size));if(s=t>l&&!u?!await n.readNextChunk(t):!await n.readNextChunk(l),(t=this.findAppSegmentsInRange(t,n.byteLength))===void 0)return}}}findAppSegmentsInRange(t,r){r-=2;let n,i,a,o,s,l,{file:u,findAll:c,wanted:d,remaining:f,options:p}=this;for(;t<r;t++)if(u.getUint8(t)===255){if(n=u.getUint8(t+1),v2(n)){if(i=u.getUint16(t+2),a=g2(u,t,i),a&&d.has(a)&&(o=Ie.get(a),s=o.findPosition(u,t),l=p[a],s.type=a,this.appSegments.push(s),!c&&(o.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=s.chunkNumber<s.chunkCount,this.unfinishedMultiSegment||f.delete(a)):f.delete(a),f.size===0)))break;p.recordUnknownSegments&&(s=An.findPosition(u,t),s.marker=n,this.unknownSegments.push(s)),t+=i+1}else if(h2(n)){if(i=u.getUint16(t+2),n===218&&p.stopAfterSos!==!1)return;p.recordJpegSegments&&this.jpegSegments.push({offset:t,length:i,marker:n}),t+=i+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(r=>r.multiSegment))return;let t=function(r,n){let i,a,o,s=new Map;for(let l=0;l<r.length;l++)i=r[l],a=i[n],s.has(a)?o=s.get(a):s.set(a,o=[]),o.push(i);return Array.from(s)}(this.appSegments,"type");this.mergedAppSegments=t.map(([r,n])=>{let i=Ie.get(r,this.options);return i.handleMultiSegments?{type:r,chunk:i.handleMultiSegments(n)}:n[0]})}getSegment(t){return this.appSegments.find(r=>r.type===t)}async getOrFindSegment(t){let r=this.getSegment(t);return r===void 0&&(await this.findAppSegments(0,[t]),r=this.getSegment(t)),r}}Mt(Md,"type","jpeg"),Po.set("jpeg",Md);const m2=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class y2 extends An{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,r,n=new Map){let{pick:i,skip:a}=this.options[r];i=new Set(i);let o=i.size>0,s=a.size===0,l=this.chunk.getUint16(t);t+=2;for(let u=0;u<l;u++){let c=this.chunk.getUint16(t);if(o){if(i.has(c)&&(n.set(c,this.parseTag(t,c,r)),i.delete(c),i.size===0))break}else!s&&a.has(c)||n.set(c,this.parseTag(t,c,r));t+=12}return n}parseTag(t,r,n){let{chunk:i}=this,a=i.getUint16(t+2),o=i.getUint32(t+4),s=m2[a];if(s*o<=4?t+=8:t=i.getUint32(t+8),(a<1||a>13)&&fe(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${t}`),t>i.byteLength&&fe(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${t} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(t,o);if(a===2)return(l=function(u){for(;u.endsWith("\0");)u=u.slice(0,-1);return u}(l=i.getString(t,o)).trim())===""?void 0:l;var l;if(a===7)return i.getUint8Array(t,o);if(o===1)return this.parseTagValue(a,t);{let u=new(function(d){switch(d){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),c=s;for(let d=0;d<o;d++)u[d]=this.parseTagValue(a,t),t+=c;return u}}parseTagValue(t,r){let{chunk:n}=this;switch(t){case 1:return n.getUint8(r);case 3:return n.getUint16(r);case 4:return n.getUint32(r);case 5:return n.getUint32(r)/n.getUint32(r+4);case 6:return n.getInt8(r);case 8:return n.getInt16(r);case 9:return n.getInt32(r);case 10:return n.getInt32(r)/n.getInt32(r+4);case 11:return n.getFloat(r);case 12:return n.getDouble(r);case 13:return n.getUint32(r);default:fe(`Invalid tiff type ${t}`)}}}class fs extends y2{static canHandle(t,r){return t.getUint8(r+1)===225&&t.getUint32(r+4)===1165519206&&t.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&await this.parseIfd0Block(),t.exif.enabled&&await this.safeParse("parseExifBlock"),t.gps.enabled&&await this.safeParse("parseGpsBlock"),t.interop.enabled&&await this.safeParse("parseInteropBlock"),t.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(t){let r=this[t]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(t,r){let n=new Map;return this[r]=n,this.parseTags(t,r,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&fe("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&fe(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&await t.ensureChunk(this.ifd0Offset,xd(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,xd(this.options));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t}unpack(t,r){let n=t.get(r);n&&n.length===1&&t.set(r,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",Pd(...t.get(2),t.get(1))),t.set("longitude",Pd(...t.get(4),t.get(3)))),t}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(t=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let t=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(t,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,r,n,i={};for(r of re)if(t=this[r],!nv(t))if(n=this.canTranslate?this.translateBlock(t,r):Object.fromEntries(t),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(i,n)}else i[r]=n;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(t,r){if(this.globalOptions.mergeOutput)Object.assign(t,r);else for(let[n,i]of Object.entries(r))this.assignObjectToOutput(t,n,i)}}function Pd(e,t,r,n){var i=e+t/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}Mt(fs,"type","tiff"),Mt(fs,"headerLength",10),Ie.set("tiff",fs);Object.freeze({__proto__:null,default:p2,Exifr:Ro,fileParsers:Po,segmentParsers:Ie,fileReaders:fa,tagKeys:pa,tagValues:vu,tagRevivers:gu,createDictionary:iv,extendDictionary:av,fetchUrlAsArrayBuffer:po,readBlobAsArrayBuffer:Ki,chunkedProps:kn,otherSegments:ko,segments:Zi,tiffBlocks:re,segmentsAndBlocks:In,tiffExtractables:Rn,inheritables:Io,allFormatters:Fn,Options:ha,parse:sv});const mu={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},mu,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},mu,{tiff:!1,ifd1:!0,mergeOutput:!1});const b2=Object.assign({},mu,{firstChunkSize:4e4,ifd0:[274]});async function S2(e){let t=new Ro(b2);await t.read(e);let r=await t.parse();if(r&&r.ifd0)return r.ifd0[274]}const w2=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Oi=!0,Mi=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,r,n]=t;Oi=Number(r)+.1*Number(n)<13.4,Mi=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);Oi=Mi=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);Oi=Mi=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);Oi=Mi=Number(t)<77}}async function E2(e){let t=await S2(e);return Object.assign({canvas:Oi,css:Mi},w2[t])}class C2 extends Qe{constructor(...t){super(...t),Mt(this,"ranges",new x2),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,r,n){if(t===0&&this.byteLength===0&&n){let i=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(i)}else{let i=t+r;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(t){let r;r=rv?ev.allocUnsafe(t):new Uint8Array(t);let n=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:n}}subarray(t,r,n=!1){return r=r||this._lengthToEnd(t),n&&this._tryExtend(t,r),this.ranges.add(t,r),super.subarray(t,r)}set(t,r,n=!1){n&&this._tryExtend(r,t.byteLength,t);let i=super.set(t,r);return this.ranges.add(r,i.byteLength),i}async ensureChunk(t,r){this.chunked&&(this.ranges.available(t,r)||await this.readChunk(t,r))}available(t,r){return this.ranges.available(t,r)}}class x2{constructor(){Mt(this,"list",[])}get length(){return this.list.length}add(t,r,n=0){let i=t+r,a=this.list.filter(o=>kd(t,o.offset,i)||kd(t,o.end,i));if(a.length>0){t=Math.min(t,...a.map(s=>s.offset)),i=Math.max(i,...a.map(s=>s.end)),r=i-t;let o=a.shift();o.offset=t,o.length=r,o.end=i,this.list=this.list.filter(s=>!a.includes(s))}else this.list.push({offset:t,length:r,end:i})}available(t,r){let n=t+r;return this.list.some(i=>i.offset<=t&&n<=i.end)}}function kd(e,t,r){return e<=t&&t<=r}class D2 extends C2{constructor(t,r){super(0),Mt(this,"chunksRead",0),this.input=t,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,n=await this.readChunk(t,r);return!!n&&n.byteLength===r}async readChunk(t,r){if(this.chunksRead++,(r=this.safeWrapAddress(t,r))!==0)return this._readChunk(t,r)}safeWrapAddress(t,r){return this.size!==void 0&&t+r>this.size?Math.max(0,this.size-t):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}fa.set("blob",class extends D2{async readWhole(){this.chunked=!1;let e=await Ki(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let r=t?e+t:void 0,n=this.input.slice(e,r),i=await Ki(n);return this.set(i,e,!0)}});var _2={strings:{generatingThumbnails:"Generating thumbnails..."}};const T2={version:"3.0.2"};function O2(e,t,r){try{e.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(n=>{e.toBlob(n,t,r)}).then(n=>{if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(()=>l2(e.toDataURL(t,r),{})).then(n=>{if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function M2(e,t){let r=e.width,n=e.height;(t.deg===90||t.deg===270)&&(r=e.height,n=e.width);const i=document.createElement("canvas");i.width=r,i.height=n;const a=i.getContext("2d");return a.translate(r/2,n/2),t.canvas&&(a.rotate(t.rad),a.scale(t.scaleX,t.scaleY)),a.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}function P2(e){const t=e.width/e.height,r=5e6,n=4096;let i=Math.floor(Math.sqrt(r*t)),a=Math.floor(r/Math.sqrt(r*t));if(i>n&&(i=n,a=Math.round(i/t)),a>n&&(a=n,i=Math.round(t*a)),e.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(e,0,0,i,a),o}return e}class lv extends xr{constructor(t,r){super(t,r),this.onFileAdded=i=>{!i.preview&&i.data&&Ed(i.type)&&!i.isRemote&&this.addToQueue(i.id)},this.onCancelRequest=i=>{const a=this.queue.indexOf(i.id);a!==-1&&this.queue.splice(a,1)},this.onFileRemoved=i=>{const a=this.queue.indexOf(i.id);a!==-1&&this.queue.splice(a,1),i.preview&&wd(i.preview)&&URL.revokeObjectURL(i.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(a=>a.isRestored).forEach(a=>{(!a.preview||wd(a.preview))&&this.addToQueue(a.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=i=>{i.forEach(o=>{const s=this.uppy.getFile(o);this.uppy.emit("preprocess-progress",s,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const a=()=>{i.forEach(o=>{const s=this.uppy.getFile(o);this.uppy.emit("preprocess-complete",s)})};return new Promise(o=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{a(),o()}):(a(),o())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale=_2;const n={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(this.opts={...n,...r},this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(t,r,n){const i=URL.createObjectURL(t.data),a=new Promise((s,l)=>{const u=new Image;u.src=i,u.addEventListener("load",()=>{URL.revokeObjectURL(i),s(u)}),u.addEventListener("error",c=>{URL.revokeObjectURL(i),l(c.error||new Error("Could not create thumbnail"))})}),o=E2(t.data).catch(()=>1);return Promise.all([a,o]).then(s=>{let[l,u]=s;const c=this.getProportionalDimensions(l,r,n,u.deg),d=M2(l,u),f=this.resizeImage(d,c.width,c.height);return O2(f,this.thumbnailType,80)}).then(s=>URL.createObjectURL(s))}getProportionalDimensions(t,r,n,i){let a=t.width/t.height;return(i===90||i===270)&&(a=t.height/t.width),r!=null?{width:r,height:Math.round(r/a)}:n!=null?{width:Math.round(n*a),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/a)}}resizeImage(t,r,n){let i=P2(t),a=Math.ceil(Math.log2(i.width/r));a<1&&(a=1);let o=r*2**(a-1),s=n*2**(a-1);const l=2;for(;a--;){const u=document.createElement("canvas");u.width=o,u.height=s,u.getContext("2d").drawImage(i,0,0,o,s),i=u,o=Math.round(o/l),s=Math.round(s/l)}return i}setPreviewURL(t,r){this.uppy.setFileState(t,{preview:r})}addToQueue(t){this.queue.push(t),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(t){return Ed(t.type)&&!t.isRemote?this.createThumbnail(t,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(t.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${t.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(t.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${t.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(t.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}lv.VERSION=T2.version;function Id(e){if(typeof e=="string"){const t=document.querySelectorAll(e);return t.length===0?null:Array.from(t)}return typeof e=="object"&&Wh(e)?[e]:null}var Un=Array.from;function uv(e,t,r,n){let{onSuccess:i}=n;e.readEntries(a=>{const o=[...t,...a];a.length?queueMicrotask(()=>{uv(e,o,r,{onSuccess:i})}):i(o)},a=>{r(a),i(t)})}function cv(e,t){return e==null?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile(){return new Promise((r,n)=>e.file(r,n))},async*values(){const r=e.createReader();yield*await new Promise(i=>{uv(r,[],t,{onSuccess:a=>i(a.map(o=>cv(o,t)))})})}}}async function*dv(e,t,r){if(r===void 0&&(r=void 0),e.kind==="file"){const n=await e.getFile();n!==null?(n.relativePath=t?`${t}/${e.name}`:null,yield n):r!=null&&(yield r)}else if(e.kind==="directory")for await(const n of e.values())yield*dv(n,`${t}/${e.name}`);else r!=null&&(yield r)}async function*k2(e,t){const r=await Promise.all(Array.from(e.items,async n=>{var i;const a=n.getAsFile(),o=(i=await(n.getAsFileSystemHandle==null?void 0:n.getAsFileSystemHandle()))!=null?i:cv(n.webkitGetAsEntry(),t);return{lastResortFile:a,entry:o}}));for(const{lastResortFile:n,entry:i}of r)if(i!=null)try{yield*dv(i,"",n)}catch(a){n!=null?yield n:t(a)}else n!=null&&(yield n)}function I2(e){const t=Un(e.files);return Promise.resolve(t)}async function fv(e,t){let{logDropError:r=()=>{}}=t===void 0?{}:t;try{const n=[];for await(const i of k2(e,r))n.push(i);return n}catch{return I2(e)}}var Rd=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function R2(e,t){return!!(e===t||Rd(e)&&Rd(t))}function F2(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!R2(e[r],t[r]))return!1;return!0}function Fd(e,t){t===void 0&&(t=F2);var r=null;function n(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(r&&r.lastThis===this&&t(i,r.lastArgs))return r.lastResult;var o=e.apply(this,i);return r={lastResult:o,lastArgs:i,lastThis:this},o}return n.clear=function(){r=null},n}var yu=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function pv(e,t){if(t){const r=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(r)return r}return e}function Ad(e,t){const r=t[0];r&&(r.focus(),e.preventDefault())}function A2(e,t){const r=t[t.length-1];r&&(r.focus(),e.preventDefault())}function B2(e){return e.contains(document.activeElement)}function hv(e,t,r){const n=pv(r,t),i=Un(n.querySelectorAll(yu)),a=i.indexOf(document.activeElement);B2(n)?e.shiftKey&&a===0?A2(e,i):!e.shiftKey&&a===i.length-1&&Ad(e,i):Ad(e,i)}function z2(e,t,r){t===null||hv(e,t,r)}var N2="Expected a function",Bd=0/0,L2="[object Symbol]",$2=/^\s+|\s+$/g,U2=/^[-+]0x[0-9a-f]+$/i,G2=/^0b[01]+$/i,V2=/^0o[0-7]+$/i,H2=parseInt,j2=typeof Rr=="object"&&Rr&&Rr.Object===Object&&Rr,W2=typeof self=="object"&&self&&self.Object===Object&&self,q2=j2||W2||Function("return this")(),Y2=Object.prototype,X2=Y2.toString,K2=Math.max,Z2=Math.min,ps=function(){return q2.Date.now()};function Q2(e,t,r){var n,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(N2);t=zd(t)||0,pl(r)&&(c=!!r.leading,d="maxWait"in r,a=d?K2(zd(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function p(y){var E=n,_=i;return n=i=void 0,u=y,o=e.apply(_,E),o}function h(y){return u=y,s=setTimeout(m,t),c?p(y):o}function v(y){var E=y-l,_=y-u,D=t-E;return d?Z2(D,a-_):D}function g(y){var E=y-l,_=y-u;return l===void 0||E>=t||E<0||d&&_>=a}function m(){var y=ps();if(g(y))return b(y);s=setTimeout(m,v(y))}function b(y){return s=void 0,f&&n?p(y):(n=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function S(){return s===void 0?o:b(ps())}function x(){var y=ps(),E=g(y);if(n=arguments,i=this,l=y,E){if(s===void 0)return h(l);if(d)return s=setTimeout(m,t),p(l)}return s===void 0&&(s=setTimeout(m,t)),o}return x.cancel=w,x.flush=S,x}function pl(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function J2(e){return!!e&&typeof e=="object"}function tE(e){return typeof e=="symbol"||J2(e)&&X2.call(e)==L2}function zd(e){if(typeof e=="number")return e;if(tE(e))return Bd;if(pl(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=pl(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace($2,"");var r=G2.test(e);return r||V2.test(e)?H2(e.slice(2),r?2:8):U2.test(e)?Bd:+e}var eE=Q2;function rE(){let e=!1;return eE((r,n)=>{const i=pv(r,n),a=i.contains(document.activeElement);if(a&&e)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),e=!0;else{const s=i.querySelector(yu);s==null||s.focus({preventScroll:!0}),e=!1}},260)}function vv(){const e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}var nE=function(t,r){if(t===r)return!0;for(var n in t)if(!(n in r))return!1;for(var n in r)if(t[n]!==r[n])return!1;return!0};function iE(){return C("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},C("g",{fill:"#686DE0",fillRule:"evenodd"},C("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),C("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),C("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function aE(){return C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},C("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function oE(){return C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},C("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function sE(){return C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},C("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function lE(){return C("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},C("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function uE(){return C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},C("g",{fill:"#A7AFB7",fillRule:"nonzero"},C("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),C("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function cE(){return C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},C("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}function bu(e){const t={color:"#838999",icon:uE()};if(!e)return t;const r=e.split("/")[0],n=e.split("/")[1];return r==="text"?{color:"#5a5e69",icon:cE()}:r==="image"?{color:"#686de0",icon:iE()}:r==="audio"?{color:"#068dbb",icon:aE()}:r==="video"?{color:"#19af67",icon:oE()}:r==="application"&&n==="pdf"?{color:"#e25149",icon:sE()}:r==="application"&&["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(n)!==-1?{color:"#00C469",icon:lE()}:t}function gv(e){const{file:t}=e;if(t.preview)return C("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});const{color:r,icon:n}=bu(t.type);return C("div",{className:"uppy-Dashboard-Item-previewIconWrap"},C("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r}},n),C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},C("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}const dE=(e,t)=>(typeof t=="function"?t():t).filter(i=>i.id===e)[0].name;function mv(e){const{file:t,toggleFileCard:r,i18n:n,metaFields:i}=e,{missingRequiredMetaFields:a}=t;if(!(a!=null&&a.length))return null;const o=a.map(s=>dE(s,i)).join(", ");return C("div",{className:"uppy-Dashboard-Item-errorMessage"},n("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",C("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>r(!0,t.id)},n("editFile")))}function fE(e){return C("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:bu(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&C("a",{className:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name},C("span",{hidden:!0},e.file.meta.name)),C(gv,{file:e.file}),C(mv,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}function pE(e){if(!e.isUploaded){if(e.error&&!e.hideRetryButton){e.uppy.retryUpload(e.file.id);return}e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id)}}function Nd(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function hs(e){return C("div",{className:"uppy-Dashboard-Item-progress"},C("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Nd(e),title:Nd(e),onClick:()=>pE(e)},e.children))}function Na(e){let{children:t}=e;return C("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function vs(e){let{progress:t}=e;const r=2*Math.PI*15;return C("g",null,C("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),C("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":r,"stroke-dashoffset":r-r/100*t}))}function hE(e){if(!e.file.progress.uploadStarted)return null;if(e.isUploaded)return C("div",{className:"uppy-Dashboard-Item-progress"},C("div",{className:"uppy-Dashboard-Item-progressIndicator"},C(Na,null,C("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),C("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!e.recoveredState)return e.error&&!e.hideRetryButton?C(hs,e,C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},C("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),C("path",{d:"M7.9 3H10v2H7.9z"}),C("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),C("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?C(hs,e,C(Na,null,C(vs,{progress:e.file.progress.percentage}),e.file.isPaused?C("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):C("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},C("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),C("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?C(hs,e,C(Na,null,C(vs,{progress:e.file.progress.percentage}),C("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):C("div",{className:"uppy-Dashboard-Item-progress"},C("div",{className:"uppy-Dashboard-Item-progressIndicator"},C(Na,null,C(vs,{progress:e.file.progress.percentage}))))}var vE=function(t){if(typeof t!="number"||isNaN(t))throw new TypeError("Expected a number, got "+typeof t);var r=t<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(t=-t),t<1)return(r?"-":"")+t+" B";var i=Math.min(Math.floor(Math.log(t)/Math.log(1024)),n.length-1);t=Number(t/Math.pow(1024,i));var a=n[i];return t>=10||t%1===0?(r?"-":"")+t.toFixed(0)+" "+a:(r?"-":"")+t.toFixed(1)+" "+a};const gs="...";function yv(e,t){if(t===0)return"";if(e.length<=t)return e;if(t<=gs.length+1)return`${e.slice(0,t-1)}\u2026`;const r=t-gs.length,n=Math.ceil(r/2),i=Math.floor(r/2);return e.slice(0,n)+gs+e.slice(-i)}const gE=e=>{const{author:t,name:r}=e.file.meta;function n(){return e.singleFile?200:e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30}return C("div",{className:"uppy-Dashboard-Item-name",title:r},yv(r,n()))},mE=e=>{const{author:t}=e.file.meta,{providerName:r}=e.file.remote,n="\xB7";return t?C("div",{className:"uppy-Dashboard-Item-author"},C("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},yv(t.name,13)),r?C(ei,null,` ${n} `,r,` ${n} `):null):null},yE=e=>e.file.size&&C("div",{className:"uppy-Dashboard-Item-statusSize"},vE(e.file.size)),bE=e=>e.file.isGhost&&C("span",null," \u2022 ",C("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect"))),SE=e=>{let{file:t,onClick:r}=e;return t.error?C("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:r,type:"button"},"?"):null};function wE(e){const{file:t}=e;return C("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},C("div",{className:"uppy-Dashboard-Item-fileName"},gE(e),C(SE,{file:e.file,onClick:()=>alert(e.file.error)})),C("div",{className:"uppy-Dashboard-Item-status"},mE(e),yE(e),bE(e)),C(mv,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}function EE(e,t){return t===void 0&&(t="Copy the URL below"),new Promise(r=>{const n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=e,document.body.appendChild(n),n.select();const i=()=>{document.body.removeChild(n),window.prompt(t,e),r()};try{return document.execCommand("copy")?(document.body.removeChild(n),r()):i("copy command unavailable")}catch{return document.body.removeChild(n),i()}})}function CE(e){let{file:t,uploadInProgressOrComplete:r,metaFields:n,canEditFile:i,i18n:a,onClick:o}=e;return!r&&n&&n.length>0||!r&&i(t)?C("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:t.meta.name}),title:a("editFileWithFilename",{file:t.meta.name}),onClick:()=>o()},C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},C("g",{fillRule:"evenodd"},C("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),C("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),C("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function xE(e){let{i18n:t,onClick:r,file:n}=e;return C("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:n.meta.name}),title:t("removeFile",{file:n.meta.name}),onClick:()=>r()},C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},C("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),C("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}const DE=(e,t)=>{EE(t.file.uploadURL,t.i18n("copyLinkToClipboardFallback")).then(()=>{t.uppy.log("Link copied to clipboard."),t.uppy.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.uppy.log).then(()=>e.target.focus({preventScroll:!0}))};function _E(e){const{i18n:t}=e;return C("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:r=>DE(r,e)},C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},C("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function TE(e){const{uppy:t,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:s,i18n:l,toggleFileCard:u,openFileEditor:c}=e;return C("div",{className:"uppy-Dashboard-Item-actionWrapper"},C(CE,{i18n:l,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?u(!0,r.id):c(r)}}),o&&r.uploadURL?C(_E,{file:r,uppy:t,i18n:l}):null,s?C(xE,{i18n:l,file:r,uppy:t,onClick:()=>e.uppy.removeFile(r.id,"removed-by-user")}):null)}class OE extends Ge{componentDidMount(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}shouldComponentUpdate(t){return!nE(this.props,t)}componentDidUpdate(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}componentWillUnmount(){const{file:t}=this.props;t.preview||this.props.handleCancelThumbnail(t)}render(){const{file:t}=this.props,r=t.progress.preprocess||t.progress.postprocess,n=t.progress.uploadComplete&&!r&&!t.error,i=t.progress.uploadStarted||r,a=t.progress.uploadStarted&&!t.progress.uploadComplete||r,o=t.error||!1,{isGhost:s}=t;let l=(this.props.individualCancellation||!a)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(l=!0);const u=nr({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":r,"is-complete":n,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":s});return C("div",{className:u,id:`uppy_${t.id}`,role:this.props.role},C("div",{className:"uppy-Dashboard-Item-preview"},C(fE,{file:t,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),C(hE,{uppy:this.props.uppy,file:t,error:o,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),C("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},C(wE,{file:t,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,singleFile:this.props.singleFile}),C(TE,{file:t,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:l,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hl.apply(this,arguments)}const ME={position:"relative",width:"100%",minHeight:"100%"},PE={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class kE extends Ge{constructor(t){super(t),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:t}=this.state;t!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(t){let{data:r,rowHeight:n,renderRow:i,overscanCount:a=10,...o}=t;const{offset:s,height:l}=this.state;let u=Math.floor(s/n),c=Math.floor(l/n);a&&(u=Math.max(0,u-u%a),c+=a);const d=u+c+4,f=r.slice(u,d),p={...ME,height:r.length*n},h={...PE,top:u*n};return C("div",hl({onScroll:this.handleScroll},o),C("div",{role:"presentation",style:p},C("div",{role:"presentation",style:h},f.map(i))))}}function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vl.apply(this,arguments)}function IE(e,t){const r=[];let n=[];return e.forEach(i=>{n.length<t?n.push(i):(r.push(n),n=[i])}),n.length&&r.push(n),r}var RE=e=>{const t=e.itemsPerRow===1?71:200,r={id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,acquirers:e.acquirers,resumableUploads:e.resumableUploads,individualCancellation:e.individualCancellation,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,recoveredState:e.recoveredState,singleFile:e.singleFile,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail},n=(s,l)=>e.files[l].isGhost-e.files[s].isGhost,i=Object.keys(e.files);e.recoveredState&&i.sort(n);const a=IE(i,e.itemsPerRow),o=s=>C("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:s[0]},s.map(l=>C(OE,vl({key:l,uppy:e.uppy},r,{role:"listitem",openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,file:e.files[l]}))));return e.singleFile?C("div",{class:"uppy-Dashboard-files"},o(a[0])):C(kE,{class:"uppy-Dashboard-files",role:"list",data:a,renderRow:o,rowHeight:t})};let bv;bv=Symbol.for("uppy test: disable unused locale key warning");class Sv extends Ge{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=t=>{this.props.handleInputChange(t),t.target.value=null},this.renderHiddenInput=(t,r)=>C("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:t,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:r}),this.renderHiddenCameraInput=(t,r,n)=>{const a={photo:"image/*",video:"video/*"}[t];return C("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${t}`,onChange:this.onFileInputChange,capture:r,accept:a,ref:n})},this.renderMyDeviceAcquirer=()=>C("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},C("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},C("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},C("g",{fill:"none",fillRule:"evenodd"},C("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),C("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),C("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>C("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},C("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},C("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},C("g",{fill:"none",fillRule:"evenodd"},C("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),C("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),C("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>C("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},C("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},C("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},C("rect",{fill:"#1abc9c",width:"32",height:"32",rx:"16"}),C("path",{fill:"#FFF",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})),C("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(t,r)=>{const n=this.props.acquirers.length;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":n===0},t)},this.renderDropPasteBrowseTagline=()=>{const t=this.props.acquirers.length,r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),n=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),i=this.props.fileManagerSelectionType,a=i.charAt(0).toUpperCase()+i.slice(1);return C("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):t>0?this.props.i18nArray(`dropPasteImport${a}`,{browseFiles:r,browseFolders:n,browse:r}):this.props.i18nArray(`dropPaste${a}`,{browseFiles:r,browseFolders:n,browse:r}))},this.renderAcquirer=t=>C("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":t.id},C("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":t.id,"aria-controls":`uppy-DashboardContent-panel--${t.id}`,"aria-selected":this.props.activePickerPanel.id===t.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(t.id)},t.icon(),C("div",{className:"uppy-DashboardTab-name"},t.name))),this.renderAcquirers=t=>{const r=[...t],n=r.splice(t.length-2,t.length);return C(ei,null,r.map(i=>this.renderAcquirer(i)),C("span",{role:"presentation",style:{"white-space":"nowrap"}},n.map(i=>this.renderAcquirer(i))))},this.renderSourcesList=(t,r)=>{const{showNativePhotoCameraButton:n,showNativeVideoCameraButton:i}=this.props;return C("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!r&&this.renderMyDeviceAcquirer(),!r&&n&&this.renderPhotoCamera(),!r&&i&&this.renderVideoCamera(),t.length>0&&this.renderAcquirers(t))}}[bv](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:t}=this.props,r=C("span",null,C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},C("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),C("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),n=t("poweredBy",{uppy:r});return C("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},n)}render(){const{showNativePhotoCameraButton:t,showNativeVideoCameraButton:r,nativeCameraFacingMode:n}=this.props;return C("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,i=>{this.fileInput=i}),this.renderHiddenInput(!0,i=>{this.folderInput=i}),t&&this.renderHiddenCameraInput("photo",n,i=>{this.mobilePhotoFileInput=i}),r&&this.renderHiddenCameraInput("video",n,i=>{this.mobileVideoFileInput=i}),this.renderDropPasteBrowseTagline(),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),C("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&C("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}const FE=e=>C("div",{className:nr("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},C("div",{className:"uppy-DashboardContent-bar"},C("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),C("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1)},e.i18n("back"))),C(Sv,e));function Br(e){const{tagName:t}=e.target;if(t==="INPUT"||t==="TEXTAREA"){e.stopPropagation();return}e.preventDefault(),e.stopPropagation()}function AE(e){let{activePickerPanel:t,className:r,hideAllPanels:n,i18n:i,state:a,uppy:o}=e;return C("div",{className:nr("uppy-DashboardContent-panel",r),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:Br,onDragLeave:Br,onDrop:Br,onPaste:Br},C("div",{className:"uppy-DashboardContent-bar"},C("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i("importFrom",{name:t.name})),C("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n},i("cancel"))),C("div",{className:"uppy-DashboardContent-panelBody"},o.getPlugin(t.id).render(a)))}function BE(e){const t=e.files[e.fileCardFor];return C("div",{className:nr("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},C("div",{className:"uppy-DashboardContent-bar"},C("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:C("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),C("button",{className:"uppy-DashboardContent-back",type:"button",onClick:e.hideAllPanels},e.i18n("cancel")),C("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),C("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map(r=>e.uppy.getPlugin(r.id).render(e.state))))}const ir={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function zE(e,t,r,n){if(n===void 0&&(n={}),e)return ir.STATE_ERROR;if(t)return ir.STATE_COMPLETE;if(r)return ir.STATE_PAUSED;let i=ir.STATE_WAITING;const a=Object.keys(n);for(let o=0;o<a.length;o++){const{progress:s}=n[a[o]];if(s.uploadStarted&&!s.uploadComplete)return ir.STATE_UPLOADING;s.preprocess&&i!==ir.STATE_UPLOADING&&(i=ir.STATE_PREPROCESSING),s.postprocess&&i!==ir.STATE_UPLOADING&&i!==ir.STATE_PREPROCESSING&&(i=ir.STATE_POSTPROCESSING)}return i}function NE(e){let{files:t,i18n:r,isAllComplete:n,isAllErrored:i,isAllPaused:a,inProgressNotPausedFiles:o,newFiles:s,processingFiles:l}=e;switch(zE(i,n,a,t)){case"uploading":return r("uploadingXFiles",{smart_count:o.length});case"preprocessing":case"postprocessing":return r("processingXFiles",{smart_count:l.length});case"paused":return r("uploadPaused");case"waiting":return r("xFilesSelected",{smart_count:s.length});case"complete":return r("uploadComplete")}}function LE(e){const{i18n:t,isAllComplete:r,hideCancelButton:n,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=e;let{allowNewUpload:s}=e;return s&&i&&(s=e.totalFileCount<e.maxNumberOfFiles),C("div",{className:"uppy-DashboardContent-bar"},!r&&!n?C("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll()},t("cancel")):C("div",null),C("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},C(NE,e)),s?C("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>a(!0)},C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},C("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),C("span",{className:"uppy-DashboardContent-addMoreCaption"},t("addMore"))):C("div",null))}class $E extends Ge{constructor(t){super(t),this.form=document.createElement("form"),this.updateMeta=(a,o)=>{this.setState(s=>{let{formState:l}=s;return{formState:{...l,[o]:a}}})},this.handleSave=a=>{a.preventDefault();const o=this.props.fileCardFor;this.props.saveFileCard(this.state.formState,o)},this.handleCancel=()=>{const a=this.props.files[this.props.fileCardFor];this.props.uppy.emit("file-editor:cancel",a),this.props.toggleFileCard(!1)},this.saveOnEnter=a=>{if(a.keyCode===13){a.stopPropagation(),a.preventDefault();const o=this.props.files[this.props.fileCardFor];this.props.saveFileCard(this.state.formState,o.id)}},this.renderMetaFields=()=>{const a=this.getMetaFields()||[],o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return a.map(s=>{const l=`uppy-Dashboard-FileCard-input-${s.id}`,u=this.props.requiredMetaFields.includes(s.id);return C("fieldset",{key:s.id,className:"uppy-Dashboard-FileCard-fieldset"},C("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:l},s.name),s.render!==void 0?s.render({value:this.state.formState[s.id],onChange:c=>this.updateMeta(c,s.id),fieldCSSClasses:o,required:u,form:this.form.id},C):C("input",{className:o.text,id:l,form:this.form.id,type:s.type||"text",required:u,value:this.state.formState[s.id],placeholder:s.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onInput:c=>this.updateMeta(c.target.value,s.id),"data-uppy-super-focusable":!0}))})};const r=this.props.files[this.props.fileCardFor],n=this.getMetaFields()||[],i={};n.forEach(a=>{i[a.id]=r.meta[a.id]||""}),this.state={formState:i},this.form.id=pu()}componentWillMount(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}componentWillUnmount(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}getMetaFields(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}render(){const t=this.props.files[this.props.fileCardFor],r=this.props.canEditFile(t);return C("div",{className:nr("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:Br,onDragLeave:Br,onDrop:Br,onPaste:Br},C("div",{className:"uppy-DashboardContent-bar"},C("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:C("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),C("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),C("div",{className:"uppy-Dashboard-FileCard-inner"},C("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:bu(t.type).color}},C(gv,{file:t}),r&&C("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:n=>{this.handleSave(n),this.props.openFileEditor(t)},form:this.form.id},this.props.i18n("editFile"))),C("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),C("div",{className:"uppy-Dashboard-FileCard-actions"},C("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),C("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}}const xn="uppy-transition-slideDownUp",Ld=250;class La extends Ge{constructor(t){super(t),this.state={cachedChildren:null,className:""}}componentWillUpdate(t){const{cachedChildren:r}=this.state,n=kr(t.children)[0];if(r===n)return null;const i={cachedChildren:n};n&&!r&&(i.className=`${xn}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${xn}-enter ${xn}-enter-active`}),this.enterTimeout=setTimeout(()=>{this.setState({className:""})},Ld)})),r&&!n&&this.leaveTimeout===void 0&&(i.cachedChildren=r,i.className=`${xn}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${xn}-leave ${xn}-leave-active`}),this.leaveTimeout=setTimeout(()=>{this.setState({cachedChildren:null,className:""})},Ld)})),this.setState(i)}render(){const{cachedChildren:t,className:r}=this.state;return t?Ah(t,{className:nr(r,t.props.className)}):null}}function Ir(){return Ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ir.apply(this,arguments)}const $d=900,Ud=700,ms=576,UE=400;function GE(e){const t=e.totalFileCount===0,r=e.totalFileCount===1,n=e.containerWidth>ms,i=nr({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>ms,"uppy-size--lg":e.containerWidth>Ud,"uppy-size--xl":e.containerWidth>$d,"uppy-size--height-md":e.containerHeight>UE,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":r});let a=1;e.containerWidth>$d?a=5:e.containerWidth>Ud?a=4:e.containerWidth>ms&&(a=3);const o=e.showSelectedFiles&&!t,s=e.recoveredState?Object.keys(e.recoveredState.files).length:null,l=e.files?Object.keys(e.files).filter(d=>e.files[d].isGhost).length:null,u=()=>l>0?e.i18n("recoveredXFiles",{smart_count:l}):e.i18n("recoveredAllFiles");return C("div",{className:i,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&vv(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},C("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),C("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:C("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},C("span",{"aria-hidden":"true"},"\xD7")),C("div",{className:"uppy-Dashboard-innerWrap"},C("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),o&&C(LE,e),s&&C("div",{className:"uppy-Dashboard-serviceMsg"},C("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},C("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},C("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),C("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),C("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),C("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),C("div",{className:"uppy-Dashboard-serviceMsg-text"},u())),o?C(RE,Ir({},e,{singleFile:r,itemsPerRow:a})):C(Sv,Ir({},e,{isSizeMD:n})),C(La,null,e.showAddFilesPanel?C(FE,Ir({key:"AddFiles"},e,{isSizeMD:n})):null),C(La,null,e.fileCardFor?C($E,Ir({key:"FileCard"},e)):null),C(La,null,e.activePickerPanel?C(AE,Ir({key:"Picker"},e)):null),C(La,null,e.showFileEditor?C(BE,Ir({key:"Editor"},e)):null),C("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map(d=>e.uppy.getPlugin(d.id).render(e.state))))))}var VE={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function me(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var HE=0;function mn(e){return"__private_"+HE+++"_"+e}const jE={version:"3.2.1"},ys=Fd.default||Fd,Gd=9,WE=27;function Vd(){const e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}function qE(){return C("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},C("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var hr=mn("generateLargeThumbnailIfSingleFile"),mi=mn("openFileEditorWhenFilesAdded"),Yr=mn("attachRenderFunctionToTarget"),bs=mn("isTargetSupported"),Ss=mn("getAcquirers"),ws=mn("getProgressIndicators"),vr=mn("getEditors");class wv extends xr{constructor(t,r){var n;super(t,r),n=this,this.removeTarget=a=>{const s=this.getPluginState().targets.filter(l=>l.id!==a.id);this.setPluginState({targets:s})},this.addTarget=a=>{const o=a.id||a.constructor.name,s=a.title||o,l=a.type;if(l!=="acquirer"&&l!=="progressindicator"&&l!=="editor"){const f="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";this.uppy.log(f,"error");return}const u={id:o,name:s,type:l},d=this.getPluginState().targets.slice();return d.push(u),this.setPluginState({targets:d}),this.el},this.hideAllPanels=()=>{const a=this.getPluginState(),o={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};a.activePickerPanel===o.activePickerPanel&&a.showAddFilesPanel===o.showAddFilesPanel&&a.showFileEditor===o.showFileEditor&&a.activeOverlayType===o.activeOverlayType||this.setPluginState(o)},this.showPanel=a=>{const{targets:o}=this.getPluginState(),s=o.filter(l=>l.type==="acquirer"&&l.id===a)[0];this.setPluginState({activePickerPanel:s,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",a)},this.canEditFile=a=>{const{targets:o}=this.getPluginState();return me(this,vr)[vr](o).some(l=>this.uppy.getPlugin(l.id).canEditFile(a))},this.openFileEditor=a=>{const{targets:o}=this.getPluginState(),s=me(this,vr)[vr](o);this.setPluginState({showFileEditor:!0,fileCardFor:a.id||null,activeOverlayType:"FileEditor"}),s.forEach(l=>{this.uppy.getPlugin(l.id).selectFile(a)})},this.saveFileEditor=()=>{const{targets:a}=this.getPluginState();me(this,vr)[vr](a).forEach(s=>{this.uppy.getPlugin(s.id).save()}),this.hideAllPanels()},this.openModal=()=>{const{promise:a,resolve:o}=Vd();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const s=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",s,!1),o()};this.el.addEventListener("animationend",s,!1)}else this.setPluginState({isHidden:!1}),o();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),a},this.closeModal=function(a){a===void 0&&(a={});const{manualClose:o=!0}=a,{isHidden:s,isClosing:l}=n.getPluginState();if(s||l)return;const{promise:u,resolve:c}=Vd();if(n.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),n.opts.animateOpenClose){n.setPluginState({isClosing:!0});const f=()=>{n.setPluginState({isHidden:!0,isClosing:!1}),n.superFocus.cancel(),n.savedActiveElement.focus(),n.el.removeEventListener("animationend",f,!1),c()};n.el.addEventListener("animationend",f,!1)}else n.setPluginState({isHidden:!0}),n.superFocus.cancel(),n.savedActiveElement.focus(),c();if(document.removeEventListener("keydown",n.handleKeyDownInModal),o&&n.opts.browserBackButtonClose){var d;(d=history.state)!=null&&d[n.modalName]&&history.back()}return n.uppy.emit("dashboard:modal-closed"),u},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=a=>{const{capabilities:o}=this.uppy.getState();this.uppy.setState({capabilities:{...o,darkMode:a}})},this.handleSystemDarkModeChange=a=>{const o=a.matches;this.uppy.log(`[Dashboard] Dark mode is ${o?"on":"off"}`),this.setDarkModeCapability(o)},this.toggleFileCard=(a,o)=>{const s=this.uppy.getFile(o);a?this.uppy.emit("dashboard:file-edit-start",s):this.uppy.emit("dashboard:file-edit-complete",s),this.setPluginState({fileCardFor:a?o:null,activeOverlayType:a?"FileCard":null})},this.toggleAddFilesPanel=a=>{this.setPluginState({showAddFilesPanel:a,activeOverlayType:a?"AddFiles":null})},this.addFiles=a=>{const o=a.map(s=>({source:this.id,name:s.name,type:s.type,data:s,meta:{relativePath:s.relativePath||s.webkitRelativePath||null}}));try{this.uppy.addFiles(o)}catch(s){this.uppy.log(s)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(a=>{const o=a[0],{width:s,height:l}=o.contentRect;this.uppy.log(`[Dashboard] resized: ${s} / ${l}`,"debug"),this.setPluginState({containerWidth:s,containerHeight:l,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const a=this.getPluginState(),o=!this.opts.inline&&a.isHidden;!a.areInsidesReadyToBeVisible&&!o&&(this.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=a=>{this.el.contains(a.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableAllFocusableElements=a=>{const o=Un(this.el.querySelectorAll(yu));a?o.forEach(s=>{const l=s.getAttribute("tabindex");l&&(s.dataset.inertTabindex=l),s.setAttribute("tabindex","-1")}):o.forEach(s=>{"inertTabindex"in s.dataset?s.setAttribute("tabindex",s.dataset.inertTabindex):s.removeAttribute("tabindex")}),this.dashboardIsDisabled=a},this.updateBrowserHistory=()=>{var a;(a=history.state)!=null&&a[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=a=>{var o;this.isModalOpen()&&(!a.state||!a.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&(o=a.state)!=null&&o[this.modalName]&&history.back()},this.handleKeyDownInModal=a=>{a.keyCode===WE&&this.requestCloseModal(a),a.keyCode===Gd&&hv(a,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=a=>{this.uppy.iteratePlugins(s=>{s.type==="acquirer"&&(s.handleRootPaste==null||s.handleRootPaste(a))});const o=Un(a.clipboardData.files);o.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(o))},this.handleInputChange=a=>{a.preventDefault();const o=Un(a.target.files);o.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(o))},this.handleDragOver=a=>{var o,s;a.preventDefault(),a.stopPropagation();const l=()=>{let f=!0;return this.uppy.iteratePlugins(p=>{p.canHandleRootDrop!=null&&p.canHandleRootDrop(a)&&(f=!0)}),f},u=()=>{const{types:f}=a.dataTransfer;return f.some(p=>p==="Files")},c=l(),d=u();if(!c&&!d||this.opts.disabled||this.opts.disableLocalFiles&&(d||!c)||!this.uppy.getState().allowNewUpload){a.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}a.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(o=(s=this.opts).onDragOver)==null||o.call(s,a)},this.handleDragLeave=a=>{var o,s;a.preventDefault(),a.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(o=(s=this.opts).onDragLeave)==null||o.call(s,a)},this.handleDrop=async a=>{var o,s;a.preventDefault(),a.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(d=>{d.type==="acquirer"&&(d.handleRootDrop==null||d.handleRootDrop(a))});let l=!1;const u=d=>{this.uppy.log(d,"error"),l||(this.uppy.info(d.message,"error"),l=!0)},c=await fv(a.dataTransfer,{logDropError:u});c.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(c)),(o=(s=this.opts).onDrop)==null||o.call(s,a)},this.handleRequestThumbnail=a=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",a)},this.handleCancelThumbnail=a=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",a)},this.handleKeyDownInInline=a=>{a.keyCode===Gd&&z2(a,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=a=>{this.el.contains(document.activeElement)&&this.handlePaste(a)},this.handleComplete=a=>{let{failed:o}=a;this.opts.closeAfterFinish&&o.length===0&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,hr,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;const a=600,o=this.uppy.getFiles();if(o.length===1){const s=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);s==null||s.setOptions({thumbnailWidth:a});const l={...o[0],preview:void 0};s.requestThumbnail(l).then(()=>{s==null||s.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}),Object.defineProperty(this,mi,{writable:!0,value:a=>{const o=a[0];this.canEditFile(o)&&this.openFileEditor(o)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){const a=Id(this.opts.trigger);a?a.forEach(o=>o.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",me(this,hr)[hr]),this.uppy.on("file-removed",me(this,hr)[hr]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",me(this,mi)[mi])},this.removeEvents=()=>{const a=Id(this.opts.trigger);!this.opts.inline&&a&&a.forEach(o=>o.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",me(this,hr)[hr]),this.uppy.off("file-removed",me(this,hr)[hr]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",me(this,mi)[mi])},this.superFocusOnEachUpdate=()=>{const a=this.el.contains(document.activeElement),o=document.activeElement===document.body||document.activeElement===null,s=this.uppy.getState().info.length===0,l=!this.opts.inline;s&&(l||a||o&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableAllFocusableElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableAllFocusableElements(!1),this.superFocusOnEachUpdate()},this.saveFileCard=(a,o)=>{this.uppy.setFileMeta(o,a),this.toggleFileCard(!1,o)},Object.defineProperty(this,Yr,{writable:!0,value:a=>{const o=this.uppy.getPlugin(a.id);return{...a,icon:o.icon||this.opts.defaultPickerIcon,render:o.render}}}),Object.defineProperty(this,bs,{writable:!0,value:a=>{const o=this.uppy.getPlugin(a.id);return typeof o.isSupported!="function"?!0:o.isSupported()}}),Object.defineProperty(this,Ss,{writable:!0,value:ys(a=>a.filter(o=>o.type==="acquirer"&&me(this,bs)[bs](o)).map(me(this,Yr)[Yr]))}),Object.defineProperty(this,ws,{writable:!0,value:ys(a=>a.filter(o=>o.type==="progressindicator").map(me(this,Yr)[Yr]))}),Object.defineProperty(this,vr,{writable:!0,value:ys(a=>a.filter(o=>o.type==="editor").map(me(this,Yr)[Yr]))}),this.render=a=>{const o=this.getPluginState(),{files:s,capabilities:l,allowNewUpload:u}=a,{newFiles:c,uploadStartedFiles:d,completeFiles:f,erroredFiles:p,inProgressFiles:h,inProgressNotPausedFiles:v,processingFiles:g,isUploadStarted:m,isAllComplete:b,isAllErrored:w,isAllPaused:S}=this.uppy.getObjectOfFilesPerState(),x=me(this,Ss)[Ss](o.targets),y=me(this,ws)[ws](o.targets),E=me(this,vr)[vr](o.targets);let _;return this.opts.theme==="auto"?_=l.darkMode?"dark":"light":_=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),GE({state:a,isHidden:o.isHidden,files:s,newFiles:c,uploadStartedFiles:d,completeFiles:f,erroredFiles:p,inProgressFiles:h,inProgressNotPausedFiles:v,processingFiles:g,isUploadStarted:m,isAllComplete:b,isAllErrored:w,isAllPaused:S,totalFileCount:Object.keys(s).length,totalProgress:a.totalProgress,allowNewUpload:u,acquirers:x,theme:_,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:o.activePickerPanel,showFileEditor:o.showFileEditor,saveFileEditor:this.saveFileEditor,disableAllFocusableElements:this.disableAllFocusableElements,animateOpenClose:this.opts.animateOpenClose,isClosing:o.isClosing,progressindicators:y,editors:E,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:a.recoveredState,metaFields:o.metaFields,resumableUploads:l.resumableUploads||!1,individualCancellation:l.individualCancellation,isMobileDevice:l.isMobileDevice,fileCardFor:o.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:o.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:o.containerWidth,containerHeight:o.containerHeight,areInsidesReadyToBeVisible:o.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:o.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},this.discoverProviderPlugins=()=>{this.uppy.iteratePlugins(a=>{a&&!a.target&&a.opts&&a.opts.target===this.constructor&&this.addTarget(a)})},this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:a,closeAfterFinish:o}=this.opts;if(a&&o)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:s,allowMultipleUploadBatches:l}=this.uppy.opts;(s||l)&&o&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:u}=this.opts;u&&this.mount(u,this),(this.opts.plugins||[]).forEach(f=>{const p=this.uppy.getPlugin(f);p&&p.mount(this,p)}),this.opts.disableStatusBar||this.uppy.use(Zh,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(Jh,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(lv,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const d=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${d?"on":"off"}`),this.setDarkModeCapability(d),this.opts.theme==="auto"&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),this.discoverProviderPlugins(),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){const o=this.uppy.getPlugin(`${this.id}:Informer`);o&&this.uppy.removePlugin(o)}if(!this.opts.disableStatusBar){const o=this.uppy.getPlugin(`${this.id}:StatusBar`);o&&this.uppy.removePlugin(o)}if(!this.opts.disableThumbnailGenerator){const o=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);o&&this.uppy.removePlugin(o)}(this.opts.plugins||[]).forEach(o=>{const s=this.uppy.getPlugin(o);s&&s.unmount()}),this.opts.theme==="auto"&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${pu()}`,this.defaultLocale=VE;const i={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:qE,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.cancelAll(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts={...i,...r},this.i18nInit(),this.superFocus=rE(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}}wv.VERSION=jE.version;function YE(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),i=r.length;if(n.length!==i)return!1;for(var a=0;a<i;a++){var o=r[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}const XE=function(){return arguments.length>0&&typeof(arguments.length<=0?void 0:arguments[0])=="function"};var KE={data(){return{plugin:{}}},props:{uppy:{required:!0},props:{type:Object},plugins:{type:Array}},mounted(){this.installPlugin()},methods:{installPlugin(){const{uppy:e}=this,t={id:"vue:Dashboard",inline:!0,plugins:this.plugins,...this.props,target:this.$refs.container};e.use(wv,t),this.plugin=e.getPlugin(t.id)},uninstallPlugin(e){e.removePlugin(this.plugin)}},beforeDestroy(){this.uninstallPlugin(this.uppy)},beforeUnmount(){this.uninstallPlugin(this.uppy)},watch:{uppy(e,t){t!==e&&(this.uninstallPlugin(t),this.installPlugin())},props(e,t){YE(e,t)||this.plugin.setOptions({...e})}},render(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(XE(...t)){const[n]=t;return n("div",{ref:"container"})}return It("div",{ref:"container"})}},ZE={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};const QE={version:"3.0.1"};class Su extends xr{constructor(t,r){super(t,r),this.handleDrop=async i=>{var a,o;i.preventDefault(),i.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});const s=u=>{this.uppy.log(u,"error")},l=await fv(i.dataTransfer,{logDropError:s});l.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(l)),(a=(o=this.opts).onDrop)==null||a.call(o,i)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=ZE;const n={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};this.opts={...n,...r},this.i18nInit(),this.isDragDropSupported=vv(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(t){const r=t.map(n=>({source:this.id,name:n.name,type:n.type,data:n,meta:{relativePath:n.relativePath||null}}));try{this.uppy.addFiles(r)}catch(n){this.uppy.log(n)}}onInputChange(t){const r=Un(t.target.files);r.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(r)),t.target.value=null}handleDragOver(t){var r,n;t.preventDefault(),t.stopPropagation();const{types:i}=t.dataTransfer,a=i.some(s=>s==="Files"),{allowNewUpload:o}=this.uppy.getState();if(!a||!o){t.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}t.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(r=(n=this.opts).onDragOver)==null||r.call(n,t)}handleDragLeave(t){var r,n;t.preventDefault(),t.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(r=(n=this.opts).onDragLeave)==null||r.call(n,t)}renderHiddenFileInput(){const{restrictions:t}=this.uppy.opts;return C("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:r=>{this.fileInputRef=r},name:this.opts.inputName,multiple:t.maxNumberOfFiles!==1,accept:t.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return C("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},C("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return C("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:C("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return C("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){const t=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,r={width:this.opts.width,height:this.opts.height};return C("button",{type:"button",className:t,style:r,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),C("div",{className:"uppy-DragDrop-inner"},Su.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){const{target:t}=this.opts;this.setPluginState({isDraggingOver:!1}),t&&this.mount(t,this)}uninstall(){this.unmount()}}Su.VERSION=QE.version;const JE={version:"3.0.1"};class tC extends xr{constructor(t,r){super(t,r),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator";const n={target:"body",fixed:!1,hideAfterFinish:!0};this.opts={...n,...r},this.render=this.render.bind(this)}render(t){const r=t.totalProgress||0,n=(r===0||r===100)&&this.opts.hideAfterFinish;return C("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":n},C("div",{className:"uppy-ProgressBar-inner",style:{width:`${r}%`}}),C("div",{className:"uppy-ProgressBar-percentage"},r))}install(){const{target:t}=this.opts;t&&this.mount(t,this)}uninstall(){this.unmount()}}tC.VERSION=JE.version;/*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 */function Ya(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ya=function(t){return typeof t}:Ya=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}function eC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rC(e,t,r){return t&&Hd(e.prototype,t),r&&Hd(e,r),e}function nC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ev(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jd(Object(r),!0).forEach(function(n){nC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cv(e){return iC(e)||aC(e)||oC(e)||sC()}function iC(e){if(Array.isArray(e))return gl(e)}function aC(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function oC(e,t){if(!!e){if(typeof e=="string")return gl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gl(e,t)}}function gl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fo=typeof window!="undefined"&&typeof window.document!="undefined",lr=Fo?window:{},wu=Fo&&lr.document.documentElement?"ontouchstart"in lr.document.documentElement:!1,Eu=Fo?"PointerEvent"in lr:!1,Ut="cropper",Cu="all",xv="crop",Dv="move",_v="zoom",Xr="e",Kr="w",Dn="s",Pr="n",yi="ne",bi="nw",Si="se",wi="sw",ml="".concat(Ut,"-crop"),Wd="".concat(Ut,"-disabled"),Oe="".concat(Ut,"-hidden"),qd="".concat(Ut,"-hide"),lC="".concat(Ut,"-invisible"),vo="".concat(Ut,"-modal"),yl="".concat(Ut,"-move"),Qi="".concat(Ut,"Action"),$a="".concat(Ut,"Preview"),xu="crop",Tv="move",Ov="none",bl="crop",Sl="cropend",wl="cropmove",El="cropstart",Yd="dblclick",uC=wu?"touchstart":"mousedown",cC=wu?"touchmove":"mousemove",dC=wu?"touchend touchcancel":"mouseup",Xd=Eu?"pointerdown":uC,Kd=Eu?"pointermove":cC,Zd=Eu?"pointerup pointercancel":dC,Qd="ready",Jd="resize",tf="wheel",Cl="zoom",ef="image/jpeg",fC=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,pC=/^data:/,hC=/^data:image\/jpeg;base64,/,vC=/^img|canvas$/i,rf={viewMode:0,dragMode:xu,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},gC='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',mC=Number.isNaN||lr.isNaN;function xt(e){return typeof e=="number"&&!mC(e)}var nf=function(t){return t>0&&t<1/0};function Es(e){return typeof e=="undefined"}function pn(e){return Ya(e)==="object"&&e!==null}var yC=Object.prototype.hasOwnProperty;function Bn(e){if(!pn(e))return!1;try{var t=e.constructor,r=t.prototype;return t&&r&&yC.call(r,"isPrototypeOf")}catch{return!1}}function _e(e){return typeof e=="function"}var bC=Array.prototype.slice;function Mv(e){return Array.from?Array.from(e):bC.call(e)}function ae(e,t){return e&&_e(t)&&(Array.isArray(e)||xt(e.length)?Mv(e).forEach(function(r,n){t.call(e,r,n,e)}):pn(e)&&Object.keys(e).forEach(function(r){t.call(e,e[r],r,e)})),e}var Gt=Object.assign||function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return pn(t)&&n.length>0&&n.forEach(function(a){pn(a)&&Object.keys(a).forEach(function(o){t[o]=a[o]})}),t},SC=/\.\d*(?:0|9){12}\d*$/;function Gn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return SC.test(e)?Math.round(e*t)/t:e}var wC=/^width|height|left|top|marginLeft|marginTop$/;function zr(e,t){var r=e.style;ae(t,function(n,i){wC.test(i)&&xt(n)&&(n="".concat(n,"px")),r[i]=n})}function EC(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function de(e,t){if(!!t){if(xt(e.length)){ae(e,function(n){de(n,t)});return}if(e.classList){e.classList.add(t);return}var r=e.className.trim();r?r.indexOf(t)<0&&(e.className="".concat(r," ").concat(t)):e.className=t}}function or(e,t){if(!!t){if(xt(e.length)){ae(e,function(r){or(r,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function zn(e,t,r){if(!!t){if(xt(e.length)){ae(e,function(n){zn(n,t,r)});return}r?de(e,t):or(e,t)}}var CC=/([a-z\d])([A-Z])/g;function Du(e){return e.replace(CC,"$1-$2").toLowerCase()}function xl(e,t){return pn(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Du(t)))}function Ji(e,t,r){pn(r)?e[t]=r:e.dataset?e.dataset[t]=r:e.setAttribute("data-".concat(Du(t)),r)}function xC(e,t){if(pn(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Du(t)))}var Pv=/\s\s*/,kv=function(){var e=!1;if(Fo){var t=!1,r=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(a){t=a}});lr.addEventListener("test",r,n),lr.removeEventListener("test",r,n)}return e}();function qe(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r;t.trim().split(Pv).forEach(function(a){if(!kv){var o=e.listeners;o&&o[a]&&o[a][r]&&(i=o[a][r],delete o[a][r],Object.keys(o[a]).length===0&&delete o[a],Object.keys(o).length===0&&delete e.listeners)}e.removeEventListener(a,i,n)})}function Ae(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r;t.trim().split(Pv).forEach(function(a){if(n.once&&!kv){var o=e.listeners,s=o===void 0?{}:o;i=function(){delete s[a][r],e.removeEventListener(a,i,n);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];r.apply(e,c)},s[a]||(s[a]={}),s[a][r]&&e.removeEventListener(a,s[a][r],n),s[a][r]=i,e.listeners=s}e.addEventListener(a,i,n)})}function Vn(e,t,r){var n;return _e(Event)&&_e(CustomEvent)?n=new CustomEvent(t,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,r)),e.dispatchEvent(n)}function Iv(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Cs=lr.location,DC=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function af(e){var t=e.match(DC);return t!==null&&(t[1]!==Cs.protocol||t[2]!==Cs.hostname||t[3]!==Cs.port)}function of(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function $i(e){var t=e.rotate,r=e.scaleX,n=e.scaleY,i=e.translateX,a=e.translateY,o=[];xt(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),xt(a)&&a!==0&&o.push("translateY(".concat(a,"px)")),xt(t)&&t!==0&&o.push("rotate(".concat(t,"deg)")),xt(r)&&r!==1&&o.push("scaleX(".concat(r,")")),xt(n)&&n!==1&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function _C(e){var t=Ev({},e),r=[];return ae(e,function(n,i){delete t[i],ae(t,function(a){var o=Math.abs(n.startX-a.startX),s=Math.abs(n.startY-a.startY),l=Math.abs(n.endX-a.endX),u=Math.abs(n.endY-a.endY),c=Math.sqrt(o*o+s*s),d=Math.sqrt(l*l+u*u),f=(d-c)/c;r.push(f)})}),r.sort(function(n,i){return Math.abs(n)<Math.abs(i)}),r[0]}function Ua(e,t){var r=e.pageX,n=e.pageY,i={endX:r,endY:n};return t?i:Ev({startX:r,startY:n},i)}function TC(e){var t=0,r=0,n=0;return ae(e,function(i){var a=i.startX,o=i.startY;t+=a,r+=o,n+=1}),t/=n,r/=n,{pageX:t,pageY:r}}function Nr(e){var t=e.aspectRatio,r=e.height,n=e.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",a=nf(n),o=nf(r);if(a&&o){var s=r*t;i==="contain"&&s>n||i==="cover"&&s<n?r=n/t:n=r*t}else a?r=n/t:o&&(n=r*t);return{width:n,height:r}}function OC(e){var t=e.width,r=e.height,n=e.degree;if(n=Math.abs(n)%180,n===90)return{width:r,height:t};var i=n%90*Math.PI/180,a=Math.sin(i),o=Math.cos(i),s=t*o+r*a,l=t*a+r*o;return n>90?{width:l,height:s}:{width:s,height:l}}function MC(e,t,r,n){var i=t.aspectRatio,a=t.naturalWidth,o=t.naturalHeight,s=t.rotate,l=s===void 0?0:s,u=t.scaleX,c=u===void 0?1:u,d=t.scaleY,f=d===void 0?1:d,p=r.aspectRatio,h=r.naturalWidth,v=r.naturalHeight,g=n.fillColor,m=g===void 0?"transparent":g,b=n.imageSmoothingEnabled,w=b===void 0?!0:b,S=n.imageSmoothingQuality,x=S===void 0?"low":S,y=n.maxWidth,E=y===void 0?1/0:y,_=n.maxHeight,D=_===void 0?1/0:_,T=n.minWidth,k=T===void 0?0:T,O=n.minHeight,I=O===void 0?0:O,R=document.createElement("canvas"),F=R.getContext("2d"),L=Nr({aspectRatio:p,width:E,height:D}),N=Nr({aspectRatio:p,width:k,height:I},"cover"),$=Math.min(L.width,Math.max(N.width,h)),U=Math.min(L.height,Math.max(N.height,v)),z=Nr({aspectRatio:i,width:E,height:D}),H=Nr({aspectRatio:i,width:k,height:I},"cover"),X=Math.min(z.width,Math.max(H.width,a)),j=Math.min(z.height,Math.max(H.height,o)),K=[-X/2,-j/2,X,j];return R.width=Gn($),R.height=Gn(U),F.fillStyle=m,F.fillRect(0,0,$,U),F.save(),F.translate($/2,U/2),F.rotate(l*Math.PI/180),F.scale(c,f),F.imageSmoothingEnabled=w,F.imageSmoothingQuality=x,F.drawImage.apply(F,[e].concat(Cv(K.map(function(q){return Math.floor(Gn(q))})))),F.restore(),R}var Rv=String.fromCharCode;function PC(e,t,r){var n="";r+=t;for(var i=t;i<r;i+=1)n+=Rv(e.getUint8(i));return n}var kC=/^data:.*,/;function IC(e){var t=e.replace(kC,""),r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n);return ae(i,function(a,o){i[o]=r.charCodeAt(o)}),n}function RC(e,t){for(var r=[],n=8192,i=new Uint8Array(e);i.length>0;)r.push(Rv.apply(null,Mv(i.subarray(0,n)))),i=i.subarray(n);return"data:".concat(t,";base64,").concat(btoa(r.join("")))}function FC(e){var t=new DataView(e),r;try{var n,i,a;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,s=2;s+1<o;){if(t.getUint8(s)===255&&t.getUint8(s+1)===225){i=s;break}s+=1}if(i){var l=i+4,u=i+10;if(PC(t,l,4)==="Exif"){var c=t.getUint16(u);if(n=c===18761,(n||c===19789)&&t.getUint16(u+2,n)===42){var d=t.getUint32(u+4,n);d>=8&&(a=u+d)}}}if(a){var f=t.getUint16(a,n),p,h;for(h=0;h<f;h+=1)if(p=a+h*12+2,t.getUint16(p,n)===274){p+=8,r=t.getUint16(p,n),t.setUint16(p,1,n);break}}}catch{r=1}return r}function AC(e){var t=0,r=1,n=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:r,scaleY:n}}var BC={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,r=this.options,n=this.container,i=this.cropper;de(i,Oe),or(t,Oe);var a={width:Math.max(n.offsetWidth,Number(r.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(r.minContainerHeight)||100)};this.containerData=a,zr(i,{width:a.width,height:a.height}),de(t,Oe),or(i,Oe)},initCanvas:function(){var t=this.containerData,r=this.imageData,n=this.options.viewMode,i=Math.abs(r.rotate)%180===90,a=i?r.naturalHeight:r.naturalWidth,o=i?r.naturalWidth:r.naturalHeight,s=a/o,l=t.width,u=t.height;t.height*s>t.width?n===3?l=t.height*s:u=t.width/s:n===3?u=t.width/s:l=t.height*s;var c={aspectRatio:s,naturalWidth:a,naturalHeight:o,width:l,height:u};c.left=(t.width-l)/2,c.top=(t.height-u)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=n===1||n===2,this.limitCanvas(!0,!0),this.initialImageData=Gt({},r),this.initialCanvasData=Gt({},c)},limitCanvas:function(t,r){var n=this.options,i=this.containerData,a=this.canvasData,o=this.cropBoxData,s=n.viewMode,l=a.aspectRatio,u=this.cropped&&o;if(t){var c=Number(n.minCanvasWidth)||0,d=Number(n.minCanvasHeight)||0;s>1?(c=Math.max(c,i.width),d=Math.max(d,i.height),s===3&&(d*l>c?c=d*l:d=c/l)):s>0&&(c?c=Math.max(c,u?o.width:0):d?d=Math.max(d,u?o.height:0):u&&(c=o.width,d=o.height,d*l>c?c=d*l:d=c/l));var f=Nr({aspectRatio:l,width:c,height:d});c=f.width,d=f.height,a.minWidth=c,a.minHeight=d,a.maxWidth=1/0,a.maxHeight=1/0}if(r)if(s>(u?0:1)){var p=i.width-a.width,h=i.height-a.height;a.minLeft=Math.min(0,p),a.minTop=Math.min(0,h),a.maxLeft=Math.max(0,p),a.maxTop=Math.max(0,h),u&&this.limited&&(a.minLeft=Math.min(o.left,o.left+(o.width-a.width)),a.minTop=Math.min(o.top,o.top+(o.height-a.height)),a.maxLeft=o.left,a.maxTop=o.top,s===2&&(a.width>=i.width&&(a.minLeft=Math.min(0,p),a.maxLeft=Math.max(0,p)),a.height>=i.height&&(a.minTop=Math.min(0,h),a.maxTop=Math.max(0,h))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=i.width,a.maxTop=i.height},renderCanvas:function(t,r){var n=this.canvasData,i=this.imageData;if(r){var a=OC({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=a.width,s=a.height,l=n.width*(o/n.naturalWidth),u=n.height*(s/n.naturalHeight);n.left-=(l-n.width)/2,n.top-=(u-n.height)/2,n.width=l,n.height=u,n.aspectRatio=o/s,n.naturalWidth=o,n.naturalHeight=s,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,zr(this.canvas,Gt({width:n.width,height:n.height},$i({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var r=this.canvasData,n=this.imageData,i=n.naturalWidth*(r.width/r.naturalWidth),a=n.naturalHeight*(r.height/r.naturalHeight);Gt(n,{width:i,height:a,left:(r.width-i)/2,top:(r.height-a)/2}),zr(this.image,Gt({width:n.width,height:n.height},$i(Gt({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,r=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,a={width:r.width,height:r.height};n&&(r.height*n>r.width?a.height=a.width/n:a.width=a.height*n),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*i),a.height=Math.max(a.minHeight,a.height*i),a.left=r.left+(r.width-a.width)/2,a.top=r.top+(r.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=Gt({},a)},limitCropBox:function(t,r){var n=this.options,i=this.containerData,a=this.canvasData,o=this.cropBoxData,s=this.limited,l=n.aspectRatio;if(t){var u=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,d=s?Math.min(i.width,a.width,a.width+a.left,i.width-a.left):i.width,f=s?Math.min(i.height,a.height,a.height+a.top,i.height-a.top):i.height;u=Math.min(u,i.width),c=Math.min(c,i.height),l&&(u&&c?c*l>u?c=u/l:u=c*l:u?c=u/l:c&&(u=c*l),f*l>d?f=d/l:d=f*l),o.minWidth=Math.min(u,d),o.minHeight=Math.min(c,f),o.maxWidth=d,o.maxHeight=f}r&&(s?(o.minLeft=Math.max(0,a.left),o.minTop=Math.max(0,a.top),o.maxLeft=Math.min(i.width,a.left+a.width)-o.width,o.maxTop=Math.min(i.height,a.top+a.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var t=this.options,r=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&Ji(this.face,Qi,n.width>=r.width&&n.height>=r.height?Dv:Cu),zr(this.cropBox,Gt({width:n.width,height:n.height},$i({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Vn(this.element,bl,this.getData())}},zC={initPreview:function(){var t=this.element,r=this.crossOrigin,n=this.options.preview,i=r?this.crossOriginUrl:this.url,a=t.alt||"The image to preview",o=document.createElement("img");if(r&&(o.crossOrigin=r),o.src=i,o.alt=a,this.viewBox.appendChild(o),this.viewBoxImage=o,!!n){var s=n;typeof n=="string"?s=t.ownerDocument.querySelectorAll(n):n.querySelector&&(s=[n]),this.previews=s,ae(s,function(l){var u=document.createElement("img");Ji(l,$a,{width:l.offsetWidth,height:l.offsetHeight,html:l.innerHTML}),r&&(u.crossOrigin=r),u.src=i,u.alt=a,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',l.innerHTML="",l.appendChild(u)})}},resetPreview:function(){ae(this.previews,function(t){var r=xl(t,$a);zr(t,{width:r.width,height:r.height}),t.innerHTML=r.html,xC(t,$a)})},preview:function(){var t=this.imageData,r=this.canvasData,n=this.cropBoxData,i=n.width,a=n.height,o=t.width,s=t.height,l=n.left-r.left-t.left,u=n.top-r.top-t.top;!this.cropped||this.disabled||(zr(this.viewBoxImage,Gt({width:o,height:s},$i(Gt({translateX:-l,translateY:-u},t)))),ae(this.previews,function(c){var d=xl(c,$a),f=d.width,p=d.height,h=f,v=p,g=1;i&&(g=f/i,v=a*g),a&&v>p&&(g=p/a,h=i*g,v=p),zr(c,{width:h,height:v}),zr(c.getElementsByTagName("img")[0],Gt({width:o*g,height:s*g},$i(Gt({translateX:-l*g,translateY:-u*g},t))))}))}},NC={bind:function(){var t=this.element,r=this.options,n=this.cropper;_e(r.cropstart)&&Ae(t,El,r.cropstart),_e(r.cropmove)&&Ae(t,wl,r.cropmove),_e(r.cropend)&&Ae(t,Sl,r.cropend),_e(r.crop)&&Ae(t,bl,r.crop),_e(r.zoom)&&Ae(t,Cl,r.zoom),Ae(n,Xd,this.onCropStart=this.cropStart.bind(this)),r.zoomable&&r.zoomOnWheel&&Ae(n,tf,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&Ae(n,Yd,this.onDblclick=this.dblclick.bind(this)),Ae(t.ownerDocument,Kd,this.onCropMove=this.cropMove.bind(this)),Ae(t.ownerDocument,Zd,this.onCropEnd=this.cropEnd.bind(this)),r.responsive&&Ae(window,Jd,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,r=this.options,n=this.cropper;_e(r.cropstart)&&qe(t,El,r.cropstart),_e(r.cropmove)&&qe(t,wl,r.cropmove),_e(r.cropend)&&qe(t,Sl,r.cropend),_e(r.crop)&&qe(t,bl,r.crop),_e(r.zoom)&&qe(t,Cl,r.zoom),qe(n,Xd,this.onCropStart),r.zoomable&&r.zoomOnWheel&&qe(n,tf,this.onWheel,{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&qe(n,Yd,this.onDblclick),qe(t.ownerDocument,Kd,this.onCropMove),qe(t.ownerDocument,Zd,this.onCropEnd),r.responsive&&qe(window,Jd,this.onResize)}},LC={resize:function(){if(!this.disabled){var t=this.options,r=this.container,n=this.containerData,i=r.offsetWidth/n.width;if(i!==1||r.offsetHeight!==n.height){var a,o;t.restore&&(a=this.getCanvasData(),o=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(ae(a,function(s,l){a[l]=s*i})),this.setCropBoxData(ae(o,function(s,l){o[l]=s*i})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ov||this.setDragMode(EC(this.dragBox,ml)?Tv:xu)},wheel:function(t){var r=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*n,t)))},cropStart:function(t){var r=t.buttons,n=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(xt(r)&&r!==1||xt(n)&&n!==0||t.ctrlKey))){var i=this.options,a=this.pointers,o;t.changedTouches?ae(t.changedTouches,function(s){a[s.identifier]=Ua(s)}):a[t.pointerId||0]=Ua(t),Object.keys(a).length>1&&i.zoomable&&i.zoomOnTouch?o=_v:o=xl(t.target,Qi),!!fC.test(o)&&Vn(this.element,El,{originalEvent:t,action:o})!==!1&&(t.preventDefault(),this.action=o,this.cropping=!1,o===xv&&(this.cropping=!0,de(this.dragBox,vo)))}},cropMove:function(t){var r=this.action;if(!(this.disabled||!r)){var n=this.pointers;t.preventDefault(),Vn(this.element,wl,{originalEvent:t,action:r})!==!1&&(t.changedTouches?ae(t.changedTouches,function(i){Gt(n[i.identifier]||{},Ua(i,!0))}):Gt(n[t.pointerId||0]||{},Ua(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var r=this.action,n=this.pointers;t.changedTouches?ae(t.changedTouches,function(i){delete n[i.identifier]}):delete n[t.pointerId||0],r&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,zn(this.dragBox,vo,this.cropped&&this.options.modal)),Vn(this.element,Sl,{originalEvent:t,action:r}))}}},$C={change:function(t){var r=this.options,n=this.canvasData,i=this.containerData,a=this.cropBoxData,o=this.pointers,s=this.action,l=r.aspectRatio,u=a.left,c=a.top,d=a.width,f=a.height,p=u+d,h=c+f,v=0,g=0,m=i.width,b=i.height,w=!0,S;!l&&t.shiftKey&&(l=d&&f?d/f:1),this.limited&&(v=a.minLeft,g=a.minTop,m=v+Math.min(i.width,n.width,n.left+n.width),b=g+Math.min(i.height,n.height,n.top+n.height));var x=o[Object.keys(o)[0]],y={x:x.endX-x.startX,y:x.endY-x.startY},E=function(D){switch(D){case Xr:p+y.x>m&&(y.x=m-p);break;case Kr:u+y.x<v&&(y.x=v-u);break;case Pr:c+y.y<g&&(y.y=g-c);break;case Dn:h+y.y>b&&(y.y=b-h);break}};switch(s){case Cu:u+=y.x,c+=y.y;break;case Xr:if(y.x>=0&&(p>=m||l&&(c<=g||h>=b))){w=!1;break}E(Xr),d+=y.x,d<0&&(s=Kr,d=-d,u-=d),l&&(f=d/l,c+=(a.height-f)/2);break;case Pr:if(y.y<=0&&(c<=g||l&&(u<=v||p>=m))){w=!1;break}E(Pr),f-=y.y,c+=y.y,f<0&&(s=Dn,f=-f,c-=f),l&&(d=f*l,u+=(a.width-d)/2);break;case Kr:if(y.x<=0&&(u<=v||l&&(c<=g||h>=b))){w=!1;break}E(Kr),d-=y.x,u+=y.x,d<0&&(s=Xr,d=-d,u-=d),l&&(f=d/l,c+=(a.height-f)/2);break;case Dn:if(y.y>=0&&(h>=b||l&&(u<=v||p>=m))){w=!1;break}E(Dn),f+=y.y,f<0&&(s=Pr,f=-f,c-=f),l&&(d=f*l,u+=(a.width-d)/2);break;case yi:if(l){if(y.y<=0&&(c<=g||p>=m)){w=!1;break}E(Pr),f-=y.y,c+=y.y,d=f*l}else E(Pr),E(Xr),y.x>=0?p<m?d+=y.x:y.y<=0&&c<=g&&(w=!1):d+=y.x,y.y<=0?c>g&&(f-=y.y,c+=y.y):(f-=y.y,c+=y.y);d<0&&f<0?(s=wi,f=-f,d=-d,c-=f,u-=d):d<0?(s=bi,d=-d,u-=d):f<0&&(s=Si,f=-f,c-=f);break;case bi:if(l){if(y.y<=0&&(c<=g||u<=v)){w=!1;break}E(Pr),f-=y.y,c+=y.y,d=f*l,u+=a.width-d}else E(Pr),E(Kr),y.x<=0?u>v?(d-=y.x,u+=y.x):y.y<=0&&c<=g&&(w=!1):(d-=y.x,u+=y.x),y.y<=0?c>g&&(f-=y.y,c+=y.y):(f-=y.y,c+=y.y);d<0&&f<0?(s=Si,f=-f,d=-d,c-=f,u-=d):d<0?(s=yi,d=-d,u-=d):f<0&&(s=wi,f=-f,c-=f);break;case wi:if(l){if(y.x<=0&&(u<=v||h>=b)){w=!1;break}E(Kr),d-=y.x,u+=y.x,f=d/l}else E(Dn),E(Kr),y.x<=0?u>v?(d-=y.x,u+=y.x):y.y>=0&&h>=b&&(w=!1):(d-=y.x,u+=y.x),y.y>=0?h<b&&(f+=y.y):f+=y.y;d<0&&f<0?(s=yi,f=-f,d=-d,c-=f,u-=d):d<0?(s=Si,d=-d,u-=d):f<0&&(s=bi,f=-f,c-=f);break;case Si:if(l){if(y.x>=0&&(p>=m||h>=b)){w=!1;break}E(Xr),d+=y.x,f=d/l}else E(Dn),E(Xr),y.x>=0?p<m?d+=y.x:y.y>=0&&h>=b&&(w=!1):d+=y.x,y.y>=0?h<b&&(f+=y.y):f+=y.y;d<0&&f<0?(s=bi,f=-f,d=-d,c-=f,u-=d):d<0?(s=wi,d=-d,u-=d):f<0&&(s=yi,f=-f,c-=f);break;case Dv:this.move(y.x,y.y),w=!1;break;case _v:this.zoom(_C(o),t),w=!1;break;case xv:if(!y.x||!y.y){w=!1;break}S=Iv(this.cropper),u=x.startX-S.left,c=x.startY-S.top,d=a.minWidth,f=a.minHeight,y.x>0?s=y.y>0?Si:yi:y.x<0&&(u-=d,s=y.y>0?wi:bi),y.y<0&&(c-=f),this.cropped||(or(this.cropBox,Oe),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}w&&(a.width=d,a.height=f,a.left=u,a.top=c,this.action=s,this.renderCropBox()),ae(o,function(_){_.startX=_.endX,_.startY=_.endY})}},UC={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&de(this.dragBox,vo),or(this.cropBox,Oe),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Gt({},this.initialImageData),this.canvasData=Gt({},this.initialCanvasData),this.cropBoxData=Gt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Gt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),or(this.dragBox,vo),de(this.cropBox,Oe)),this},replace:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),r?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,ae(this.previews,function(n){n.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,or(this.cropper,Wd)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,de(this.cropper,Wd)),this},destroy:function(){var t=this.element;return t[Ut]?(t[Ut]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,i=n.left,a=n.top;return this.moveTo(Es(t)?t:i+Number(t),Es(r)?r:a+Number(r))},moveTo:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,i=!1;return t=Number(t),r=Number(r),this.ready&&!this.disabled&&this.options.movable&&(xt(t)&&(n.left=t,i=!0),xt(r)&&(n.top=r,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(t,r){var n=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(n.width*t/n.naturalWidth,null,r)},zoomTo:function(t,r,n){var i=this.options,a=this.canvasData,o=a.width,s=a.height,l=a.naturalWidth,u=a.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&i.zoomable){var c=l*t,d=u*t;if(Vn(this.element,Cl,{ratio:t,oldRatio:o/l,originalEvent:n})===!1)return this;if(n){var f=this.pointers,p=Iv(this.cropper),h=f&&Object.keys(f).length?TC(f):{pageX:n.pageX,pageY:n.pageY};a.left-=(c-o)*((h.pageX-p.left-a.left)/o),a.top-=(d-s)*((h.pageY-p.top-a.top)/s)}else Bn(r)&&xt(r.x)&&xt(r.y)?(a.left-=(c-o)*((r.x-a.left)/o),a.top-=(d-s)*((r.y-a.top)/s)):(a.left-=(c-o)/2,a.top-=(d-s)/2);a.width=c,a.height=d,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),xt(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var r=this.imageData.scaleY;return this.scale(t,xt(r)?r:1)},scaleY:function(t){var r=this.imageData.scaleX;return this.scale(xt(r)?r:1,t)},scale:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.imageData,i=!1;return t=Number(t),r=Number(r),this.ready&&!this.disabled&&this.options.scalable&&(xt(t)&&(n.scaleX=t,i=!0),xt(r)&&(n.scaleY=r,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.options,n=this.imageData,i=this.canvasData,a=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:a.left-i.left,y:a.top-i.top,width:a.width,height:a.height};var s=n.width/n.naturalWidth;if(ae(o,function(c,d){o[d]=c/s}),t){var l=Math.round(o.y+o.height),u=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=u-o.x,o.height=l-o.y}}else o={x:0,y:0,width:0,height:0};return r.rotatable&&(o.rotate=n.rotate||0),r.scalable&&(o.scaleX=n.scaleX||1,o.scaleY=n.scaleY||1),o},setData:function(t){var r=this.options,n=this.imageData,i=this.canvasData,a={};if(this.ready&&!this.disabled&&Bn(t)){var o=!1;r.rotatable&&xt(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,o=!0),r.scalable&&(xt(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,o=!0),xt(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var s=n.width/n.naturalWidth;xt(t.x)&&(a.left=t.x*s+i.left),xt(t.y)&&(a.top=t.y*s+i.top),xt(t.width)&&(a.width=t.width*s),xt(t.height)&&(a.height=t.height*s),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?Gt({},this.containerData):{}},getImageData:function(){return this.sized?Gt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,r={};return this.ready&&ae(["left","top","width","height","naturalWidth","naturalHeight"],function(n){r[n]=t[n]}),r},setCanvasData:function(t){var r=this.canvasData,n=r.aspectRatio;return this.ready&&!this.disabled&&Bn(t)&&(xt(t.left)&&(r.left=t.left),xt(t.top)&&(r.top=t.top),xt(t.width)?(r.width=t.width,r.height=t.width/n):xt(t.height)&&(r.height=t.height,r.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,r;return this.ready&&this.cropped&&(r={left:t.left,top:t.top,width:t.width,height:t.height}),r||{}},setCropBoxData:function(t){var r=this.cropBoxData,n=this.options.aspectRatio,i,a;return this.ready&&this.cropped&&!this.disabled&&Bn(t)&&(xt(t.left)&&(r.left=t.left),xt(t.top)&&(r.top=t.top),xt(t.width)&&t.width!==r.width&&(i=!0,r.width=t.width),xt(t.height)&&t.height!==r.height&&(a=!0,r.height=t.height),n&&(i?r.height=r.width/n:a&&(r.width=r.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var r=this.canvasData,n=MC(this.image,this.imageData,r,t);if(!this.cropped)return n;var i=this.getData(),a=i.x,o=i.y,s=i.width,l=i.height,u=n.width/Math.floor(r.naturalWidth);u!==1&&(a*=u,o*=u,s*=u,l*=u);var c=s/l,d=Nr({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),f=Nr({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),p=Nr({aspectRatio:c,width:t.width||(u!==1?n.width:s),height:t.height||(u!==1?n.height:l)}),h=p.width,v=p.height;h=Math.min(d.width,Math.max(f.width,h)),v=Math.min(d.height,Math.max(f.height,v));var g=document.createElement("canvas"),m=g.getContext("2d");g.width=Gn(h),g.height=Gn(v),m.fillStyle=t.fillColor||"transparent",m.fillRect(0,0,h,v);var b=t.imageSmoothingEnabled,w=b===void 0?!0:b,S=t.imageSmoothingQuality;m.imageSmoothingEnabled=w,S&&(m.imageSmoothingQuality=S);var x=n.width,y=n.height,E=a,_=o,D,T,k,O,I,R;E<=-s||E>x?(E=0,D=0,k=0,I=0):E<=0?(k=-E,E=0,D=Math.min(x,s+E),I=D):E<=x&&(k=0,D=Math.min(s,x-E),I=D),D<=0||_<=-l||_>y?(_=0,T=0,O=0,R=0):_<=0?(O=-_,_=0,T=Math.min(y,l+_),R=T):_<=y&&(O=0,T=Math.min(l,y-_),R=T);var F=[E,_,D,T];if(I>0&&R>0){var L=h/s;F.push(k*L,O*L,I*L,R*L)}return m.drawImage.apply(m,[n].concat(Cv(F.map(function(N){return Math.floor(Gn(N))})))),g},setAspectRatio:function(t){var r=this.options;return!this.disabled&&!Es(t)&&(r.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var r=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var a=t===xu,o=r.movable&&t===Tv;t=a||o?t:Ov,r.dragMode=t,Ji(n,Qi,t),zn(n,ml,a),zn(n,yl,o),r.cropBoxMovable||(Ji(i,Qi,t),zn(i,ml,a),zn(i,yl,o))}return this}},GC=lr.Cropper,Fv=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(eC(this,e),!t||!vC.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Gt({},rf,Bn(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return rC(e,[{key:"init",value:function(){var r=this.element,n=r.tagName.toLowerCase(),i;if(!r[Ut]){if(r[Ut]=this,n==="img"){if(this.isImg=!0,i=r.getAttribute("src")||"",this.originalUrl=i,!i)return;i=r.src}else n==="canvas"&&window.HTMLCanvasElement&&(i=r.toDataURL());this.load(i)}}},{key:"load",value:function(r){var n=this;if(!!r){this.url=r,this.imageData={};var i=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer){this.clone();return}if(pC.test(r)){hC.test(r)?this.read(IC(r)):this.clone();return}var o=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=s,o.onerror=s,o.ontimeout=s,o.onprogress=function(){o.getResponseHeader("content-type")!==ef&&o.abort()},o.onload=function(){n.read(o.response)},o.onloadend=function(){n.reloading=!1,n.xhr=null},a.checkCrossOrigin&&af(r)&&i.crossOrigin&&(r=of(r)),o.open("GET",r),o.responseType="arraybuffer",o.withCredentials=i.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(r){var n=this.options,i=this.imageData,a=FC(r),o=0,s=1,l=1;if(a>1){this.url=RC(r,ef);var u=AC(a);o=u.rotate,s=u.scaleX,l=u.scaleY}n.rotatable&&(i.rotate=o),n.scalable&&(i.scaleX=s,i.scaleY=l),this.clone()}},{key:"clone",value:function(){var r=this.element,n=this.url,i=r.crossOrigin,a=n;this.options.checkCrossOrigin&&af(n)&&(i||(i="anonymous"),a=of(n)),this.crossOrigin=i,this.crossOriginUrl=a;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=a||n,o.alt=r.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),de(o,qd),r.parentNode.insertBefore(o,r.nextSibling)}},{key:"start",value:function(){var r=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var i=lr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(lr.navigator.userAgent),a=function(u,c){Gt(r.imageData,{naturalWidth:u,naturalHeight:c,aspectRatio:u/c}),r.sizing=!1,r.sized=!0,r.build()};if(n.naturalWidth&&!i){a(n.naturalWidth,n.naturalHeight);return}var o=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){a(o.width,o.height),i||s.removeChild(o)},o.src=n.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(o))}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var r=this.element,n=this.options,i=this.image,a=r.parentNode,o=document.createElement("div");o.innerHTML=gC;var s=o.querySelector(".".concat(Ut,"-container")),l=s.querySelector(".".concat(Ut,"-canvas")),u=s.querySelector(".".concat(Ut,"-drag-box")),c=s.querySelector(".".concat(Ut,"-crop-box")),d=c.querySelector(".".concat(Ut,"-face"));this.container=a,this.cropper=s,this.canvas=l,this.dragBox=u,this.cropBox=c,this.viewBox=s.querySelector(".".concat(Ut,"-view-box")),this.face=d,l.appendChild(i),de(r,Oe),a.insertBefore(s,r.nextSibling),this.isImg||or(i,qd),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,de(c,Oe),n.guides||de(c.getElementsByClassName("".concat(Ut,"-dashed")),Oe),n.center||de(c.getElementsByClassName("".concat(Ut,"-center")),Oe),n.background&&de(s,"".concat(Ut,"-bg")),n.highlight||de(d,lC),n.cropBoxMovable&&(de(d,yl),Ji(d,Qi,Cu)),n.cropBoxResizable||(de(c.getElementsByClassName("".concat(Ut,"-line")),Oe),de(c.getElementsByClassName("".concat(Ut,"-point")),Oe)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),_e(n.ready)&&Ae(r,Qd,n.ready,{once:!0}),Vn(r,Qd)}}},{key:"unbuild",value:function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),or(this.element,Oe))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=GC,e}},{key:"setDefaults",value:function(r){Gt(rf,Bn(r)&&r)}}]),e}();Gt(Fv.prototype,BC,zC,NC,LC,$C,UC);class VC extends Ge{constructor(t){super(t),this.granularRotateOnChange=r=>{const{rotationAngle:n,rotationDelta:i}=this.state,a=Number(r.target.value)-i;if(cancelAnimationFrame(this.granularRotateOnInputNextFrame),a!==0){const o=n+a;this.granularRotateOnInputNextFrame=requestAnimationFrame(()=>{this.cropper.rotateTo(o)})}},this.state={rotationAngle:0,rotationDelta:0}}componentDidMount(){const{opts:t,storeCropperInstance:r}=this.props;this.cropper=new Fv(this.imgElement,t.cropperOptions),r(this.cropper),t.actions.granularRotate&&this.imgElement.addEventListener("crop",n=>{const i=n.detail.rotate;this.setState({rotationAngle:i,rotationDelta:(i+405)%90-45})})}componentWillUnmount(){this.cropper.destroy()}renderGranularRotate(){const{i18n:t}=this.props,{rotationDelta:r,rotationAngle:n}=this.state;return C("label",{"data-microtip-position":"top",role:"tooltip","aria-label":`${n}\xBA`,className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},C("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:r,min:"-45",max:"44","aria-label":t("rotate")}))}renderRevert(){const{i18n:t}=this.props;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":t("revert"),"data-microtip-position":"top",onClick:()=>{this.cropper.reset(),this.cropper.setAspectRatio(0)}},C("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},C("path",{d:"M0 0h24v24H0z",fill:"none"}),C("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))}renderRotate(){const{i18n:t}=this.props;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:()=>this.cropper.rotate(-90),"aria-label":t("rotate"),"data-microtip-position":"top"},C("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},C("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))}renderFlip(){const{i18n:t}=this.props;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":t("flipHorizontal"),"data-microtip-position":"top",onClick:()=>this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},C("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},C("path",{d:"M0 0h24v24H0z",fill:"none"}),C("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))}renderZoomIn(){const{i18n:t}=this.props;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":t("zoomIn"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(.1)},C("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),C("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}renderZoomOut(){const{i18n:t}=this.props;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":t("zoomOut"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(-.1)},C("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))}renderCropSquare(){const{i18n:t}=this.props;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":t("aspectRatioSquare"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(1)},C("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},C("path",{d:"M0 0h24v24H0z",fill:"none"}),C("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}renderCropWidescreen(){const{i18n:t}=this.props;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":t("aspectRatioLandscape"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(16/9)},C("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},C("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),C("path",{fill:"none",d:"M0 0h24v24H0z"})))}renderCropWidescreenVertical(){const{i18n:t}=this.props;return C("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":t("aspectRatioPortrait"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(9/16)},C("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},C("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),C("path",{d:"M0 0h24v24H0z",fill:"none"})))}render(){const{currentImage:t,opts:r}=this.props,{actions:n}=r,i=URL.createObjectURL(t.data);return C("div",{className:"uppy-ImageCropper"},C("div",{className:"uppy-ImageCropper-container"},C("img",{className:"uppy-ImageCropper-image",alt:t.name,src:i,ref:a=>{this.imgElement=a}})),C("div",{className:"uppy-ImageCropper-controls"},n.revert&&this.renderRevert(),n.rotate&&this.renderRotate(),n.granularRotate&&this.renderGranularRotate(),n.flip&&this.renderFlip(),n.zoomIn&&this.renderZoomIn(),n.zoomOut&&this.renderZoomOut(),n.cropSquare&&this.renderCropSquare(),n.cropWidescreen&&this.renderCropWidescreen(),n.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}}var HC={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}};const jC={version:"2.1.0"};class Av extends xr{constructor(t,r){super(t,r),this.save=()=>{const o=l=>{const{currentImage:u}=this.getPluginState();this.uppy.setFileState(u.id,{data:l,size:l.size,preview:null});const c=this.uppy.getFile(u.id);this.uppy.emit("thumbnail:request",c),this.setPluginState({currentImage:c}),this.uppy.emit("file-editor:complete",c)},{currentImage:s}=this.getPluginState();this.cropper.getCroppedCanvas(this.opts.cropperOptions.croppedCanvasOptions).toBlob(o,s.type,this.opts.quality)},this.storeCropperInstance=o=>{this.cropper=o},this.selectFile=o=>{this.uppy.emit("file-editor:start",o),this.setPluginState({currentImage:o})},this.id=this.opts.id||"ImageEditor",this.title="Image Editor",this.type="editor",this.defaultLocale=HC;const n={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},i={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},a={quality:.8};this.opts={...a,...r,actions:{...i,...r.actions},cropperOptions:{...n,...r.cropperOptions}},this.i18nInit()}canEditFile(t){if(!t.type||t.isRemote)return!1;const r=t.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(r)}install(){this.setPluginState({currentImage:null});const{target:t}=this.opts;t&&this.mount(t,this)}uninstall(){const{currentImage:t}=this.getPluginState();if(t){const r=this.uppy.getFile(t.id);this.uppy.emit("file-editor:cancel",r)}this.unmount()}render(){const{currentImage:t}=this.getPluginState();return t===null||t.isRemote?null:C(VC,{currentImage:t,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}}Av.VERSION=jC.version;const WC={components:{Dashboard:KE},props:{types:{type:Array,default:null},path:{type:String,default:"files"},maxNumberOfFiles:{type:Number,default:1}},emits:["uploaded","fileAdded","fileRemoved"],setup(e,t){Sf();const r=new jh({autoProceed:!1,restrictions:{allowedFileTypes:e.types,maxNumberOfFiles:e.maxNumberOfFiles}});r.use(Av,{quality:1}),r.on("complete",a=>{var o,s;((o=a.successful)==null?void 0:o.length)>0&&t.emit("uploaded",(s=a.successful[0])==null?void 0:s.response)}),r.on("file-added",a=>{console.log("fileAdded",a),t.emit("fileAdded",a)}),r.on("file-removed",(a,o)=>{t.emit("fileRemoved",a)}),yf(()=>{r.close()});function n(){r.upload()}function i(){r.cancelAll()}return{uppy:r,upload:n,cancel:i}}};function qC(e,t,r,n,i,a){const o=Te("dashboard");return J(),wt(o,{ref:"dash",uppy:n.uppy,props:{proudlyDisplayPoweredByUppy:!1,hideUploadButton:!0,height:300,metaFields:[{id:"name",name:"Name",placeholder:"file name"},{id:"caption",name:"Caption",placeholder:"describe what the image is about"}]},plugins:["ImageEditor"]},null,8,["uppy"])}var YC=He(WC,[["render",qC],["__scopeId","data-v-05b34b9d"]]);const XC=Ve({name:"IndexPage",components:{VueMoveable:su,VueSelecto:uu,ObjectType:SS,FileUpload:YC},setup(){var _r,bn;rg({title:"HVAC Drawer"});const t=new uh,r=Sf(),n=Jt(null),i=Jt(null),a=Jt(null),o=Jt([]),s=Jt({name:"Pointer",type:"default",svg:null}),l=Jt({active:!1,data:null}),u=Jt({currentPanelData:[]}),c=Jt({addedCount:0,active:!1,uploadBtnDisabled:!0,uploadBtnLoading:!1,svg:null}),d=Jt([]),f=Jt(u.value.currentPanelData);let p=null;const h={items:[],selectedTargets:[],elementGuidelines:[],itemsCount:0,activeItemIndex:null,viewportTransform:{x:0,y:0,scale:1}},v=Jt(ke.exports.cloneDeep(h)),g=Jt([]),m=Jt([]);let b=null;Dl(()=>{var V,nt,dt,kt;p=sb(a.value,{maxZoom:4,minZoom:.1,zoomDoubleClickSpeed:1,filterKey:function(){return!0},beforeMouseDown:function(xe){var _t=!xe.altKey;return _t}}),p.on("transform",function(xe){v.value.viewportTransform=xe.getTransform()});const P=document.querySelectorAll(".movable-item");Array.from(P).forEach(function(xe){v.value.elementGuidelines.push(xe)}),(nt=(V=window.chrome)==null?void 0:V.webview)==null||nt.postMessage({action:1}),(kt=(dt=window.chrome)==null?void 0:dt.webview)==null||kt.postMessage({action:0})}),yf(()=>{!p||p.dispose()}),(bn=(_r=window.chrome)==null?void 0:_r.webview)==null||bn.addEventListener("message",P=>{var V;console.log("Recieved webview message",P.data),"action"in P.data&&(P.data.action==="UPDATE_ENTRY_RES"||(P.data.action==="GET_INITIAL_DATA_RES"?(P.data.data&&(P.data.data=JSON.parse(P.data.data)),v.value=P.data.data):P.data.action==="GET_PANEL_DATA_RES"?(u.value.currentPanelData=P.data.data,f.value=u.value.currentPanelData,v.value.items.filter(nt=>{var dt;return(dt=nt.t3Entry)==null?void 0:dt.type}).forEach(nt=>{nt.t3Entry=P.data.data.find(dt=>dt.index===nt.t3Entry.index&&dt.type===nt.t3Entry.type),mt(nt)})):P.data.action==="SAVE_GRAPHIC_DATA_RES"&&(((V=P.data.data)==null?void 0:V.status)===!0?r.notify({message:"Saved successfully.",color:"primary",icon:"check_circle",actions:[{label:"Dismiss",color:"white",handler:()=>{}}]}):r.notify({message:"Error, not saved!",color:"danger",icon:"error",actions:[{label:"Dismiss",color:"white",handler:()=>{}}]}))))});function w(P){console.log(P),m.value=[],g.value.unshift({title:P,state:ke.exports.cloneDeep(v.value)}),g.value.length>20&&g.value.pop()}function S(P){i.value.clickTarget(P.inputEvent,P.inputTarget)}function x(P){w("Move Object")}function y(P){v.value.items.find(V=>`movable-item-${V.id}`===P.target.id),P.target.style.transform=P.transform}function E(P){if(!P.lastEvent)g.value.shift();else{const V=v.value.items.find(nt=>`movable-item-${nt.id}`===P.target.id);V.translate=P.lastEvent.beforeTranslate}}function _(P){w("Move Group"),P.events.forEach((V,nt)=>{const dt=v.value.items.findIndex(kt=>`movable-item-${kt.id}`===V.target.id);V.set(v.value.items[dt].translate)})}function D(P){P.events.forEach((V,nt)=>{const dt=v.value.items.findIndex(kt=>`movable-item-${kt.id}`===V.target.id);v.value.items[dt].translate=V.beforeTranslate})}function T(P){P.lastEvent||g.value.shift()}function k(P){const V=P.inputEvent.target;(n.value.isMoveableElement(V)||v.value.selectedTargets.some(nt=>nt===V||nt.contains(V)))&&P.stop()}function O(P){v.value.selectedTargets=P.selected,v.value.selectedTargets.length===1?v.value.activeItemIndex=v.value.items.findIndex(V=>`movable-item-${V.id}`===v.value.selectedTargets[0].id):v.value.activeItemIndex=null,P.isDragStart&&(P.inputEvent.preventDefault(),setTimeout(()=>{this.$refs.moveable.ngDragStart(P.inputEvent)}))}function I(P){w("Resize object");const V=v.value.items.findIndex(nt=>`movable-item-${nt.id}`===P.target.id);P.setOrigin(["%","%"]),P.dragStart&&P.dragStart.set(v.value.items[V].translate)}function R(P){const V=v.value.items.find(nt=>`movable-item-${nt.id}`===P.target.id);P.target.style.width=`${P.width}px`,P.target.style.height=`${P.height}px`,P.target.style.transform=`translate(${P.drag.beforeTranslate[0]}px, ${P.drag.beforeTranslate[1]}px) rotate(${V.rotate}deg) scaleX(${V.scaleX}) scaleY(${V.scaleY})`}function F(P){const V=v.value.items.findIndex(nt=>`movable-item-${nt.id}`===P.lastEvent.target.id);v.value.items[V].width=P.lastEvent.width,v.value.items[V].height=P.lastEvent.height,v.value.items[V].translate=P.lastEvent.drag.beforeTranslate}function L(P){w("Rotate object")}function N(P){const V=v.value.items.find(nt=>`movable-item-${nt.id}`===P.target.id);V.rotate=P.rotate}function $(P){P.events.forEach((V,nt)=>{V.dragStart&&V.dragStart.set(v.value.items[nt].translate)})}function U(P){P.events.forEach((V,nt)=>{const dt=v.value.items.find(kt=>`movable-item-${kt.id}`===V.target.id);V.target.style.width=`${V.width}px`,V.target.style.height=`${V.height}px`,V.target.style.transform=`translate(${V.drag.beforeTranslate[0]}px, ${V.drag.beforeTranslate[1]}px) rotate(${dt.rotate}deg) scaleX(${dt.scaleX}) scaleY(${dt.scaleY}) `})}function z(P){P.events.forEach(V=>{const nt=v.value.items.findIndex(dt=>`movable-item-${dt.id}`===V.lastEvent.target.id);v.value.items[nt].width=V.lastEvent.width,v.value.items[nt].height=V.lastEvent.height,v.value.items[nt].translate=V.lastEvent.drag.beforeTranslate})}function H(P){w("Rotate Group"),P.events.forEach(V=>{const nt=v.value.items.findIndex(dt=>`movable-item-${dt.id}`===V.target.id);V.set(v.value.items[nt].rotate),V.dragStart&&V.dragStart.set(v.value.items[nt].translate)})}function X(P){P.events.forEach((V,nt)=>{const dt=v.value.items.findIndex(kt=>`movable-item-${kt.id}`===V.target.id);v.value.items[dt].translate=V.drag.beforeTranslate,v.value.items[dt].rotate=V.rotate})}function j(P){w(`Add ${P.type}`),v.value.itemsCount++,P.id=v.value.itemsCount,v.value.items.push(P);const V=document.querySelectorAll(".movable-item");return v.value.elementGuidelines=[],Array.from(V).forEach(function(nt){v.value.elementGuidelines.push(nt)}),P}const K={top:36,left:0};function q(P){var dt;if(s.value.name==="Pointer"||P.rect.width<20||P.rect.height<20)return;const V=1/v.value.viewportTransform.scale,nt=j({title:null,active:!1,type:s.value.name,svg:s.value.svg,translate:[(P.rect.left-K.left-v.value.viewportTransform.x)*V,(P.rect.top-K.top-v.value.viewportTransform.y)*V],width:P.rect.width*V,height:P.rect.height*V,rotate:0,scaleX:1,scaleY:1,props:((dt=Zu.find(kt=>kt.name===s.value.name))==null?void 0:dt.props)||{},zindex:1,t3Entry:null,t3EntryDisplayField:"label"});setTimeout(()=>{v.value.activeItemIndex=v.value.items.findIndex(kt=>kt.id===nt.id)},10),setTimeout(()=>{const kt=document.querySelector(`#movable-item-${nt.id}`);v.value.selectedTargets=[kt]},100)}function Z(P,V="default",nt=null){s.value.name=P,s.value.type=V,s.value.svg=nt}function tt(){const P=ke.exports.cloneDeep(v.value.selectedTargets);v.value.selectedTargets=[],setTimeout(()=>{v.value.selectedTargets=P},10)}function ut(P,V=!1){console.log("item",P),P&&(w("Rotate object"),V?P.rotate=P.rotate-90:P.rotate=P.rotate+90,tt())}function ht(P){w("Flip object H"),P.scaleX===1?P.scaleX=-1:P.scaleX=1,tt()}function Q(P){w("Flip object V"),P.scaleY===1?P.scaleY=-1:P.scaleY=1,tt()}function at(P){w("Bring object to front"),P.zindex=P.zindex+1}function yt(P){w("Send object to back"),P.zindex=P.zindex-1}function gt(P){w("Remove object");const V=v.value.items.findIndex(nt=>nt.id===P.id);v.value.activeItemIndex=null,v.value.items.splice(V,1),v.value.selectedTargets=[]}function Ht(P){v.value.activeItemIndex=null;const V=ke.exports.cloneDeep(P);V.translate[0]=V.translate[0]+10,V.translate[1]=V.translate[1]+10;const nt=j(V);v.value.selectedTargets=[],setTimeout(()=>{const dt=document.querySelector(`#movable-item-${nt.id}`);v.value.selectedTargets=[dt],v.value.activeItemIndex=v.value.items.findIndex(kt=>kt.id===nt.id)},10)}function Ct(P){i.value.clickTarget(P)}function St(P,V){var dt,kt;if(!V.t3Entry)return;let nt=V.t3Entry[P];(P==="value"||P==="control")&&mt(V),(kt=(dt=window.chrome)==null?void 0:dt.webview)==null||kt.postMessage({action:3,field:P,value:nt,panelId:1,entryIndex:V.t3Entry.index,entryType:ig[V.t3Entry.type]})}function Pt(P){return!P.inputEvent.altKey}function vt(){w("Link object to T3000 entry"),v.value.items[v.value.activeItemIndex].t3Entry=ke.exports.cloneDeep(l.value.data),mt(v.value.items[v.value.activeItemIndex]),l.value.data=null,l.value.active=!1}function mt(P){var V,nt,dt,kt,xe,_t;if(w("Change linked entry value"),((V=P.props)==null?void 0:V.active)!==void 0){if(!P.t3Entry)return;if(P.t3Entry.type==="OUTPUT"&&P.t3Entry.hw_switch_status!==1)P.props.active=!!P.t3Entry.hw_switch_status;else if(P.t3Entry.range){const Yt=Ds.find(Sn=>Sn.id===P.t3Entry.range);Yt&&(P.props.active=!!(((nt=P.t3Entry)==null?void 0:nt.digital_analog)===0&&(((dt=P.t3Entry)==null?void 0:dt.control)===1&&!Yt.directInvers||((kt=P.t3Entry)==null?void 0:kt.control)===0&&Yt.directInvers)||((xe=P.t3Entry)==null?void 0:xe.digital_analog)===1&&((_t=P.t3Entry)==null?void 0:_t.value)>0))}else P.t3Entry.type==="PROGRAM"?P.props.active=!!P.t3Entry.status:P.t3Entry.type==="SCHEDULE"?P.props.active=!!P.t3Entry.output:P.t3Entry.type==="HOLIDAY"&&(P.props.active=!!P.t3Entry.value)}}function bt(){var P,V;(V=(P=window.chrome)==null?void 0:P.webview)==null||V.postMessage({action:2,data:Yv(v.value)})}function le(){var P;if(((P=v.value.items)==null?void 0:P.length)>0){r.dialog({dark:!0,title:"Do you want to clear the drawing?",message:"This will also erase your undo history",cancel:!0,persistent:!0}).onOk(()=>{v.value=ke.exports.cloneDeep(h),g.value=[],m.value=[],tt()}).onCancel(()=>{});return}v.value=ke.exports.cloneDeep(h),g.value=[],m.value=[],tt()}t.keydown(P=>{v.value.selectedTargets.length<1||(["up","down","left","right"].includes(P.key)&&w("Move object"),P.key==="up"?n.value.request("draggable",{deltaX:0,deltaY:-5},!0):P.key==="down"?n.value.request("draggable",{deltaX:0,deltaY:5},!0):P.key==="left"?n.value.request("draggable",{deltaX:-5,deltaY:0},!0):P.key==="right"?n.value.request("draggable",{deltaX:5,deltaY:0},!0):P.key==="delete"&&$t(),["up","down","left","right"].includes(P.key)&&tt())}),t.keydown(["ctrl","s"],P=>{P.inputEvent.preventDefault(),bt()}),t.keydown(["ctrl","z"],P=>{P.inputEvent.preventDefault(),je()}),t.keydown(["ctrl","y"],P=>{P.inputEvent.preventDefault(),Hr()});function Ce(){var P,V;l.value.active=!0,(P=v.value.items[v.value.activeItemIndex])!=null&&P.t3Entry&&(l.value.data=ke.exports.cloneDeep((V=v.value.items[v.value.activeItemIndex])==null?void 0:V.t3Entry))}function Lt(P){return Ds.find(V=>V.id===P)}function $t(){w("Remove selected objects"),v.value.selectedTargets.length>0&&(v.value.selectedTargets.forEach(P=>{const V=v.value.items.findIndex(nt=>`movable-item-${nt.id}`===P.id);V!==-1&&v.value.items.splice(V,1)}),v.value.selectedTargets=[],v.value.activeItemIndex=null)}function Pe(P,V){if(P===""){V(()=>{f.value=u.value.currentPanelData});return}V(()=>{const nt=P.toUpperCase();f.value=u.value.currentPanelData.filter(dt=>dt.command.toUpperCase().indexOf(nt)>-1||dt.description.toUpperCase().indexOf(nt)>-1||dt.label.toUpperCase().indexOf(nt)>-1)})}function je(){g.value.length<1||(m.value.unshift({title:b,state:ke.exports.cloneDeep(v.value)}),v.value=ke.exports.cloneDeep(g.value[0].state),g.value.shift(),tt())}function Hr(){m.value.length<1||(g.value.unshift({title:b,state:ke.exports.cloneDeep(v.value)}),v.value=ke.exports.cloneDeep(m.value[0].state),m.value.shift(),tt())}function Dr(P){console.log("handleCustomObjectUpload",P)}async function yn(P){c.value.uploadBtnDisabled=!1;const V=await P.data.text();c.value.svg=V}function We(){c.value.addedCount++,c.value.active=!1,c.value.uploadBtnDisabled=!0,d.value.push({name:"Custom-"+c.value.addedCount,label:"Custom Element",svg:ke.exports.cloneDeep(c.value.svg)}),c.value.svg=null}return{movable:n,selecto:i,appState:v,addObject:j,viewport:a,onClickGroup:S,onDragStart:x,onDrag:y,onDragEnd:E,onDragGroup:D,onSelectoDragStart:k,onDragGroupStart:_,onDragGroupEnd:T,onSelectoSelectEnd:O,targets:o,onResize:R,onResizeEnd:F,onRotateStart:L,onRotate:N,onResizeGroupStart:$,onResizeGroup:U,onRotateGroupStart:H,onResizeGroupEnd:z,onRotateGroup:X,onResizeStart:I,onSelectoDragEnd:q,selectTool:Z,tools:Zu,selectedTool:s,rotate90:ut,flipH:ht,flipV:Q,bringToFront:at,sendToBack:yt,removeObject:gt,selectByRightClick:Ct,T3UpdateEntryField:St,selectoDragCondition:Pt,duplicateObject:Ht,linkT3EntrySave:vt,newProject:le,save:bt,refreshSelecto:tt,linkT3EntryDialog:l,linkT3EntryDialogAction:Ce,T3000_Data:u,selectPanelOptions:f,getRangeById:Lt,selectPanelFilterFn:Pe,undoHistory:g,redoHistory:m,undoAction:je,redoAction:Hr,deleteSelected:$t,uploadObjectDialog:c,handleCustomObjectUpload:Dr,customObjectFileAdded:yn,saveCustomObject:We,customTools:d}}}),KC={class:"tools flex column"},ZC={class:"viewport-wrapper"},QC={class:"viewport"},JC={ref:"viewport"},tx=["id"],ex={key:0,class:"item-config flex flex-nowrap column"},rx={class:"item-config-inner"},nx={class:"grid gap-4 grid-cols-2 mb-4"},ix={key:1},ax=Wt("div",{class:"text-h6"},"Link Entry",-1),ox=Wt("div",{class:"text-h6"},"Upload custom SVG",-1);function sx(e,t,r,n,i,a){const o=Te("vue-selecto"),s=Te("vue-moveable"),l=Te("object-type"),u=Te("file-upload");return J(),Ot(Ei,null,[B(ng,null,{default:G(()=>[Wt("div",null,[Wt("div",KC,[B(oi,{class:"rounded-borders text-primary"},{default:G(()=>[(J(!0),Ot(Ei,null,zo(e.tools,c=>Bt((J(),wt(zt,{key:c.name,onClick:d=>e.selectTool(c.name),clickable:"",active:e.selectedTool.name===c.name,"active-class":"active-tool"},{default:G(()=>[B(Tn,{anchor:"center right",self:"center left"},{default:G(()=>[Tt(Nn(c.label),1)]),_:2},1024),B(ct,null,{default:G(()=>[B(yr,{name:c.icon,size:"sm"},null,8,["name"])]),_:2},1024)]),_:2},1032,["onClick","active"])),[[No]])),128)),(J(!0),Ot(Ei,null,zo(e.customTools,c=>Bt((J(),wt(zt,{key:c.name,onClick:d=>e.selectTool(c.name,"custom",c.svg),clickable:"",active:e.selectedTool.name===c.name,"active-class":"active-tool"},{default:G(()=>[B(Tn,{anchor:"center right",self:"center left"},{default:G(()=>[Tt(Nn(c.label),1)]),_:2},1024),B(ct,null,{default:G(()=>[B(yr,{name:"dashboard_customize",size:"sm"})]),_:1})]),_:2},1032,["onClick","active"])),[[No]])),128)),Bt((J(),wt(zt,{onClick:t[0]||(t[0]=c=>e.uploadObjectDialog.active=!0),clickable:""},{default:G(()=>[B(Tn,{anchor:"center right",self:"center left"},{default:G(()=>[Tt(" Add custom SVG ")]),_:1}),B(ct,null,{default:G(()=>[B(yr,{name:"add_circle_outline",size:"sm"})]),_:1})]),_:1})),[[No]])]),_:1})]),Wt("div",ZC,[B(dg,{class:"toolbar text-white shadow-2"},{default:G(()=>[B($o,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"File"},{default:G(()=>[B(oi,null,{default:G(()=>[Bt((J(),wt(zt,{dense:"",clickable:"",onClick:e.newProject},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"assignment",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[B(Qr,null,{default:G(()=>[Tt("New Project")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[jt]]),B(Be,{inset:"",spaced:""}),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:e.save},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"assignment",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[B(Qr,null,{default:G(()=>[Tt("Save")]),_:1})]),_:1}),B(ct,{side:""},{default:G(()=>[B(Lo,null,{default:G(()=>[Tt("Ctrl + S")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[jt]])]),_:1})]),_:1}),B($o,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"Edit"},{default:G(()=>[B(oi,null,{default:G(()=>[Bt((J(),wt(zt,{dense:"",clickable:"",onClick:e.undoAction,disable:e.undoHistory.length<1},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"undo",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[B(Qr,null,{default:G(()=>[Tt("Undo")]),_:1})]),_:1}),B(ct,{side:""},{default:G(()=>[B(Lo,null,{default:G(()=>[Tt("Ctrl + Z")]),_:1})]),_:1})]),_:1},8,["onClick","disable"])),[[jt]]),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:e.redoAction,disable:e.redoHistory.length<1},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"redo",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[B(Qr,null,{default:G(()=>[Tt("Redo")]),_:1})]),_:1}),B(ct,{side:""},{default:G(()=>[B(Lo,null,{default:G(()=>[Tt("Ctrl + Y")]),_:1})]),_:1})]),_:1},8,["onClick","disable"])),[[jt]]),B(Be,{inset:"",spaced:""}),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:e.deleteSelected,disable:e.appState.selectedTargets.length<1},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"delete",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[B(Qr,null,{default:G(()=>[Tt("Delete selected")]),_:1})]),_:1})]),_:1},8,["onClick","disable"])),[[jt]])]),_:1})]),_:1}),B($o,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"Object",disable:e.appState.activeItemIndex===null},{default:G(()=>[B(oi,null,{default:G(()=>[Bt((J(),wt(zt,{dense:"",clickable:"",onClick:t[1]||(t[1]=c=>e.duplicateObject(e.appState.items[e.appState.activeItemIndex]))},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"file_copy",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Duplicate")]),_:1})]),_:1})),[[jt]]),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:t[2]||(t[2]=c=>e.rotate90(e.appState.items[e.appState.activeItemIndex]))},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"autorenew",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Rotate 90\xB0")]),_:1})]),_:1})),[[jt]]),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:t[3]||(t[3]=c=>e.rotate90(e.appState.items[e.appState.activeItemIndex],!0))},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"sync",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Rotate -90\xB0")]),_:1})]),_:1})),[[jt]]),B(Be),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:t[4]||(t[4]=c=>e.flipH(e.appState.items[e.appState.activeItemIndex]))},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"flip",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Flip horizontal")]),_:1})]),_:1})),[[jt]]),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:t[5]||(t[5]=c=>e.flipV(e.appState.items[e.appState.activeItemIndex]))},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"flip",color:"grey-7","text-color":"white",style:{transform:"rotate(90deg)"}})]),_:1}),B(ct,null,{default:G(()=>[Tt("Flip vertical")]),_:1})]),_:1})),[[jt]]),B(Be),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:t[6]||(t[6]=c=>e.bringToFront(e.appState.items[e.appState.activeItemIndex]))},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"flip_to_front",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Bring to front")]),_:1})]),_:1})),[[jt]]),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:t[7]||(t[7]=c=>e.sendToBack(e.appState.items[e.appState.activeItemIndex]))},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"flip_to_back",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Send to Back")]),_:1})]),_:1})),[[jt]]),B(Be),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:t[8]||(t[8]=c=>e.removeObject(e.appState.items[e.appState.activeItemIndex]))},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"remove",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Remove")]),_:1})]),_:1})),[[jt]])]),_:1})]),_:1},8,["disable"])]),_:1}),Wt("div",QC,[B(o,{ref:"selecto",dragContainer:".viewport",selectableTargets:e.targets,hitRate:100,selectByClick:!0,selectFromInside:!0,toggleContinueSelect:["shift"],ratio:0,boundContainer:!0,onDragStart:e.onSelectoDragStart,onSelectEnd:e.onSelectoSelectEnd,onDragEnd:e.onSelectoDragEnd,dragCondition:e.selectoDragCondition},null,8,["selectableTargets","onDragStart","onSelectEnd","onDragEnd","dragCondition"]),Wt("div",JC,[B(s,{ref:"movable",draggable:!0,resizable:!0,rotatable:!0,target:e.appState.selectedTargets,snappable:!0,snapThreshold:10,isDisplaySnapDigit:!0,snapGap:!0,snapDirections:{top:!0,right:!0,bottom:!0,left:!0},elementSnapDirections:{top:!0,right:!0,bottom:!0,left:!0},snapDigit:0,elementGuidelines:e.appState.elementGuidelines,origin:!0,throttleResize:0,throttleRotate:0,rotationPosition:"top",originDraggable:!0,originRelative:!0,defaultGroupRotate:0,defaultGroupOrigin:"50% 50%",padding:{left:0,top:0,right:0,bottom:0},onClickGroup:e.onClickGroup,onDragStart:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd,onDragGroupStart:e.onDragGroupStart,onDragGroup:e.onDragGroup,onDragGroupEnd:e.onDragGroupEnd,onResizeStart:e.onResizeStart,onResize:e.onResize,onResizeEnd:e.onResizeEnd,onRotateStart:e.onRotateStart,onRotate:e.onRotate,onResizeGroupStart:e.onResizeGroupStart,onResizeGroup:e.onResizeGroup,onResizeGroupEnd:e.onResizeGroupEnd,onRotateGroupStart:e.onRotateGroupStart,onRotateGroup:e.onRotateGroup},null,8,["target","elementGuidelines","onClickGroup","onDragStart","onDrag","onDragEnd","onDragGroupStart","onDragGroup","onDragGroupEnd","onResizeStart","onResize","onResizeEnd","onRotateStart","onRotate","onResizeGroupStart","onResizeGroup","onResizeGroupEnd","onRotateGroupStart","onRotateGroup"]),(J(!0),Ot(Ei,null,zo(e.appState.items,c=>(J(),Ot("div",{key:c.id,ref_for:!0,ref:"targets",style:mf(`position: absolute; transform: translate(${c.translate[0]}px, ${c.translate[1]}px) rotate(${c.rotate}deg) scaleX(${c.scaleX}) scaleY(${c.scaleY}); width: ${c.width}px; height: ${c.height}px; z-index: ${c.zindex};`),id:`movable-item-${c.id}`,onMousedown:t[9]||(t[9]=Xv((...d)=>e.selectByRightClick&&e.selectByRightClick(...d),["right"])),class:"movable-item-wrapper"},[B(bf,{"touch-position":"","context-menu":""},{default:G(()=>[B(oi,null,{default:G(()=>[Bt((J(),wt(zt,{dense:"",clickable:"",onClick:d=>e.duplicateObject(c)},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"file_copy",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Duplicate")]),_:1})]),_:2},1032,["onClick"])),[[jt]]),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:d=>e.rotate90(c)},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"autorenew",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Rotate 90\xB0")]),_:1})]),_:2},1032,["onClick"])),[[jt]]),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:d=>e.rotate90(c,!0)},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"sync",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Rotate -90\xB0")]),_:1})]),_:2},1032,["onClick"])),[[jt]]),B(Be),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:d=>e.flipH(c)},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"flip",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Flip horizontal")]),_:1})]),_:2},1032,["onClick"])),[[jt]]),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:d=>e.flipV(c)},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"flip",color:"grey-7","text-color":"white",style:{transform:"rotate(90deg)"}})]),_:1}),B(ct,null,{default:G(()=>[Tt("Flip vertical")]),_:1})]),_:2},1032,["onClick"])),[[jt]]),B(Be),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:d=>e.bringToFront(c)},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"flip_to_front",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Bring to front")]),_:1})]),_:2},1032,["onClick"])),[[jt]]),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:d=>e.sendToBack(c)},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"flip_to_back",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Send to Back")]),_:1})]),_:2},1032,["onClick"])),[[jt]]),B(Be),Bt((J(),wt(zt,{dense:"",clickable:"",onClick:d=>e.removeObject(c)},{default:G(()=>[B(ct,{avatar:""},{default:G(()=>[B(Qt,{size:"sm",icon:"remove",color:"grey-7","text-color":"white"})]),_:1}),B(ct,null,{default:G(()=>[Tt("Remove")]),_:1})]),_:2},1032,["onClick"])),[[jt]])]),_:2},1024)]),_:2},1024),B(l,{item:c},null,8,["item"])],44,tx))),128))],512)])]),e.appState.activeItemIndex||e.appState.activeItemIndex===0?(J(),Ot("div",ex,[Wt("div",rx,[B(Qu,{class:"mb-2 border border-solid border-gray-700",dark:"","default-opened":"",label:"General"},{default:G(()=>{var c,d;return[Wt("div",nx,[B(Or,{"input-style":"width: 60px","onUpdate:modelValue":[e.refreshSelecto,t[10]||(t[10]=f=>e.appState.items[e.appState.activeItemIndex].translate[0]=f)],label:"X",modelValue:e.appState.items[e.appState.activeItemIndex].translate[0],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),B(Or,{"input-style":"width: 60px","onUpdate:modelValue":[e.refreshSelecto,t[11]||(t[11]=f=>e.appState.items[e.appState.activeItemIndex].translate[1]=f)],label:"Y",modelValue:e.appState.items[e.appState.activeItemIndex].translate[1],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),B(Or,{"input-style":"width: 60px","onUpdate:modelValue":[e.refreshSelecto,t[12]||(t[12]=f=>e.appState.items[e.appState.activeItemIndex].width=f)],label:"Width",modelValue:e.appState.items[e.appState.activeItemIndex].width,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),B(Or,{"input-style":"width: 60px","onUpdate:modelValue":[e.refreshSelecto,t[13]||(t[13]=f=>e.appState.items[e.appState.activeItemIndex].height=f)],label:"Height",modelValue:e.appState.items[e.appState.activeItemIndex].height,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),B(Or,{"input-style":"width: 60px","onUpdate:modelValue":[e.refreshSelecto,t[14]||(t[14]=f=>e.appState.items[e.appState.activeItemIndex].rotate=f)],label:"Rotate",modelValue:e.appState.items[e.appState.activeItemIndex].rotate,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),e.appState.items[e.appState.activeItemIndex].props.fontSize!==void 0?(J(),wt(Or,{key:0,"input-style":"width: 60px",label:"Font size",modelValue:e.appState.items[e.appState.activeItemIndex].props.fontSize,"onUpdate:modelValue":t[15]||(t[15]=f=>e.appState.items[e.appState.activeItemIndex].props.fontSize=f),modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"])):Ne("",!0),e.appState.items[e.appState.activeItemIndex].props.color!==void 0?(J(),wt(Or,{key:1,dark:"",filled:"",modelValue:e.appState.items[e.appState.activeItemIndex].props.color,"onUpdate:modelValue":t[17]||(t[17]=f=>e.appState.items[e.appState.activeItemIndex].props.color=f),label:"Color"},{append:G(()=>[B(yr,{name:"colorize",class:"cursor-pointer"},{default:G(()=>[B(ag,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:G(()=>[B(og,{modelValue:e.appState.items[e.appState.activeItemIndex].props.color,"onUpdate:modelValue":t[16]||(t[16]=f=>e.appState.items[e.appState.activeItemIndex].props.color=f)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):Ne("",!0)]),!e.appState.items[e.appState.activeItemIndex].t3Entry&&e.appState.items[e.appState.activeItemIndex].props.active!==void 0?(J(),wt(Hu,{key:0,dark:"",filled:"",modelValue:e.appState.items[e.appState.activeItemIndex].props.active,"onUpdate:modelValue":t[18]||(t[18]=f=>e.appState.items[e.appState.activeItemIndex].props.active=f),class:"text-white w-full",label:"Active",disable:e.appState.items[e.appState.activeItemIndex].t3Entry&&((c=e.appState.items[e.appState.activeItemIndex].t3Entry)==null?void 0:c.auto_manual)===0||((d=e.appState.items[e.appState.activeItemIndex].t3Entry)==null?void 0:d.digital_analog)===1},{default:G(()=>{var f;return[((f=e.appState.items[e.appState.activeItemIndex].t3Entry)==null?void 0:f.auto_manual)===0?(J(),wt(Tn,{key:0,anchor:"center left",self:"center end"},{default:G(()=>[Tt(" Can't activate it because the linked entry is in auto mode ")]),_:1})):Ne("",!0)]}),_:1},8,["modelValue","disable"])):Ne("",!0),e.appState.items[e.appState.activeItemIndex].props.inAlarm!==void 0?(J(),wt(Hu,{key:1,dark:"",filled:"",modelValue:e.appState.items[e.appState.activeItemIndex].props.inAlarm,"onUpdate:modelValue":t[19]||(t[19]=f=>e.appState.items[e.appState.activeItemIndex].props.inAlarm=f),class:"text-white w-full",label:"In alarm"},null,8,["modelValue"])):Ne("",!0)]}),_:1}),Wt("div",null,[B(gr,{dark:"",outline:"","no-caps":"",stretch:"",icon:e.appState.items[e.appState.activeItemIndex].t3Entry?"dataset_linked":void 0,class:"text-white w-full",label:e.appState.items[e.appState.activeItemIndex].t3Entry?`Linked with ${e.appState.items[e.appState.activeItemIndex].t3Entry.description}`:"Link with an entry",onClick:e.linkT3EntryDialogAction},null,8,["icon","label","onClick"]),e.appState.items[e.appState.activeItemIndex].t3Entry?(J(),wt(Qu,{key:0,class:"mt-2 border border-solid border-gray-700",dark:"","default-opened":"",label:"Entry settings"},{default:G(()=>{var c,d,f,p,h,v;return[B(Wr,{class:"mb-1",filled:"",dark:"",modelValue:e.appState.items[e.appState.activeItemIndex].t3Entry.auto_manual,"onUpdate:modelValue":[t[20]||(t[20]=g=>e.appState.items[e.appState.activeItemIndex].t3Entry.auto_manual=g),t[21]||(t[21]=g=>e.T3UpdateEntryField("auto_manual",e.appState.items[e.appState.activeItemIndex]))],options:[{label:"Auto",value:0},{label:"Manual",value:1}],label:"Auto/Manual","emit-value":"","map-options":""},null,8,["modelValue"]),e.appState.items[e.appState.activeItemIndex].t3Entry.digital_analog===0&&e.appState.items[e.appState.activeItemIndex].t3Entry.range?(J(),wt(Wr,{key:0,class:"mb-1",disable:((c=e.appState.items[e.appState.activeItemIndex].t3Entry)==null?void 0:c.auto_manual)===0,filled:"",dark:"",modelValue:e.appState.items[e.appState.activeItemIndex].t3Entry.control,"onUpdate:modelValue":[t[22]||(t[22]=g=>e.appState.items[e.appState.activeItemIndex].t3Entry.control=g),t[23]||(t[23]=g=>e.T3UpdateEntryField("control",e.appState.items[e.appState.activeItemIndex]))],options:[{label:e.getRangeById(e.appState.items[e.appState.activeItemIndex].t3Entry.range).off,value:0},{label:e.getRangeById(e.appState.items[e.appState.activeItemIndex].t3Entry.range).on,value:1}],label:"Value","emit-value":"","map-options":""},null,8,["disable","modelValue","options"])):Ne("",!0),e.appState.items[e.appState.activeItemIndex].t3Entry.type==="PROGRAM"?(J(),wt(Wr,{key:1,class:"mb-1",disable:((d=e.appState.items[e.appState.activeItemIndex].t3Entry)==null?void 0:d.auto_manual)===0,filled:"",dark:"",modelValue:e.appState.items[e.appState.activeItemIndex].t3Entry.status,"onUpdate:modelValue":[t[24]||(t[24]=g=>e.appState.items[e.appState.activeItemIndex].t3Entry.status=g),t[25]||(t[25]=g=>e.T3UpdateEntryField("status",e.appState.items[e.appState.activeItemIndex]))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Status","emit-value":"","map-options":""},null,8,["disable","modelValue"])):e.appState.items[e.appState.activeItemIndex].t3Entry.type==="SCHEDULE"?(J(),wt(Wr,{key:2,class:"mb-1",disable:((f=e.appState.items[e.appState.activeItemIndex].t3Entry)==null?void 0:f.auto_manual)===0,filled:"",dark:"",modelValue:e.appState.items[e.appState.activeItemIndex].t3Entry.output,"onUpdate:modelValue":[t[26]||(t[26]=g=>e.appState.items[e.appState.activeItemIndex].t3Entry.output=g),t[27]||(t[27]=g=>e.T3UpdateEntryField("output",e.appState.items[e.appState.activeItemIndex]))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Output","emit-value":"","map-options":""},null,8,["disable","modelValue"])):e.appState.items[e.appState.activeItemIndex].t3Entry.type==="HOLIDAY"?(J(),wt(Wr,{key:3,class:"mb-1",disable:((p=e.appState.items[e.appState.activeItemIndex].t3Entry)==null?void 0:p.auto_manual)===0,filled:"",dark:"",modelValue:e.appState.items[e.appState.activeItemIndex].t3Entry.value,"onUpdate:modelValue":[t[28]||(t[28]=g=>e.appState.items[e.appState.activeItemIndex].t3Entry.value=g),t[29]||(t[29]=g=>e.T3UpdateEntryField("value",e.appState.items[e.appState.activeItemIndex]))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Value","emit-value":"","map-options":""},null,8,["disable","modelValue"])):Ne("",!0),e.appState.items[e.appState.activeItemIndex].t3Entry.digital_analog===1?(J(),wt(Or,{key:4,class:"mb-1",disable:((h=e.appState.items[e.appState.activeItemIndex].t3Entry)==null?void 0:h.auto_manual)===0,filled:"",dark:"",type:"number",modelValue:e.appState.items[e.appState.activeItemIndex].t3Entry.value,"onUpdate:modelValue":[t[30]||(t[30]=g=>e.appState.items[e.appState.activeItemIndex].t3Entry.value=g),t[31]||(t[31]=g=>e.T3UpdateEntryField("value",e.appState.items[e.appState.activeItemIndex]))],modelModifiers:{number:!0},label:"Value"},null,8,["disable","modelValue"])):Ne("",!0),B(Wr,{filled:"",dark:"",modelValue:e.appState.items[e.appState.activeItemIndex].t3EntryDisplayField,"onUpdate:modelValue":t[32]||(t[32]=g=>e.appState.items[e.appState.activeItemIndex].t3EntryDisplayField=g),options:[{label:"Value",value:((v=e.appState.items[e.appState.activeItemIndex].t3Entry)==null?void 0:v.digital_analog)===1?"value":"control"},{label:"Label",value:"label"},{label:"Description",value:"description"}],label:"Display field","emit-value":"","map-options":""},null,8,["modelValue","options"])]}),_:1})):Ne("",!0)])])])):(J(),Ot("div",ix))])]),_:1}),B(Vu,{modelValue:e.linkT3EntryDialog.active,"onUpdate:modelValue":t[34]||(t[34]=c=>e.linkT3EntryDialog.active=c)},{default:G(()=>[B(ju,{style:{"min-width":"600px"}},{default:G(()=>[B(ba,{class:"row items-center q-pb-none"},{default:G(()=>[ax,B(sg),Bt(B(gr,{icon:"close",flat:"",round:"",dense:""},null,512),[[jt]])]),_:1}),B(Be),B(ba,{style:{height:"70vh"},class:"scroll"},{default:G(()=>[B(Wr,{"option-label":"description","option-value":"id",filled:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",modelValue:e.linkT3EntryDialog.data,"onUpdate:modelValue":t[33]||(t[33]=c=>e.linkT3EntryDialog.data=c),options:e.selectPanelOptions,onFilter:e.selectPanelFilterFn,label:"Select Entry"},null,8,["modelValue","options","onFilter"])]),_:1}),B(Be),B(Wu,{align:"right"},{default:G(()=>[Bt(B(gr,{flat:"",label:"Cancel",color:"primary"},null,512),[[jt]]),B(gr,{flat:"",label:"Save",disable:!e.linkT3EntryDialog.data,color:"primary",onClick:e.linkT3EntrySave},null,8,["disable","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),B(Vu,{modelValue:e.uploadObjectDialog.active,"onUpdate:modelValue":t[38]||(t[38]=c=>e.uploadObjectDialog.active=c)},{default:G(()=>[B(ju,{style:{"min-width":"450px"}},{default:G(()=>[B(ba,null,{default:G(()=>[ox]),_:1}),B(ba,{class:"q-pt-none"},{default:G(()=>[B(u,{types:["image/svg+xml"],onUploaded:e.handleCustomObjectUpload,onFileAdded:e.customObjectFileAdded,onFileRemoved:t[35]||(t[35]=c=>e.uploadObjectDialog.uploadBtnDisabled=!0)},null,8,["onUploaded","onFileAdded"])]),_:1}),B(Wu,{align:"right",class:"text-primary"},{default:G(()=>[B(gr,{flat:"",label:"Cancel",onClick:t[36]||(t[36]=c=>e.uploadObjectDialog.active=!1)}),B(gr,{disabled:e.uploadObjectDialog.uploadBtnDisabled,loading:e.uploadObjectDialog.uploadBtnLoading,flat:"",label:"Save",onClick:t[37]||(t[37]=c=>e.saveCustomObject())},null,8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var dx=He(XC,[["render",sx]]);export{dx as default};

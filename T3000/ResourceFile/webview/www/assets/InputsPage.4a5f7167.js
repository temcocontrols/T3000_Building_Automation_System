var e,t,s=Object.defineProperty;import{j as r}from"./react.2da10d74.js";import{r as n}from"./client.b9d1bbf8.js";import{A as l,w as a,x as i,T as o,y as d,z as p,S as c,C as x,D as u,I as h,F as f,B as m,H as g,J as j,K as b,L as y}from"./App.2c62e2d1.js";import{R as v,g as C}from"./RangeSelectionDrawer.34f7cc22.js";import{c as I,D as w,a as N,b as _,d as S,e as k,f as T,T as W}from"./DataGridHeaderCell.34491fc4.js";import{S as $}from"./Switch.411cd684.js";import{B as D}from"./Badge.bfe12ada.js";import"./index.5672de35.js";import"./Serializer.f6a5f515.js";import"./DrawerBody.3013704d.js";import"./useDialogSurfaceContextValues.45ba7119.js";import"./DrawerHeaderTitle.9bf254d7.js";import"./useDialogTitleStyles.styles.836f5a4a.js";import"./Input.16f797a0.js";import"./useFocusableGroup.6d334b5b.js";class E{static async refreshInput(e,t){try{const s=await fetch(`${this.baseUrl}/inputs/${e}/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({index:t})});if(!s.ok){const e=await s.text();throw new Error(`HTTP ${s.status}: ${e||s.statusText}`)}return await s.json()}catch(s){throw s}}static async refreshAllInputs(e){try{const t=await fetch(`${this.baseUrl}/inputs/${e}/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!t.ok){const e=await t.text();throw new Error(`HTTP ${t.status}: ${e||t.statusText}`)}return await t.json()}catch(t){throw t}}static async saveRefreshedInputs(e,t){try{const s=await fetch(`${this.baseUrl}/inputs/${e}/save-refreshed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})});if(!s.ok){const e=await s.text();throw new Error(`HTTP ${s.status}: ${e||s.statusText}`)}return await s.json()}catch(s){throw s}}}t=`${l}/api/t3_device`,((e,t,r)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(E,"symbol"!=typeof(e="baseUrl")?e+"":e,t);var H="_container_tns45_35",L="_bladeContentContainer_tns45_59",z="_bladeContentWrapper_tns45_75",F="_bladeContent_tns45_59",R="_partContent_tns45_107",B="_toolbar_tns45_125",A="_toolbarContainer_tns45_143",P="_toolbarButton_tns45_159",V="_toolbarSeparator_tns45_237",M="_searchInputWrapper_tns45_253",O="_searchIcon_tns45_267",U="_searchInput_tns45_253",J="_overviewHr_tns45_387",K="_dockingBody_tns45_403",Z="_scrollContainer_tns45_421",G="_noData_tns45_443",Y="_loadingBar_tns45_461",q="_autoLoadIndicator_tns45_489",Q="_editableCell_tns45_893",X="_editInput_tns45_921",ee="_saveButton_tns45_993",te="_refreshIconButton_tns45_1055",se="_isRefreshing_tns45_1125",re="_rotating_tns45_1165";const ne=()=>{const{selectedDevice:e,treeData:t,selectDevice:s,getNextDevice:ne,getFilteredDevices:le}=a(),[ae,ie]=n.exports.useState([]),[oe,de]=n.exports.useState(!1),[pe,ce]=n.exports.useState(null),[xe,ue]=n.exports.useState(!1),[he,fe]=n.exports.useState(new Set),[me,ge]=n.exports.useState(!1),je=n.exports.useRef(null),[be,ye]=n.exports.useState(!1),ve=n.exports.useRef(!1);n.exports.useEffect((()=>{if(!e&&t.length>0){const e=le();if(e.length>0){const t=e[0];s(t)}}}),[e,t,s,le]);const Ce=n.exports.useCallback((async()=>{if(e){de(!0),ce(null);try{const t=`${l}/api/t3_device/devices/${e.serialNumber}/input-points`,s=await fetch(t);if(!s.ok)throw new Error(`Failed to fetch inputs: ${s.statusText}`);const r=(await s.json()).input_points||[];ie(r)}catch(t){const e=t instanceof Error?t.message:"Failed to load inputs";ce(e)}finally{de(!1)}}else ie([])}),[e]);n.exports.useEffect((()=>{Ce()}),[Ce]),n.exports.useEffect((()=>{if(oe||!e||me)return;const t=setTimeout((async()=>{try{const t=await E.refreshAllInputs(e.serialNumber);t.items&&t.items.length>0&&(await E.saveRefreshedInputs(e.serialNumber,t.items),await Ce()),ge(!0)}catch(t){ge(!0)}}),500);return()=>clearTimeout(t)}),[oe,e,me,Ce]);const Ie=n.exports.useCallback((async()=>{const e=ne();e&&(ye(!0),s(e),setTimeout((()=>{ye(!1)}),500))}),[ne,s]),we=n.exports.useCallback((e=>{if(be||oe)return;const t=e.currentTarget;t.scrollHeight-t.scrollTop-t.clientHeight<=1&&ae.length>0?ve.current=!0:ve.current=!1}),[be,oe,ae.length]),Ne=n.exports.useCallback((e=>{be||oe||0===ae.length||e.deltaY>0&&ve.current&&(ve.current=!1,Ie())}),[be,oe,ae.length,Ie]);n.exports.useEffect((()=>{e&&je.current&&je.current.scrollTo({top:0,behavior:be?"smooth":"auto"})}),[e,be]);const _e=(e,t,s)=>{Ee({serialNumber:e.serialNumber,inputIndex:e.inputIndex||"",field:t}),Le(s||"")},Se=async(e,t,s,r,n)=>{var a,i;try{const o={fullLabel:"fullLabel"===s?r:n.fullLabel||"",label:"label"===s?r:n.label||"",value:"fValue"===s?parseFloat(r||"0"):parseFloat(n.fValue||"0"),range:"range"===s?parseInt(r||"0",10):parseInt(n.rangeField||n.range||"0",10),autoManual:"autoManual"===s?parseInt(r||"0",10):parseInt(n.autoManual||"0",10),control:0,filter:parseInt(n.filterField||"0",10),digitalAnalog:parseInt(n.digitalAnalog||"0",10),calibrationSign:parseInt(n.sign||"0",10),calibrationH:parseInt((null==(a=n.calibration)?void 0:a.split(".")[0])||"0",10),calibrationL:parseInt((null==(i=n.calibration)?void 0:i.split(".")[1])||"0",10),decom:0},d=await fetch(`${l}/api/t3_device/inputs/${e}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!d.ok){const e=await d.text();throw new Error(`HTTP ${d.status}: ${e}`)}return await d.json()}catch(o){throw o}},ke=async()=>{if(De)if("fValue"===De.field||He.trim()){Fe(!0);try{if(e&&["fullLabel","label","fValue","range","autoManual"].includes(De.field)){const t=ae.find((e=>e.serialNumber===De.serialNumber&&e.inputIndex===De.inputIndex));if(!t)throw new Error("Current input data not found");await Se(e.serialNumber,De.inputIndex,De.field,He,t)}ie((e=>e.map((e=>e.serialNumber===De.serialNumber&&e.inputIndex===De.inputIndex?{...e,[De.field]:He}:e)))),Ee(null)}catch(t){alert(`Failed to update: ${t instanceof Error?t.message:"Unknown error"}`)}finally{Fe(!1)}}else Ee(null);else Ee(null)},Te=e=>{"Enter"===e.key?(e.preventDefault(),ke()):"Escape"===e.key&&(e.preventDefault(),Ee(null),Le(""))},[We,$e]=n.exports.useState(""),[De,Ee]=n.exports.useState(null),[He,Le]=n.exports.useState(""),[ze,Fe]=n.exports.useState(!1),[Re,Be]=n.exports.useState(!1),[Ae,Pe]=n.exports.useState(null),[Ve,Me]=n.exports.useState(null),[Oe,Ue]=n.exports.useState("ascending"),Je=e=>{Ve===e?Ue("ascending"===Oe?"descending":"ascending"):(Me(e),Ue("ascending"))},Ke=[I({columnId:"panel",renderHeaderCell:()=>r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},onClick:()=>Je("panel"),children:[r.exports.jsx("span",{children:"Panel"}),"panel"===Ve?"ascending"===Oe?r.exports.jsx(g,{}):r.exports.jsx(j,{}):r.exports.jsx(b,{style:{opacity:.5}})]}),renderCell:e=>r.exports.jsx(W,{children:e.panel||"---"})}),I({columnId:"input",renderHeaderCell:()=>r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},onClick:()=>Je("input"),children:[r.exports.jsx("span",{children:"Input"}),"input"===Ve?"ascending"===Oe?r.exports.jsx(g,{}):r.exports.jsx(j,{}):r.exports.jsx(b,{style:{opacity:.5}})]}),renderCell:t=>{const s=t.inputIndex||"",n=he.has(s);return r.exports.jsx(W,{children:r.exports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.exports.jsx("button",{onClick:t=>{t.stopPropagation(),(async t=>{if(!e)return;const s=parseInt(t,10);if(!isNaN(s)){fe((e=>new Set(e).add(t)));try{const r=await E.refreshInput(e.serialNumber,s);r.items&&r.items.length>0&&await E.saveRefreshedInputs(e.serialNumber,r.items),await Ce()}catch(r){}finally{fe((e=>{const s=new Set(e);return s.delete(t),s}))}}})(s)},className:`${te} ${n?se:""}`,title:"Refresh this input from device",disabled:n,children:r.exports.jsx(d,{style:{fontSize:"14px"},className:n?re:""})}),r.exports.jsx(o,{size:200,weight:"regular",children:t.inputId||t.inputIndex||"---"})]})})}}),I({columnId:"fullLabel",renderHeaderCell:()=>r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},onClick:()=>Je("fullLabel"),children:[r.exports.jsx("span",{children:"Full Label"}),"fullLabel"===Ve?"ascending"===Oe?r.exports.jsx(g,{}):r.exports.jsx(j,{}):r.exports.jsx(b,{style:{opacity:.5}})]}),renderCell:e=>{const t=(null==De?void 0:De.serialNumber)===e.serialNumber&&(null==De?void 0:De.inputIndex)===e.inputIndex&&"fullLabel"===(null==De?void 0:De.field);return r.exports.jsx(W,{children:t?r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",width:"100%"},children:[r.exports.jsx("input",{type:"text",className:X,value:He,onChange:e=>Le(e.target.value),onBlur:ke,onKeyDown:Te,autoFocus:!0,disabled:ze,placeholder:"Enter label","aria-label":"Edit full label",style:{flex:1}}),r.exports.jsx("button",{onClick:e=>{e.stopPropagation(),ke()},disabled:ze,className:ee,title:"Save",children:r.exports.jsx(y,{style:{fontSize:"18px"}})})]}):r.exports.jsx("div",{className:Q,onDoubleClick:()=>_e(e,"fullLabel",e.fullLabel||""),title:"Double-click to edit",children:r.exports.jsx(o,{size:200,weight:"regular",children:e.fullLabel||"Unnamed"})})})}}),I({columnId:"label",renderHeaderCell:()=>r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},onClick:()=>Je("label"),children:[r.exports.jsx("span",{children:"Label"}),"label"===Ve?"ascending"===Oe?r.exports.jsx(g,{}):r.exports.jsx(j,{}):r.exports.jsx(b,{style:{opacity:.5}})]}),renderCell:e=>{const t=(null==De?void 0:De.serialNumber)===e.serialNumber&&(null==De?void 0:De.inputIndex)===e.inputIndex&&"label"===(null==De?void 0:De.field);return r.exports.jsx(W,{children:t?r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",width:"100%"},children:[r.exports.jsx("input",{type:"text",className:X,value:He,onChange:e=>Le(e.target.value),onBlur:ke,onKeyDown:Te,autoFocus:!0,disabled:ze,placeholder:"Enter label","aria-label":"Edit label",style:{flex:1}}),r.exports.jsx("button",{onClick:e=>{e.stopPropagation(),ke()},disabled:ze,className:ee,title:"Save",children:r.exports.jsx(y,{style:{fontSize:"18px"}})})]}):r.exports.jsx("div",{className:Q,onDoubleClick:()=>_e(e,"label",e.label||""),title:"Double-click to edit",children:r.exports.jsx(o,{size:200,weight:"regular",children:e.label||"---"})})})}}),I({columnId:"autoManual",renderHeaderCell:()=>r.exports.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:r.exports.jsx("span",{children:"Auto/Man"})}),renderCell:e=>{var t;const s=null==(t=e.autoManual)?void 0:t.toString().toLowerCase(),n="auto"===s||"1"===s;return r.exports.jsx(W,{children:r.exports.jsx("div",{onClick:async()=>{const t=n?"0":"1";try{const s=ae.find((t=>t.serialNumber===e.serialNumber&&t.inputIndex===e.inputIndex));if(!s)throw new Error("Current input data not found");await Se(e.serialNumber,e.inputIndex,"autoManual",t,s),ie((s=>s.map((s=>s.serialNumber===e.serialNumber&&s.inputIndex===e.inputIndex?{...s,autoManual:t}:s))))}catch(s){alert(`Failed to update Auto/Man: ${s instanceof Error?s.message:"Unknown error"}`)}},style:{cursor:"pointer",display:"flex",alignItems:"center"},children:r.exports.jsx($,{checked:n,style:{transform:"scale(0.8)"}})})})}}),I({columnId:"value",renderHeaderCell:()=>r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},onClick:()=>Je("value"),children:[r.exports.jsx("span",{children:"Value"}),"value"===Ve?"ascending"===Oe?r.exports.jsx(g,{}):r.exports.jsx(j,{}):r.exports.jsx(b,{style:{opacity:.5}})]}),renderCell:e=>{const t=(null==De?void 0:De.serialNumber)===e.serialNumber&&(null==De?void 0:De.inputIndex)===e.inputIndex&&"fValue"===(null==De?void 0:De.field);return r.exports.jsx(W,{children:t?r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",width:"100%"},children:[r.exports.jsx("input",{type:"number",step:"0.01",className:X,value:He,onChange:e=>Le(e.target.value),onBlur:ke,onKeyDown:Te,autoFocus:!0,disabled:ze,placeholder:"Enter value","aria-label":"Edit value",style:{flex:1}}),r.exports.jsx("button",{onClick:e=>{e.stopPropagation(),ke()},disabled:ze,className:ee,title:"Save",children:r.exports.jsx(y,{style:{fontSize:"18px"}})})]}):r.exports.jsx("div",{className:Q,onDoubleClick:()=>{var t;return _e(e,"fValue",(null==(t=e.fValue)?void 0:t.toString())||"0")},title:"Double-click to edit",children:r.exports.jsx(o,{size:200,weight:"regular",children:e.fValue||"---"})})})}}),I({columnId:"units",renderHeaderCell:()=>r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},onClick:()=>Je("units"),children:[r.exports.jsx("span",{children:"Units"}),"units"===Ve?"ascending"===Oe?r.exports.jsx(g,{}):r.exports.jsx(j,{}):r.exports.jsx(b,{style:{opacity:.5}})]}),renderCell:e=>r.exports.jsx(W,{children:e.units||"---"})}),I({columnId:"range",renderHeaderCell:()=>r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},onClick:()=>Je("range"),children:[r.exports.jsx("span",{children:"Range"}),"range"===Ve?"ascending"===Oe?r.exports.jsx(g,{}):r.exports.jsx(j,{}):r.exports.jsx(b,{style:{opacity:.5}})]}),renderCell:e=>{const t=e.range?parseInt(e.range):0,s="Digital"===e.signalType?1:0,n=C(t,s);return r.exports.jsx(W,{children:r.exports.jsx("div",{onClick:()=>(e=>{Pe(e),Be(!0)})(e),style:{cursor:"pointer",color:"#0078d4"},title:"Click to change range",children:r.exports.jsx(o,{size:200,weight:"regular",children:n})})})}}),I({columnId:"calibration",renderHeaderCell:()=>r.exports.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:r.exports.jsx("span",{children:"Calibration"})}),renderCell:e=>r.exports.jsx(W,{children:e.calibration||"0"})}),I({columnId:"sign",renderHeaderCell:()=>r.exports.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:r.exports.jsx("span",{children:"Sign"})}),renderCell:e=>r.exports.jsx(W,{children:e.sign||"+"})}),I({columnId:"filter",renderHeaderCell:()=>r.exports.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:r.exports.jsx("span",{children:"Filter"})}),renderCell:e=>r.exports.jsx(W,{children:e.filterField||"0"})}),I({columnId:"status",renderHeaderCell:()=>r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},onClick:()=>Je("status"),children:[r.exports.jsx("span",{children:"Status"}),"status"===Ve?"ascending"===Oe?r.exports.jsx(g,{}):r.exports.jsx(j,{}):r.exports.jsx(b,{style:{opacity:.5}})]}),renderCell:e=>{var t;let s="Normal",n="success";const l=null==(t=e.status)?void 0:t.toString();return"0"===l||"64"===l?(s="Normal",n="success"):l&&"online"!==l&&"normal"!==l?(s=`Code ${l}`,n="warning"):"online"!==(null==l?void 0:l.toLowerCase())&&"normal"!==(null==l?void 0:l.toLowerCase())||(s="Normal",n="success"),r.exports.jsx(W,{children:r.exports.jsx(D,{appearance:"filled",color:n,children:s})})}}),I({columnId:"signalType",renderHeaderCell:()=>r.exports.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:r.exports.jsx("span",{children:"Signal Type"})}),renderCell:()=>r.exports.jsx(W,{children:"---"})}),I({columnId:"type",renderHeaderCell:()=>r.exports.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:r.exports.jsx("span",{children:"Type"})}),renderCell:e=>{const t="0"===e.digitalAnalog;return r.exports.jsx(W,{children:r.exports.jsx(D,{appearance:"outline",color:t?"informative":"brand",children:t?"Digital":"Analog"})})}})];return r.exports.jsxs("div",{className:H,children:[r.exports.jsx("div",{className:L,children:r.exports.jsx("div",{className:z,children:r.exports.jsx("div",{className:F,children:r.exports.jsxs("div",{className:R,children:[pe&&r.exports.jsxs("div",{style:{marginBottom:"12px",padding:"8px 12px",backgroundColor:"#fef6f6",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[r.exports.jsx(i,{style:{color:"#d13438",fontSize:"16px",flexShrink:0}}),r.exports.jsx(o,{style:{color:"#d13438",fontWeight:500,fontSize:"13px"},children:pe})]}),e&&r.exports.jsx("div",{className:B,children:r.exports.jsxs("div",{className:A,children:[r.exports.jsxs("button",{className:P,onClick:async()=>{if(e){ue(!0);try{const t=await E.refreshAllInputs(e.serialNumber);if(t.items&&t.items.length>0){await E.saveRefreshedInputs(e.serialNumber,t.items);await Ce()}}catch(t){ce(t instanceof Error?t.message:"Failed to refresh from device")}finally{ue(!1)}}},disabled:xe,title:"Refresh all inputs from device","aria-label":"Refresh from Device",children:[r.exports.jsx(d,{}),r.exports.jsx("span",{children:xe?"Refreshing...":"Refresh from Device"})]}),r.exports.jsxs("button",{className:P,onClick:()=>{},title:"Export to CSV","aria-label":"Export to CSV",children:[r.exports.jsx(p,{}),r.exports.jsx("span",{children:"Export to CSV"})]}),r.exports.jsx("div",{className:V,role:"separator"}),r.exports.jsxs("button",{className:P,onClick:()=>{},title:"Settings","aria-label":"Settings",children:[r.exports.jsx(c,{}),r.exports.jsx("span",{children:"Settings"})]}),r.exports.jsxs("div",{className:M,children:[r.exports.jsx(x,{className:O}),r.exports.jsx("input",{className:U,type:"text",placeholder:"Search inputs...",value:We,onChange:e=>{$e(e.target.value)},spellCheck:"false",role:"searchbox","aria-label":"Search inputs"})]}),r.exports.jsx(u,{content:`Showing input points for ${e.nameShowOnTree} (SN: ${e.serialNumber}). This table displays all configured input points including digital and analog sensors, their current values, calibration settings, and operational status.`,relationship:"description",children:r.exports.jsx("button",{className:P,style:{marginLeft:"8px"},title:"Information","aria-label":"Information about this page",children:r.exports.jsx(h,{})})})]})}),r.exports.jsx("div",{style:{padding:"0"},children:r.exports.jsx("hr",{className:J})}),r.exports.jsxs("div",{className:K,children:[oe&&0===ae.length&&r.exports.jsxs("div",{className:Y,children:[r.exports.jsx(f,{size:"tiny"}),r.exports.jsx(o,{size:200,weight:"regular",children:"Loading inputs..."})]}),!e&&!oe&&r.exports.jsx("div",{className:G,children:r.exports.jsxs("div",{style:{textAlign:"center"},children:[r.exports.jsx(o,{size:500,weight:"semibold",children:"No device selected"}),r.exports.jsx("br",{}),r.exports.jsx(o,{size:300,children:"Please select a device from the tree to view inputs"})]})}),e&&!oe&&r.exports.jsxs("div",{ref:je,className:Z,onScroll:we,onWheel:Ne,children:[r.exports.jsxs(w,{items:ae,columns:Ke,sortable:!0,resizableColumns:!0,columnSizingOptions:{input:{minWidth:60,defaultWidth:80},panel:{minWidth:60,defaultWidth:75},fullLabel:{minWidth:180,defaultWidth:250},autoManual:{minWidth:90,defaultWidth:120},value:{minWidth:120,defaultWidth:180},units:{minWidth:100,defaultWidth:150},range:{minWidth:80,defaultWidth:100},calibration:{minWidth:80,defaultWidth:100},sign:{minWidth:50,defaultWidth:60},filter:{minWidth:60,defaultWidth:80},status:{minWidth:80,defaultWidth:100},signalType:{minWidth:90,defaultWidth:110},label:{minWidth:130,defaultWidth:170},type:{minWidth:60,defaultWidth:75}},children:[r.exports.jsx(N,{children:r.exports.jsx(_,{children:({renderHeaderCell:e})=>r.exports.jsx(S,{children:e()})})}),r.exports.jsx(k,{children:({item:e,rowId:t})=>r.exports.jsx(_,{children:({renderCell:t})=>r.exports.jsx(T,{children:t(e)})},t)})]}),be&&r.exports.jsxs("div",{className:q,children:[r.exports.jsx(f,{size:"tiny"}),r.exports.jsx(o,{size:200,weight:"regular",children:"Loading next device..."})]}),0===ae.length&&r.exports.jsxs("div",{style:{marginTop:"24px",textAlign:"center",padding:"0 20px"},children:[r.exports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[r.exports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{opacity:.5},children:r.exports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4ZM10 8V16H14V8H10Z",fill:"currentColor"})}),r.exports.jsx(o,{size:400,weight:"semibold",children:"No inputs found"})]}),r.exports.jsx(o,{size:300,style:{display:"block",marginBottom:"16px",color:"#605e5c",textAlign:"center"},children:"This device has no configured input points"}),r.exports.jsx(m,{appearance:"subtle",icon:r.exports.jsx(d,{}),onClick:async()=>{ue(!0),await Ce(),ue(!1)},style:{minWidth:"120px",fontWeight:"normal"},children:"Refresh"})]})]})]})]})})})}),Ae&&r.exports.jsx(v,{isOpen:Re,onClose:()=>Be(!1),currentRange:Ae.range?parseInt(Ae.range):0,digitalAnalog:"Digital"===Ae.signalType?1:0,onSave:async t=>{if(Ae&&e)try{const s=ae.find((e=>e.serialNumber===Ae.serialNumber&&e.inputIndex===Ae.inputIndex));if(!s)throw new Error("Current input data not found");await Se(e.serialNumber,Ae.inputIndex,"range",t.toString(),s),ie((e=>e.map((e=>e.serialNumber===Ae.serialNumber&&e.inputIndex===Ae.inputIndex?{...e,range:t.toString(),rangeField:t.toString()}:e))))}catch(s){alert(`Failed to update range: ${s instanceof Error?s.message:"Unknown error"}`)}},inputLabel:`Input ${Ae.inputIndex||Ae.inputId} - ${Ae.fullLabel||"Unnamed"}`})]})};export{ne as InputsPage,ne as default};

import{j as e}from"./react.3bc90b5d.js";import{r,R as s}from"./client.58f92968.js";import{u as a,L as t,M as n,E as l,T as i,h as o,N as d,i as c,P as p,Q as u,I as x,S as h,R as m,U as f,V as g,X as j,Y as b,Z as _,$ as N}from"./App.4ea21eda.js";import{R as v}from"./RangeSelectionDrawer.ccf9a497.js";import{g as I}from"./rangeData.f0c44010.js";import{c as C,D as w,a as y,b as S,d as k,e as q,f as $}from"./DataGridHeaderCell.c083631d.js";import{T as F}from"./TableCellLayout.777c5080.js";import"./index.f111124c.js";import"./Serializer.f6a5f515.js";import"./axios.65f6a2c9.js";import"./T3Data.f6c34e59.js";import"./_commonjsHelpers.a5007c1f.js";import"./RadioGroup.ff7938d5.js";import"./Input.4fa0d50c.js";var L="_container_aqorr_35",E="_bladeContentContainer_aqorr_59",D="_bladeContentWrapper_aqorr_75",T="_bladeContent_aqorr_59",W="_partContent_aqorr_107",H="_toolbar_aqorr_125",M="_toolbarContainer_aqorr_143",V="_toolbarButton_aqorr_159",R="_toolbarSeparator_aqorr_237",z="_searchInputWrapper_aqorr_253",A="_searchIcon_aqorr_267",P="_searchInput_aqorr_253",U="_overviewHr_aqorr_387",B="_dockingBody_aqorr_403",O="_scrollContainer_aqorr_421",K="_noData_aqorr_483",G="_loadingBar_aqorr_501",J="_autoLoadIndicator_aqorr_529",Y="_editableCell_aqorr_933",Q="_editInput_aqorr_961",X="_saveButton_aqorr_1033",Z="_refreshIconButton_aqorr_1095",ee="_isRefreshing_aqorr_1165",re="_rotating_aqorr_1205",se="_headerCellSort_aqorr_1221",ae="_headerCell_aqorr_1221",te="_sortIconFaded_aqorr_1247",ne="_cellFlexContainer_aqorr_1255",le="_editInputContainer_aqorr_1265",ie="_flex1_aqorr_1279",oe="_iconSmall_aqorr_1287",de="_iconMedium_aqorr_1295",ce="_switchScale_aqorr_1311",pe="_switchContainer_aqorr_1319",ue="_rangeLink_aqorr_1331",xe="_marginLeft8_aqorr_1341",he="_errorNotice_aqorr_1349",me="_iconError_aqorr_1369",fe="_textError_aqorr_1381",ge="_noPadding_aqorr_1393",je="_centerText_aqorr_1401";const be=()=>{const{selectedDevice:be,treeData:_e,selectDevice:Ne,getNextDevice:ve,getFilteredDevices:Ie}=a(),Ce=t((e=>e.setMessage)),[we,ye]=r.exports.useState([]),[Se,ke]=r.exports.useState(!1),[qe,$e]=r.exports.useState(null),[Fe,Le]=r.exports.useState(!1),[Ee,De]=r.exports.useState(new Set),[Te,We]=r.exports.useState(!1),He=r.exports.useRef(!1),Me=r.exports.useRef(null),[Ve,Re]=r.exports.useState(!1),ze=r.exports.useRef(!1),Ae=r.exports.useRef(0),Pe=r.exports.useCallback((async()=>{if(be){ke(!0),$e(null);try{const e=`${n}/api/t3_device/devices/${be.serialNumber}/input-points`,r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch inputs: ${r.statusText}`);const s=(await r.json()).input_points||[];ye(s)}catch(e){const r=e instanceof Error?e.message:"Failed to load inputs";$e(r)}finally{ke(!1)}}else ye([])}),[be]);r.exports.useEffect((()=>{Pe()}),[Pe]),r.exports.useEffect((()=>{ye([]),We(!1),He.current=!1}),[null==be?void 0:be.serialNumber]),r.exports.useEffect((()=>{if(Se||!be||Te||He.current)return;(async()=>{if(He.current=!0,we.length>0)We(!0);else{ke(!0);try{const e=await m.refreshFromDevice({serialNumber:be.serialNumber,type:"input",onLoadingChange:e=>{e&&Ce(`Loading inputs from ${be.nameShowOnTree} (Action 17)...`,"info")}});Ce(`âœ“ Synced ${e.itemCount} inputs from ${be.nameShowOnTree}`,"success")}catch(e){Ce(`Failed to sync inputs: ${e instanceof Error?e.message:"Unknown error"}`,"error")}finally{await Pe(),We(!0),ke(!1)}}})()}),[Se,be,Te,Pe,we.length,Ce]);const Ue=r.exports.useCallback((async()=>{const e=ve();e&&(Re(!0),Ne(e),setTimeout((()=>{Re(!1)}),500))}),[ve,Ne]),Be=r.exports.useCallback((e=>{if(Ve||Se)return;const r=e.currentTarget;r.scrollHeight-r.scrollTop-r.clientHeight<=1&&we.length>0?ze.current=!0:ze.current=!1}),[Ve,Se,we.length]),Oe=r.exports.useCallback((e=>{Ve||Se||0===we.length||e.deltaY>0&&ze.current&&(ze.current=!1,Ue())}),[Ve,Se,we.length,Ue]);r.exports.useEffect((()=>{be&&Me.current&&Me.current.scrollTo({top:0,behavior:Ve?"smooth":"auto"})}),[be,Ve]),r.exports.useEffect((()=>{if(!Fe&&!Se&&Ae.current>0&&Me.current){const e=setTimeout((()=>{Me.current&&(Me.current.scrollTop=Ae.current,Ae.current=0)}),50);return()=>clearTimeout(e)}}),[we,Fe,Se]);const Ke=(e,r,s)=>{rr({serialNumber:e.serialNumber,inputIndex:e.inputIndex||"",field:r}),ar(s||"")},Ge=async(e,r,s,a,t,l)=>{var i,o;try{const d={action:16,panelId:e,serialNumber:r,entryType:1,entryIndex:parseInt(s,10),control:0,value:"fValue"===a?parseFloat(t||"0"):parseFloat(l.fValue||"0")/1e3,description:"fullLabel"===a?t:l.fullLabel||"",label:"label"===a?t:l.label||"",range:"range"===a?parseInt(t||"0",10):parseInt(l.rangeField||l.range||"0",10),auto_manual:"autoManual"===a?parseInt(t||"0",10):parseInt(l.autoManual||"0",10),filter:parseInt(l.filterField||"0",10),digital_analog:parseInt(l.digitalAnalog||"0",10),calibration_sign:parseInt(l.sign||"0",10),calibration_h:parseInt((null==(i=l.calibration)?void 0:i.split(".")[0])||"0",10),calibration_l:parseInt((null==(o=l.calibration)?void 0:o.split(".")[1])||"0",10),decom:0},c=await fetch(`${n}/api/t3000/ffi/call`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!c.ok){const e=await c.text();throw new Error(`Device update failed: ${c.status}: ${e}`)}return await c.json()}catch(d){throw d}},Je=async(e,r,s,a,t)=>{var l,i;try{const o={fullLabel:"fullLabel"===s?a:t.fullLabel||"",label:"label"===s?a:t.label||"",value:"fValue"===s?parseFloat(a||"0"):parseFloat(t.fValue||"0")/1e3,range:"range"===s?parseInt(a||"0",10):parseInt(t.rangeField||t.range||"0",10),autoManual:"autoManual"===s?parseInt(a||"0",10):parseInt(t.autoManual||"0",10),filter:parseInt(t.filterField||"0",10),digitalAnalog:parseInt(t.digitalAnalog||"0",10),calibrationSign:parseInt(t.sign||"0",10),calibrationH:parseInt((null==(l=t.calibration)?void 0:l.split(".")[0])||"0",10),calibrationL:parseInt((null==(i=t.calibration)?void 0:i.split(".")[1])||"0",10)},d=await fetch(`${n}/api/t3_device/inputs/${e}/${r}/db`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!d.ok){const e=await d.text();throw new Error(`Database update failed: ${d.status}: ${e}`)}return await d.json()}catch(o){throw o}},Ye=async()=>{if(er)if("fValue"===er.field||sr.trim()){nr(!0);try{if(be&&["fullLabel","label","fValue","range","autoManual"].includes(er.field)){const e=we.find((e=>e.serialNumber===er.serialNumber&&e.inputIndex===er.inputIndex));if(!e)throw new Error("Current input data not found");const r=be.panelId||1;await Ge(r,be.serialNumber,er.inputIndex,er.field,sr,e),await Je(be.serialNumber,er.inputIndex,er.field,sr,e)}ye((e=>e.map((e=>e.serialNumber===er.serialNumber&&e.inputIndex===er.inputIndex?{...e,[er.field]:"fValue"===er.field?(1e3*parseFloat(sr||"0")).toString():sr}:e)))),rr(null)}catch(e){alert(`Failed to update: ${e instanceof Error?e.message:"Unknown error"}`)}finally{nr(!1)}}else rr(null);else rr(null)},Qe=e=>{"Enter"===e.key?(e.preventDefault(),Ye()):"Escape"===e.key&&(e.preventDefault(),rr(null),ar(""))},[Xe,Ze]=r.exports.useState(""),[er,rr]=r.exports.useState(null),[sr,ar]=r.exports.useState(""),[tr,nr]=r.exports.useState(!1),[lr,ir]=r.exports.useState(!1),[or,dr]=r.exports.useState(null),[cr,pr]=r.exports.useState(null),[ur,xr]=r.exports.useState("ascending"),hr=e=>{cr===e?xr("ascending"===ur?"descending":"ascending"):(pr(e),xr("ascending"))},mr=s.useMemo((()=>0===we.length?Array(10).fill(null).map(((e,r)=>({serialNumber:(null==be?void 0:be.serialNumber)||0,inputId:"",inputIndex:"",panel:"",fullLabel:"",autoManual:"",fValue:"",units:"",range:"",rangeField:"",calibration:"",sign:"",filterField:"",status:"",signalType:"",digitalAnalog:"",label:"",typeField:""}))):we),[we,be]),fr=e=>!e.inputIndex&&!e.inputId&&0===we.length,gr=[C({columnId:"panel",renderHeaderCell:()=>e.exports.jsxs("div",{className:se,onClick:()=>hr("panel"),children:[e.exports.jsx("span",{children:"Panel"}),"panel"===cr?"ascending"===ur?e.exports.jsx(f,{}):e.exports.jsx(g,{}):e.exports.jsx(j,{className:te})]}),renderCell:r=>e.exports.jsx(F,{children:!fr(r)&&(r.panel||"---")})}),C({columnId:"input",renderHeaderCell:()=>e.exports.jsxs("div",{className:se,onClick:()=>hr("input"),children:[e.exports.jsx("span",{children:"Input"}),"input"===cr?"ascending"===ur?e.exports.jsx(f,{}):e.exports.jsx(g,{}):e.exports.jsx(j,{className:te})]}),renderCell:r=>{const s=r.inputIndex||"",a=Ee.has(s);return e.exports.jsx(F,{children:!fr(r)&&e.exports.jsxs("div",{className:ne,children:[e.exports.jsx("button",{onClick:e=>{e.stopPropagation(),(async e=>{if(!be)return;const r=parseInt(e,10);if(!isNaN(r)){De((r=>new Set(r).add(e)));try{await m.refreshSingleInput(be.serialNumber,r),await Pe()}catch(s){}finally{De((r=>{const s=new Set(r);return s.delete(e),s}))}}})(s)},className:`${Z} ${a?ee:""}`,title:"Refresh this input from device",disabled:a,children:e.exports.jsx(o,{className:`${oe} ${a?re:""}`})}),e.exports.jsx(i,{size:200,weight:"regular",children:r.inputId||(r.inputIndex?`IN${parseInt(r.inputIndex)+1}`:"---")})]})})}}),C({columnId:"fullLabel",renderHeaderCell:()=>e.exports.jsxs("div",{className:se,onClick:()=>hr("fullLabel"),children:[e.exports.jsx("span",{children:"Full Label"}),"fullLabel"===cr?"ascending"===ur?e.exports.jsx(f,{}):e.exports.jsx(g,{}):e.exports.jsx(j,{className:te})]}),renderCell:r=>{const s=(null==er?void 0:er.serialNumber)===r.serialNumber&&(null==er?void 0:er.inputIndex)===r.inputIndex&&"fullLabel"===(null==er?void 0:er.field);return e.exports.jsx(F,{children:!fr(r)&&(s?e.exports.jsxs("div",{className:le,children:[e.exports.jsx("input",{type:"text",className:`${Q} ${ie}`,value:sr,onChange:e=>ar(e.target.value),onBlur:Ye,onKeyDown:Qe,autoFocus:!0,disabled:tr,placeholder:"Enter label","aria-label":"Edit full label"}),e.exports.jsx("button",{onClick:e=>{e.stopPropagation(),Ye()},disabled:tr,className:X,title:"Save",children:e.exports.jsx(b,{className:de})})]}):e.exports.jsx("div",{className:Y,onDoubleClick:()=>Ke(r,"fullLabel",r.fullLabel||""),title:"Double-click to edit",children:e.exports.jsx(i,{size:200,weight:"regular",children:r.fullLabel||"Unnamed"})}))})}}),C({columnId:"label",renderHeaderCell:()=>e.exports.jsxs("div",{className:se,onClick:()=>hr("label"),children:[e.exports.jsx("span",{children:"Label"}),"label"===cr?"ascending"===ur?e.exports.jsx(f,{}):e.exports.jsx(g,{}):e.exports.jsx(j,{className:te})]}),renderCell:r=>{const s=(null==er?void 0:er.serialNumber)===r.serialNumber&&(null==er?void 0:er.inputIndex)===r.inputIndex&&"label"===(null==er?void 0:er.field);return e.exports.jsx(F,{children:!fr(r)&&(s?e.exports.jsxs("div",{className:le,children:[e.exports.jsx("input",{type:"text",className:`${Q} ${ie}`,value:sr,onChange:e=>ar(e.target.value),onBlur:Ye,onKeyDown:Qe,autoFocus:!0,disabled:tr,placeholder:"Enter label","aria-label":"Edit label"}),e.exports.jsx("button",{onClick:e=>{e.stopPropagation(),Ye()},disabled:tr,className:X,title:"Save",children:e.exports.jsx(b,{className:de})})]}):e.exports.jsx("div",{className:Y,onDoubleClick:()=>Ke(r,"label",r.label||""),title:"Double-click to edit",children:e.exports.jsx(i,{size:200,weight:"regular",children:r.label||"---"})}))})}}),C({columnId:"autoManual",renderHeaderCell:()=>e.exports.jsx("div",{className:ae,children:e.exports.jsx("span",{children:"Auto/Man"})}),renderCell:r=>{var s;const a=null==(s=r.autoManual)?void 0:s.toString().toLowerCase(),t="auto"===a||"1"===a;return e.exports.jsx(F,{children:!fr(r)&&e.exports.jsx("div",{onClick:async()=>{const e=t?"0":"1";try{const s=we.find((e=>e.serialNumber===r.serialNumber&&e.inputIndex===r.inputIndex));if(!s)throw new Error("Current input data not found");if(!be)throw new Error("No device selected");const a=be.panelId||1;await Ge(a,r.serialNumber,r.inputIndex,"autoManual",e,s),await Je(r.serialNumber,r.inputIndex,"autoManual",e,s),ye((s=>s.map((s=>s.serialNumber===r.serialNumber&&s.inputIndex===r.inputIndex?{...s,autoManual:e}:s))))}catch(s){alert(`Failed to update Auto/Man: ${s instanceof Error?s.message:"Unknown error"}`)}},className:pe,children:e.exports.jsx(_,{checked:t,className:ce})})})}}),C({columnId:"value",renderHeaderCell:()=>e.exports.jsxs("div",{className:se,onClick:()=>hr("value"),children:[e.exports.jsx("span",{children:"Value"}),"value"===cr?"ascending"===ur?e.exports.jsx(f,{}):e.exports.jsx(g,{}):e.exports.jsx(j,{className:te})]}),renderCell:r=>{const s=(null==er?void 0:er.serialNumber)===r.serialNumber&&(null==er?void 0:er.inputIndex)===r.inputIndex&&"fValue"===(null==er?void 0:er.field);return e.exports.jsx(F,{children:!fr(r)&&(s?e.exports.jsxs("div",{className:le,children:[e.exports.jsx("input",{type:"number",step:"0.01",className:`${Q} ${ie}`,value:sr,onChange:e=>ar(e.target.value),onBlur:Ye,onKeyDown:Qe,autoFocus:!0,disabled:tr,placeholder:"Enter value","aria-label":"Edit value"}),e.exports.jsx("button",{onClick:e=>{e.stopPropagation(),Ye()},disabled:tr,className:X,title:"Save",children:e.exports.jsx(b,{className:de})})]}):e.exports.jsx("div",{className:Y,onDoubleClick:()=>Ke(r,"fValue",r.fValue?(parseFloat(r.fValue)/1e3).toFixed(2):"0"),title:"Double-click to edit",children:e.exports.jsx(i,{size:200,weight:"regular",children:r.fValue?(parseFloat(r.fValue)/1e3).toFixed(2):"---"})}))})}}),C({columnId:"units",renderHeaderCell:()=>e.exports.jsxs("div",{className:se,onClick:()=>hr("units"),children:[e.exports.jsx("span",{children:"Units"}),"units"===cr?"ascending"===ur?e.exports.jsx(f,{}):e.exports.jsx(g,{}):e.exports.jsx(j,{className:te})]}),renderCell:r=>e.exports.jsx(F,{children:!fr(r)&&(r.units||"---")})}),C({columnId:"range",renderHeaderCell:()=>e.exports.jsxs("div",{className:se,onClick:()=>hr("range"),children:[e.exports.jsx("span",{children:"Range"}),"range"===cr?"ascending"===ur?e.exports.jsx(f,{}):e.exports.jsx(g,{}):e.exports.jsx(j,{className:te})]}),renderCell:r=>{const s=r.range?parseInt(r.range):0,a="Digital"===r.signalType?1:0,t=I(s,a);return e.exports.jsx(F,{children:!fr(r)&&e.exports.jsx("div",{onClick:()=>(e=>{dr(e),ir(!0)})(r),className:ue,title:"Click to change range",children:e.exports.jsx(i,{size:200,weight:"regular",children:t})})})}}),C({columnId:"calibration",renderHeaderCell:()=>e.exports.jsx("div",{className:ae,children:e.exports.jsx("span",{children:"Calibration"})}),renderCell:r=>e.exports.jsx(F,{children:!fr(r)&&(r.calibration||"0")})}),C({columnId:"sign",renderHeaderCell:()=>e.exports.jsx("div",{className:ae,children:e.exports.jsx("span",{children:"Sign"})}),renderCell:r=>e.exports.jsx(F,{children:!fr(r)&&(r.sign||"+")})}),C({columnId:"filter",renderHeaderCell:()=>e.exports.jsx("div",{className:ae,children:e.exports.jsx("span",{children:"Filter"})}),renderCell:r=>e.exports.jsx(F,{children:!fr(r)&&(r.filterField||"0")})}),C({columnId:"status",renderHeaderCell:()=>e.exports.jsxs("div",{className:se,onClick:()=>hr("status"),children:[e.exports.jsx("span",{children:"Status"}),"status"===cr?"ascending"===ur?e.exports.jsx(f,{}):e.exports.jsx(g,{}):e.exports.jsx(j,{className:te})]}),renderCell:r=>{var s;let a="Normal",t="success";const n=null==(s=r.status)?void 0:s.toString();return"0"===n||"64"===n?(a="Normal",t="success"):n&&"online"!==n&&"normal"!==n?(a=`Code ${n}`,t="warning"):"online"!==(null==n?void 0:n.toLowerCase())&&"normal"!==(null==n?void 0:n.toLowerCase())||(a="Normal",t="success"),e.exports.jsx(F,{children:!fr(r)&&e.exports.jsx(N,{appearance:"filled",color:t,children:a})})}}),C({columnId:"signalType",renderHeaderCell:()=>e.exports.jsx("div",{className:ae,children:e.exports.jsx("span",{children:"Signal Type"})}),renderCell:()=>e.exports.jsx(F,{})}),C({columnId:"type",renderHeaderCell:()=>e.exports.jsx("div",{className:ae,children:e.exports.jsx("span",{children:"Type"})}),renderCell:r=>{const s="0"===r.digitalAnalog;return e.exports.jsx(F,{children:!fr(r)&&e.exports.jsx(N,{appearance:"outline",color:s?"informative":"brand",children:s?"Digital":"Analog"})})}})];return e.exports.jsxs("div",{className:L,children:[e.exports.jsx("div",{className:E,children:e.exports.jsx("div",{className:D,children:e.exports.jsx("div",{className:T,children:e.exports.jsxs("div",{className:W,children:[qe&&e.exports.jsxs("div",{className:he,children:[e.exports.jsx(l,{className:me}),e.exports.jsx(i,{className:fe,children:qe})]}),be&&e.exports.jsxs(e.exports.Fragment,{children:[e.exports.jsx("div",{className:H,children:e.exports.jsxs("div",{className:M,children:[e.exports.jsxs("button",{className:V,onClick:async()=>{if(be){Me.current&&(Ae.current=Me.current.scrollTop),Le(!0),Ce("Refreshing inputs from device...","info");try{const e=await m.refreshFromDevice({serialNumber:be.serialNumber,type:"input",onLoadingChange:e=>{e&&Ce("Loading data from device (Action 17)...","info")}});Ce(e.message,"success")}catch(e){const r=e instanceof Error?e.message:"Failed to refresh from device";$e(r),Ce(r,"error")}finally{await Pe(),Le(!1)}}},disabled:Fe,title:"Refresh all inputs from device","aria-label":"Refresh from Device",children:[e.exports.jsx(o,{}),e.exports.jsx("span",{children:Fe?"Refreshing...":"Refresh from Device"})]}),e.exports.jsxs("button",{className:V,onClick:()=>{},title:"Export to CSV","aria-label":"Export to CSV",children:[e.exports.jsx(d,{}),e.exports.jsx("span",{children:"Export to CSV"})]}),e.exports.jsx("div",{className:R,role:"separator"}),e.exports.jsxs("button",{className:V,onClick:()=>{},title:"Settings","aria-label":"Settings",children:[e.exports.jsx(c,{}),e.exports.jsx("span",{children:"Settings"})]}),e.exports.jsxs("div",{className:z,children:[e.exports.jsx(p,{className:A}),e.exports.jsx("input",{className:P,type:"text",placeholder:"Search inputs...",value:Xe,onChange:e=>{Ze(e.target.value)},spellCheck:"false",role:"searchbox","aria-label":"Search inputs"})]}),e.exports.jsx(u,{content:`Showing input points for ${be.nameShowOnTree} (SN: ${be.serialNumber}). This table displays all configured input points including digital and analog sensors, their current values, calibration settings, and operational status.`,relationship:"description",children:e.exports.jsx("button",{className:`${V} ${xe}`,title:"Information","aria-label":"Information about this page",children:e.exports.jsx(x,{})})})]})}),e.exports.jsx("div",{className:ge,children:e.exports.jsx("hr",{className:U})})]}),e.exports.jsxs("div",{className:B,children:[Se&&0===we.length&&e.exports.jsxs("div",{className:G,children:[e.exports.jsx(h,{size:"tiny"}),e.exports.jsx(i,{size:200,weight:"regular",children:"Loading inputs..."})]}),!be&&!Se&&e.exports.jsx("div",{className:K,children:e.exports.jsxs("div",{className:je,children:[e.exports.jsx(i,{size:400,weight:"semibold",children:"No device selected"}),e.exports.jsx("br",{}),e.exports.jsx(i,{size:200,children:"Please select a device from the tree to view inputs"})]})}),be&&!Se&&0===we.length&&e.exports.jsx("div",{className:K,children:e.exports.jsxs("div",{className:je,children:[e.exports.jsx(i,{size:400,weight:"semibold",children:"No inputs found"}),e.exports.jsx("br",{}),e.exports.jsx(i,{size:200,children:"This device has no configured input points"})]})}),be&&!Se&&we.length>0&&e.exports.jsxs("div",{ref:Me,className:O,onScroll:Be,onWheel:Oe,children:[e.exports.jsxs(w,{items:mr,columns:gr,sortable:!0,resizableColumns:!0,columnSizingOptions:{input:{minWidth:60,defaultWidth:80},panel:{minWidth:60,defaultWidth:75},fullLabel:{minWidth:180,defaultWidth:250},autoManual:{minWidth:90,defaultWidth:120},value:{minWidth:120,defaultWidth:180},units:{minWidth:100,defaultWidth:150},range:{minWidth:80,defaultWidth:100},calibration:{minWidth:80,defaultWidth:100},sign:{minWidth:50,defaultWidth:60},filter:{minWidth:60,defaultWidth:80},status:{minWidth:80,defaultWidth:100},signalType:{minWidth:90,defaultWidth:110},label:{minWidth:130,defaultWidth:170},type:{minWidth:60,defaultWidth:75}},children:[e.exports.jsx(y,{children:e.exports.jsx(S,{children:({renderHeaderCell:r})=>e.exports.jsx(k,{children:r()})})}),e.exports.jsx(q,{children:({item:r,rowId:s})=>e.exports.jsx(S,{children:({renderCell:s})=>e.exports.jsx($,{children:s(r)})},s)})]}),Ve&&e.exports.jsxs("div",{className:J,children:[e.exports.jsx(h,{size:"tiny"}),e.exports.jsx(i,{size:200,weight:"regular",children:"Loading next device..."})]})]})]})]})})})}),or&&e.exports.jsx(v,{isOpen:lr,onClose:()=>ir(!1),currentRange:or.range?parseInt(or.range):0,digitalAnalog:"Digital"===or.signalType?1:0,onSave:async e=>{if(or&&be)try{const r=we.find((e=>e.serialNumber===or.serialNumber&&e.inputIndex===or.inputIndex));if(!r)throw new Error("Current input data not found");const s=be.panelId||1;await Ge(s,be.serialNumber,or.inputIndex,"range",e.toString(),r),await Je(be.serialNumber,or.inputIndex,"range",e.toString(),r),ye((r=>r.map((r=>r.serialNumber===or.serialNumber&&r.inputIndex===or.inputIndex?{...r,range:e.toString(),rangeField:e.toString()}:r))))}catch(r){alert(`Failed to update range: ${r instanceof Error?r.message:"Unknown error"}`)}},inputLabel:`Input ${or.inputIndex||or.inputId} - ${or.fullLabel||"Unnamed"}`})]})};export{be as InputsPage,be as default};

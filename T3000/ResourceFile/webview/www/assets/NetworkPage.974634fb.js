import{j as e}from"./react.2da10d74.js";import{r as s}from"./client.b9d1bbf8.js";import{w as r,x as t,T as o,y as l,z as n,S as i,C as a,D as d,I as x,F as c}from"./App.2c62e2d1.js";import{c as p,D as h,a as u,b as m,d as j,e as f,f as g,T as C}from"./DataGridHeaderCell.34491fc4.js";import"./index.5672de35.js";import"./Serializer.f6a5f515.js";import"./useFocusableGroup.6d334b5b.js";var _="_container_16yu1_35",b="_bladeContentContainer_16yu1_59",y="_bladeContentWrapper_16yu1_75",v="_bladeContent_16yu1_59",N="_partContent_16yu1_107",w="_toolbar_16yu1_125",k="_toolbarContainer_16yu1_143",S="_toolbarButton_16yu1_159",I="_toolbarSeparator_16yu1_237",W="_searchInputWrapper_16yu1_253",z="_searchIcon_16yu1_267",H="_searchInput_16yu1_253",D="_overviewHr_16yu1_387",B="_dockingBody_16yu1_403",E="_noData_16yu1_423",T="_loadingBar_16yu1_441";const V=()=>{const{selectedDevice:V,treeData:A,selectDevice:F}=r(),[M,R]=s.exports.useState([]),[Z,G]=s.exports.useState(!1),[L,O]=s.exports.useState(null);s.exports.useEffect((()=>{if(!V&&A.length>0){const e=s=>{for(const r of s){if(r.data)return r;if(r.children&&r.children.length>0){const s=e(r.children);if(s)return s}}return null},s=e(A);(null==s?void 0:s.data)&&F(s.data)}}),[V,A,F]);const P=s.exports.useCallback((async()=>{if(V){G(!0),O(null);try{R([])}catch(e){const s=e instanceof Error?e.message:"Failed to load networks";O(s)}finally{G(!1)}}else R([])}),[V]);s.exports.useEffect((()=>{P()}),[P]);const[$,q]=s.exports.useState(""),J=s.exports.useMemo((()=>[p({columnId:"networkId",renderHeaderCell:()=>e.exports.jsx("span",{children:"Network ID"}),renderCell:s=>e.exports.jsx(C,{children:s.networkId})}),p({columnId:"networkNumber",renderHeaderCell:()=>e.exports.jsx("span",{children:"Number"}),renderCell:s=>{var r;return e.exports.jsx(C,{children:null!=(r=s.networkNumber)?r:"---"})}}),p({columnId:"buildingName",renderHeaderCell:()=>e.exports.jsx("span",{children:"Building Name"}),renderCell:s=>e.exports.jsx(C,{children:s.buildingName||"---"})}),p({columnId:"deviceCount",renderHeaderCell:()=>e.exports.jsx("span",{children:"Devices"}),renderCell:s=>{var r;return e.exports.jsx(C,{children:null!=(r=s.deviceCount)?r:0})}}),p({columnId:"status",renderHeaderCell:()=>e.exports.jsx("span",{children:"Status"}),renderCell:s=>e.exports.jsx(C,{children:s.status||"---"})}),p({columnId:"protocol",renderHeaderCell:()=>e.exports.jsx("span",{children:"Protocol"}),renderCell:s=>e.exports.jsx(C,{children:s.protocol||"---"})}),p({columnId:"description",renderHeaderCell:()=>e.exports.jsx("span",{children:"Description"}),renderCell:s=>e.exports.jsx(C,{children:s.description||"---"})})]),[]);return e.exports.jsx("div",{className:_,children:e.exports.jsx("div",{className:b,children:e.exports.jsx("div",{className:y,children:e.exports.jsx("div",{className:v,children:e.exports.jsxs("div",{className:N,children:[L&&e.exports.jsxs("div",{style:{marginBottom:"12px",padding:"8px 12px",backgroundColor:"#fef6f6",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[e.exports.jsx(t,{style:{color:"#d13438",fontSize:"16px",flexShrink:0}}),e.exports.jsx(o,{style:{color:"#d13438",fontWeight:500,fontSize:"13px"},children:L})]}),V&&e.exports.jsx("div",{className:w,children:e.exports.jsxs("div",{className:k,children:[e.exports.jsxs("button",{className:S,onClick:()=>{P()},disabled:Z,title:"Refresh","aria-label":"Refresh",children:[e.exports.jsx(l,{}),e.exports.jsx("span",{children:"Refresh"})]}),e.exports.jsxs("button",{className:S,onClick:()=>{},title:"Export to CSV","aria-label":"Export to CSV",children:[e.exports.jsx(n,{}),e.exports.jsx("span",{children:"Export to CSV"})]}),e.exports.jsx("div",{className:I,role:"separator"}),e.exports.jsxs("button",{className:S,onClick:()=>{},title:"Settings","aria-label":"Settings",children:[e.exports.jsx(i,{}),e.exports.jsx("span",{children:"Settings"})]}),e.exports.jsxs("div",{className:W,children:[e.exports.jsx(a,{className:z}),e.exports.jsx("input",{className:H,type:"text",placeholder:"Search networks...",value:$,onChange:e=>{q(e.target.value)},spellCheck:"false",role:"searchbox","aria-label":"Search networks"})]}),V&&e.exports.jsx(d,{content:`Showing network topology for ${V.nameShowOnTree} (SN: ${V.serialNumber}). This table displays all configured networks and their connection status.`,relationship:"description",children:e.exports.jsx("button",{className:S,style:{marginLeft:"8px"},title:"Information","aria-label":"Information about this page",children:e.exports.jsx(x,{})})})]})}),e.exports.jsx("div",{style:{padding:"0"},children:e.exports.jsx("hr",{className:D})}),e.exports.jsxs("div",{className:B,children:[Z&&0===M.length&&e.exports.jsxs("div",{className:T,children:[e.exports.jsx(c,{size:"tiny"}),e.exports.jsx(o,{size:200,weight:"regular",children:"Loading networks..."})]}),!V&&!Z&&e.exports.jsx("div",{className:E,children:e.exports.jsxs("div",{style:{textAlign:"center"},children:[e.exports.jsx(o,{size:500,weight:"semibold",children:"No device selected"}),e.exports.jsx("br",{}),e.exports.jsx(o,{size:300,children:"Please select a device from the tree to view networks"})]})}),V&&!Z&&e.exports.jsxs(e.exports.Fragment,{children:[e.exports.jsxs(h,{items:M,columns:J,sortable:!0,resizableColumns:!0,columnSizingOptions:{networkId:{minWidth:80,defaultWidth:100},networkNumber:{minWidth:80,defaultWidth:100},buildingName:{minWidth:150,defaultWidth:200},deviceCount:{minWidth:80,defaultWidth:100},status:{minWidth:80,defaultWidth:100},protocol:{minWidth:100,defaultWidth:120},description:{minWidth:150,defaultWidth:250}},children:[e.exports.jsx(u,{children:e.exports.jsx(m,{children:({renderHeaderCell:s})=>e.exports.jsx(j,{children:s()})})}),e.exports.jsx(f,{children:({item:s,rowId:r})=>e.exports.jsx(m,{children:({renderCell:r})=>e.exports.jsx(g,{children:r(s)})},r)})]}),0===M.length&&e.exports.jsxs("div",{style:{marginTop:"24px",textAlign:"center",padding:"0 20px"},children:[e.exports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[e.exports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{opacity:.5},children:e.exports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4ZM10 8V16H14V8H10Z",fill:"currentColor"})}),e.exports.jsx(o,{size:400,weight:"semibold",children:"No networks found"})]}),e.exports.jsx(o,{size:300,style:{display:"block",marginBottom:"16px",color:"#605e5c",textAlign:"center"},children:"This device has no configured networks"})]})]})]})]})})})})})};export{V as NetworkPage};

import{b5 as e,h as t,b0 as o,b6 as l,n,aW as i,w as a,o as s,f as r,g as c,aV as u,ao as d,b7 as h,b8 as m,ah as p,ab as v,aY as f,b9 as g,a_ as b,ba as x,a as y,bb as w,Q as q,at as E,bc as H,az as W,aX as k}from"./index.43a69561.js";function S(){if(void 0!==window.getSelection){const t=window.getSelection();void 0!==t.empty?t.empty():void 0!==t.removeAllRanges&&(t.removeAllRanges(),!0!==e.is.mobile&&t.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}const C={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},M={...C,contextMenu:Boolean};function L({showing:e,avoidEmit:d,configureAnchorEl:h}){const{props:m,proxy:p,emit:v}=c(),f=t(null);let g=null;function b(e){return null!==f.value&&(void 0===e||void 0===e.touches||e.touches.length<=1)}const x={};function y(){u(x,"anchor")}function w(){if(!1===m.target||""===m.target||null===p.$el.parentNode)f.value=null;else if(!0===m.target)!function(e){for(f.value=e;f.value.classList.contains("q-anchor--skip");)f.value=f.value.parentNode;h()}(p.$el.parentNode);else{let t=m.target;if("string"==typeof m.target)try{t=document.querySelector(m.target)}catch(e){t=void 0}null!=t?(f.value=t.$el||t,h()):f.value=null}}return void 0===h&&(Object.assign(x,{hide(e){p.hide(e)},toggle(e){p.toggle(e),e.qAnchorHandled=!0},toggleKey(e){!0===o(e,13)&&x.toggle(e)},contextClick(e){p.hide(e),l(e),n((()=>{p.show(e),e.qAnchorHandled=!0}))},prevent:l,mobileTouch(e){if(x.mobileCleanup(e),!0!==b(e))return;p.hide(e),f.value.classList.add("non-selectable");const t=e.target;i(x,"anchor",[[t,"touchmove","mobileCleanup","passive"],[t,"touchend","mobileCleanup","passive"],[t,"touchcancel","mobileCleanup","passive"],[f.value,"contextmenu","prevent","notPassive"]]),g=setTimeout((()=>{g=null,p.show(e),e.qAnchorHandled=!0}),300)},mobileCleanup(t){f.value.classList.remove("non-selectable"),null!==g&&(clearTimeout(g),g=null),!0===e.value&&void 0!==t&&S()}}),h=function(e=m.contextMenu){if(!0===m.noParentEvent||null===f.value)return;let t;t=!0===e?!0===p.$q.platform.is.mobile?[[f.value,"touchstart","mobileTouch","passive"]]:[[f.value,"mousedown","hide","passive"],[f.value,"contextmenu","contextClick","notPassive"]]:[[f.value,"click","toggle","passive"],[f.value,"keyup","toggleKey","passive"]],i(x,"anchor",t)}),a((()=>m.contextMenu),(e=>{null!==f.value&&(y(),h(e))})),a((()=>m.target),(()=>{null!==f.value&&y(),w()})),a((()=>m.noParentEvent),(e=>{null!==f.value&&(!0===e?y():h())})),s((()=>{w(),!0!==d&&!0===m.modelValue&&null===f.value&&v("update:modelValue",!1)})),r((()=>{null!==g&&clearTimeout(g),y()})),{anchorEl:f,canShow:b,anchorEvents:x}}function _(e,o){const l=t(null);let n;function i(e,t){const o=(void 0!==t?"add":"remove")+"EventListener",l=void 0!==t?t:n;e!==window&&e[o]("scroll",l,d.passive),window[o]("scroll",l,d.passive),n=t}function s(){null!==l.value&&(i(l.value),l.value=null)}const c=a((()=>e.noParentEvent),(()=>{null!==l.value&&(s(),o())}));return r(c),{localScrollTarget:l,unconfigureScrollTarget:s,changeScrollEvent:i}}const{notPassiveCapture:B}=d,T=[];function z(e){const t=e.target;if(void 0===t||8===t.nodeType||!0===t.classList.contains("no-pointer-events"))return;let o=h.length-1;for(;o>=0;){const e=h[o].$;if("QTooltip"!==e.type.name){if("QDialog"!==e.type.name)break;if(!0!==e.props.seamless)return;o--}else o--}for(let l=T.length-1;l>=0;l--){const o=T[l];if(null!==o.anchorEl.value&&!1!==o.anchorEl.value.contains(t)||t!==document.body&&(null===o.innerRef.value||!1!==o.innerRef.value.contains(t)))return;e.qClickOutside=!0,o.onClickOutside(e)}}function R(e){T.push(e),1===T.length&&(document.addEventListener("mousedown",z,B),document.addEventListener("touchstart",z,B))}function $(e){const t=T.findIndex((t=>t===e));-1!==t&&(T.splice(t,1),0===T.length&&(document.removeEventListener("mousedown",z,B),document.removeEventListener("touchstart",z,B)))}let O,P;function V(e){const t=e.split(" ");return 2===t.length&&(!0===["top","center","bottom"].includes(t[0])&&!0===["left","middle","right","start","end"].includes(t[1]))}function A(e){return!e||2===e.length&&("number"==typeof e[0]&&"number"==typeof e[1])}const j={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function N(e,t){const o=e.split(" ");return{vertical:o[0],horizontal:j[`${o[1]}#${!0===t?"rtl":"ltr"}`]}}function Q(e,t,o,l){return{top:e[o.vertical]-t[l.vertical],left:e[o.horizontal]-t[l.horizontal]}}function K(e,t=0){if(null===e.targetEl||null===e.anchorEl||t>5)return;if(0===e.targetEl.offsetHeight||0===e.targetEl.offsetWidth)return void setTimeout((()=>{K(e,t+1)}),10);const{targetEl:o,offset:l,anchorEl:n,anchorOrigin:i,selfOrigin:a,absoluteOffset:s,fit:r,cover:c,maxHeight:u,maxWidth:d}=e;if(!0===m.is.ios&&void 0!==window.visualViewport){const e=document.body.style,{offsetLeft:t,offsetTop:o}=window.visualViewport;t!==O&&(e.setProperty("--q-pe-left",t+"px"),O=t),o!==P&&(e.setProperty("--q-pe-top",o+"px"),P=o)}const{scrollLeft:h,scrollTop:p}=o,v=void 0===s?function(e,t){let{top:o,left:l,right:n,bottom:i,width:a,height:s}=e.getBoundingClientRect();return void 0!==t&&(o-=t[1],l-=t[0],i+=t[1],n+=t[0],a+=t[0],s+=t[1]),{top:o,bottom:i,height:s,left:l,right:n,width:a,middle:l+(n-l)/2,center:o+(i-o)/2}}(n,!0===c?[0,0]:l):function(e,t,o){let{top:l,left:n}=e.getBoundingClientRect();return l+=t.top,n+=t.left,void 0!==o&&(l+=o[1],n+=o[0]),{top:l,bottom:l+1,height:1,left:n,right:n+1,width:1,middle:n,center:l}}(n,s,l);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:d,maxHeight:u,visibility:"visible"});const{offsetWidth:f,offsetHeight:g}=o,{elWidth:b,elHeight:x}=!0===r||!0===c?{elWidth:Math.max(v.width,f),elHeight:!0===c?Math.max(v.height,g):g}:{elWidth:f,elHeight:g};let y={maxWidth:d,maxHeight:u};!0!==r&&!0!==c||(y.minWidth=v.width+"px",!0===c&&(y.minHeight=v.height+"px")),Object.assign(o.style,y);const w={top:0,center:(E=x)/2,bottom:E,left:0,middle:(q=b)/2,right:q};var q,E;let H=Q(v,w,i,a);if(void 0===s||void 0===l)D(H,v,w,i,a);else{const{top:e,left:t}=H;D(H,v,w,i,a);let o=!1;if(H.top!==e){o=!0;const e=2*l[1];v.center=v.top-=e,v.bottom-=e+2}if(H.left!==t){o=!0;const e=2*l[0];v.middle=v.left-=e,v.right-=e+2}!0===o&&(H=Q(v,w,i,a),D(H,v,w,i,a))}y={top:H.top+"px",left:H.left+"px"},void 0!==H.maxHeight&&(y.maxHeight=H.maxHeight+"px",v.height>H.maxHeight&&(y.minHeight=y.maxHeight)),void 0!==H.maxWidth&&(y.maxWidth=H.maxWidth+"px",v.width>H.maxWidth&&(y.minWidth=y.maxWidth)),Object.assign(o.style,y),o.scrollTop!==p&&(o.scrollTop=p),o.scrollLeft!==h&&(o.scrollLeft=h)}function D(e,t,o,l,n){const i=o.bottom,a=o.right,s=p(),r=window.innerHeight-s,c=document.body.clientWidth;if(e.top<0||e.top+i>r)if("center"===n.vertical)e.top=t[l.vertical]>r/2?Math.max(0,r-i):0,e.maxHeight=Math.min(i,r);else if(t[l.vertical]>r/2){const o=Math.min(r,"center"===l.vertical?t.center:l.vertical===n.vertical?t.bottom:t.top);e.maxHeight=Math.min(i,o),e.top=Math.max(0,o-i)}else e.top=Math.max(0,"center"===l.vertical?t.center:l.vertical===n.vertical?t.top:t.bottom),e.maxHeight=Math.min(i,r-e.top);if(e.left<0||e.left+a>c)if(e.maxWidth=Math.min(a,c),"middle"===n.horizontal)e.left=t[l.horizontal]>c/2?Math.max(0,c-a):0;else if(t[l.horizontal]>c/2){const o=Math.min(c,"middle"===l.horizontal?t.middle:l.horizontal===n.horizontal?t.right:t.left);e.maxWidth=Math.min(a,o),e.left=Math.max(0,o-e.maxWidth)}else e.left=Math.max(0,"middle"===l.horizontal?t.middle:l.horizontal===n.horizontal?t.left:t.right),e.maxWidth=Math.min(a,c-e.left)}["left","middle","right"].forEach((e=>{j[`${e}#ltr`]=e,j[`${e}#rtl`]=e}));const I={xs:8,sm:10,md:14,lg:20,xl:24};var X=v({name:"QChip",props:{...f,...g,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:o}){const{proxy:{$q:l}}=c(),n=b(e,l),i=x(e,I),a=y((()=>!0===e.selected||void 0!==e.icon)),s=y((()=>!0===e.selected?e.iconSelected||l.iconSet.chip.selected:e.icon)),r=y((()=>e.iconRemove||l.iconSet.chip.remove)),u=y((()=>!1===e.disable&&(!0===e.clickable||null!==e.selected))),d=y((()=>{const t=!0===e.outline&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(!1===e.outline&&void 0!==e.color?` bg-${e.color}`:"")+(t?` text-${t} q-chip--colored`:"")+(!0===e.disable?" disabled":"")+(!0===e.dense?" q-chip--dense":"")+(!0===e.outline?" q-chip--outline":"")+(!0===e.selected?" q-chip--selected":"")+(!0===u.value?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(!0===e.square?" q-chip--square":"")+(!0===n.value?" q-chip--dark q-dark":"")})),h=y((()=>{const t=!0===e.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0};return{chip:t,remove:{...t,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||l.lang.label.remove}}}));function m(e){13===e.keyCode&&p(e)}function p(t){e.disable||(o("update:selected",!e.selected),o("click",t))}function v(t){void 0!==t.keyCode&&13!==t.keyCode||(k(t),!1===e.disable&&(o("update:modelValue",!1),o("remove")))}return()=>{if(!1===e.modelValue)return;const o={class:d.value,style:i.value};return!0===u.value&&Object.assign(o,h.value.chip,{onClick:p,onKeyup:m}),w("div",o,function(){const o=[];!0===u.value&&o.push(q("div",{class:"q-focus-helper"})),!0===a.value&&o.push(q(E,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const l=void 0!==e.label?[q("div",{class:"ellipsis"},[e.label])]:void 0;return o.push(q("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},H(t.default,l))),e.iconRight&&o.push(q(E,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),!0===e.removable&&o.push(q(E,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:r.value,...h.value.remove,onClick:v,onKeyup:v})),o}(),"ripple",!1!==e.ripple&&!0!==e.disable,(()=>[[W,e.ripple]]))}}});export{X as Q,A as a,_ as b,L as c,S as d,R as e,M as f,N as p,$ as r,K as s,C as u,V as v};

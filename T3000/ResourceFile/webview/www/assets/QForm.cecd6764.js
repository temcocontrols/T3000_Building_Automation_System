import{ab as e,a as o,Q as a,ai as t,aY as n,a_ as l,ad as r,g as s,h as i,J as u,I as c,o as d,c0 as f,aX as b,n as p,bh as v,p as m,c1 as g}from"./index.1af70167.js";const q=["top","middle","bottom"];var y=e({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>q.includes(e)}},setup(e,{slots:n}){const l=o((()=>void 0!==e.align?{verticalAlign:e.align}:null)),r=o((()=>{const o=!0===e.outline&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${!0===e.multiLine?"multi":"single"}-line`+(!0===e.outline?" q-badge--outline":void 0!==e.color?` bg-${e.color}`:"")+(void 0!==o?` text-${o}`:"")+(!0===e.floating?" q-badge--floating":"")+(!0===e.rounded?" q-badge--rounded":"")+(!0===e.transparent?" q-badge--transparent":"")}));return()=>a("div",{class:r.value,style:l.value,role:"status","aria-label":e.label},t(n.default,void 0!==e.label?[e.label]:[]))}});const h=["horizontal","vertical","cell","none"];var x=e({name:"QMarkupTable",props:{...n,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>h.includes(e)}},setup(e,{slots:t}){const n=s(),i=l(e,n.proxy.$q),u=o((()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(!0===i.value?" q-table--dark q-table__card--dark q-dark":"")+(!0===e.dense?" q-table--dense":"")+(!0===e.flat?" q-table--flat":"")+(!0===e.bordered?" q-table--bordered":"")+(!0===e.square?" q-table--square":"")+(!1===e.wrapCells?" q-table--no-wrap":"")));return()=>a("div",{class:u.value},[a("table",{class:"q-table"},r(t.default))])}}),B=e({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:o,emit:t}){const n=s(),l=i(null);let q=0;const y=[];function h(o){const a="boolean"==typeof o?o:!0!==e.noErrorFocus,n=++q,l=(e,o)=>{t("validation"+(!0===e?"Success":"Error"),o)},r=e=>{const o=e.validate();return"function"==typeof o.then?o.then((o=>({valid:o,comp:e})),(o=>({valid:!1,comp:e,err:o}))):Promise.resolve({valid:o,comp:e})};return(!0===e.greedy?Promise.all(y.map(r)).then((e=>e.filter((e=>!0!==e.valid)))):y.reduce(((e,o)=>e.then((()=>r(o).then((e=>{if(!1===e.valid)return Promise.reject(e)}))))),Promise.resolve()).catch((e=>[e]))).then((e=>{if(void 0===e||0===e.length)return n===q&&l(!0),!0;if(n===q){const{comp:o,err:t}=e[0];if(l(!1,o),!0===a){const o=e.find((({comp:e})=>"function"==typeof e.focus&&!1===f(e.$)));void 0!==o&&o.comp.focus()}}return!1}))}function x(){q++,y.forEach((e=>{"function"==typeof e.resetValidation&&e.resetValidation()}))}function B(o){void 0!==o&&b(o);const a=q+1;h().then((n=>{a===q&&!0===n&&(void 0!==e.onSubmit?t("submit",o):void 0!==(null==o?void 0:o.target)&&"function"==typeof o.target.submit&&o.target.submit())}))}function S(o){void 0!==o&&b(o),t("reset"),p((()=>{x(),!0===e.autofocus&&!0!==e.noResetFocus&&C()}))}function C(){v((()=>{if(null===l.value)return;const e=l.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||l.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||l.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(l.value.querySelectorAll("[tabindex]"),(e=>-1!==e.tabIndex));null==e||e.focus({preventScroll:!0})}))}m(g,{bindComponent(e){y.push(e)},unbindComponent(e){const o=y.indexOf(e);-1!==o&&y.splice(o,1)}});let _=!1;return u((()=>{_=!0})),c((()=>{!0===_&&!0===e.autofocus&&C()})),d((()=>{!0===e.autofocus&&C()})),Object.assign(n.proxy,{validate:h,resetValidation:x,submit:B,reset:S,focus:C,getValidationComponents:()=>y}),()=>a("form",{class:"q-form",ref:l,onSubmit:B,onReset:S},r(o.default))}});export{x as Q,B as a,y as b};

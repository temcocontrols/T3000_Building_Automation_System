import{a7 as e,a8 as t,a as o,Q as a,a9 as i,i as n,aa as l,p as s,g as r,ab as c,h as d,ac as u,ad as f,r as v,w as p,e as h,ae as g}from"./index.3bd6c859.js";import{Q as m}from"./QScrollObserver.a80e8fd4.js";import{Q as y}from"./QResizeObserver.c4dc0ff0.js";var b=e({name:"QPageContainer",setup(e,{slots:d}){const{proxy:{$q:u}}=r(),f=n(l,t);if(f===t)return console.error("QPageContainer needs to be child of QLayout"),t;s(c,!0);const v=o((()=>{const e={};return!0===f.header.space&&(e.paddingTop=`${f.header.size}px`),!0===f.right.space&&(e["padding"+(!0===u.lang.rtl?"Left":"Right")]=`${f.right.size}px`),!0===f.footer.space&&(e.paddingBottom=`${f.footer.size}px`),!0===f.left.space&&(e["padding"+(!0===u.lang.rtl?"Right":"Left")]=`${f.left.size}px`),e}));return()=>a("div",{class:"q-page-container",style:v.value},i(d.default))}}),z=e({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:i}){const{proxy:{$q:n}}=r(),c=d(null),b=d(n.screen.height),z=d(!0===e.container?0:n.screen.width),w=d({position:0,direction:"down",inflectionPoint:0}),x=d(0),L=d(!0===u.value?0:f()),$=o((()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard"))),Q=o((()=>!1===e.container?{minHeight:n.screen.height+"px"}:null)),q=o((()=>0!==L.value?{[!0===n.lang.rtl?"left":"right"]:`${L.value}px`}:null)),R=o((()=>0!==L.value?{[!0===n.lang.rtl?"right":"left"]:0,[!0===n.lang.rtl?"left":"right"]:`-${L.value}px`,width:`calc(100% + ${L.value}px)`}:null));function S(t){if(!0===e.container||!0!==document.qScrollPrevented){const o={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};w.value=o,void 0!==e.onScroll&&i("scroll",o)}}function C(t){const{height:o,width:a}=t;let n=!1;b.value!==o&&(n=!0,b.value=o,void 0!==e.onScrollHeight&&i("scrollHeight",o),P()),z.value!==a&&(n=!0,z.value=a),!0===n&&void 0!==e.onResize&&i("resize",t)}function H({height:e}){x.value!==e&&(x.value=e,P())}function P(){if(!0===e.container){const e=b.value>x.value?f():0;L.value!==e&&(L.value=e)}}let T=null;const j={instances:{},view:o((()=>e.view)),isContainer:o((()=>e.container)),rootRef:c,height:b,containerHeight:x,scrollbarWidth:L,totalWidth:o((()=>z.value+L.value)),rows:o((()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}})),header:v({size:0,offset:0,space:!1}),right:v({size:300,offset:0,space:!1}),footer:v({size:0,offset:0,space:!1}),left:v({size:300,offset:0,space:!1}),scroll:w,animate(){null!==T?clearTimeout(T):document.body.classList.add("q-body--layout-animate"),T=setTimeout((()=>{T=null,document.body.classList.remove("q-body--layout-animate")}),155)},update(e,t,o){j[e][t]=o}};if(s(l,j),f()>0){let t=function(){i=null,l.classList.remove("hide-scrollbar")},o=function(){if(null===i){if(l.scrollHeight>n.screen.height)return;l.classList.add("hide-scrollbar")}else clearTimeout(i);i=setTimeout(t,300)},a=function(e){null!==i&&"remove"===e&&(clearTimeout(i),t()),window[`${e}EventListener`]("resize",o)},i=null;const l=document.body;p((()=>!0!==e.container?"add":"remove"),a),!0!==e.container&&a("add"),h((()=>{a("remove")}))}return()=>{const o=g(t.default,[a(m,{onScroll:S}),a(y,{onResize:C})]),i=a("div",{class:$.value,style:Q.value,ref:!0===e.container?void 0:c,tabindex:-1},o);return!0===e.container?a("div",{class:"q-layout-container overflow-hidden",ref:c},[a(y,{onResize:H}),a("div",{class:"absolute-full",style:q.value},[a("div",{class:"scroll",style:R.value},[i])])]):i}}});export{b as Q,z as a};

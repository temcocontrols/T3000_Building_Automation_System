import{ab as e,ac as t,a as o,Q as i,ad as a,i as n,ae as l,p as s,g as r,af as c,h as d,ag as u,ah as f,r as v,w as p,e as h,ai as g}from"./index.8dd48b07.js";import{Q as m}from"./QScrollObserver.92fad117.js";import{Q as y}from"./QResizeObserver.ed9300eb.js";var b=e({name:"QPageContainer",setup(e,{slots:d}){const{proxy:{$q:u}}=r(),f=n(l,t);if(f===t)return t;s(c,!0);const v=o((()=>{const e={};return!0===f.header.space&&(e.paddingTop=`${f.header.size}px`),!0===f.right.space&&(e["padding"+(!0===u.lang.rtl?"Left":"Right")]=`${f.right.size}px`),!0===f.footer.space&&(e.paddingBottom=`${f.footer.size}px`),!0===f.left.space&&(e["padding"+(!0===u.lang.rtl?"Right":"Left")]=`${f.left.size}px`),e}));return()=>i("div",{class:"q-page-container",style:v.value},a(d.default))}}),z=e({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:a}){const{proxy:{$q:n}}=r(),c=d(null),b=d(n.screen.height),z=d(!0===e.container?0:n.screen.width),w=d({position:0,direction:"down",inflectionPoint:0}),x=d(0),$=d(!0===u.value?0:f()),L=o((()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard"))),q=o((()=>!1===e.container?{minHeight:n.screen.height+"px"}:null)),Q=o((()=>0!==$.value?{[!0===n.lang.rtl?"left":"right"]:`${$.value}px`}:null)),R=o((()=>0!==$.value?{[!0===n.lang.rtl?"right":"left"]:0,[!0===n.lang.rtl?"left":"right"]:`-${$.value}px`,width:`calc(100% + ${$.value}px)`}:null));function S(t){if(!0===e.container||!0!==document.qScrollPrevented){const o={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};w.value=o,void 0!==e.onScroll&&a("scroll",o)}}function C(t){const{height:o,width:i}=t;let n=!1;b.value!==o&&(n=!0,b.value=o,void 0!==e.onScrollHeight&&a("scrollHeight",o),T()),z.value!==i&&(n=!0,z.value=i),!0===n&&void 0!==e.onResize&&a("resize",t)}function H({height:e}){x.value!==e&&(x.value=e,T())}function T(){if(!0===e.container){const e=b.value>x.value?f():0;$.value!==e&&($.value=e)}}let P=null;const j={instances:{},view:o((()=>e.view)),isContainer:o((()=>e.container)),rootRef:c,height:b,containerHeight:x,scrollbarWidth:$,totalWidth:o((()=>z.value+$.value)),rows:o((()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}})),header:v({size:0,offset:0,space:!1}),right:v({size:300,offset:0,space:!1}),footer:v({size:0,offset:0,space:!1}),left:v({size:300,offset:0,space:!1}),scroll:w,animate(){null!==P?clearTimeout(P):document.body.classList.add("q-body--layout-animate"),P=setTimeout((()=>{P=null,document.body.classList.remove("q-body--layout-animate")}),155)},update(e,t,o){j[e][t]=o}};if(s(l,j),f()>0){let t=function(){a=null,l.classList.remove("hide-scrollbar")},o=function(){if(null===a){if(l.scrollHeight>n.screen.height)return;l.classList.add("hide-scrollbar")}else clearTimeout(a);a=setTimeout(t,300)},i=function(e){null!==a&&"remove"===e&&(clearTimeout(a),t()),window[`${e}EventListener`]("resize",o)},a=null;const l=document.body;p((()=>!0!==e.container?"add":"remove"),i),!0!==e.container&&i("add"),h((()=>{i("remove")}))}return()=>{const o=g(t.default,[i(m,{onScroll:S}),i(y,{onResize:C})]),a=i("div",{class:L.value,style:q.value,ref:!0===e.container?void 0:c,tabindex:-1},o);return!0===e.container?i("div",{class:"q-layout-container overflow-hidden",ref:c},[i(y,{onResize:H}),i("div",{class:"absolute-full",style:Q.value},[i("div",{class:"scroll",style:R.value},[a])])]):a}}});export{b as Q,z as a};

import{a7 as e,a as l,Q as t,a9 as a,g as o,a_ as n,ax as r,ah as s,h as i,w as u,H as c,o as d,I as v,J as p,f as g,aj as f,ak as b,ae as m,aV as y,a$ as w,aX as S,b0 as _,b$ as h,c0 as P,c1 as q,c2 as C,c3 as x,n as k,c4 as R,aD as F,bx as $,ap as O,aq as B}from"./index.3bd6c859.js";import{Q as L}from"./QMenu.e18b116c.js";import{Q as j}from"./QMarkupTable.295fb157.js";import{u as M,a as I,c as V,Q as A}from"./QSelect.6850d5f4.js";var T=e({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:n}){const r=o(),s=l((()=>"q-td"+(!0===e.autoWidth?" q-table--col-auto-width":"")+(!0===e.noHover?" q-td--no-hover":"")+" "));return()=>{if(void 0===e.props)return t("td",{class:s.value},a(n.default));const l=r.vnode.key,o=(void 0!==e.props.colsMap?e.props.colsMap[l]:null)||e.props.col;if(void 0===o)return;const{row:i}=e.props;return t("td",{class:s.value+o.__tdClass(i),style:o.__tdStyle(i)},a(n.default))}}}),N=e({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:s}){const i=o(),{proxy:{$q:u}}=i,c=e=>{s("click",e)};return()=>{if(void 0===e.props)return t("th",{class:!0===e.autoWidth?"q-table--col-auto-width":"",onClick:c},a(l.default));let o,s;const d=i.vnode.key;if(d){if(o=e.props.colsMap[d],void 0===o)return}else o=e.props.col;if(!0===o.sortable){const e="right"===o.align?"unshift":"push";s=n(l.default,[]),s[e](t(r,{class:o.__iconClass,name:u.iconSet.table.arrowUp}))}else s=a(l.default);const v={class:o.__thClass+(!0===e.autoWidth?" q-table--col-auto-width":""),style:o.headerStyle,onClick:l=>{!0===o.sortable&&e.props.sort(o),c(l)}};return t("th",v,s)}}});function E(e,l){return t("div",e,[t("table",{class:"q-table"},l)])}const D={list:L,table:j},H=["list","table","__qtable"];var Q=e({name:"QVirtualScroll",props:{...M,type:{type:String,default:"list",validator:e=>H.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:s},setup(e,{slots:a,attrs:o}){let n;const r=i(null),s=l((()=>e.itemsSize>=0&&void 0!==e.itemsFn?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0)),{virtualScrollSliceRange:y,localResetVirtualScroll:w,padVirtualScroll:S,onVirtualScrollEvt:_}=I({virtualScrollLength:s,getVirtualScrollTarget:function(){return n},getVirtualScrollEl:C}),h=l((()=>{if(0===s.value)return[];const l=(e,l)=>({index:y.value.from+l,item:e});return void 0===e.itemsFn?e.items.slice(y.value.from,y.value.to).map(l):e.itemsFn(y.value.from,y.value.to-y.value.from).map(l)})),P=l((()=>"q-virtual-scroll q-virtual-scroll"+(!0===e.virtualScrollHorizontal?"--horizontal":"--vertical")+(void 0!==e.scrollTarget?"":" scroll"))),q=l((()=>void 0!==e.scrollTarget?{}:{tabindex:0}));function C(){return r.value.$el||r.value}function x(){n=f(C(),e.scrollTarget),n.addEventListener("scroll",_,b.passive)}function k(){void 0!==n&&(n.removeEventListener("scroll",_,b.passive),n=void 0)}function R(){let l=S("list"===e.type?"div":"tbody",h.value.map(a.default));return void 0!==a.before&&(l=a.before().concat(l)),m(a.after,l)}return u(s,(()=>{w()})),u((()=>e.scrollTarget),(()=>{k(),x()})),c((()=>{w()})),d((()=>{x()})),v((()=>{x()})),p((()=>{k()})),g((()=>{k()})),()=>{if(void 0!==a.default)return"__qtable"===e.type?E({ref:r,class:"q-table__middle "+P.value},R()):t(D[e.type],{...o,ref:r,class:[o.class,P.value],...q.value},R);console.error("QVirtualScroll: default scoped slot is required for rendering")}}});const z={xs:2,sm:4,md:6,lg:10,xl:14};function U(e,l,t){return{transform:!0===l?`translateX(${!0===t.lang.rtl?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var W=e({name:"QLinearProgress",props:{...y,...w,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:a}){const{proxy:n}=o(),r=S(e,n.$q),s=_(e,z),i=l((()=>!0===e.indeterminate||!0===e.query)),u=l((()=>e.reverse!==e.query)),c=l((()=>({...null!==s.value?s.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`}))),d=l((()=>"q-linear-progress"+(void 0!==e.color?` text-${e.color}`:"")+(!0===e.reverse||!0===e.query?" q-linear-progress--reverse":"")+(!0===e.rounded?" rounded-borders":""))),v=l((()=>U(void 0!==e.buffer?e.buffer:1,u.value,n.$q))),p=l((()=>`with${!0===e.instantFeedback?"out":""}-transition`)),g=l((()=>`q-linear-progress__track absolute-full q-linear-progress__track--${p.value} q-linear-progress__track--${!0===r.value?"dark":"light"}`+(void 0!==e.trackColor?` bg-${e.trackColor}`:""))),f=l((()=>U(!0===i.value?1:e.value,u.value,n.$q))),b=l((()=>`q-linear-progress__model absolute-full q-linear-progress__model--${p.value} q-linear-progress__model--${!0===i.value?"in":""}determinate`)),y=l((()=>({width:100*e.value+"%"}))),w=l((()=>`q-linear-progress__stripe absolute-${!0===e.reverse?"right":"left"} q-linear-progress__stripe--${p.value}`));return()=>{const l=[t("div",{class:g.value,style:v.value}),t("div",{class:b.value,style:f.value})];return!0===e.stripe&&!1===i.value&&l.push(t("div",{class:w.value,style:y.value})),t("div",{class:d.value,style:c.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":!0===e.indeterminate?void 0:e.value},m(a.default,l))}}});let K=0;const X={fullscreen:Boolean,noRouteFullscreenExit:Boolean};const J={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>"ad"===e||"da"===e,default:"ad"}};function G(e,t,a,o){return{columnToSort:l((()=>{const{sortBy:e}=t.value;return e&&a.value.find((l=>l.name===e))||null})),computedSortMethod:l((()=>void 0!==e.sortMethod?e.sortMethod:(e,l,t)=>{const o=a.value.find((e=>e.name===l));if(void 0===o||void 0===o.field)return e;const n=!0===t?-1:1,r="function"==typeof o.field?e=>o.field(e):e=>e[o.field];return e.sort(((e,l)=>{let t=r(e),a=r(l);return void 0!==o.rawSort?o.rawSort(t,a,e,l)*n:null==t?-1*n:null==a?1*n:void 0!==o.sort?o.sort(t,a,e,l)*n:!0===q(t)&&!0===q(a)?(t-a)*n:!0===C(t)&&!0===C(a)?function(e,l){return new Date(e)-new Date(l)}(t,a)*n:"boolean"==typeof t&&"boolean"==typeof a?(t-a)*n:([t,a]=[t,a].map((e=>(e+"").toLocaleString().toLowerCase())),t<a?-1*n:t===a?0:n)}))})),sort:function(l){let n=e.columnSortOrder;if(!0===x(l))l.sortOrder&&(n=l.sortOrder),l=l.name;else{const e=a.value.find((e=>e.name===l));(null==e?void 0:e.sortOrder)&&(n=e.sortOrder)}let{sortBy:r,descending:s}=t.value;r!==l?(r=l,s="da"===n):!0===e.binaryStateSort?s=!s:!0===s?"ad"===n?r=null:s=!1:"ad"===n?s=!0:r=null,o({sortBy:r,descending:s,page:1})}}}const Y={filter:[String,Object],filterMethod:Function};function Z(e){return e.page<1&&(e.page=1),void 0!==e.rowsPerPage&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const ee={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};const le={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}};function te(e){return Array.isArray(e)?e.slice():[]}const ae={expanded:Array};const oe={visibleColumns:Array};const ne="q-table__bottom row items-center",re={};V.forEach((e=>{re[e]={}}));var se=e({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...re,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...y,...X,...oe,...Y,...ee,...ae,...le,...J},emits:["request","virtualScroll","update:fullscreen","fullscreen","update:expanded","update:selected","selection"],setup(e,{slots:a,emit:n}){const s=o(),{proxy:{$q:v}}=s,p=S(e,v),{inFullscreen:f,toggleFullscreen:b}=function(){const e=o(),{props:l,emit:t,proxy:a}=e;let n,r,s;const v=i(!1);function p(){!0===v.value?b():f()}function f(){!0!==v.value&&(v.value=!0,s=a.$el.parentNode,s.replaceChild(r,a.$el),document.body.appendChild(a.$el),K++,1===K&&document.body.classList.add("q-body--fullscreen-mixin"),n={handler:b},P.add(n))}function b(){!0===v.value&&(void 0!==n&&(P.remove(n),n=void 0),s.replaceChild(a.$el,r),v.value=!1,K=Math.max(0,K-1),0===K&&(document.body.classList.remove("q-body--fullscreen-mixin"),void 0!==a.$el.scrollIntoView&&setTimeout((()=>{a.$el.scrollIntoView()}))))}return!0===h(e)&&u((()=>a.$route.fullPath),(()=>{!0!==l.noRouteFullscreenExit&&b()})),u((()=>l.fullscreen),(e=>{v.value!==e&&p()})),u(v,(e=>{t("update:fullscreen",e),t("fullscreen",e)})),c((()=>{r=document.createElement("span")})),d((()=>{!0===l.fullscreen&&f()})),g(b),Object.assign(a,{toggleFullscreen:p,setFullscreen:f,exitFullscreen:b}),{inFullscreen:v,toggleFullscreen:p}}(),m=l((()=>"function"==typeof e.rowKey?e.rowKey:l=>l[e.rowKey])),y=i(null),w=i(null),_=l((()=>!0!==e.grid&&!0===e.virtualScroll)),C=l((()=>" q-table__card"+(!0===p.value?" q-table__card--dark q-dark":"")+(!0===e.square?" q-table--square":"")+(!0===e.flat?" q-table--flat":"")+(!0===e.bordered?" q-table--bordered":""))),x=l((()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(!0===e.grid?" q-table--grid":C.value)+(!0===p.value?" q-table--dark":"")+(!0===e.dense?" q-table--dense":"")+(!1===e.wrapCells?" q-table--no-wrap":"")+(!0===f.value?" fullscreen scroll":""))),L=l((()=>x.value+(!0===e.loading?" q-table--loading":"")));u((()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+x.value),(()=>{var e;!0===_.value&&(null==(e=w.value)||e.reset())}));const{innerPagination:j,computedPagination:M,isServerSide:I,requestServerInteraction:T,setPagination:D}=function(e,t){const{props:a,emit:o}=e,n=i(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:0!==a.rowsPerPageOptions.length?a.rowsPerPageOptions[0]:5},a.pagination)),r=l((()=>Z(void 0!==a["onUpdate:pagination"]?{...n.value,...a.pagination}:n.value))),s=l((()=>void 0!==r.value.rowsNumber));function u(e){c({pagination:e,filter:a.filter})}function c(e={}){k((()=>{o("request",{pagination:e.pagination||r.value,filter:e.filter||a.filter,getCellValue:t})}))}return{innerPagination:n,computedPagination:r,isServerSide:s,requestServerInteraction:c,setPagination:function(e,l){const t=Z({...r.value,...e});!0!==function(e,l){for(const t in l)if(l[t]!==e[t])return!1;return!0}(r.value,t)?!0!==s.value?void 0!==a.pagination&&void 0!==a["onUpdate:pagination"]?o("update:pagination",t):n.value=t:u(t):!0===s.value&&!0===l&&u(t)}}}(s,Te),{computedFilterMethod:H}=function(e,t){const a=l((()=>void 0!==e.filterMethod?e.filterMethod:(e,l,t,a)=>{const o=l?l.toLowerCase():"";return e.filter((e=>t.some((l=>{const t=a(l,e)+"";return-1!==("undefined"===t||"null"===t?"":t.toLowerCase()).indexOf(o)}))))}));return u((()=>e.filter),(()=>{k((()=>{t({page:1},!0)}))}),{deep:!0}),{computedFilterMethod:a}}(e,D),{isRowExpanded:z,setExpanded:U,updateExpanded:X}=function(e,l){const t=i(te(e.expanded));function a(a){void 0!==e.expanded?l("update:expanded",a):t.value=a}return u((()=>e.expanded),(e=>{t.value=te(e)})),{isRowExpanded:function(e){return t.value.includes(e)},setExpanded:a,updateExpanded:function(e,l){const o=t.value.slice(),n=o.indexOf(e);!0===l?-1===n&&(o.push(e),a(o)):-1!==n&&(o.splice(n,1),a(o))}}}(e,n),J=l((()=>{let l=e.rows;if(!0===I.value||0===l.length)return l;const{sortBy:t,descending:a}=M.value;return e.filter&&(l=H.value(l,e.filter,pe.value,Te)),null!==be.value&&(l=me.value(e.rows===l?l.slice():l,t,a)),l})),Y=l((()=>J.value.length)),ee=l((()=>{let l=J.value;if(!0===I.value)return l;const{rowsPerPage:t}=M.value;return 0!==t&&(0===we.value&&e.rows!==l?l.length>Se.value&&(l=l.slice(0,Se.value)):l=l.slice(we.value,Se.value)),l})),{hasSelectionMode:le,singleSelection:ae,multipleSelection:oe,allRowsSelected:re,someRowsSelected:se,rowsSelectedNumber:ie,isRowSelected:ue,clearSelection:ce,updateSelection:de}=function(e,t,a,o){const n=l((()=>{const l={};return e.selected.map(o.value).forEach((e=>{l[e]=!0})),l})),r=l((()=>"none"!==e.selection)),s=l((()=>"single"===e.selection)),i=l((()=>"multiple"===e.selection)),u=l((()=>0!==a.value.length&&a.value.every((e=>!0===n.value[o.value(e)])))),c=l((()=>!0!==u.value&&a.value.some((e=>!0===n.value[o.value(e)])))),d=l((()=>e.selected.length));return{hasSelectionMode:r,singleSelection:s,multipleSelection:i,allRowsSelected:u,someRowsSelected:c,rowsSelectedNumber:d,isRowSelected:function(e){return!0===n.value[e]},clearSelection:function(){t("update:selected",[])},updateSelection:function(l,a,n,r){t("selection",{rows:a,added:n,keys:l,evt:r});const i=!0===s.value?!0===n?a:[]:!0===n?e.selected.concat(a):e.selected.filter((e=>!1===l.includes(o.value(e))));t("update:selected",i)}}}(e,n,ee,m),{colList:ve,computedCols:pe,computedColsMap:ge,computedColspan:fe}=function(e,t,a){const o=l((()=>{if(void 0!==e.columns)return e.columns;const l=e.rows[0];return void 0!==l?Object.keys(l).map((e=>({name:e,label:e.toUpperCase(),field:e,align:q(l[e])?"right":"left",sortable:!0}))):[]})),n=l((()=>{const{sortBy:l,descending:a}=t.value;return(void 0!==e.visibleColumns?o.value.filter((l=>!0===l.required||!0===e.visibleColumns.includes(l.name))):o.value).map((e=>{const t=e.align||"right",o=`text-${t}`;return{...e,align:t,__iconClass:`q-table__sort-icon q-table__sort-icon--${t}`,__thClass:o+(void 0!==e.headerClasses?" "+e.headerClasses:"")+(!0===e.sortable?" sortable":"")+(e.name===l?" sorted "+(!0===a?"sort-desc":""):""),__tdStyle:void 0!==e.style?"function"!=typeof e.style?()=>e.style:e.style:()=>null,__tdClass:void 0!==e.classes?"function"!=typeof e.classes?()=>o+" "+e.classes:l=>o+" "+e.classes(l):()=>o}}))})),r=l((()=>{const e={};return n.value.forEach((l=>{e[l.name]=l})),e})),s=l((()=>void 0!==e.tableColspan?e.tableColspan:n.value.length+(!0===a.value?1:0)));return{colList:o,computedCols:n,computedColsMap:r,computedColspan:s}}(e,M,le),{columnToSort:be,computedSortMethod:me,sort:ye}=G(e,M,ve,D),{firstRowIndex:we,lastRowIndex:Se,isFirstPage:_e,isLastPage:he,pagesNumber:Pe,computedRowsPerPageOptions:qe,computedRowsNumber:Ce,firstPage:xe,prevPage:ke,nextPage:Re,lastPage:Fe}=function(e,t,a,o,n,r){const{props:s,emit:i,proxy:{$q:c}}=e,d=l((()=>!0===o.value?a.value.rowsNumber||0:r.value)),v=l((()=>{const{page:e,rowsPerPage:l}=a.value;return(e-1)*l})),p=l((()=>{const{page:e,rowsPerPage:l}=a.value;return e*l})),g=l((()=>1===a.value.page)),f=l((()=>0===a.value.rowsPerPage?1:Math.max(1,Math.ceil(d.value/a.value.rowsPerPage)))),b=l((()=>0===p.value||a.value.page>=f.value)),m=l((()=>(s.rowsPerPageOptions.includes(t.value.rowsPerPage)?s.rowsPerPageOptions:[t.value.rowsPerPage].concat(s.rowsPerPageOptions)).map((e=>({label:0===e?c.lang.table.allRows:""+e,value:e})))));return u(f,((e,l)=>{if(e===l)return;const t=a.value.page;e&&!t?n({page:1}):e<t&&n({page:e})})),void 0!==s["onUpdate:pagination"]&&i("update:pagination",{...a.value}),{firstRowIndex:v,lastRowIndex:p,isFirstPage:g,isLastPage:b,pagesNumber:f,computedRowsPerPageOptions:m,computedRowsNumber:d,firstPage:function(){n({page:1})},prevPage:function(){const{page:e}=a.value;e>1&&n({page:e-1})},nextPage:function(){const{page:e,rowsPerPage:l}=a.value;p.value>0&&e*l<d.value&&n({page:e+1})},lastPage:function(){n({page:f.value})}}}(s,j,M,I,D,Y),$e=l((()=>0===ee.value.length)),Oe=l((()=>{const l={};return V.forEach((t=>{l[t]=e[t]})),void 0===l.virtualScrollItemSize&&(l.virtualScrollItemSize=!0===e.dense?28:48),l}));function Be(){if(!0===e.grid)return function(){const l=void 0!==a.item?a.item:l=>{const o=l.cols.map((e=>t("div",{class:"q-table__grid-item-row"},[t("div",{class:"q-table__grid-item-title"},[e.label]),t("div",{class:"q-table__grid-item-value"},[e.value])])));if(!0===le.value){const n=a["body-selection"],r=void 0!==n?n(l):[t(F,{modelValue:l.selected,color:e.color,dark:p.value,dense:e.dense,"onUpdate:modelValue":(e,t)=>{de([l.key],[l.row],e,t)}})];o.unshift(t("div",{class:"q-table__grid-item-row"},r),t(B,{dark:p.value}))}const r={class:["q-table__grid-item-card"+C.value,e.cardClass],style:e.cardStyle};if(void 0!==e.cardStyleFn&&(r.style=[r.style,e.cardStyleFn(l.row)]),void 0!==e.cardClassFn){const t=e.cardClassFn(l.row);t&&(r.class[0]+=` ${t}`)}return void 0===e.onRowClick&&void 0===e.onRowDblclick&&void 0===e.onRowContextmenu||(r.class[0]+=" cursor-pointer",void 0!==e.onRowClick&&(r.onClick=e=>{n("RowClick",e,l.row,l.pageIndex)}),void 0!==e.onRowDblclick&&(r.onDblclick=e=>{n("RowDblclick",e,l.row,l.pageIndex)}),void 0!==e.onRowContextmenu&&(r.onContextmenu=e=>{n("rowContextmenu",e,l.row,l.pageIndex)})),t("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(!0===l.selected?" q-table__grid-item--selected":"")},[t("div",r,o)])};return t("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},ee.value.map(((e,t)=>l(Ve({key:m.value(e),row:e,pageIndex:t})))))}();const l=!0!==e.hideHeader?He:null;if(!0===_.value){const o=a["top-row"],n=a["bottom-row"],r={default:e=>Me(e.item,a.body,e.index)};if(void 0!==o){const e=t("tbody",o({cols:pe.value}));r.before=null===l?()=>e:()=>[l()].concat(e)}else null!==l&&(r.before=l);return void 0!==n&&(r.after=()=>t("tbody",n({cols:pe.value}))),t(Q,{ref:w,class:e.tableClass,style:e.tableStyle,...Oe.value,scrollTarget:e.virtualScrollTarget,items:ee.value,type:"__qtable",tableColspan:fe.value,onVirtualScroll:Le},r)}const o=[Ie()];return null!==l&&o.unshift(l()),E({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},o)}function Le(e){n("virtualScroll",e)}function je(){return[t(W,{class:"q-table__linear-progress",color:e.color,dark:p.value,indeterminate:!0,trackColor:"transparent"})]}function Me(l,o,r){const s=m.value(l),i=ue(s);if(void 0!==o){const t={key:s,row:l,pageIndex:r,__trClass:i?"selected":""};if(void 0!==e.tableRowStyleFn&&(t.__trStyle=e.tableRowStyleFn(l)),void 0!==e.tableRowClassFn){const a=e.tableRowClassFn(l);a&&(t.__trClass=`${a} ${t.__trClass}`)}return o(Ve(t))}const u=a["body-cell"],c=pe.value.map((e=>{const o=a[`body-cell-${e.name}`],n=void 0!==o?o:u;return void 0!==n?n(function(e){return Ae(e),$(e,"value",(()=>Te(e.col,e.row))),e}({key:s,row:l,pageIndex:r,col:e})):t("td",{class:e.__tdClass(l),style:e.__tdStyle(l)},Te(e,l))}));if(!0===le.value){const o=a["body-selection"],n=void 0!==o?o(function(e){return Ae(e),e}({key:s,row:l,pageIndex:r})):[t(F,{modelValue:i,color:e.color,dark:p.value,dense:e.dense,"onUpdate:modelValue":(e,t)=>{de([s],[l],e,t)}})];c.unshift(t("td",{class:"q-table--col-auto-width"},n))}const d={key:s,class:{selected:i}};if(void 0!==e.onRowClick&&(d.class["cursor-pointer"]=!0,d.onClick=e=>{n("rowClick",e,l,r)}),void 0!==e.onRowDblclick&&(d.class["cursor-pointer"]=!0,d.onDblclick=e=>{n("rowDblclick",e,l,r)}),void 0!==e.onRowContextmenu&&(d.class["cursor-pointer"]=!0,d.onContextmenu=e=>{n("rowContextmenu",e,l,r)}),void 0!==e.tableRowStyleFn&&(d.style=e.tableRowStyleFn(l)),void 0!==e.tableRowClassFn){const t=e.tableRowClassFn(l);t&&(d.class[t]=!0)}return t("tr",d,c)}function Ie(){const e=a.body,l=a["top-row"],o=a["bottom-row"];let n=ee.value.map(((l,t)=>Me(l,e,t)));return void 0!==l&&(n=l({cols:pe.value}).concat(n)),void 0!==o&&(n=n.concat(o({cols:pe.value}))),t("tbody",n)}function Ve(e){return Ae(e),e.cols=e.cols.map((l=>$({...l},"value",(()=>Te(l,e.row))))),e}function Ae(l){Object.assign(l,{cols:pe.value,colsMap:ge.value,sort:ye,rowIndex:we.value+l.pageIndex,color:e.color,dark:p.value,dense:e.dense}),!0===le.value&&$(l,"selected",(()=>ue(l.key)),((e,t)=>{de([l.key],[l.row],e,t)})),$(l,"expand",(()=>z(l.key)),(e=>{X(l.key,e)}))}function Te(e,l){const t="function"==typeof e.field?e.field(l):l[e.field];return void 0!==e.format?e.format(t,l):t}const Ne=l((()=>({pagination:M.value,pagesNumber:Pe.value,isFirstPage:_e.value,isLastPage:he.value,firstPage:xe,prevPage:ke,nextPage:Re,lastPage:Fe,inFullscreen:f.value,toggleFullscreen:b})));function Ee(){const l=a.top,o=a["top-left"],n=a["top-right"],r=a["top-selection"],s=!0===le.value&&void 0!==r&&ie.value>0,i="q-table__top relative-position row items-center";if(void 0!==l)return t("div",{class:i},[l(Ne.value)]);let u;return!0===s?u=r(Ne.value).slice():(u=[],void 0!==o?u.push(t("div",{class:"q-table__control"},[o(Ne.value)])):e.title&&u.push(t("div",{class:"q-table__control"},[t("div",{class:["q-table__title",e.titleClass]},e.title)]))),void 0!==n&&(u.push(t("div",{class:"q-table__separator col"})),u.push(t("div",{class:"q-table__control"},[n(Ne.value)]))),0!==u.length?t("div",{class:i},u):void 0}const De=l((()=>!0===se.value?null:re.value));function He(){const l=function(){const l=a.header,o=a["header-cell"];if(void 0!==l)return l(Qe({header:!0})).slice();const n=pe.value.map((e=>{const l=a[`header-cell-${e.name}`],n=void 0!==l?l:o,r=Qe({col:e});return void 0!==n?n(r):t(N,{key:e.name,props:r},(()=>e.label))}));if(!0===ae.value&&!0!==e.grid)n.unshift(t("th",{class:"q-table--col-auto-width"}," "));else if(!0===oe.value){const l=a["header-selection"],o=void 0!==l?l(Qe({})):[t(F,{color:e.color,modelValue:De.value,dark:p.value,dense:e.dense,"onUpdate:modelValue":ze})];n.unshift(t("th",{class:"q-table--col-auto-width"},o))}return[t("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},n)]}();return!0===e.loading&&void 0===a.loading&&l.push(t("tr",{class:"q-table__progress"},[t("th",{class:"relative-position",colspan:fe.value},je())])),t("thead",l)}function Qe(l){return Object.assign(l,{cols:pe.value,sort:ye,colsMap:ge.value,color:e.color,dark:p.value,dense:e.dense}),!0===oe.value&&$(l,"selected",(()=>De.value),ze),l}function ze(e){!0===se.value&&(e=!1),de(ee.value.map(m.value),ee.value,e)}const Ue=l((()=>{const l=[e.iconFirstPage||v.iconSet.table.firstPage,e.iconPrevPage||v.iconSet.table.prevPage,e.iconNextPage||v.iconSet.table.nextPage,e.iconLastPage||v.iconSet.table.lastPage];return!0===v.lang.rtl?l.reverse():l}));function We(){if(!0===e.hideBottom)return;if(!0===$e.value){if(!0===e.hideNoData)return;const l=!0===e.loading?e.loadingLabel||v.lang.table.loading:e.filter?e.noResultsLabel||v.lang.table.noResults:e.noDataLabel||v.lang.table.noData,o=a["no-data"],n=void 0!==o?[o({message:l,icon:v.iconSet.table.warning,filter:e.filter})]:[t(r,{class:"q-table__bottom-nodata-icon",name:v.iconSet.table.warning}),l];return t("div",{class:ne+" q-table__bottom--nodata"},n)}const l=a.bottom;if(void 0!==l)return t("div",{class:ne},[l(Ne.value)]);const o=!0!==e.hideSelectedBanner&&!0===le.value&&ie.value>0?[t("div",{class:"q-table__control"},[t("div",[(e.selectedRowsLabel||v.lang.table.selectedRecords)(ie.value)])])]:[];return!0!==e.hidePagination?t("div",{class:ne+" justify-end"},function(l){let o;const{rowsPerPage:n}=M.value,r=e.paginationLabel||v.lang.table.pagination,s=a.pagination,i=e.rowsPerPageOptions.length>1;if(l.push(t("div",{class:"q-table__separator col"})),!0===i&&l.push(t("div",{class:"q-table__control"},[t("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||v.lang.table.recordsPerPage]),t(A,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:n,options:qe.value,displayValue:0===n?v.lang.table.allRows:n,dark:p.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Ke})])),void 0!==s)o=s(Ne.value);else if(o=[t("span",0!==n?{class:"q-table__bottom-item"}:{},[n?r(we.value+1,Math.min(Se.value,Ce.value),Ce.value):r(1,Y.value,Ce.value)])],0!==n&&Pe.value>1){const l={color:e.color,round:!0,dense:!0,flat:!0};!0===e.dense&&(l.size="sm"),Pe.value>2&&o.push(t(O,{key:"pgFirst",...l,icon:Ue.value[0],disable:_e.value,"aria-label":v.lang.pagination.first,onClick:xe})),o.push(t(O,{key:"pgPrev",...l,icon:Ue.value[1],disable:_e.value,"aria-label":v.lang.pagination.prev,onClick:ke}),t(O,{key:"pgNext",...l,icon:Ue.value[2],disable:he.value,"aria-label":v.lang.pagination.next,onClick:Re})),Pe.value>2&&o.push(t(O,{key:"pgLast",...l,icon:Ue.value[3],disable:he.value,"aria-label":v.lang.pagination.last,onClick:Fe}))}return l.push(t("div",{class:"q-table__control"},o)),l}(o)):0!==o.length?t("div",{class:ne},o):void 0}function Ke(e){D({page:1,rowsPerPage:e.value})}return Object.assign(s.proxy,{requestServerInteraction:T,setPagination:D,firstPage:xe,prevPage:ke,nextPage:Re,lastPage:Fe,isRowSelected:ue,clearSelection:ce,isRowExpanded:z,setExpanded:U,sort:ye,resetVirtualScroll:function(){!0===_.value&&w.value.reset()},scrollTo:function(l,t){if(null!==w.value)return void w.value.scrollTo(l,t);l=parseInt(l,10);const a=y.value.querySelector(`tbody tr:nth-of-type(${l+1})`);if(null!==a){const t=y.value.querySelector(".q-table__middle.scroll"),o=a.offsetTop-e.virtualScrollStickySizeStart,r=o<t.scrollTop?"decrease":"increase";t.scrollTop=o,n("virtualScroll",{index:l,from:0,to:j.value.rowsPerPage-1,direction:r})}},getCellValue:Te}),R(s.proxy,{filteredSortedRows:()=>J.value,computedRows:()=>ee.value,computedRowsNumber:()=>Ce.value}),()=>{const l=[Ee()],o={ref:y,class:L.value};return!0===e.grid?l.push(function(){const l=!0===e.gridHeader?[t("table",{class:"q-table"},[He()])]:!0===e.loading&&void 0===a.loading?je():void 0;return t("div",{class:"q-table__middle"},l)}()):Object.assign(o,{class:[o.class,e.cardClass],style:e.cardStyle}),l.push(Be(),We()),!0===e.loading&&void 0!==a.loading&&l.push(a.loading()),t("div",o,l)}}});export{se as Q,T as a};

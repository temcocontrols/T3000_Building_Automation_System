import{ab as e,aN as a,aO as t,al as o,aP as i,h as n,a as s,aQ as l,aR as r,aS as u,aT as c,aU as d,w as h,f as p,aV as f,aW as v,an as m,Q as g,T as y,g as b,ad as w,aX as S}from"./index.8dd48b07.js";import{u as T,v as x,a as E,b as H,c as O,r as P,s as j,d as k,p as q,e as D}from"./QChip.246fee19.js";var Q=e({name:"QTooltip",inheritAttrs:!1,props:{...T,...a,...t,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...t.transitionShow,default:"jump-down"},transitionHide:{...t.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:x},self:{type:String,default:"top middle",validator:x},offset:{type:Array,default:()=>[14,14],validator:E},scrollTarget:o,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...i],setup(e,{slots:a,emit:t,attrs:o}){let i,T;const x=b(),{proxy:{$q:E}}=x,Q=n(null),C=n(!1),L=s((()=>q(e.anchor,E.lang.rtl))),W=s((()=>q(e.self,E.lang.rtl))),A=s((()=>!0!==e.persistent)),{registerTick:N,removeTick:R}=l(),{registerTimeout:M}=r(),{transitionProps:V,transitionStyle:_}=u(e),{localScrollTarget:B,changeScrollEvent:U,unconfigureScrollTarget:X}=H(e,ae),{anchorEl:$,canShow:z,anchorEvents:F}=O({showing:C,configureAnchorEl:function(){if(!0===e.noParentEvent||null===$.value)return;const a=!0===E.platform.is.mobile?[[$.value,"touchstart","delayShow","passive"]]:[[$.value,"mouseenter","delayShow","passive"],[$.value,"mouseleave","delayHide","passive"]];v(F,"anchor",a)}}),{show:G,hide:I}=c({showing:C,canShow:z,handleShow:function(a){J(),N((()=>{T=new MutationObserver((()=>ee())),T.observe(Q.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),ee(),ae()})),void 0===i&&(i=h((()=>E.screen.width+"|"+E.screen.height+"|"+e.self+"|"+e.anchor+"|"+E.lang.rtl),ee));M((()=>{J(!0),t("show",a)}),e.transitionDuration)},handleHide:function(a){R(),K(),Z(),M((()=>{K(!0),t("hide",a)}),e.transitionDuration)},hideOnRouteChange:A,processOnMount:!0});Object.assign(F,{delayShow:function(a){if(!0===E.platform.is.mobile){k(),document.body.classList.add("non-selectable");const e=$.value,a=["touchmove","touchcancel","touchend","click"].map((a=>[e,a,"delayHide","passiveCapture"]));v(F,"tooltipTemp",a)}M((()=>{G(a)}),e.delay)},delayHide:function(a){!0===E.platform.is.mobile&&(f(F,"tooltipTemp"),k(),setTimeout((()=>{document.body.classList.remove("non-selectable")}),10));M((()=>{I(a)}),e.hideDelay)}});const{showPortal:J,hidePortal:K,renderPortal:Y}=d(x,Q,(function(){return g(y,V.value,te)}),"tooltip");if(!0===E.platform.is.mobile){const a={anchorEl:$,innerRef:Q,onClickOutside:e=>(I(e),e.target.classList.contains("q-dialog__backdrop")&&S(e),!0)},t=s((()=>null===e.modelValue&&!0!==e.persistent&&!0===C.value));h(t,(e=>{(!0===e?D:P)(a)})),p((()=>{P(a)}))}function Z(){void 0!==T&&(T.disconnect(),T=void 0),void 0!==i&&(i(),i=void 0),X(),f(F,"tooltipTemp")}function ee(){j({targetEl:Q.value,offset:e.offset,anchorEl:$.value,anchorOrigin:L.value,selfOrigin:W.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ae(){if(null!==$.value||void 0!==e.scrollTarget){B.value=m($.value,e.scrollTarget);const a=!0===e.noParentEvent?ee:I;U(B.value,a)}}function te(){return!0===C.value?g("div",{...o,ref:Q,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,_.value],role:"tooltip"},w(a.default)):null}return p(Z),Object.assign(x.proxy,{updatePosition:ee}),Y}});export{Q};

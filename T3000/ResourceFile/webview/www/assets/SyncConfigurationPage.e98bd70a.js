import{j as e}from"./react.8639cc86.js";import{r as a}from"./client.58f92968.js";import{aC as r,cK as o,cL as t,d as s,o as i,aa as n,b0 as l,f as c,j as d,h as f,i as p,k as x,aO as u,t as g,S as v,T as m,n as h,C as b,y,Q as z,I as j,$ as S,a6 as w,aU as k,Z as B,cM as q,B as N,M as H}from"./App.7c34790a.js";import{I}from"./Input.7691f421.js";import"./index.3bd6c859.js";import"./Serializer.f6a5f515.js";import"./axios.65f6a2c9.js";import"./T3Data.63f93fe7.js";import"./_commonjsHelpers.a5007c1f.js";const M="fui-Select",C="fui-Select__select",T="fui-Select__icon",D=p({base:{Bt984gj:"f122n59",B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Eh141a:"flvyvdh",Bahqtrf:"fk6fouc",qhf8xq:"f10pi13n",h62rwi:"f7ll8cq",d9w3h3:0,B3778ie:0,B4j8arr:0,Bl18szs:0,Blrzh8d:"fe5s0lv",li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",Dlnsje:"fhwjr99",E3zdtr:"f1mdlcz9",By385i5:"fo72kxq",Eqx8gd:["f1n6gb5g","f15yvnhg"],B1piin3:["f15yvnhg","f1n6gb5g"],b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",df92cz:"fv8e3ye",I188md:"ftb5wc6",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",H713fs:"f1cmft4k",B9ooomg:"f1x58t8o"}},{d:[".f122n59{align-items:center;}",".f1ewtqcl{box-sizing:border-box;}",".f22iagw{display:flex;}",".flvyvdh{flex-wrap:nowrap;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".f10pi13n{position:relative;}",".f7ll8cq::after{background-image:linear-gradient(\n        0deg,\n        var(--colorCompoundBrandStroke) 0%,\n        var(--colorCompoundBrandStroke) 50%,\n        transparent 50%,\n        transparent 100%\n      );}",[".fe5s0lv::after{border-radius:0 0 var(--borderRadiusMedium) var(--borderRadiusMedium);}",{p:-1}],".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".fhwjr99::after{height:var(--borderRadiusMedium);}",".f1mdlcz9::after{position:absolute;}",".fo72kxq::after{bottom:0;}",".f1n6gb5g::after{left:0;}",".f15yvnhg::after{right:0;}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.fv8e3ye::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.ftb5wc6::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1cmft4k:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1x58t8o:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]],w:[".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}"]}),F=p({base:{Bowrso0:"fqrijq1",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"faev5xe",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",E5pizo:"f1couhl3",B7ck84d:"f1ewtqcl",sj55zd:"f19n0e5",Bceei9c:"f1k6fduh",Bh6795r:"fqerorx",B2u0y6b:"f6dzj5z",Byoj8tv:"f1qch9an",z8tnut:"f1g0x7ka",B3aqqti:"fatbyko",Brovlpu:"f1grzc83",Bxa1mx5:"f19shzzi"},disabled:{De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"]},disabledUnderline:{g2u3we:"fgig46g",h3c5rm:["f1mxt3zg","fziff3p"],B9xav0g:"f4ikngz",zhjwy3:["fziff3p","f1mxt3zg"]},small:{Bqenvij:"frvgh55",uwmqm3:["f1xile11","fqznh8f"],z189sj:["fiqd4sw","f11fkzut"],Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},medium:{Bqenvij:"f1d2rq10",uwmqm3:["f1e60jzv","f135dnwl"],z189sj:["f154vowv","flqamny"],Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},large:{Bqenvij:"fbhnoac",uwmqm3:["fnphzt9","flt1dlf"],z189sj:["f1xi5ia2","f1xi1l47"],Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k"},outline:{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:"f1c1zstj",oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fm9niy"},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"flmw63s",gg5e9n:["f1m52nbi","f1ub3y4t"],B6oc9vd:"fvs00aa",ak43y8:["f1assf6x","f4ruux4"],wmxk5l:"fqhmt4z",B50zh58:["f4ruux4","f1assf6x"]},underline:{De3pzq:"f1c21dwh",B9xav0g:0,oivjwe:0,Bn0qgzm:0,Bgfg5da:"fd91s9p",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779",C8i20h:"fb77jct"},"filled-lighter":{De3pzq:"fxugw4r"},"filled-darker":{De3pzq:"f16xq7d1"},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},invalidUnderline:{hhx65j:"f1fgmyf4"}},{d:[".fqrijq1{-webkit-appearance:none;-moz-appearance:none;appearance:none;}",[".faev5xe{border:1px solid transparent;}",{p:-2}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1couhl3{box-shadow:none;}",".f1ewtqcl{box-sizing:border-box;}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1k6fduh{cursor:pointer;}",".fqerorx{flex-grow:1;}",".f6dzj5z{max-width:100%;}",".f1qch9an{padding-bottom:0;}",".f1g0x7ka{padding-top:0;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".fgig46g{border-top-color:var(--colorTransparentStrokeDisabled);}",".f1mxt3zg{border-right-color:var(--colorTransparentStrokeDisabled);}",".fziff3p{border-left-color:var(--colorTransparentStrokeDisabled);}",".frvgh55{height:24px;}",".f1xile11{padding-left:calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",".fqznh8f{padding-right:calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",".fiqd4sw{padding-right:calc(var(--spacingHorizontalSNudge)\n    + 16px\n    + var(--spacingHorizontalXXS)\n    + var(--spacingHorizontalXXS));}",".f11fkzut{padding-left:calc(var(--spacingHorizontalSNudge)\n    + 16px\n    + var(--spacingHorizontalXXS)\n    + var(--spacingHorizontalXXS));}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1d2rq10{height:32px;}",".f1e60jzv{padding-left:calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",".f135dnwl{padding-right:calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",".f154vowv{padding-right:calc(var(--spacingHorizontalMNudge)\n    + 20px\n    + var(--spacingHorizontalXXS)\n    + var(--spacingHorizontalXXS));}",".flqamny{padding-left:calc(var(--spacingHorizontalMNudge)\n    + 20px\n    + var(--spacingHorizontalXXS)\n    + var(--spacingHorizontalXXS));}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fbhnoac{height:40px;}",".fnphzt9{padding-left:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".flt1dlf{padding-right:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".f1xi5ia2{padding-right:calc(var(--spacingHorizontalM)\n    + 24px\n    + var(--spacingHorizontalSNudge)\n    + var(--spacingHorizontalSNudge));}",".f1xi1l47{padding-left:calc(var(--spacingHorizontalM)\n    + 24px\n    + var(--spacingHorizontalSNudge)\n    + var(--spacingHorizontalSNudge));}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".fm9niy{border:1px solid var(--colorNeutralStroke1);}",{p:-2}],".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",[".fd91s9p{border-bottom:1px solid var(--colorNeutralStrokeAccessible);}",{p:-1}],[".fokr779{border-radius:0;}",{p:-1}],".fb77jct option{background-color:var(--colorNeutralBackground1);}",".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}"],f:[".fatbyko:focus{outline-width:2px;}",".f1grzc83:focus{outline-style:solid;}",".f19shzzi:focus{outline-color:transparent;}"],m:[["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".flmw63s:hover{border-bottom-color:var(--colorNeutralStrokeAccessible);}"],a:[".fvs00aa:active{border-top-color:var(--colorNeutralStroke1Pressed);}",".f1assf6x:active{border-right-color:var(--colorNeutralStroke1Pressed);}",".f4ruux4:active{border-left-color:var(--colorNeutralStroke1Pressed);}",".fqhmt4z:active{border-bottom-color:var(--colorNeutralStrokeAccessible);}"]}),R=p({icon:{B7ck84d:"f1ewtqcl",sj55zd:"fxkbij4",mc9l5x:"ftgm304",qhf8xq:"f1euv43f",Bkecrkj:"f1aehjj5",Bo70h7d:"fvc9v3g"},disabled:{sj55zd:"f1s2aq7o",Bbusuzp:"f1dcs8yz"},small:{Be2twd7:"f4ybsrx",Bqenvij:"fd461yt",j35jbq:["f13lnp83","f1i5nn0v"],a9b677:"fjw5fx7"},medium:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",j35jbq:["fnyteob","f1enpzzf"],a9b677:"f64fuq3"},large:{Be2twd7:"f1rt2boy",Bqenvij:"frvgh55",j35jbq:["f8b87gs","fedtrts"],a9b677:"fq4mcun"}},{d:[".f1ewtqcl{box-sizing:border-box;}",".fxkbij4{color:var(--colorNeutralStrokeAccessible);}",".ftgm304{display:block;}",".f1euv43f{position:absolute;}",".f1aehjj5{pointer-events:none;}",".fvc9v3g svg{display:block;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f4ybsrx{font-size:16px;}",".fd461yt{height:16px;}",".f13lnp83{right:var(--spacingHorizontalSNudge);}",".f1i5nn0v{left:var(--spacingHorizontalSNudge);}",".fjw5fx7{width:16px;}",".fe5j1ua{font-size:20px;}",".fjamq6b{height:20px;}",".fnyteob{right:var(--spacingHorizontalMNudge);}",".f1enpzzf{left:var(--spacingHorizontalMNudge);}",".f64fuq3{width:20px;}",".f1rt2boy{font-size:24px;}",".frvgh55{height:24px;}",".f8b87gs{right:var(--spacingHorizontalM);}",".fedtrts{left:var(--spacingHorizontalM);}",".fq4mcun{width:24px;}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),_=a.exports.forwardRef(((e,p)=>{const u=((e,c)=>{e=r(e,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});const d=o();var f;const{defaultValue:p,value:x,select:u,icon:g,root:v,appearance:m=(null!==(f=d.inputDefaultAppearance)&&void 0!==f?f:"outline"),onChange:h,size:b="medium"}=e,y=t({props:e,primarySlotTagName:"select",excludedPropNames:["appearance","defaultValue","onChange","size","value"]}),z={size:b,appearance:m,components:{root:"span",select:"select",icon:"span"},select:s(u,{defaultProps:{defaultValue:p,value:x,ref:c,...y.primary},elementType:"select"}),icon:i(g,{renderByDefault:!0,defaultProps:{children:a.exports.createElement(l,null)},elementType:"span"}),root:s(v,{defaultProps:y.root,elementType:"span"})};return z.select.onChange=n((e=>{null==h||h(e,{value:e.target.value})})),z})(e,p);return(e=>{const{size:a,appearance:r}=e,o=e.select.disabled,t="true"==`${e.select["aria-invalid"]}`,s=R(),i=D(),n=F();e.root.className=f(M,i.base,e.root.className),e.select.className=f(C,n.base,n[a],n[r],!o&&"outline"===r&&n.outlineInteractive,!o&&t&&"underline"!==r&&n.invalid,!o&&t&&"underline"===r&&n.invalidUnderline,o&&n.disabled,o&&"underline"===r&&n.disabledUnderline,e.select.className),e.icon&&(e.icon.className=f(T,s.icon,o&&s.disabled,s[a],e.icon.className))})(u),x("useSelectStyles_unstable")(u),(e=>c(e.root,{children:[d(e.select,{children:e.select.children}),e.icon&&d(e.icon,{})]}))(u)}));_.displayName="Select";var X="_scrollContent_1ehk6_6",E="_smallSelect_1ehk6_37";const G=u({container:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#ffffff"},section:{marginBottom:"12px"},sectionHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",padding:"0 12px",borderTop:"1px solid #edebe9",borderBottom:"1px solid #edebe9",backgroundColor:"#f5f5f5",minHeight:"32px"},sectionTitle:{fontSize:"13px",fontWeight:600,color:"#323130",margin:0},sectionDescription:{fontSize:"13px",color:"#605e5c",marginBottom:"12px"},formGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",padding:"12px",borderRadius:"4px","@media (max-width: 1200px)":{gridTemplateColumns:"repeat(2, 1fr)"},"@media (max-width: 768px)":{gridTemplateColumns:"1fr"}},formRow:{display:"flex",flexDirection:"column",gap:"4px"},label:{fontSize:"13px",fontWeight:400,color:"#323130"},inputGroup:{display:"flex",alignItems:"center",gap:"8px"},infoBox:{padding:"8px 12px",backgroundColor:"#f3f2f1",borderRadius:"2px",marginTop:"8px",fontSize:"12px",color:"#605e5c"},actions:{display:"flex",gap:"8px",padding:"8px 16px",borderTop:"1px solid #edebe9",flexShrink:0},loadingBar:{display:"flex",alignItems:"center",gap:g.spacingHorizontalS,padding:"4px 8px",backgroundColor:"transparent",marginBottom:g.spacingVerticalM,fontSize:"13px"}}),L=()=>{const r=G(),[o,t]=a.exports.useState({ffiSyncIntervalSecs:900,rediscoverIntervalSecs:3600,databaseBackupEnabled:!0,databaseCompressionEnabled:!1,databaseMaxFileSizeMB:2048,databaseVacuumIntervalDays:7,uiLanguage:"en",uiTheme:"light"}),[s,i]=a.exports.useState(!0),[n,l]=a.exports.useState(!1),[c,d]=a.exports.useState(null);a.exports.useEffect((()=>{(async()=>{try{i(!0);const e=await fetch(`${H}/api/config/all`);if(e.ok){const a=await e.json();t({ffiSyncIntervalSecs:parseInt(a["ffi.sync_interval_secs"]||"900"),rediscoverIntervalSecs:parseInt(a["rediscover.interval_secs"]||"3600"),databaseBackupEnabled:"true"===a["database.backup_enabled"],databaseCompressionEnabled:"true"===a["database.compression_enabled"],databaseMaxFileSizeMB:parseInt(a["database.max_file_size"]||"2048"),databaseVacuumIntervalDays:parseInt(a["database.vacuum_interval"]||"7"),uiLanguage:a["ui.language"]||"en",uiTheme:a["ui.theme"]||"light"})}}catch(e){console.error("Failed to load configuration:",e),d({text:"Failed to load configuration",type:"error"})}finally{i(!1)}})()}),[]);return s?e.exports.jsx("div",{className:r.container,children:e.exports.jsxs("div",{className:r.loadingBar,children:[e.exports.jsx(v,{size:"tiny"}),e.exports.jsx(m,{size:200,weight:"regular",children:"Loading system configuration..."})]})}):e.exports.jsxs("div",{className:r.container,children:[e.exports.jsxs("div",{className:X,children:[c&&e.exports.jsxs("div",{style:{marginBottom:"12px",padding:"8px 12px",backgroundColor:"error"===c.type?"#fef6f6":"#f0f9ff",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:["error"===c.type?e.exports.jsx(h,{style:{color:"#d13438",fontSize:"16px",flexShrink:0}}):e.exports.jsx(b,{style:{color:"#107c10",fontSize:"16px",flexShrink:0}}),e.exports.jsx(m,{style:{color:"error"===c.type?"#d13438":"#107c10",fontWeight:500,fontSize:"13px"},children:c.text})]}),e.exports.jsxs("div",{className:r.section,children:[e.exports.jsxs("div",{className:r.sectionHeader,children:[e.exports.jsx(y,{style:{fontSize:"18px",color:"#0078d4"}}),e.exports.jsx("h3",{className:r.sectionTitle,children:"FFI Sync Service"}),e.exports.jsx("span",{style:{fontSize:"12px",color:"#605e5c",marginLeft:"8px"},children:"Background sync with T3000 devices"})]}),e.exports.jsxs("div",{className:r.formGrid,children:[e.exports.jsxs("div",{className:r.formRow,children:[e.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.exports.jsx("label",{className:r.label,htmlFor:"ffi-sync-interval",children:"Sync Interval (seconds)"}),e.exports.jsx(z,{content:"How often to sync data from devices (60s - 365 days)",relationship:"description",children:e.exports.jsx(j,{style:{fontSize:"14px",color:"#605e5c",cursor:"help"}})})]}),e.exports.jsxs("div",{className:r.inputGroup,children:[e.exports.jsx(I,{id:"ffi-sync-interval",type:"number",value:o.ffiSyncIntervalSecs.toString(),onChange:e=>t({...o,ffiSyncIntervalSecs:parseInt(e.target.value)||60}),min:60,max:31536e3,style:{width:"150px",fontSize:"13px"}}),e.exports.jsx(S,{appearance:"outline",style:{borderRadius:0},children:o.ffiSyncIntervalSecs<60?`${o.ffiSyncIntervalSecs}s`:o.ffiSyncIntervalSecs<3600?`${Math.floor(o.ffiSyncIntervalSecs/60)}m`:`${Math.floor(o.ffiSyncIntervalSecs/3600)}h`})]})]}),e.exports.jsxs("div",{className:r.formRow,children:[e.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.exports.jsx(w,{htmlFor:"rediscover-interval",style:{fontSize:"13px"},children:"Rediscovery Interval (seconds)"}),e.exports.jsx(z,{content:"How often to rediscover devices (1 hour - 7 days)",relationship:"description",children:e.exports.jsx(j,{style:{fontSize:"14px",color:"#605e5c",cursor:"help"}})})]}),e.exports.jsxs("div",{className:r.inputGroup,children:[e.exports.jsx(I,{id:"rediscover-interval",type:"number",value:o.rediscoverIntervalSecs.toString(),onChange:e=>t({...o,rediscoverIntervalSecs:parseInt(e.target.value)||3600}),min:3600,max:604800,style:{width:"150px",fontSize:"13px"}}),e.exports.jsxs(S,{appearance:"outline",style:{borderRadius:0},children:[Math.floor(o.rediscoverIntervalSecs/3600)," hours"]})]})]})]})]}),e.exports.jsxs("div",{className:r.section,children:[e.exports.jsxs("div",{className:r.sectionHeader,children:[e.exports.jsx(k,{style:{fontSize:"18px",color:"#0078d4"}}),e.exports.jsx("h3",{className:r.sectionTitle,children:"Database Management"}),e.exports.jsx("span",{style:{fontSize:"12px",color:"#605e5c",marginLeft:"8px"},children:"Backup, compression, and maintenance settings"})]}),e.exports.jsxs("div",{className:r.formGrid,children:[e.exports.jsx("div",{className:r.formRow,children:e.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.exports.jsx(B,{checked:o.databaseBackupEnabled,onChange:e=>t({...o,databaseBackupEnabled:e.currentTarget.checked})}),e.exports.jsx(w,{style:{fontSize:"13px"},children:"Enable automatic database backups"})]})}),e.exports.jsx("div",{className:r.formRow,children:e.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.exports.jsx(B,{checked:o.databaseCompressionEnabled,onChange:e=>t({...o,databaseCompressionEnabled:e.currentTarget.checked})}),e.exports.jsx(w,{style:{fontSize:"13px"},children:"Enable database compression"})]})}),e.exports.jsxs("div",{className:r.formRow,children:[e.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.exports.jsx(w,{htmlFor:"db-max-size",style:{fontSize:"13px"},children:"Maximum Database File Size (MB)"}),e.exports.jsx(z,{content:"Maximum allowed database size (100 MB - 10 GB)",relationship:"description",children:e.exports.jsx(j,{style:{fontSize:"14px",color:"#605e5c",cursor:"help"}})})]}),e.exports.jsxs("div",{className:r.inputGroup,children:[e.exports.jsx(I,{id:"db-max-size",type:"number",value:o.databaseMaxFileSizeMB.toString(),onChange:e=>t({...o,databaseMaxFileSizeMB:parseInt(e.target.value)||1024}),min:100,max:10240,style:{width:"150px",fontSize:"13px"}}),e.exports.jsx(S,{appearance:"outline",style:{borderRadius:0},children:o.databaseMaxFileSizeMB<1024?`${o.databaseMaxFileSizeMB} MB`:`${(o.databaseMaxFileSizeMB/1024).toFixed(1)} GB`})]})]}),e.exports.jsxs("div",{className:r.formRow,children:[e.exports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.exports.jsx(w,{htmlFor:"vacuum-interval",style:{fontSize:"13px"},children:"Vacuum Interval (days)"}),e.exports.jsx(z,{content:"How often to optimize database (1 - 365 days)",relationship:"description",children:e.exports.jsx(j,{style:{fontSize:"14px",color:"#605e5c",cursor:"help"}})})]}),e.exports.jsxs("div",{className:r.inputGroup,children:[e.exports.jsx(I,{id:"vacuum-interval",type:"number",value:o.databaseVacuumIntervalDays.toString(),onChange:e=>t({...o,databaseVacuumIntervalDays:parseInt(e.target.value)||7}),min:1,max:365,style:{width:"150px",fontSize:"13px"}}),e.exports.jsxs(S,{appearance:"outline",style:{borderRadius:0},children:[o.databaseVacuumIntervalDays," days"]})]})]})]})]}),e.exports.jsxs("div",{className:r.section,children:[e.exports.jsxs("div",{className:r.sectionHeader,children:[e.exports.jsx(q,{style:{fontSize:"18px",color:"#0078d4"}}),e.exports.jsx("h3",{className:r.sectionTitle,children:"UI Settings"}),e.exports.jsx("span",{style:{fontSize:"12px",color:"#605e5c",marginLeft:"8px"},children:"Language and theme preferences"})]}),e.exports.jsxs("div",{className:r.formGrid,children:[e.exports.jsxs("div",{className:r.formRow,children:[e.exports.jsx("label",{className:r.label,htmlFor:"ui-language",children:"Language"}),e.exports.jsxs(_,{id:"ui-language",value:o.uiLanguage,onChange:(e,a)=>t({...o,uiLanguage:a.value}),className:E,style:{width:"150px",fontSize:"13px",lineHeight:"20px"},children:[e.exports.jsx("option",{value:"en",style:{fontSize:"13px"},children:"English"}),e.exports.jsx("option",{value:"zh",style:{fontSize:"13px"},children:"中文 (Chinese)"}),e.exports.jsx("option",{value:"es",style:{fontSize:"13px"},children:"Español"}),e.exports.jsx("option",{value:"fr",style:{fontSize:"13px"},children:"Français"})]})]}),e.exports.jsxs("div",{className:r.formRow,children:[e.exports.jsx("label",{className:r.label,htmlFor:"ui-theme",children:"Theme"}),e.exports.jsxs(_,{id:"ui-theme",value:o.uiTheme,onChange:(e,a)=>t({...o,uiTheme:a.value}),className:E,style:{width:"150px",fontSize:"13px",lineHeight:"20px"},children:[e.exports.jsx("option",{value:"light",style:{fontSize:"13px"},children:"Light"}),e.exports.jsx("option",{value:"dark",style:{fontSize:"13px"},children:"Dark"}),e.exports.jsx("option",{value:"system",style:{fontSize:"13px"},children:"System Default"})]})]})]})]})]}),e.exports.jsxs("div",{className:r.actions,children:[e.exports.jsx(N,{appearance:"primary",onClick:async()=>{try{l(!0),d(null);const e=[{key:"ffi.sync_interval_secs",value:o.ffiSyncIntervalSecs.toString()},{key:"rediscover.interval_secs",value:o.rediscoverIntervalSecs.toString()},{key:"database.backup_enabled",value:o.databaseBackupEnabled.toString()},{key:"database.compression_enabled",value:o.databaseCompressionEnabled.toString()},{key:"database.max_file_size",value:o.databaseMaxFileSizeMB.toString()},{key:"database.vacuum_interval",value:o.databaseVacuumIntervalDays.toString()},{key:"ui.language",value:o.uiLanguage},{key:"ui.theme",value:o.uiTheme}];for(const a of e)await fetch(`${H}/api/config/${a.key}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:a.value})});d({text:"Configuration saved successfully!",type:"success"})}catch(e){console.error("Failed to save configuration:",e),d({text:"Failed to save configuration",type:"error"})}finally{l(!1)}},disabled:n,style:{borderRadius:0,fontWeight:400,fontSize:"13px"},children:n?"Saving...":"Save Configuration"}),e.exports.jsx(N,{onClick:()=>{t({ffiSyncIntervalSecs:900,rediscoverIntervalSecs:3600,databaseBackupEnabled:!0,databaseCompressionEnabled:!1,databaseMaxFileSizeMB:2048,databaseVacuumIntervalDays:7,uiLanguage:"en",uiTheme:"light"})},disabled:n,style:{borderRadius:0,fontWeight:400,fontSize:"13px"},children:"Reset to Defaults"})]})]})};export{L as SyncConfigurationPage};

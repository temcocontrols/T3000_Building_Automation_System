import{y as z,z as w,m as v,b as x,n as h,q as E,E as m,h as H,g as L,u as p,d as O,k as R,F as r,G as T,H as k,C,I as f}from"./index.7a304d87.js";function D(){const s=z(!w.value);return s.value===!1&&v(()=>{s.value=!0}),{isHydrated:s}}const y=typeof ResizeObserver!="undefined",g=y===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var U=x({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(s,{emit:o}){let t=null,e,a={width:-1,height:-1};function u(n){n===!0||s.debounce===0||s.debounce==="0"?l():t===null&&(t=setTimeout(l,s.debounce))}function l(){if(t!==null&&(clearTimeout(t),t=null),e){const{offsetWidth:n,offsetHeight:i}=e;(n!==a.width||i!==a.height)&&(a={width:n,height:i},o("resize",a))}}const{proxy:d}=L();if(d.trigger=u,y===!0){let n;const i=c=>{e=d.$el.parentNode,e?(n=new ResizeObserver(u),n.observe(e),l()):c!==!0&&m(()=>{i(!0)})};return v(()=>{i()}),h(()=>{t!==null&&clearTimeout(t),n!==void 0&&(n.disconnect!==void 0?n.disconnect():e&&n.unobserve(e))}),E}else{let c=function(){t!==null&&(clearTimeout(t),t=null),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",u,p.passive),i=void 0)},b=function(){c(),e&&e.contentDocument&&(i=e.contentDocument.defaultView,i.addEventListener("resize",u,p.passive),l())};const{isHydrated:n}=D();let i;return v(()=>{m(()=>{e=d.$el,e&&b()})}),h(c),()=>{if(n.value===!0)return H("object",{class:"q--avoid-card-border",style:g.style,tabindex:-1,type:"text/html",data:g.url,"aria-hidden":"true",onLoad:b})}}}});function j(s){{const o={active:!0};if(typeof s=="function"){const t=O(s);o.val=t.value,R(t,e=>{o.val=e,o.active===!0&&r()})}else o.val=s;f.push(o),r(),T(()=>{o.active=!0,r()}),k(()=>{o.active=!1,r()}),C(()=>{f.splice(f.indexOf(o),1),r()})}}export{U as Q,j as u};
